function GetXMLHTTP(){var e=null;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=null}}return e||"undefined"==typeof XMLHttpRequest||(e=new XMLHttpRequest),e}function GetSource(e,t){var o;if(""!=e){if(null!=(o=GetXMLHTTP())&&(o.open("POST",e,!1),o.send(""),4==o.readyState&&200==o.status))return o.responseText;o=null}return!1}function HasMadeChanges(){var e=$Eploy("form");if(0==e.length)return!1;if(e=e.first(),Boolean(window.top.nestedFormActive)){let t=$Eploy(".js-nested-form",e);if(0!=t.length&&(t=$Eploy("form",t.first().contents()),0!=t.length)){if(t=t.first(),HasMadeChangesIn(t))return!0}}return HasMadeChangesIn(e)}function HasMadeChangesIn(e){if(!(1==e.data("checksave")||1==e.data("checkforchanges")))return!1;if(1==e.data("checksavemustprompt"))return!0;for(var t=0,o=$Eploy('[data-checkme="true"] :input',e),i=o.length;t<i;t++){var n=o[t];if("true"!==$Eploy(n).attr("ignorePageChangeChecks"))switch(n.type){case"text":case"textarea":case"password":case"file":case"hidden":var a=n.defaultValue;if(null!=Sys&&null!=Sys.Extended&&null!=Sys.Extended.UI&&null!=Sys.Extended.UI.TextBoxWrapper&&Sys.Extended.UI.TextBoxWrapper.get_Wrapper($get(n.id))._isWatermarked&&(a&&""!=a||(a=$get(n.id).value)),"hidden"==n.type){var s=$Eploy(n).attr("data-value"),r=$Eploy(n).attr("ignorePageChangeChecks");void 0!==s&&!1!==s&&"true"!==r&&(a=s)}if(n.value!=a)return!0;break;case"checkbox":case"radio":if(n.checked!=n.defaultChecked)return!0;break;case"select-one":case"select-multiple":for(var l=0,c=n.options.length;l<c;l++)if(n.options[l].defaultSelected&&n.options[l].selected!=n.options[l].defaultSelected)return!0}}return!1}var sHref="";function checkPageChanges(e,t,o){if(HasMadeChanges()){var i=question1.buttons[1].action,n=question1.buttons[0].action;return sHref=$Eploy(e).attr("href"),question1.buttons[0].action=function(){"function"==typeof t?t.apply(this):"function"==typeof n&&n.apply(this),question1.buttons[1].action=i},"function"==typeof o&&(question1.buttons[1].action=o),question1.open(),!1}return!0}function checkPageChanges2(e){return!HasMadeChanges()||(sHref=$Eploy(e).attr("href"),question2.open(),!1)}function stopPendingRequests(e){"function"==typeof CancelDashboardRequests&&CancelDashboardRequests()}var closeOpener=!1,prompt_open=!1,userDiscardedChanges=!1,noWarning=!1;function checkPageChanges3(e,t,o,i){return!(HasMadeChanges()&&!window.top.userDiscardedChanges&&!noWarning)||(prompt_open?void 0:(window.top.mmQuestion=new Prompt({header:ResourceStore.get(57,"str_MasterPageHasChanged_Header"),message:ResourceStore.get(57,"str_MasterPageHasChanged_Text"),buttons:[{text:ResourceStore.get(57,"str_MasterPageHasChanged_Cancel"),action:function(){"function"==typeof i&&i(),window.top.CloseFbs(1,!1,!1,!1)}},{text:ResourceStore.get(57,"str_MasterPageHasChanged_Continue"),action:function(){"function"==typeof t&&t(),e?(window.top.CloseFbs(1,!1,!1,!1),location.reload()):o?window.top.CloseFbs(1,!1,!1,!1):window.top.CloseFbs(2,!1,!0,!0)}}]}),window.top.mmQuestion.open(),!1))}function checkPageChanges_AndNavigateToHref(e){return sHref=$Eploy(e).attr("href"),!(HasMadeChanges()&&!window.top.userDiscardedChanges&&!noWarning)||(prompt_open?void 0:(window.top.mmQuestion=new Prompt({header:ResourceStore.get(57,"str_MasterPageHasChanged_Header"),message:ResourceStore.get(57,"str_MasterPageHasChanged_Text"),buttons:[{text:ResourceStore.get(57,"str_MasterPageHasChanged_Cancel"),action:function(){window.top.CloseFbs(1,!1,!1)}},{text:ResourceStore.get(57,"str_MasterPageHasChanged_Continue"),action:function(){window.location.href=sHref}}]}),window.top.mmQuestion.open(),!1))}function RedirectWithSave(bSave,hiddenPostAction){CloseBox(!1);var frame=getActiveFbIframe(),currentbox=window.top.$Eploy.fancybox.getInstance();frame?(frame.$Eploy("#"+hiddenPostAction).val(bSave),frame.showPleaseWait(),frame.eval(sHref)):($Eploy("#"+hiddenPostAction).val(bSave),eval(sHref))}function CancelNav(){sHref="",CloseBox(!1)}function showPleaseWait(e){"function"==typeof Page_ClientValidate&&Page_ClientValidate(e)&&$Eploy("body").append('<div class="loading-overlay" style="position:fixed; top:0; left:0; right:0; height:100%; background:rgba(255,255,255,0.5); z-index:99999;"></div><div class="fancybox-loading"></div>')}function hidePleaseWait(){var e=$Eploy("body").find(".loading-overlay"),t=$Eploy("body").find(".fancybox-loading");e.length&&e.remove(),t.length&&t.remove()}$Eploy(document).ready((function(){ResourceStore.preloadResources([{moduleID:57,resourceKey:"str_MasterPageHasChanged_Header"},{moduleID:57,resourceKey:"str_MasterPageHasChanged_Text"},{moduleID:57,resourceKey:"str_MasterPageHasChanged_Cancel"},{moduleID:57,resourceKey:"str_MasterPageHasChanged_Continue"},{moduleID:61,resourceKey:"str_AddToStarred"},{moduleID:61,resourceKey:"str_AddToStarredList"},{moduleID:61,resourceKey:"str_RemoveFromStarred"},{moduleID:61,resourceKey:"str_RemoveFromStarredList"},{moduleID:57,resourceKey:"str_SelectRecordsForMultiEdit"},{moduleID:57,resourceKey:"str_SelectRecordsForMultiDelete"}])}));var GlobalEventObject=null;function GetEventObject(e){if(!e)e=window.event;GlobalEventObject=e}function cookiesDirective(e,t,o,i,n,a,s,r,l,c,d){cdReadCookie("cookiesDirective")||(d>=48?cdHandler(e,t,i,n,a,s,r,l,c):cdHandlerPreV48("top",e,t,o,i,n,a,s,r,l,c))}function cdHandler(e,t,o,i,n,a,s,r,l){var c=document.createElement("div");c.setAttribute("id","epd"),document.body.insertBefore(c,document.body.firstChild),o&&""!=o||(o="Continue"),i||(i="");var d='<div id="cookiesdirective" class="c-cookie-directive" role="region" aria-label="'+e+'">';d+='<div class="c-cookie-directive__inner">',d+='<div class="c-cookie-directive__content">',d+='<h2 class="c-cookie-directive__title">',d+=e,d+="</h2>",d+=t,d+="</div>",d+='<div class="c-cookie-directive__buttons">',d+='<button type="submit" name="epdsubmit" id="epdsubmit" class="button"/>'+o+"</button>",a&&(d+='<button type="submit" id="epdrejectall" class="button"/>'+n+"</button>",d+='<button type="button" class="button button-negative" onclick="cdViewPreferences()" />'+r+"</button>"),d+=i,d+="</div>",d+="</div>",d+="</div>",document.getElementById("epd").innerHTML=d,$Eploy("#epdsubmit").click((function(){cdCreateCookie("cookiesDirective",1,365,l),a&&cdCreateCookie("Eploy_CookieConsent",s,365,l),$Eploy("#cookiesdirective").remove(),a&&location.reload()})),$Eploy("#epdrejectall").click((function(){cdCreateCookie("Eploy_CookieConsent","",-1,l),cdCreateCookie("cookiesDirective","",-1,l),cdCreateCookie("cookiesDirective",1,365,l),$Eploy("#cookiesdirective").remove(),a&&location.reload(!0)}))}function cdHandlerPreV48(e,t,o,i,n,a,s,r,l,c,d){var p;p=e;var u=document.createElement("div");u.setAttribute("id","epd"),document.body.insertBefore(u,document.body.firstChild),n&&""!=n||(n="Continue"),a||(a="");var h='<div id="cookiesdirective" class="cookiesDirective" style="position:fixed;'+p+':-300px;left:0px;width:100%;background:#333;background:rgba(0,0,0,0.8);color:#FFFFFF;font-family:arial;font-size:12px;text-align:center;z-index:1000;">';h+='<div style="width:100%; max-width:1024px; padding:18px;margin:0 auto;" class="clearfix">',h+="<h3>",h+=t,h+="</h3>",h+=o,h+='<div class="push--top">',h+='<input type="submit" name="epdsubmit" id="epdsubmit" value="'+n+'" class="button  button--stretch"/></div>',r&&(h+='<button id="epdrejectall" type="button" class="button button--stretch"/>'+s+"</button>",h+='<button type="button" class="button button-negative  button--stretch" onclick="cdViewPreferences()" />'+c+"</button>"),h+=a,h+="</div>",h+="</div>",document.getElementById("epd").innerHTML=h,"top"==p.toLowerCase()?($Eploy("form").addClass("moveFormDown"),$Eploy("#cookiesdirective").animate({top:"0"},1e3,(function(){$Eploy("#epdsubmit").click((function(){cdCreateCookie("cookiesDirective",1,365,d),r&&cdCreateCookie("Eploy_CookieConsent",l,365,d),$Eploy("#cookiesdirective").animate({top:"-300"},1e3,(function(){$Eploy("#cookiesdirective").remove(),$Eploy("form").removeClass("moveFormDown"),r&&location.reload(!0)}))})),$Eploy("#epdrejectall").click((function(){cdCreateCookie("Eploy_CookieConsent","",-1,d),cdCreateCookie("cookiesDirective","",-1,d),cdCreateCookie("cookiesDirective",1,365,d),$Eploy("#cookiesdirective").animate({top:"-300"},1e3,(function(){$Eploy("#cookiesdirective").remove(),$Eploy("form").removeClass("moveFormDown"),r&&location.reload(!0)}))})),i&&setTimeout((function(){$Eploy("#cookiesdirective").animate({opacity:"0"},2e3,(function(){$Eploy("#cookiesdirective").css("top","-300px")})),$Eploy("form").removeClass("moveFormDown")}),3e4)}))):($Eploy("form").addClass("moveFormDown"),$Eploy("#cookiesdirective").animate({bottom:"0"},1e3,(function(){$Eploy("#epdsubmit").click((function(){cdCreateCookie("cookiesDirective",1,365,d),r&&cdCreateCookie("Eploy_CookieConsent",l,365,d),$Eploy("#cookiesdirective").animate({bottom:"-300"},1e3,(function(){$Eploy("#cookiesdirective").remove(),$Eploy("form").removeClass("moveFormDown"),location.reload(!0)}))})),$Eploy("#epdrejectall").click((function(){cdCreateCookie("Eploy_CookieConsent","",-1,d),cdCreateCookie("cookiesDirective","",-1,d),cdCreateCookie("cookiesDirective",1,365,d),$Eploy("#cookiesdirective").animate({bottom:"-300"},1e3,(function(){$Eploy("#cookiesdirective").remove(),$Eploy("form").removeClass("moveFormDown"),location.reload(!0)}))})),setTimeout((function(){$Eploy("#cookiesdirective").animate({opacity:"0"},2e3,(function(){$Eploy("#cookiesdirective").css("bottom","-300px")})),$Eploy("form").removeClass("moveFormDown")}),3e4)})))}function cdScriptAppend(e,t){var o=String(t),i=document.createElement("script");switch(i.src=e,i.type="text/javascript",i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&i.readyState},t){case"head":document.getElementsByTagName("head")[0].appendChild(i);break;case"body":document.getElementsByTagName("body")[0].appendChild(i);break;default:document.getElementById(o).appendChild(i)}}function cdReadCookie(e){for(var t=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var n=o[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}function cdCreateCookie(e,t,o,i){if(o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var a="; expires="+n.toGMTString()}else a="";document.cookie=e+"="+t+a+"; domain="+i+"; Path=/"}function cdViewPreferences(){OpenBox(SiteURL+"popups/tools.aspx?process=cookiepreferences&popup=true",{type:"iframe",ITSTemplate:"custom",title:"Cookie Preferences",maxWidth:"600px",width:"100%"})}function CheckFilterItemsSelected(e){var t=0;return $Eploy.ajax({type:"POST",contentType:"application/json; charset=utf-8",data:'{sVariable:"'+e+'"}',dataType:"json",url:SiteURL+"WebServices/ClientService.asmx/CheckItemsSelected",async:!1}).done((function(e){t=parseInt(e.d)})).fail((function(e,o,i){t=0})),t}function TrackFieldChange(e){$Eploy("#"+e).bind("blur focus",(function(){$Eploy(this).data("old_value",$Eploy(this).val()),$Eploy(this).data("value_changed",!1)})),$Eploy("#"+e).bind("keyup",(function(){$Eploy(this).data("old_value")!=$Eploy(this).val()?$Eploy(this).data("value_changed",!0):$Eploy(this).data("value_changed",!1)}))}function IsFieldValueChanged(e){var t=$Eploy("#"+e);return 0!=t.length&&t.data("value_changed")}function postionTooltips(e,t){var o=$Eploy(window).outerWidth(),i=e.offset(),n=e.outerWidth(),a=t.outerWidth(!0),s=e.find(".label").outerWidth(),r=e.find(".content").outerWidth();if(combinedWidth=s+r,contentOffset=e.find(".content").offset(),null!=r){contentOffset.left,i.left;contentOffset.right=contentOffset.left+r,Math.floor(o-contentOffset.right)>a?(t.addClass("field-help--right"),t.removeClass("field-help--under"),e.find(".field-help").css({left:"100%"})):(t.addClass("field-help--under"),t.removeClass("field-help--right"),e.find(".field-help").css({left:"auto"}))}else i.right=i.left+n,Math.floor(o-i.right)>a?(t.addClass("field-help--right"),t.removeClass("field-help--under"),e.find(".field-help").css({left:"100%"})):(t.addClass("field-help--under"),t.removeClass("field-help--right"),e.find(".field-help").css({left:"auto"}))}function popupHelp(e,t){var o=$Eploy(e).closest(".row, .title"),i=o.find(".field-help");null!=i&&(postionTooltips(o,i),$Eploy(window).resize((function(){postionTooltips(o,i)})),"click"==t?(hideTooltips(),i.is(":visible")||(o.addClass("row--highlight"),i.show())):(o.hasClass("inputrow")&&o.addClass("row--highlight"),i.show()))}function hideTooltips(){$Eploy(".row, .title").removeClass("row--highlight"),$Eploy(".field-help").hide()}function keepSessionsAlive(e,t,o){$Eploy.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:e,dataType:"json"}).done((function(e){"LogOff"==e.d&&(window.top.location="backend"==o?t+"admin/login.asp?Action=LogOff":t+"admin/Logoff.ashx?src=client")})).fail((function(e){}))}function toggleMinimiseMaximise(e){var t=$Eploy(e).closest(".js-minimise");t.hasClass("is-minified")?(t.removeClass("is-minified"),$Eploy(e).attr("aria-expanded","true")):(t.addClass("is-minified"),$Eploy(e).attr("aria-expanded","false"))}function ITSConfirmClick(e,t){if(void 0===(t=t||{}).canConfirm&&(t.canConfirm=!0),void 0===t.title&&(t.title="Are You Sure?"),void 0===t.confirm&&(t.confirm="OK"),void 0===t.cancel&&(t.cancel="Cancel"),void 0===t.cancelBtnCssClass&&(t.cancelBtnCssClass=""),e&&e.jquery&&e[0]&&(e=e[0]),!0===e.itsconfirmed)return e.itsconfirmed=!1,!0;var o=new Prompt({header:t.title,message:t.message,hiddenMessage:t.hiddenMessage,hiddenMessageText:t.hiddenMessageText,messageCont:t.messageCont,buttons:[{text:t.cancel,icon:t.cancelBtnIcon,cssClass:t.cancelBtnCssClass,isPrimary:!1,action:function(e){"function"==typeof t.onCancel?t.onCancel(e):CloseBox(!1)}}]});return!0===t.canConfirm&&o.buttons.unshift({text:t.confirm,icon:t.confirmBtnIcon,cssClass:t.confirmBtnCssClass,isPrimary:!0,action:function(o){e.itsconfirmed=!0;var i=window.top.getFancybox(0);"function"==typeof t.onConfirm?t.onConfirm(o):e.click(),null!=i?i.close():CloseBox(!1),e.itsconfirmed=!1}}),o.open(),!1}function ITSConfirm(e){return confirm(e)}function sizePanels(){var e=$Eploy(".its-o-modal__content");if(e.length){var t=e.siblings(),o=0;t.each((function(e){o+=$Eploy(this).outerHeight()})),e.outerHeight(Math.floor(window.innerHeight-o)),window.top.$Eploy(window).one("resize",(function(){sizePanels()}))}}function InitaliseStars(){for(var e=$Eploy(".starDivs"),t=0;t<e.length;t++){let o=$Eploy(e[t]);o.empty(),new RatingControl({RecordID:o.data("id"),StarID:o.data("starid"),ToolTip:o.data("tooltip"),WebService:"UpdateApplicationSuitability"}).render().then((e=>{o.append(e)}))}}function OpenExternalURL(e,t){var o="";""!==window.location.port&&(o=":"+window.location.port);var i=window.location.protocol+"//"+window.location.host+o+"/Tools/"+e+"?"+t;if("localhost"===window.location.host)i=window.location.protocol+"//"+window.location.host+o+"/"+window.location.pathname.split("/")[1]+"/Tools/"+e+"?"+t;"LoadCutEReport"==e?window.open(i,"_blank"):OpenBox(i,{type:"iframe",ITSTemplate:"medium"})}function GetUserCurrentLocation(e,t,o,i,n,a,s,r,l){void 0===l&&(l=""),navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(r){var c={lat:r.coords.latitude,lng:r.coords.longitude,sessionSearchVariable:l};i&&$Eploy.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:SiteURL+"WebServices/JSFunctions.asmx/UpdateCurrentLocation",data:JSON.stringify(c),dataType:"json",async:!1}).done((function(e){o&&$Eploy("#"+o).val(e.d),c.postcode=e.d,a&&window.location.reload()})),n&&($Eploy("#"+t).val(c.lng),$Eploy("#"+e).val(c.lat)),"function"==typeof s&&s(c)}),(function(e){"function"==typeof r&&r(e)}))}function ResetGeoLocation(e,t,o,i){if(void 0===i&&(i=""),e){$Eploy("#"+t).val(""),$Eploy("#"+o).val("");var n={lat:null,lng:null,sessionSearchVariable:i};$Eploy.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:SiteURL+"WebServices/JSFunctions.asmx/UpdateCurrentLocation",data:JSON.stringify(n),dataType:"json",async:!1})}}function StickyScroll(e){this.elementId=e.elementId,this._$element=$Eploy("#"+this.elementId),void 0===e.containerId?(this.containerId=$Eploy(window),this._$container=this.containerId,this.isWindow=!0):(this.containerId=e.containerId,this._$container=$Eploy("#"+this.containerId)),this._$placeholder=null,this._$element.length>0&&(this._height=this._$element.outerHeight(!0),this._top=this._$element.offset().top,this._left=this._$element.offset().left,this._initialTop=this._$element.offset().top-this._height,this._width=this._$element.outerWidth()-17)}$Eploy(document).ready((function(){$Eploy("body").on("focus","input, select, textarea",(function(e){hideTooltips()})),$Eploy("body").on("focus",".content[data-popupHelpOnFocus='true'] input, .content[data-popupHelpOnFocus='true'] select, .content[data-popupHelpOnFocus='true'] textarea",(function(e){popupHelp(this,e.type)})),$Eploy("body").on("click",".js-showhelp",(function(e){popupHelp(this,e.type)})),$Eploy("body").on("click",".js-toggle",(function(e){$Eploy(this).siblings(".js-toggleMe").is(":visible")?($Eploy(this).attr("title","Click to Learn More"),$Eploy(this).siblings(".js-toggleMe").hide()):($Eploy(this).attr("title","Click to hide"),$Eploy(this).siblings(".js-toggleMe").show())})),$Eploy("body").on("click",".js-dropdownbutton",(function(e){e.preventDefault(),e.stopPropagation();var t=$Eploy(this).siblings(".js-dropdownmenu");t.hasClass("js-showdropdown")?t.removeClass("js-showdropdown"):($Eploy(".js-showdropdown").removeClass("js-showdropdown"),t.addClass("js-showdropdown"))})),$Eploy("body").on("click",".js-show-subdropdown",(function(e){var t=$Eploy(this).siblings(".js-subdropdownmenu"),o=$Eploy(this).closest(".js-widget"),i=$Eploy(window).width()-(o.offset().left+o.outerWidth()),n=$Eploy(this).siblings(".dropdown__sublist").outerWidth();t.is(":visible")?t.hide():(i<=n&&t.css({left:"auto",right:"100%"}),t.show())})),$Eploy("body").on("click",".js-show-itsdropdown",(function(e){e.preventDefault(),e.stopPropagation();var t=$Eploy(this).siblings(".js-itsdropdown"),o=t.outerWidth(),i=t.outerHeight(),n=$Eploy(window).width()-($Eploy(this).offset().left+$Eploy(this).outerWidth()),a=$Eploy(document).height()-($Eploy(this).offset().top+$Eploy(this).outerHeight());$Eploy(".js-itsdropdown").not(t).hide(),ITSTrapFocusUndo($Eploy(".js-itsdropdown").not(t),{namespace:"dropdownlist"}),t.is(":visible")?(t.hide(),ITSTrapFocusUndo(t,{namespace:"dropdownlist"})):(a<=i?t.css("max-height",a-20+"px"):(t.removeClass("is-top"),t.css("max-height","500px")),n<=o?t.addClass("is-right"):t.removeClass("is-right"),$Eploy(this).attr("data-top-dynamic")&&t.css({top:$Eploy(this).outerHeight()}),t.show().removeClass("is-hidden"),ITSTrapFocus(t,{namespace:"dropdownlist",onESC:function(){t.hide()}}))})),$Eploy("body").on("click",".js-tab-nav",(function(e){e.preventDefault();var t=$Eploy(this).attr("href");$Eploy(this).siblings(".js-tab-nav").removeClass("is-active"),$Eploy(this).addClass("is-active"),$Eploy(".js-tabpanel").removeClass("is-active"),$Eploy(t).addClass("is-active")})),$Eploy("body").on("click",".js-tab-link",(function(e){e.preventDefault();var t=$Eploy(this).attr("aria-controls");$Eploy(this).siblings(".js-tab-link").removeClass("is-active").attr("aria-selected","false"),$Eploy(this).addClass("is-active").attr("aria-selected","true"),$Eploy(".js-tab-panel").removeClass("is-active"),$Eploy("#"+t).addClass("is-active"),window.self!==window.top&&void 0!==window.top.Popover&&window.top.popoverResize(!1)})),$Eploy("body").click((function(e){0===$Eploy(e.target).closest(".dropdown__list").length&&($Eploy(".js-dropdownmenu").removeClass("js-showdropdown"),$Eploy(".js-subdropdownmenu").hide()),$Eploy(e.target).closest(".js-showhelp, .row input, .row select, .row textarea, .field-help").length||($Eploy(".row").removeClass("row--highlight"),$Eploy(".field-help").hide()),0===$Eploy(e.target).closest(".js-itspopdown-cntr").length&&$Eploy(".js-itspopdown").hide(),0===$Eploy(e.target).closest(".js-itsdropdown-cntr").length&&$Eploy(".js-itsdropdown").hide()}));var e=$Eploy("[role='group'], [role='radiogroup'], fieldset");e.each((function(t){var o=e[t],i=$Eploy(o).find(".field-description"),n=$Eploy(o).find(".field-help");i&&i.length>0&&n&&n.length>0?$Eploy(o).attr("aria-describedBy",i[0].id+" "+$Eploy(n[0]).children("span")[0].id):i&&i.length>0?$Eploy(o).attr("aria-describedBy",i[0].id):n&&n.length>0&&$Eploy(o).attr("aria-describedBy",$Eploy(n[0]).children("span")[0].id),$Eploy(o).find(".requiredIndicator").length>0&&$Eploy(o).attr("aria-required","true")}))})),$Eploy(".js-minimise-link").click((function(e){e.preventDefault(),toggleMinimiseMaximise(this)})),$Eploy(document).ready((function(){InitaliseStars()})),StickyScroll.prototype._addEvents=function(){var e=this;$Eploy(window).resize((function(){e._setSizes(),"fixed"==e._$element.data("attachment")&&e._update()}));var t=0;e._$container.on("scroll",(function(){var o=$Eploy(this).scrollTop();o>t?o>=e._initialTop&&e._attach():o<=e._initialTop&&e._detach(),t=o}))},StickyScroll.prototype._setSizes=function(){this._$element.length>0&&(this._height=this._$element.outerHeight(!0),this._width=this._$container[0].clientWidth,this._top=this._$element.offset().top,this.isWindow?this._left=0:this._left=this._$container.offset().left,"fixed"==this._$element.data("attachment")?this._initialTop=this._$container.scrollTop()+this._$placeholder.offset().top:this._initialTop=this._$element.offset().top)},StickyScroll.prototype._update=function(){this._$element.css({width:this._width+"px",left:this._left+"px"}),this._$placeholder.css({height:this._height+"px"})},StickyScroll.prototype._attach=function(){if("static"==this._$element.data("attachment")){if(this._$element.after('<div class="js-scrollplaceholder its-c-app__tabs-placeholder" style="height:'+this._height+'px" />'),this._$placeholder=this._$element.siblings(".js-scrollplaceholder"),this.isWindow)var e=0;else e=this._$container.offset().top;this._$element.css({position:"fixed",top:e+"px",width:this._width+"px",left:this._left+"px","z-index":"15"}),this._$element.data("attachment","fixed"),this._$element.attr("data-attachment","fixed"),this._$element.addClass("is-fixed")}},StickyScroll.prototype._detach=function(){"fixed"==this._$element.data("attachment")&&(this._$element.siblings(".js-scrollplaceholder").remove(),this._$element.removeAttr("style"),this._$element.data("attachment","static"),this._$element.attr("data-attachment","static"),this._$element.removeClass("is-fixed"))},StickyScroll.prototype.stick=function(){this._$element.length>0&&this._$container.length>0&&(this._$element.attr("data-attachment","static"),this._addEvents())};var HelpfulFunctions={toggleSection:function(e,t){var o=$Eploy("#"+e),i=$Eploy(t).find(".icon");o.is(":visible")?(o.hide(),i.toggleClass("icon-keyboard-arrow-down icon-keyboard-arrow-up")):(o.show(),i.toggleClass("icon-keyboard-arrow-down icon-keyboard-arrow-up"))}};function isIOSDevice(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;e.length;)if(navigator.platform===e.pop())return!0;return!1}function animateValue(e,t,o,i){var n=$Eploy(e),a=n.attr("data-total");$Eploy({countNum:n.text()}).delay(t).animate({countNum:a},{duration:o,easing:"linear",step:function(){n.text(Math.floor(this.countNum))},complete:function(){null!=i?n.text(i):n.text(this.countNum)}})}function animateFactoidValue(e,t,o,i,n){var a=$Eploy(e),s=a.attr("data-total");$Eploy({countNum:a.text()}).delay(t).animate({countNum:s},{duration:o,easing:"linear",step:function(){a.text(n+Math.floor(this.countNum))},complete:function(){null!=i?a.text(n+i):a.text(n+this.countNum)}})}function CleanTextAreaContent(e){if(e){var t=e;setTimeout((function(){JSRequestAsync("CleanTextAreaCntent",{data:{currentValue:t.value},success:function(e){t.value=e.d}})}),10)}}function getDataTypeFromSourceMap(e){if(!e||0==e.length)throw new Error("No sourcemap passed");var t=e.split("#");return e.indexOf("|Question#")>-1?t[1]:t[3]}function RemoveRecord(e,t,o,i,n,a,s=!1){var r=a||"";e<=0||t<=0||""==o?console.error("Not all parameters supplied to RemoveRecord"):OpenBox(ServerPath+"admin/tools/RemoveRecord.aspx?FromDotNet=true&RefreshParent="+i+"&RedirectURL="+n+"&RecordTypeID="+e+"&RecordID="+t+"&RemovalType="+o+"&adminmodule="+r+"&OpenedFromFancyBox="+s,{type:"iframe",ITSTemplate:"custom",maxWidth:"600px",modal:!0})}function UpdateQueryString(e,t,o){if(o=o||window.location.search,!e||0==e.length)return o;if(!t&&"number"!=typeof t&&"boolean"!=typeof t)return o;var i=new RegExp(e+"=(.+?(?=&|$))","gi"),n=e+"="+t;return 0===o.length?"?"+n:o.match(i)?o.replace(i,n):o+"&"+n}function animateProgressBar(e){$Eploy(".js-process-progress-fill").width(e+"%")}function straightenQuotes(e){return e?e.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"'):""}function setToolSize(){var e=$Eploy(".js-tool-fb-topbar"),t=$Eploy(".js-tool-fb-content"),o=t.outerHeight(),i=0;if($Eploy(e).each((function(){i+=$Eploy(this).outerHeight()})),t.css({top:i+"px"}),t.find(".js-tool-toolbar").length>0){var n=t.find(".js-tool-toolbar").outerHeight();t.find(".js-tool-toolbar").css({top:i+"px"}),t.find(".js-tool-main").css({top:n+"px",height:o-(i+n)+"px"})}else t.find(".js-tool-main").css({top:"0"});if(t.find(".js-tool-buttonbar").length>0){var a=t.find(".js-tool-buttonbar").outerHeight();t.find(".js-tool-main").css({bottom:a+"px",height:"auto"})}}function getFocusableElements(e){return e.find('a:visible:not([aria-hidden="true"], hidden, [disabled]), object, :input:visible:not([type=hidden],[disabled]), button:visible:not([disabled]), iframe, [tabindex]')}function ITSTrapFocus(e,t){t=t||{};var o=getFocusableElements(e),i=o.first()[0],n=o.last()[0];void 0!==t.focusOnElement?t.focusOnElement[0].focus():o.length>0?i.focus():$Eploy(e).attr("tabindex","-1").focus(),$Eploy(e).on("keydown."+t.namespace,(function(a){var s,r="Tab"===a.key||9===a.keyCode;if(s=t.iframe?this.ownerDocument.activeElement:document.activeElement,!r)return"Escape"===a.key?void("function"==typeof t.onESC&&t.onESC(a)):void 0;o=getFocusableElements(e),i=o.first()[0],n=o.last()[0],a.shiftKey?s===i&&(n.focus(),a.preventDefault()):s===n&&(i.focus(),a.preventDefault())})),0==o.length&&document.body.addEventListener("keydown",(function(e){"Escape"!=e.key||"function"==typeof t.onESC&&t.onESC(e)}))}function ITSTrapFocusUndo(e,t){t=t||{};$Eploy(e).off("keydown."+t.namespace),null!=t.focusOnElement&&$Eploy(t.focusOnElement).focus()}function CheckTimesheetHoursBreach(e,t,o,i){var n=GetRatesAsCSVString();if(""!=n&&""!=i){var a="XOmitRateItemsCSV="+n;o&&(a+="&"+o);var s={type:10,dataCsv:a};$Eploy.ajax({method:"POST",url:ServerPath+"WebServices/"+i+".asmx/Validate",dataType:"json",data:JSON.stringify(s),contentType:"application/json; charset=utf-8",async:!1,success:function(o){o.d.length>0&&4==o.d[0].Outcome&&(t.IsValid=!1,e.errormessage=o.d[0].Message,window.scrollTo(0,0))},error:function(e){console.error(e)}})}}function GetRatesAsCSVString(){for(var e=$Eploy("[data-rategroup]"),t=[],o=0;o<e.length;o++){var i=e[o].id.replace("_divHolder",""),n=GetHrValue(i),a=parseFloat(n);if(!isNaN(a)&&a>0)void 0===t[r=e[o].dataset.rategroup]&&(t[r]=0),t[r]+=a}var s="";for(var r in t){var l=t[r];""!=s&&(s+="~"),s+=encodeURIComponent("0,"+r+",'',0,0,0,"+l+",0")}return s}function handleDashboardStarred(e){var t=!1,o=$Eploy(e).attr("data-DashboardID");if(void 0!==o){var i=$Eploy("[data-DashboardID='"+o+"']");!0===$Eploy(e.children[0]).hasClass("is-filled")&&(t=!0);for(var n=0;n<i.length;n++){var a,s=i[n].getAttribute("data-dashboard-title");t?($Eploy(i[n].children[0]).removeClass("is-filled  is-animated"),$Eploy(i[n].setAttribute("data-tooltip",ResourceStore.get(61,"str_AddToStarred"))),$Eploy(i[n]).attr("data-is-starred","false"),a=ResourceStore.get(61,"str_AddToStarredList").replace("{0}",s)):($Eploy(i[n].children[0]).addClass("is-filled  is-animated"),$Eploy(i[n].setAttribute("data-tooltip",ResourceStore.get(61,"str_RemoveFromStarred"))),$Eploy(i[n]).attr("data-is-starred","true"),a=ResourceStore.get(61,"str_RemoveFromStarredList").replace("{0}",s)),$Eploy(i[n].setAttribute("aria-label",a))}}return $Eploy.ajax({type:"POST",contentType:"application/json; charset=utf-8",data:'{dashboardID:"'+o+'", isStarred:'+t+"}",dataType:"json",url:SiteURL+"admin/Dashboard/DashboardService.asmx/ToggleStarredDashboard",async:!1}),event.stopPropagation(),event.preventDefault(),!1}function OpenBulkActionPopup(e,t,o){CheckFilterItemsSelected(t)<=0?o?alert(ResourceStore.get(57,"str_SelectRecordsForMultiDelete")):alert(ResourceStore.get(57,"str_SelectRecordsForMultiEdit")):o?OpenBox(ServerPath+"admin/tools/RemoveRecord.aspx?RecordTypeID="+e+"&SessionFilterName="+t+"&RemovalType=MULTIDELETE",{type:"iframe",ITSTemplate:"custom",maxWidth:"600px"},{afterClose:reloadGrid}):OpenBox(ServerPath+"Popups/BulkEdit.aspx?RecordType="+e+"&SessionFilterName="+t,{type:"iframe",ITSTemplate:"medium"},{afterClose:reloadFilter})}"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a])}return o},writable:!0,configurable:!0}),String.prototype.startsWith=function(e,t){var o=t>0?0|t:0;return this.substring(o,o+e.length)===e},String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e};