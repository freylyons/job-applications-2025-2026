"use strict";$(function(){!function(){var e=document.querySelectorAll("[data-autocomplete-location]");if(e.length)for(var t=0;t<e.length;t++){var a,o=e[t];o.hasAttribute("data-remote-autocomplete")?autoComplete({minChars:2,menuClass:"autocomplete-suggestions--remote",onSelect:function(e){e.preventDefault()},selector:o,source:function(e,t){try{a.abort()}catch(e){}a=$.get("//locations.api.cv-library.co.uk/autocomplete",{term:e,prefer:$(o).data("prefer"),restrict_to:$(o).data("restrict_to")},function(e){e.push({label:"Remote",suggested:!0}),t(e)})},renderItem:function(e,t,a){var o="";-1===a.indexOf("data-header-suggested")&&e.hasOwnProperty("suggested")&&(o+='<div data-header-suggested data-ignore class="autocomplete-section-header text--semibold">Suggested searches</div>');var r=t.replace(/^\s+/g,"");r=r.replace(/[-\/\\^$*+?.()|[\]{}']/g,"\\$&");var c=new RegExp("("+r.split(" ").join("|")+")","gi"),l="autocomplete-suggestion";return"Remote"===e.label&&(l+=" autocomplete-suggestion--remote"),o+=$("<div></div>",{"class":l,"data-val":e.label}).html(e.label.replace(c,"<b>$1</b>")).prop("outerHTML")}}):autoComplete({minChars:2,onSelect:function(e){e.preventDefault()},selector:o,source:function(e,t){try{a.abort()}catch(e){}var o=e.replace(/^\s+/g,"");a=$.get("//locations.api.cv-library.co.uk/autocomplete",{term:o,prefer:$("#location").data("prefer"),restrict_to:$("#location").data("restrict_to")},function(e){t($.map(e,function(e){return e.label}))})},renderItem:function(e,t){var a=t.replace(/^\s+/g,"");a=a.replace(/[-\/\\^$*+?.()|[\]{}']/g,"\\$&");var o=new RegExp("("+a.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+e+'">'+e.replace(o,"<b>$1</b>")+"</div>"}})}}()});