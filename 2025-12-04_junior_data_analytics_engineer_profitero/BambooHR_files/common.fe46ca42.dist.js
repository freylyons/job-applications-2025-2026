/*! For license information please see common.fe46ca42.dist.js.LICENSE.txt */
(()=>{var __webpack_modules__={98580:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="PopoverStandard ',window.microTemplate.encodeHtml(popoverClass),'">   ');if(title){p.push('   <div class="PopoverStandard__title baseColor ',window.microTemplate.encodeHtml(titleClass),'" style="',window.microTemplate.encodeHtml(titleCssOverride),'">    ',window.microTemplate.encodeHtml(title),"   </div>  ")}p.push('   <div class="PopoverStandard__content ',window.microTemplate.encodeHtml(contentClass),'" style="',window.microTemplate.encodeHtml(contentCssOverride),'">   ');if(rawContent){p.push("    ",content,"   ")}else{p.push("    ",window.microTemplate.encodeHtml(content),"   ")}p.push("  </div> </div> ")}return p.join("")}},52075:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");var alignMap={left:"TooltipStandard--textLeft",right:"TooltipStandard--textRight",center:"TooltipStandard--textCenter"};var tooltipClasses="TooltipStandard "+alignMap[textAlign];p.push('  <div class="',window.microTemplate.encodeHtml(tooltipClasses),'">   ');if(title){p.push('   <p class="TooltipStandard__title">',window.microTemplate.encodeHtml(title),"</p>  ")}p.push("   ");if(Array.isArray(content)){p.push("   <ul>    ");content.forEach((function(e){p.push("     <li>",window.microTemplate.encodeHtml(e),"</li>    ")}));p.push("   </ul>  ")}else{p.push("   ",window.microTemplate.encodeHtml(content),"  ")}p.push(" </div> ")}return p.join("")}},14234:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<ba-select class="js-biweekly-which-week" width="7" not-clearable>  <ba-option value="1" data-biweekly-date="',window.microTemplate.encodeHtml(first.format()),'">   ...',window.microTemplate.encodeHtml(first.format("MMM DD")),",   ",window.microTemplate.encodeHtml(first.add(2,"week").format("MMM DD")),",   ",window.microTemplate.encodeHtml(first.add(2,"week").format("MMM DD")),'...  </ba-option>  <ba-option value="2" data-biweekly-date="',window.microTemplate.encodeHtml(second.format()),'">   ...',window.microTemplate.encodeHtml(second.format("MMM DD")),",   ",window.microTemplate.encodeHtml(second.add(2,"week").format("MMM DD")),",   ",window.microTemplate.encodeHtml(second.add(2,"week").format("MMM DD")),"...  </ba-option> </ba-select> ")}return p.join("")}},76309:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(26570);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="RehireModal">  <div class="RehireModal__form">   <form class="BhrForms BhrForms--noSpace js-rehire-modal-form">    <fieldset class="moz-override">     <div class="fieldRow">      <div class="fieldBox required">       <label for="effectiveDate" class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml(model.fields.effectiveDate.label),'</label>       <div class="fieldDiv fab-InputWrapper">        <input calendar-picker no-facade id="effectiveDate" name="effectiveDate" type="text"         class="calendar-field date-field js-validate-date-field js-validate-mindate js-effectiveDate fab-TextInput" />       </div>      </div>     </div>      <div class="fieldRow">      <div class="fieldBox required">       <label for="employmentStatusId" class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml(model.fields.employmentStatusId.label),'</label>       <div class="fieldDiv">        <ba-select width="5" id="employmentStatusId" class="js-employmentStatusSelect"         name="employmentStatusId" required="true">         ',generateOptions(model.fields.employmentStatusId),"        </ba-select>       </div>      </div>       ");if(model.fields.hasOwnProperty("taxEmployeeTypeId")){p.push('      <div class="fieldBox">       <label for="taxEmployeeTypeId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.taxEmployeeTypeId.label),'</label>       <div class="fieldDiv">        <ba-select width="5" id="taxEmployeeTypeId" name="taxEmployeeTypeId">         ',generateOptions(model.fields.taxEmployeeTypeId),"        </ba-select>       </div>      </div>      ")}p.push("      </div>      ");if(model.fields.hasOwnProperty("acaStatus")||model.fields.hasOwnProperty("benetracStatusId")){p.push('     <div class="fieldRow">      ');if(model.fields.hasOwnProperty("acaStatus")){p.push('      <div class="fieldBox required">       <label for="acaStatus" class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml(model.fields.acaStatus.label),'</label>       <div class="fieldDiv">        <ba-select width="7" id="acaStatus" name="acaStatus" required="true">         ',generateOptions(model.fields.acaStatus),"        </ba-select>       </div>      </div>      ")}p.push("      ");if(model.fields.hasOwnProperty("benetracStatusId")){p.push('      <div class="fieldBox required">       <label for="benetracStatusId" class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml(model.fields.benetracStatusId.label),'</label>       <div class="fieldDiv">        <ba-select width="7" id="benetracStatusId" name="benetracStatusId" required="true">         ',generateOptions(model.fields.benetracStatusId),"        </ba-select>       </div>      </div>      ")}p.push("     </div>     ")}p.push('     </fieldset>    <fieldset class="moz-override">     <div class="fieldRow">      <div class="fieldBox">       <label for="jobTitleId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.jobTitleId.label),'</label>       <div class="fieldDiv">        <ba-select ',window.microTemplate.encodeHtml(getCanAddAttributes(model.fields.jobTitleId)),'         class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.jobTitleId,["xlong"])),'"         data-add-item-field-id="jobTitleId"         data-add-item-label="',window.microTemplate.encodeHtml(model.fields.jobTitleId.label),'" id="jobTitleId"         name="jobTitleId" width="5">         ',generateOptions(model.fields.jobTitleId),'        </ba-select>       </div>      </div>      <div class="fieldBox">       <label for="reportsToEmployeeId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.reportsToEmployeeId.label),'</label>       <div class="fieldDiv">        <ba-select width="5" id="reportsToEmployeeId" name="reportsToEmployeeId">         ',generateOptions(model.fields.reportsToEmployeeId),'        </ba-select>       </div>      </div>     </div>     <div class="fieldRow">      <div class="fieldBox">       <label for="departmentId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.departmentId.label),'</label>       <div class="fieldDiv">        <ba-select ',window.microTemplate.encodeHtml(getCanAddAttributes(model.fields.departmentId)),'         class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.departmentId,["xlong"])),'"         data-add-item-field-id="departmentId"         data-add-item-label="',window.microTemplate.encodeHtml(model.fields.departmentId.label),'" id="departmentId"         name="departmentId" width="5">         ',generateOptions(model.fields.departmentId),'        </ba-select>       </div>      </div>      <div class="fieldBox">       <label for="divisionId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.divisionId.label),'</label>       <div class="fieldDiv">        <ba-select ',window.microTemplate.encodeHtml(getCanAddAttributes(model.fields.divisionId)),'         class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.divisionId,["xlong"])),'"         data-add-item-field-id="divisionId"         data-add-item-label="',window.microTemplate.encodeHtml(model.fields.divisionId.label),'" id="divisionId"         name="divisionId" width="5">         ',generateOptions(model.fields.divisionId),'        </ba-select>       </div>      </div>     </div>     <div class="fieldRow">      <div class="fieldBox">       <label for="locationId" class="fab-Label">',window.microTemplate.encodeHtml(model.fields.locationId.label),'</label>       <div class="fieldDiv">        <ba-select ',window.microTemplate.encodeHtml(getCanAddAttributes(model.fields.locationId)),'         class="',window.microTemplate.encodeHtml(getSpecialClasses(model.fields.locationId,["xlong","js-location-insertable-list"])),'"         data-add-item-label="',window.microTemplate.encodeHtml(model.fields.locationId.label),'" id="locationId"         name="locationId" width="5">         ',generateOptions(model.fields.locationId),'        </ba-select>       </div>      </div>     </div>    </fieldset>    <fieldset class="moz-override">     <div      class="fieldGroup ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"required":""),'">      <label       class="fab-Label ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"fab-Label--required":""),'">',window.microTemplate.encodeHtml($.__("Pay Rate")),'</label>      <div class="fieldRow fieldRow--forceBottomSpace">       <div class="fieldBox">        <div class="fieldDiv fab-InputWrapper">         <input          class="fab-TextInput fab-TextInput--width4 currency-field js-rate js-rate-display js-validate-payRate CurrencyPicker__input"          type="text" name="rate[0]" value="',window.microTemplate.encodeHtml(model.fields["rate[0]"].value),'"          data-cursymbol="',window.microTemplate.encodeHtml(model.fields["rate[0]"].meta.symbol),'">         <a class="fab-TextInput__button fab-TextInput__button--text CurrencyPicker__button"          onclick="showNewCurrencyPicker(this, \'.js-rate-display\', \'.js-rate-hidden\')"          data-employee-id="',window.microTemplate.encodeHtml(model.employeeId),'">          ',window.microTemplate.encodeHtml(model.fields["rate[1]"].value),'         </a>         <input class="currencyType js-rate-hidden" type="hidden" name="rate[1]"          value="',window.microTemplate.encodeHtml(model.fields["rate[1]"].value),'">        </div>       </div>       <div class="fieldBox compensation-per">        ',window.microTemplate.encodeHtml($.__("per")),'       </div>       <div class="fieldBox">        <div class="fieldDiv">         <ba-select width="5" id="paidPer" name="paidPer" class="js-validate-payRate"          ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?'required="true"':""),">          ",generateOptions(model.fields.paidPer),'         </ba-select>        </div>       </div>      </div>     </div>     <div class="fieldRow">      <div       class="fieldBox ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"required":""),'">       <label        class="fab-Label ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"fab-Label--required":""),'">',window.microTemplate.encodeHtml(model.fields.payType.label),'</label>       <div class="fieldDiv">        <ba-select width="5" id="payType" name="payType" ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?'required="true"':""),">         ",generateOptions(model.fields.payType),'        </ba-select>        </div>      </div>      <div       class="fieldBox ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"required":""),'">       <label for="payPeriod"        class="fab-Label ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"fab-Label--required":""),'">',window.microTemplate.encodeHtml(model.fields.payPeriod.label),'</label>       <div class="fieldDiv">        <ba-select width="5" id="payPeriod" name="payPeriod" ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?'required="true"':""),">         ",generateOptions(model.fields.payPeriod),'        </ba-select>       </div>      </div>     </div>     <div class="fieldRow">      <div       class="fieldBox ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"required":""),'">       <label        class="fab-Label ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?"fab-Label--required":""),'">',window.microTemplate.encodeHtml(model.fields.overtimeStatus.label),'</label>       <div class="fieldDiv">        <ba-select width="5" id="overtimeStatus" name="overtimeStatus" ',window.microTemplate.encodeHtml(model.hasBambooPayroll&&model.employeeSyncedToPayroll?'required="true"':""),">         ",generateOptions(model.fields.overtimeStatus),"        </ba-select>       </div>      </div>     </div>    </fieldset>   </form>  </div> </div>")}return p.join("")}},21106:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(26570);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<p class="AccessLevelSelector__emailModalMsg">  ',window.microTemplate.encodeHtml($.__("%1$s needs a home or work email in order to be added to an Access Level. Add one or both below.",user.firstName)),' </p> <form class="BhrForms" id="access-levels-require-email-form">  <div class="fieldGroup">   <div class="fieldRow">    <div class="fieldBox">     <label class="fab-Label fab-Label--required">',window.microTemplate.encodeHtml($.__("Email")),'</label>     <div class="fieldDiv">     ');if(hasEmployee){p.push('      <span class="inputIcons inputOfficeIcon">       <input type="text" class="fab-TextInput fab-TextInput--width8 xxlong" name="workEmail" placeholder="',window.microTemplate.encodeHtml($.__("Work")),'" />      </span>     ')}else{p.push('      <input type="text" class="xxlong" name="email" />     ')}p.push("     </div>    </div>   </div>   ");if(hasEmployee){p.push('   <div class="fieldRow">    <div class="fieldBox">     <div class="fieldDiv">      <span class="inputIcons inputHomeIcon">       <input type="text" class="fab-TextInput fab-TextInput--width8 xxlong" name="homeEmail" placeholder="',window.microTemplate.encodeHtml($.__("Home")),'" />      </span>     </div>    </div>   </div>   ')}p.push("  </div> </form> ")}return p.join("")}},45638:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");accessLevelIds.forEach((function(e){p.push('  <input type="hidden" name="',window.microTemplate.encodeHtml(inputFieldName),'" value="',window.microTemplate.encodeHtml(e),'" /> ')}));p.push(' <input type="hidden" name="',window.microTemplate.encodeHtml(noAccessFieldName),'" value="',window.microTemplate.encodeHtml(noAccessValue),'" /> ')}return p.join("")}},25355:(module,__unused_webpack_exports,__webpack_require__)=>{var $=__webpack_require__(26570);module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push("");var uploadedFiles=newUploadedFiles||false;p.push("  ");files.forEach((function(e){var t=e.isEsig||e.info&&e.info.icon&&typeof e.info.icon.indexOf==="function"&&e.info.icon.indexOf("esignature")>-1;var a=window.BambooHR.Utils.getIconNameFromFileName(e.originalName||e.name,"16x20",t);p.push(' <div class="FileCard js-file  ');if(e.disabled){p.push("  FileCard--disabled  ")}p.push("  ");if(e.mode==="display"||theme==="display"){p.push("  FileCard--display  ")}p.push("  ");if(e.theme==="light"||theme==="light"){p.push("  FileCard--light  ")}p.push('"  ');if(e.data){p.push("   ");Object.keys(e.data).filter((function(t){return e.data[t]})).forEach((function(t){p.push("    data-",window.microTemplate.encodeHtml(t),'="',window.microTemplate.encodeHtml(e.data[t]),'"   ')}));p.push("  ")}p.push("  ");if(e.action){p.push('   data-action="',window.microTemplate.encodeHtml(e.action),'"  ')}p.push('  data-file-id="',window.microTemplate.encodeHtml(e.fileId),'"  data-id="',window.microTemplate.encodeHtml(e.id),'"     data-key="',window.microTemplate.encodeHtml(e.key),'" >  <span class="FileCard__detail">   <span class="FileCard__title dot-ellipsis" title="',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.name)),'">    ',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.name)),"   </span>   ");if(e.status){p.push('    <span class="FileCard__status dot-ellipsis" title="',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.status)),'">     ',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.status)),"    </span>   ")}p.push('  </span>  <span class="FileCard__info">   ');if(a){p.push('    <span class="FileCard__icon">     <ba-file-icon       esig="');if(t){p.push("true")}else{p.push("false")}p.push('"       name="',window.microTemplate.encodeHtml(e.originalName),'"       alt="');if(e.isSafe){p.push("",window.microTemplate.encodeHtml(e.name),"")}else{p.push("'Virus Detected'")}p.push('">     </ba-file-icon>    </span>   ')}p.push("   ");if(e.info.className&&e.mode==="display"){p.push('    <span class="FileCard__btn FileCard__btn--',window.microTemplate.encodeHtml(e.info.className),'">     ',window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.info.text)),"    </span>   ")}else{p.push("    ",window.microTemplate.encodeHtml(BambooHR.Utils.sanitizeHtml(e.info.text)),"   ")}p.push("  </span> ");if(e.mode!=="display"){p.push("  ");if(e.data.isComplete===null){p.push('   <span class="FileCard__close js-fc-close"></span>  ')}else{p.push('   <span class="FileCard__close js-fc-modal" data-is-complete="',window.microTemplate.encodeHtml(e.data.isComplete),'"></span>  ')}p.push("   ");if(e.info.text==="Esignature"){p.push('   <label class="bhrToggle bhrToggle--require"      data-tip-class="bhrTooltip--autoWidth"      ');if(e.required==="yes"){p.push('     data-tip-content="',window.microTemplate.encodeHtml($.__("Click to make the signature optional.")),'"     data-tip-lead="',window.microTemplate.encodeHtml($.__("Signature Required")),'"    ')}else{p.push('     data-tip-content="',window.microTemplate.encodeHtml($.__("Click to make the signature required.")),'"     data-tip-lead="',window.microTemplate.encodeHtml($.__("Signature Optional")),'"    ')}p.push('     data-tip-delay="800"   >    <input     type="checkbox"     class="bhrToggle__input js-fc-toggle-required"     name="fc-toggle-',window.microTemplate.encodeHtml(e.fileId),'"     data-file-id="',window.microTemplate.encodeHtml(e.fileId),'"     ');if(e.required==="yes"){p.push("     checked     ")}p.push('    >    <span class="bhrToggle__label"></span>    <span class="bhrToggle__handle"></span>    <span class="bhrToggle__icon">*</span>   </label>  ')}p.push('  <input type="hidden" class="js-file-ids" ');if(uploadedFiles){p.push(' name="temporary_file_ids[]" ')}else{p.push(' name="file_ids[]" ')}p.push(' id="',window.microTemplate.encodeHtml("filesinput-"+e.fileId),'" value="',window.microTemplate.encodeHtml(e.id),'" /> ')}p.push(" ");if(e.isEsig&&e.esignatureInstanceId>0){p.push('  <span id="',window.microTemplate.encodeHtml("esignature-signing-root-"+e.esignatureInstanceId),'"></span> ')}p.push(" </div> ")}));p.push(" ")}return p.join("")}},91663:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="TimeTrackingGenericWarningModal">  <ba-icon name="fab-triangle-exclamation-24x24" class="TimeTrackingGenericWarningModal__alertIcon"></ba-icon>  <div>   <div class="TimeTrackingGenericWarningModal__header">    ',header,'   </div>   <div class="TimeTrackingGenericWarningModal__description">    ',description,"   </div>  </div> </div>")}return p.join("")}},47496:module=>{module.exports=function anonymous(obj,microTemplate){var p=[],print=function(){p.push.apply(p,arguments)};with(obj){p.push('<div class="TimeTrackingWarningModal">  <ba-icon   name="',window.microTemplate.encodeHtml(jadeIconName),'"   class="TimeTrackingWarningModal__icon"   encore-class="TimeTrackingWarningModal__icon"   encore-name="',window.microTemplate.encodeHtml(iconName),'"   encore-size="48"  ></ba-icon>  ');paragraphs.forEach((function(e){p.push('  <div class="TimeTrackingWarningModal__paragraph">',e,"</div>  ")}));p.push(" </div> ")}return p.join("")}},50299:(e,t,a)=>{"use strict";a.d(t,{K:()=>r,e:()=>m});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(405);var $=a(26570);const r={contractor:{label:$.__("Contractor (1099)"),shortLabel:$.__("Contractor"),description:$.__("A person receiving a 1099 is not considered an employee and will not be included in the ACA reporting."),url:"https://www.irs.gov/businesses/small-businesses-self-employed/independent-contractor-defined"},"full-time":{label:$.__("Full-Time"),shortLabel:$.__("Full-Time"),description:$.__("A full-time employee is, for a calendar month, an employee employed on average at least 30 hours of service per week, or 130 hours of service per month."),url:"https://www.irs.gov/affordable-care-act/employers/identifying-full-time-employees"},"intern-compensated":{label:$.__("Intern (Eligible for benefits)"),shortLabel:$.__("Intern Eligible"),description:$.__("A temporary employee who receives compensation and therefore will be included in the ACA reporting."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-on-employer-shared-responsibility-provisions-under-the-affordable-care-act"},"intern-not-compensated":{label:$.__("Intern (Ineligible for benefits)"),shortLabel:$.__("Intern Ineligible"),description:$.__("A temporary employee who receives no compensation and therefore will not be included in ACA reporting."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-on-employer-shared-responsibility-provisions-under-the-affordable-care-act"},"part-time-eligible":{label:$.__("Part-Time/Variable Hour (eligible for benefits)"),shortLabel:$.__("Part-Time Eligible"),description:$.__("Any employee who was treated as a full-time employee for one or more months of the calendar year under the look-back measurement method."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-about-information-reporting-by-employers-on-form-1094-c-and-form-1095-c"},"part-time-ineligible":{label:$.__("Part-Time/Variable Hour (ineligible for benefits)"),shortLabel:$.__("Part-Time Ineligible"),description:$.__("Any employee who was not treated as a full-time employee for one or more months of the calendar year under the look-back measurement method."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-about-information-reporting-by-employers-on-form-1094-c-and-form-1095-c"},seasonal:{label:$.__("Seasonal"),shortLabel:$.__("Seasonal"),description:$.__("An employee who is hired to a position for which the annual employment is generally six months or less and begins approximately the same part of the year, such as summer or winter."),url:"https://www.irs.gov/affordable-care-act/employers/questions-and-answers-on-employer-shared-responsibility-provisions-under-the-affordable-care-act"}};const l=e=>{if(e){return e.reduce(((e,t)=>{if(r[t]){const a=r[t];const n={text:a.label,value:t};e.push(n)}return e}),[])}return[]};var c=a(26242);var d=a(37091);var u=a(7167);var h=a(37194);var p=a(26570);function m(e){const{allowedAcaStatuses:t,hasError:a=false,id:s,onSelect:m,onChange:f,selectedValue:g,showLabel:v=false}=e;const y=g?r[g]:null;return(0,n.Z)(i().Fragment,{},void 0,v&&(0,n.Z)(c.L,{component:"div",marginBottom:.25},void 0,(0,n.Z)(d.L,{component:"span",required:true,status:a?"error":undefined},void 0,p.__("ACA Status"))),(0,n.Z)(o.S,{condition:a?"error":"",id:s,isClearable:false,items:l(t),onChange:f,onSelect:m,selectedValues:[g],width:"9"}),y&&(0,n.Z)(c.L,{marginTop:1},void 0,(0,n.Z)(u.B,{color:"neutral-weak",component:"p",id:"selected-aca-status-description",size:"small",weight:"regular"},void 0,(0,n.Z)(h.Message,{link:(0,h.ExternalLink)(`${y.url}`),text:`${y.description} ${y.url?"[See here for more details.]":""}`}))))}},30731:(e,t,a)=>{"use strict";a.d(t,{Z:()=>fe});var n={};a.r(n);a.d(n,{BaTabsTheme:()=>D,DEFAULT:()=>F,banner:()=>p,basic:()=>m,horizontal:()=>f,large:()=>E,medium:()=>S,mini:()=>g,minimal:()=>v,settingsSubnav:()=>w,side:()=>x,sidebar:()=>b,small:()=>C,subcomponents:()=>y,wizard:()=>A});var s=a(89835);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(21198);var c=a(20983);var d=a(71141);var u=a(73641);var h=a(88604);const p={name:"banner",caret:`\n\t\t\t<svg width="37" height="17"\n\t\t\t\t\tviewBox="0 0 37 17" xmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\txmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t\t\t<defs>\n\t\t\t\t\t<path d="M1 2h35L19.565 14.637c-.623.48-1.578.478-2.198 0" id="BannerArrow"/>\n\t\t\t\t\t<filter y="-19.2%" height="153.9%" filterUnits="objectBoundingBox" id="BannerArrowShadow">\n\t\t\t\t\t\t<feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"/>\n\t\t\t\t\t\t<feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>\n\t\t\t\t\t\t<feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" in="shadowBlurOuter1"/>\n\t\t\t\t\t</filter>\n\t\t\t\t</defs>\n\t\t\t\t<use filter="url(#BannerArrowShadow)" xlink:href="#BannerArrow"/>\n\t\t\t\t<use xlink:href="#BannerArrow"/>\n\t\t\t\t<path d="M17.978 13.845c.26.201.714.202.976 0L37 0H0l17.978 13.845z" fill="#FFF"/>\n\t\t\t</svg>\n\t\t`,extraClasses:{tab:e=>{let{active:t}=e;return{baseBorderColor:t}},tabIcon:e=>{let{active:t}=e;return{baseFillColor:t}},tabCaret:e=>{let{active:t}=e;return{baseFillColor:t}}}};const m={name:"basic",hiddenParts:["secondaryText"],extraClasses:{tabIcon:e=>{let{active:t}=e;return{baseFillColor:t}}}};const f={name:"horizontal",collapseTabs:true,hiddenParts:["icon","secondaryText"],extraClasses:{tabLabel:e=>{let{active:t}=e;return{baseColor:t}}}};const g={name:"mini",hiddenParts:["secondaryText","icon"]};const v={name:"minimal",extraClasses:{tabIcon:()=>"baseFillColor",tabLabel:()=>"baseColor",tab:()=>"baseColorBg-after baseColor baseFillColor"}};var y=a(57011);const b={name:"sidebar",caret:true,hiddenParts:["icon","secondaryText"],extraClasses:{tabIcon:"baseFillColor",tabLabel:e=>{let{active:t}=e;return{linkColor:!t}}},TabContent:e=>{const{_createBEM:t,primaryText:a,children:n}=e;return(0,s.Z)(o.Fragment,{},void 0,(0,s.Z)("h4",{className:t("tabHeading",null,e)},void 0,r().createElement(y.TabIcon,(0,h.Z)({className:t("tabIcon",null,e)},e)),a),n)}};const w={name:"settings-subnav",extraClasses:{tabWrapper:"branded-border",tabWrapperTitle:"baseColor",tabWrapperIcon:"baseFillColor",tabIcon:e=>{let{active:t}=e;return{baseFillColor:t}}},TabWrapperTitle(e){const{className:t,title:a}=e;return r().createElement("h3",{className:t},a)},TabContentHeader(e){const{_createBEM:t,primaryText:a,secondaryText:n}=e;return(0,s.Z)("h3",{className:t("tabContentTitle")},void 0,a,n&&(0,s.Z)("span",{className:t("tabContentSubtitle")},void 0,n))}};const C={name:"fab-small",variants:["light","large","icons","tight"],extraClasses:{tab:e=>{let{active:t}=e;return{"branded-border-bottom":t}}},hiddenParts:["secondaryText"]};const S={name:"fab-medium",variants:["light","dark","header"],hiddenParts:["secondaryText"]};const E={name:"fab-large",variants:["light"],extraClasses:{tab:e=>{let{icon:t}=e;return{"--withIcon":t}},tabIcon:e=>{let{active:t}=e;return{baseFillColor:t}}}};const x={name:"fab-side",variants:["sub"],hiddenParts:["secondaryText"]};var T=a(14386);var k=a(619);var I=a(56445);const A={name:"fab-wizard",load:"sequential",disableTabClick:true,hiddenParts:["icon","secondaryText"],extraClasses:{tab(e){let{index:t,BaTabs:{activeTabIndex:a}}=e;return{"--done":t<a}}},TabCaret(e){let{className:t,tab:{index:a,number:n,BaTabs:{activeTabIndex:i}}}=e;const o=a===i;return(0,I.ifFeature)("encore",(0,s.Z)("div",{className:t},void 0,a<i?(0,s.Z)(T.I,{color:"primary-strong",name:"circle-check-solid",size:24}):(0,s.Z)(T.I,{color:o?"primary-strong":"neutral-extra-strong",name:`circle-${n}-${o?"solid":"regular"}`,size:24})),(0,s.Z)("div",{className:t},void 0,a<i?(0,s.Z)(k.I,{name:"fab-check-14x14"}):(0,s.Z)("span",{},void 0,n)))}};var $=a(26570);const F="basic";const Z=new WeakMap;function M(e,t,a){const n=Z.get(e);if(!t){return n}return(0,u.isUndefined)(n[t])?a:n[t]}function N(e,t){return M(e,t,y[t])}class D{static get className(){return"BaTabsTheme"}get name(){return M(this,"name")}get variants(){return M(this,"variants",[])}get body(){return M(this,"body")}get caret(){return M(this,"caret")}get hiddenParts(){return M(this,"hiddenParts")}get disableTabClick(){return M(this,"disableTabClick")}get extraClasses(){return M(this,"extraClasses")}get collapseTabs(){return M(this,"collapseTabs")}get overflowText(){return M(this,"overflowText")}get load(){return M(this,"load")}constructor(e){Z.set(this,{...e,name:(0,u.kebabCase)(e.name),hiddenParts:(e.hiddenParts||[]).reduce(((e,t)=>{e[t]=true;return e}),{}),load:(0,u.camelCase)(e.load||null)||"active",overflowText:e.overflowText||$.__("More"),collapseTabs:!!e.collapseTabs,extraClasses:(0,u.isPlainObject)(e.extraClasses)?e.extraClasses:{},disableTabClick:!!e.disableTabClick});Object.defineProperties(this,Object.keys(y).reduce(((e,t)=>({...e,[t]:{get:()=>N(this,t)}})),{}))}}var L=a(36029);var P=a(17842);var O=a.n(P);var R=a(4715);var B=a(93093);const H=new WeakMap;const j=new WeakMap;const z=new WeakMap;const q=new WeakMap;const W=new WeakMap;function U(e,t){const a=H.get(e);return!(0,u.isUndefined)(a)&&!(0,u.isUndefined)(a[t])}function V(e,t,a){const n=H.get(e);if(!U(e,t)){return a}return n[t]}function G(e,t,a){H.get(e)[t]=a;return a}function Y(e,t){delete H.get(e)[t]}function K(e,t,a){const n=(0,u.find)([V(e,t),e.BaTabs[t],e.BaTabs.props[t],e.Theme[t]],(e=>!(0,u.isUndefined)(e)));return(0,u.isUndefined)(n)?a:n}class X{static get className(){return"Tab"}get BaTabs(){return j.get(this)}get Theme(){return this.BaTabs.Theme}get index(){return V(this,"index")}get number(){return V(this,"number")}get key(){return V(this,"key")}get group(){return V(this,"group")}get href(){return V(this,"href")}get includeDivider(){return!!V(this,"includeDivider")}get isLink(){return!!this.href}get hasPath(){return!!this._pathname}get path(){const{pathname:e=null,query:t=null,hash:a=null}=V(this,"path")||{};return{pathname:e,query:t,hash:a}}get _pathname(){const e=this.BaTabs.path;const t=this.path;if(!e.pathname&&!t.pathname){return}let{pathname:a}=t;let{pathname:n}=e;if((0,u.isFunction)(n)){n=n.call(this,{...this.props,...this.data})}if((0,u.isFunction)(a)){a=a.call(this,{...this.props,...this.data})}if((0,u.isString)(n)){a=(0,L.resolveURL)(n,a)}if(!(0,u.isEmpty)(a)){return a}}get _query(){const e=this.BaTabs.path;const t=this.path;let{query:a}=t;let{query:n}=e;if((0,u.isFunction)(n)){n=n.call(this,{...this.props,...this.data})}if((0,u.isFunction)(a)){a=a.call(this,{...this.props,...this.data})}if((0,u.isPlainObject)(n)){a={...n,...a||{}}}if(!(0,u.isEmpty)(a)){return a}}get pathname(){const{data:e,props:t}=this;const{_pathname:a,_query:n}=this;if((0,u.isEmpty)(a)){return}return(0,L.compileURL)(a,{...t,...e},n||{})}get active(){return this.number===this.BaTabs.activeTabNumber}get disabled(){return!!V(this,"disabled")}get tabElem(){return z.get(this)}set tabElem(e){if(e instanceof Element&&e!==this.tabElem){z.set(this,e);Y(this,"width")}}get width(){if(U(this,"width")){return V(this,"width")}const{tabElem:e}=this;if(!e||!e.offsetParent){return 0}const{marginLeft:t,marginRight:a}=window.getComputedStyle(e);const{width:n}=e.getBoundingClientRect();return G(this,"width",n+parseInt(t||"0")+parseInt(a||"0"))}get tabContentElem(){return q.get(this)}set tabContentElem(e){if(e instanceof Element&&e!==this.tabContentElem){q.set(this,e)}}get primaryText(){return V(this,"primaryText")}get secondaryText(){return V(this,"secondaryText")}get icon(){return V(this,"icon")}get activeIcon(){return V(this,"activeIcon")}get loading(){return this.BaTabs.loading}get shouldClickOnEnter(){return V(this,"shouldClickOnEnter")}get load(){let e=V(this,"load",this.BaTabs.load);if((0,u.isString)(e)){switch(e){case"once":e={render:"all"};break;case"preload":e={render:"all",preload:"all"};break;case"sequential":e={render:"all",preload:"next"};break;case"always":e={render:"all",resolve:"always"};break}}if(!(0,u.isPlainObject)(e)){e={}}return{render:"active",resolve:"once",preload:"none",...e}}get isAsync(){const e=K(this,"getData");const t=K(this,"getBody");return!(0,u.isUndefined)(e)||!(0,u.isUndefined)(t)}get data(){return V(this,"data",{})}set data(e){G(this,"data",e)}get hasData(){return!!V(this,"data")}get body(){if(!this.active&&this.load.render==="active"){return null}const{props:{children:e}}=j.get(this);return V(this,"body")||e||K(this,"body")}set body(e){G(this,"body",e)}get hasBody(){return!!V(this,"body")}get caret(){return K(this,"caret",false)}get hiddenParts(){return K(this,"hiddenParts")}get shouldResolveContent(){return this.isAsync&&(this.load.resolve==="always"||!this.isResolved)}get isResolved(){return!this.loading&&V(this,"resolved",false)}get props(){const e=this;return{get tab(){return e},get index(){return e.index},get number(){return e.number},get key(){return e.key},get active(){return e.active},get activeIcon(){return e.activeIcon},get shouldClickOnEnter(){return e.shouldClickOnEnter},get disabled(){return e.disabled},get caret(){return e.caret},get primaryText(){return e.primaryText},get secondaryText(){return e.secondaryText},get icon(){return e.icon},get body(){return e.body},get onTabClick(){return e.onTabClick},get Theme(){return e.Theme},get hiddenParts(){return e.hiddenParts},get _createBEM(){return e._createBEM},get _subcomponents(){return e._subcomponents}}}constructor(e,t,a){var n=this;(0,i.Z)(this,"_createBEM",(function(){return n.BaTabs._createBEM(...arguments)}));(0,i.Z)(this,"onTabClick",(function(){const{Theme:e,props:t}=n.BaTabs;for(var a=arguments.length,s=new Array(a),i=0;i<a;i++){s[i]=arguments[i]}if(n.loading||n.disabled||K(n,"disableTabClick")||n.active||V(n,"onClick",u.noop)(n,...s)===false||(t.onTabClick||u.noop)(n,...s)===false||(e.onTabClick||u.noop)(n,...s)===false){return}n.BaTabs.activeTab=n}));if(e.body&&e.getBody){throw new Error("A tab cannot have both body and getBody defined")}if(e.data&&e.getData){throw new Error("A tab cannot have both data and getData defined")}let{path:s}=e;let o;let r;if((0,u.isString)(s)){[o,...r]=s.split("?");r=r.join("?")||null;s={pathname:o,query:r}}H.set(this,{key:`tab${t+1}`,...e,index:t,number:t+1,primaryText:(0,u.isPlainObject)(e.label)?e.label.primary:e.label,secondaryText:(0,u.isPlainObject)(e.label)?e.label.secondary||null:null,shouldClickOnEnter:e.shouldClickOnEnter||false,icon:(0,u.isString)(e.icon)?{name:e.icon}:e.icon,activeIcon:(0,u.isString)(e.activeIcon)?{name:e.activeIcon}:e.activeIcon,path:(0,u.isPlainObject)(s)?s:null});j.set(this,a);this._subcomponents={};Object.defineProperties(this._subcomponents,Object.keys(y).reduce(((e,t)=>({...e,[t]:{get:()=>K(this,t)}})),{}))}renderTab(){let{overflow:e=false}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const t=this;const{key:a}=this;return r().createElement(Q,{key:a,tab:t,overflow:e})}renderBody(){const e=this;const{key:t}=this;return r().createElement(ee,{key:t,tab:e})}getBody(){if(this.shouldResolveContent){const e=K(this,"getBody");if((0,u.isString)(e)){return O().get((0,L.compileURL)(e,this.props)).then((e=>{let{data:t}=e;return t}))}if((0,u.isFunction)(e)){return e.call(this.BaTabs,this)||this.body}}return this.body}getData(){if(this.shouldResolveContent){const e=K(this,"getData");if((0,u.isString)(e)){return O().get((0,L.compileURL)(e,this.props)).then((e=>{let{data:t}=e;return t}))}if((0,u.isFunction)(e)){return e.call(this.BaTabs,this)||this.data}}return this.data}resolveContent(){return Promise.all([this.getData(),this.getBody()]).then((e=>{let[t,a]=e;this.data=t||this.data;this.body=a||this.body;G(this,"resolved",true);if(typeof this.BaTabs.props.onTabResolve==="function"){setTimeout((()=>{this.BaTabs.props.onTabResolve(this)}),0)}return this}))}testURL(){const{_pathname:e,_query:t}=this;if((0,u.isEmpty)(e)){return}const{params:a=null,query:n=null}=(0,L.testURL)(e,t||{})||{};const s={...this.props,...this.data};return a!==null&&n!==null&&![...Object.keys(a||{}).map((e=>(0,u.isUndefined)(s[e])||s[e]==a[e])),...Object.keys(t||{}).map((e=>(0,u.isUndefined)(n[e])||t[e]==n[e]))].includes(false)}}function J(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if((0,u.isFunction)(t)){t=r().createElement(t,(0,h.Z)({tab:e},a))}else if((0,u.isString)(t)){t=(0,s.Z)("div",{dangerouslySetInnerHTML:{__html:t}})}return t}function Q(e){let{tab:t,overflow:a}=e;const{data:n,data:{trackingAction:i},index:o,includeDivider:l,isLink:c,href:d,number:u,props:p,_subcomponents:{Tab:m}}=t;const{_createBEM:f,active:g,disabled:v,key:y,shouldClickOnEnter:b,onTabClick:w}=p;const C=J(t,m,{...p,...n});const S=f(a?"overflowTab":"tab",[y,{active:g,disabled:v,"^fab-Link--inherit":c&&a,link:c}],t);const E=e=>c?r().createElement("a",(0,h.Z)({},e,{href:d,ref:e=>{t.tabElem=e}})):r().createElement("div",(0,h.Z)({},e,{onClick:w,ref:e=>{t.tabElem=e}}));return r().createElement(r().Fragment,null,l&&(0,s.Z)(R.D,{marginTop:1.5,marginBottom:1.5}),(0,I.ifFeature)("encore",r().createElement(B.B,{className:S,component:d?"a":"div","data-bi-id":`access-level-${i}-header-step`,"data-tab-index":o,"data-tab-number":u,href:d,onClick:d?undefined:w,onKeyDown:b?e=>{if(e.key==="Enter"){w()}}:undefined,ref:e=>{t.tabElem=e}},C),(0,s.Z)(E,{className:S,"data-bi-id":`access-level-${i}-header-step`,"data-tab-index":o,"data-tab-number":u},void 0,C)))}function ee(e){let{tab:t}=e;const{props:{key:a,...n},loading:i,load:l,data:c,isAsync:d,isResolved:u}=t;const{_createBEM:p,active:m,disabled:f,_subcomponents:{TabContentHeader:g,TabContentHeaderActions:v,TabContentFooter:y,TabContentFooterActions:b,TabContent:w,TabLoadingContent:C}}=n;if(f||!m&&l.render==="active"){return null}let S=null;if(m&&i){S=J(t,C,{...n,...c})}else if(!d||!i&&u){S=J(t,t.body,{...n,...c});if(w){S=r().createElement(w,(0,h.Z)({},n,c),S)}S=(0,s.Z)(o.Fragment,{},void 0,(g||v)&&(0,s.Z)("div",{className:p("tabContentHeader")},void 0,g&&r().createElement(g,(0,h.Z)({},n,c),null),v&&(0,s.Z)("div",{className:p("tabContentHeaderActions")},void 0,r().createElement(v,(0,h.Z)({},n,c),null))),S,(y||b)&&(0,s.Z)("div",{className:p("tabContentFooter")},void 0,y&&r().createElement(y,(0,h.Z)({},n,c),null),b&&(0,s.Z)("div",{className:p("tabContentFooterActions")},void 0,r().createElement(b,(0,h.Z)({},n,c),null))))}return r().createElement("div",{className:p("tabContent",[a,{active:m}],t),ref:e=>{t.tabContentElem=e}},S)}var te=a(41425);function ae(e){const{alwaysVisible:t=false}=e??{};const[a,n]=(0,o.useState)(-1);const s=(0,o.useRef)();const i=(0,o.useCallback)((()=>{const e=s.current;if(!e?.children?.length){return}const a=Array.from(e.children).filter((e=>e.classList.contains("BaTabs__tab")));a.forEach((e=>e.style.display="inline-flex"));const i=a[a.length-1];const o=e.scrollWidth-i.offsetWidth;const r=(t?e.scrollWidth:o)>e.offsetWidth;if(!r){n(-1);if(!t){a[a.length-1].style.display="none"}return}const l=a.slice(0,-1).findLastIndex((t=>{t.style.display="none";if(e.scrollWidth<=e.offsetWidth){return true}}));n(l)}),[t]);const r=(0,o.useCallback)((e=>{s.current=e?.parentElement||null;i()}),[i]);(0,o.useLayoutEffect)((()=>{if(!s.current){return}const e=new ResizeObserver((()=>requestAnimationFrame(i)));e.observe(s.current);return()=>e.disconnect()}),[i]);return{overflowIndex:a,setDropdownRef:r}}const ne=e=>{const{createBEM:t,overflowText:a,tabs:n}=e;const{overflowIndex:i,setDropdownRef:o}=ae();const l=[];n.slice(i).forEach((e=>{const t={tab:e,key:e.key};if(typeof e.group==="string"){const a=l.find((e=>e.key===e.group));if(a){a.items.push(t)}else{l.push({key:e.group,type:"group",items:[t]})}}else if(e.key==="employeeTab-customizeTabs"){l.push({key:"customize-tabs",type:"group",items:[t],anchor:"bottom"})}else{l.push(t)}}));return r().createElement("div",{className:t("tab","overflow"),ref:o},(0,s.Z)(te.D,{items:l,renderOptionContent:e=>{let{key:t}=e;const a=e=>e.items?e.items.find(a):e.key===t;const n=l.find(a);const{tab:s}=n.tab?n:n.items.find(a);return s.renderTab({overflow:true})},type:"text"},void 0,(0,s.Z)("span",{className:t("tabLabel",["primary"])},void 0,a)))};var se=a(26570);const ie=new WeakMap;const oe=new WeakMap;const re=new WeakMap;const le=new WeakMap;const ce=new WeakMap;const de=new WeakMap;const ue=new WeakMap;const he=new WeakMap;const pe=new WeakMap;const me=new WeakMap;class fe extends o.Component{static get className(){return"BaTabs"}get Theme(){return re.get(this)}set theme(e){if(this.Theme){return}if(e&&!(0,u.isString)(e)){throw new Error(`Invalid theme (${e})`)}let t;[e,...t]=(e||F).split(":");e=n[(0,u.camelCase)(e)]||n[F];const a=new D(e);re.set(this,a);const s=new l.BEM([this.constructor.className,...this.props.id?[this.props.id]:[]],[`${this.Theme.name}-theme`,()=>({loading:this.loading}),...t.filter((e=>a.variants.includes(e))).map((e=>`${this.Theme.name}-theme_${e}`))],[...d.isEnabled("jade")?[{tab:e=>{let{active:t,disabled:a,loading:n}=e;return{baseColor:t,baseColorHover:!(t||a||n),baseFillColor:t,baseFillColorHover:!(t||a||n)}}}]:[],a.extraClasses,this.extraClasses]);le.set(this,s)}get tabs(){return ie.get(this)}get overflowOnlyTabs(){return oe.get(this)}get tabLength(){return this.tabs.length}set tabs(e){if(this.tabs){return}if(!Array.isArray(e)){throw new Error('"tabs" prop is required for BaTabs')}const[t,a]=(0,c.Z6)(e,(e=>e.showOnlyInOverflow));let n=0;ie.set(this,a.map((e=>new X(e,n++,this))));oe.set(this,t.map((e=>new X(e,n++,this))))}set extraClasses(e){de.set(this,e)}get extraClasses(){return de.get(this)||{}}get hasPath(){return!!(this.path.pathname||this.tabs.map((e=>e.hasPath)).includes(true))}get path(){const{pathname:e=null,query:t=null,sync:a}=ce.get(this)||{};return{pathname:e,query:t,sync:a}}get visibleTabs(){return this.tabs.slice(0,this.state.overflowIndex)}get overflowTabs(){const{overflowIndex:e}=this.state;return this.tabs.slice(e).concat(oe.get(this)||[])}get hasOverflowTabs(){return this.state.overflowIndex>=0}set tabWrapper(e){if(e instanceof Element&&e!==this.tabWrapper){he.set(this,e);this._recalcOverflowIndex()}}get tabWrapper(){return he.get(this)}get _tabWrapperWidth(){const e=he.get(this);if(!e||!e.offsetParent){return 0}const{width:t}=window.getComputedStyle(e);return parseInt(t||"0")}get tabWrapperWidth(){return pe.get(this)}set tabWrapperWidth(e){if(!e||e===this.tabWrapperWidth||(0,I.ifFeature)("encore",true)){return}pe.set(this,e);const{overflowIndex:t}=this;if(t===this.state.overflowIndex&&this.state.hasInitCollapseTabs){return}this.setState({overflowIndex:t,hasInitCollapseTabs:true})}get tabWrapperMinWidth(){return parseInt(this.tabs.reduce(((e,t)=>{let{width:a}=t;return e+a}),0))}get overflowTab(){return ue.get(this)}set overflowTab(e){if(e instanceof Element&&e!==this.overflowTab){ue.set(this,e);this._recalcOverflowIndex()}}get overflowTabWidth(){const e=ue.get(this);if(!e||!e.offsetParent){return 0}return parseInt(e.getBoundingClientRect().width)}get collapseTabs(){return!!(!this.hasGroups&&this.props.collapseTabs||this.Theme.collapseTabs)}get overflowIndex(){if((0,I.ifFeature)("encore",true)){return}const e=this._tabWrapperWidth;let t=0;let a;if(e<this.tabWrapperMinWidth){t+=this.overflowTabWidth;this.tabs.some(((n,s)=>{let{width:i}=n;t+=i;a=s;return t>e}))}return a}get overflowText(){return this.props.overflowText||this.Theme.overflowText}get firstTab(){return this.tabs[0]}get isFirstTab(){return this.activeTab===this.firstTab}get lastTabIndex(){return this.tabs.length-1}get lastTab(){return this.tabs[this.lastTabIndex]}get isLastTab(){return this.activeTab===this.lastTab}get prevTabIndex(){return(0,u.clamp)(this.activeTabIndex-1,0,this.lastTabIndex)}get prevTab(){return this.tabs[this.prevTabIndex]}get nextTabIndex(){return(0,u.clamp)(this.activeTabIndex+1,0,this.lastTabIndex)}get nextTab(){return this.tabs[this.nextTabIndex]}get loading(){return this.state.loading}get load(){return this.props.load||this.Theme.load}get activeTab(){return this.state.activeTab}set activeTab(e){if(!isNaN(e)){const t=parseInt(e)-1;e=this.tabs[(0,u.clamp)(t,0,this.lastTabIndex)]}else if((0,u.isString)(e)){e=this[`${e}Tab`]||this.tabs.find((function(){let{key:t}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return t===e}))}if(!(e instanceof X)){throw new Error(`Invalid value for activeTab (${e})`)}if(e.data&&typeof e.data.tabType==="string"&&e.data.tabType==="reorder"){e=this.activeTab}if(e===this.activeTab){return}if(this.hasPath&&this.path.sync.up){const{pathname:t}=e;if(t){window.history.pushState({},null,t);return}}this.setState({activeTab:e,loading:e.shouldResolveContent},this._resolveTabs)}get activeTabIndex(){return this.tabs.indexOf(this.activeTab)}get activeTabNumber(){return this.activeTabIndex+1}get hasGroups(){const{groups:e}=this;return Array.isArray(e)&&e.length>0}get groups(){return me.get(this)}set groups(e){if(Array.isArray(me.get(this))){return}if((0,u.isPlainObject)(e)){Object.keys(e).forEach((t=>{let a=e[t];if(!(0,u.isPlainObject)(a)){a={name:t}}else{a.name=t}e[t]=a}))}if(!Array.isArray(e)){e=[...this.tabs.reduce(((e,t)=>{let{group:a}=t;if(!(0,u.isUndefined)(a)){e.add(a)}return e}),new Set)].sort()}e=e.map((e=>{if(!(0,u.isPlainObject)(e)){e={name:e}}return e}));me.set(this,e)}get _subcomponents(){return Object.keys(y).reduce(((e,t)=>({...e,[t]:this[t]||this.props[t]||this.Theme[t]})),{})}constructor(e){var t;super(e);t=this;(0,i.Z)(this,"next",(()=>{this.activeTab="next";return this}));(0,i.Z)(this,"prev",(()=>{this.activeTab="prev";return this}));(0,i.Z)(this,"_renderTabs",(()=>{const e=this;const{hasInitCollapseTabs:t}=this.state;const a=this.collapseTabs&&!t;const{_createBEM:n,hasGroups:i,groups:l,_subcomponents:c}=this;const{title:d,icon:u}=this.props;const{TabWrapper:h,TabWrapperHeader:p,TabWrapperHeaderActions:m,TabWrapperFooter:f,TabWrapperFooterActions:g,TabGroup:v,TabGroupLabel:y,TabGroupIcon:b,TabGroupHeader:w,TabGroupFooter:C,Tab:S}=c;const E=e=>r().createElement("div",{className:n("tabWrapper",(0,I.ifFeature)("encore",undefined,{hidden:a})),ref:e=>{this.tabWrapper=e}},(p||m)&&(0,s.Z)("div",{className:n("tabWrapperHeader")},void 0,p&&r().createElement(p,e,null),m&&(0,s.Z)("div",{className:n("tabWrapperHeaderActions")},void 0,r().createElement(m,e,null))),r().createElement(h,e),(f||g)&&(0,s.Z)("div",{className:n("tabWrapperFooter")},void 0,f&&r().createElement(f,e,null),g&&(0,s.Z)("div",{className:n("tabWrapperFooterActions")},void 0,r().createElement(g,e,null))));const x=e=>(0,s.Z)("div",{className:n("tabGroup",[name,{empty:e.tabs.length<1}])},void 0,w&&(0,s.Z)("div",{className:n("tabGroupHeader")},void 0,r().createElement(w,e)),r().createElement(v,e),C&&(0,s.Z)("div",{className:n("tabGroupFooter")},void 0,r().createElement(C,e)));const T=()=>{const e=[];this.overflowTabs.forEach((t=>{const a={tab:t,key:t.key};if(typeof t.group==="string"){const n=e.find((e=>e.key===e.group));if(n){n.items.push(a)}else{e.push({key:t.group,type:"group",items:[a]})}}else if(t.key==="employeeTab-customizeTabs"){e.push({key:"customize-tabs",type:"group",items:[a],anchor:"bottom"})}else{e.push(a)}}));return(0,s.Z)(te.D,{buttonSettings:{className:n("textButton")},items:e,renderOptionContent:t=>{let{key:a}=t;const n=e=>e.items?e.items.find(n):e.key===a;const s=e.find(n);const{tab:i}=s.tab?s:s.items.find(n);return i.renderTab({overflow:true})},type:"text"},void 0,(0,s.Z)("span",{className:n("tabLabel",["primary"])},void 0,this.overflowText))};return r().createElement(E,{_createBEM:n,get tabs(){return e.tabs},_subcomponents:c,title:d,icon:u},i&&l.map((t=>{const{name:a}=t;const s=e.tabs.filter((e=>e.group==a));return r().createElement(x,{key:a,_createBEM:n,group:t,tabs:s,_subcomponents:c})})),!i&&(0,I.ifFeature)("encore",(0,s.Z)(o.Fragment,{},void 0,this.tabs.map((e=>e.renderTab())),this.collapseTabs?(0,s.Z)(ne,{createBEM:n,overflowText:this.overflowText||"",tabs:this.tabs||[]}):null),(0,s.Z)(o.Fragment,{},void 0,this.visibleTabs.map((e=>e.renderTab())),this.collapseTabs&&(this.hasOverflowTabs||!t)&&r().createElement("div",{className:n("tab","overflow"),ref:e=>{this.overflowTab=e}},T()))))}));(0,i.Z)(this,"_renderBody",(()=>{const{_createBEM:e,_subcomponents:t}=this;const{TabContentWrapper:a}=t;return(0,s.Z)("div",{className:e("tabContentWrapper")},void 0,r().createElement(a,{_createBEM:e,_subcomponents:t},this.tabs.map((e=>e.renderBody()))))}));(0,i.Z)(this,"_findTabFromPath",(()=>this.tabs.find((e=>e.testURL()))));(0,i.Z)(this,"_onHistoryChange",(e=>{const t=this._findTabFromPath();if(!t){return}this.setState({activeTab:t,loading:t.shouldResolveContent},this._resolveTabs)}));(0,i.Z)(this,"_onNavBtnClick",(e=>{let{target:t}=e;if(!t.matches(`\n\t\t\t[data-tab-action*=":"],\n\t\t\t[data-tab-action*=":"] *\n\t\t`)){return}const{tabAction:a=""}=t.dataset||{};const[n,s=1]=a.split(":");if(n===this.props.id){this.activeTab=s}}));(0,i.Z)(this,"_updateNavBtns",(function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const{activeTab:a,tabLength:n,isLastTab:s,isFirstTab:i}=t;se(`[data-tab-action^="${t.props.id}:"]`).each((function(){let[t,o=1]=this.dataset.tabAction.split(":");switch(o){case"next":case"last":se(this).toggleDisabled(e||s);break;case"prev":case"first":se(this).toggleDisabled(e||i);break;default:o=isNaN(o)?o:(0,u.clamp)(parseInt(o),1,n);se(this).toggleDisabled(e||[a.key,a.number].indexOf(o)>=0);break}}))}));(0,i.Z)(this,"_resolveTabs",(()=>{const{activeTab:e}=this;return e.resolveContent().then((()=>{this._onTabChange(e);this._updateNavBtns(true);this.setState({loading:false},(()=>{if(this.props.id){se((()=>{setTimeout((()=>{this._updateNavBtns()}),0)}))}if(e.load.preload==="next"&&!this.isLastTab){const{nextTab:e}=this;if(!e.hasBody||!e.hasData){e.resolveContent().then((()=>{this.setState({loaded:e.key})}))}}if(!this.state.loaded&&e.load.preload==="all"){this.tabs.reduce(((e,t)=>e.then((()=>t.resolveContent()))),Promise.resolve()).then((()=>{this.setState({loaded:true})}))}}))}))}));(0,i.Z)(this,"_onTabChange",(e=>{const t=this.props.onTabChange;if((0,u.isFunction)(t)){t.call(this,e)}document.dispatchEvent(new CustomEvent("BaTabs:change",{detail:e}))}));(0,i.Z)(this,"_createBEM",(function(){return le.get(t).elem(...arguments)}));(0,i.Z)(this,"_initCollapseTabs",(()=>{if(!this.collapseTabs||(0,I.ifFeature)("encore",true)){return}window.addEventListener("resize",(0,u.debounce)(this._recalcOverflowIndex,100));document.addEventListener("BaTabs:change",this._recalcOverflowIndex);this._recalcOverflowIndex()}));(0,i.Z)(this,"_recalcOverflowIndex",(0,u.debounce)((()=>{if(!this.collapseTabs||(0,I.ifFeature)("encore",true)){return}this.tabWrapperWidth=this._tabWrapperWidth}),0));const{tabs:a,activeTab:n,theme:l,extraClasses:c,tabGroups:d}=e;let{path:h,pathSync:p}=e;let m,f;if((0,u.isString)(h)){[m,...f]=h.split("?");m=`/${(0,u.trimStart)(m,"/")}`;f=f.join("?")||null;h={pathname:m,query:f}}if((0,u.isPlainObject)(h)){p=h.sync||p;if((0,u.isString)(p)){p=p.toLowerCase().replace(/\s+/g,"").split(/[^a-z!]+/g)}if(!Array.isArray(p)||(0,u.isEmpty)(p)){p=["all"]}h.sync={get all(){return this.load&&this.up&&this.down},get none(){return!this.load&&!this.up&&!this.down},load:!p.includes("none")&&!p.includes("!all")&&!p.includes("!load")&&p.includes("all")||p.includes("load"),up:!p.includes("none")&&!p.includes("!all")&&!p.includes("!up")&&p.includes("all")||p.includes("up"),down:!p.includes("none")&&!p.includes("!all")&&!p.includes("!down")&&p.includes("all")||p.includes("down")};ce.set(this,h)}this.tabs=a;this.groups=d;if(c){this.extraClasses=c}if(this.hasPath&&this.path.sync.down){window.addEventListener("history:load",(0,u.debounce)(this._onHistoryChange,100));window.addEventListener("history:change",(0,u.debounce)(this._onHistoryChange,100))}this.state={activeTab:n,hasInitCollapseTabs:false};this.theme=l}componentDidMount(){document.addEventListener("click",this._onNavBtnClick);if(this.hasPath&&this.path.sync.load&&this.path.sync.down){this.activeTab=this.state.activeTab||this._findTabFromPath()||this.firstTab}else{this.activeTab=this.state.activeTab||this.firstTab}this._initCollapseTabs()}componentWillUnmount(){window.removeEventListener("history:load",this._onHistoryChange);window.removeEventListener("history:change",this._onHistoryChange)}shouldComponentUpdate(e,t){return t.activeTab!==this.state.activeTab||t.overflowIndex!==this.state.overflowIndex||t.hasInitCollapseTabs!==this.state.hasInitCollapseTabs||t.loading!==this.state.loading||t.loaded!==this.state.loaded}render(){return(0,s.Z)("div",{className:this._createBEM(null)},void 0,this._renderTabs(),this._renderBody())}}},57011:(e,t,a)=>{"use strict";a.r(t);a.d(t,{NotifyCaret:()=>y,Tab:()=>b,TabCaret:()=>v,TabContent:()=>N,TabContentFooter:()=>P,TabContentFooterActions:()=>O,TabContentHeader:()=>D,TabContentHeaderActions:()=>L,TabContentWrapper:()=>R,TabGroup:()=>w,TabGroupFooter:()=>x,TabGroupHeader:()=>C,TabGroupIcon:()=>S,TabGroupLabel:()=>E,TabIcon:()=>m,TabLoadingContent:()=>B,TabPrimaryText:()=>f,TabSecondaryText:()=>g,TabWrapper:()=>T,TabWrapperFooter:()=>Z,TabWrapperFooterActions:()=>M,TabWrapperHeader:()=>k,TabWrapperHeaderActions:()=>I,TabWrapperIcon:()=>F,TabWrapperTitle:()=>A});var n=a(88604);var s=a(89835);var i=a(23321);var o=a.n(i);var r=a(73641);var l=a.n(r);var c=a(14386);var d=a(619);var u=a(56445);var h=a.n(u);var p=a(19161);function m(e){const{active:t,activeIcon:a,icon:n,className:i}=e;return n?(0,s.Z)("span",{className:i},void 0,(0,u.ifFeature)("encore",typeof n.name==="string"?(0,s.Z)(c.I,{name:t?a?.name||n.name:n.name,size:16}):n,typeof n.name==="string"?o().createElement(d.I,n):n)):null}function f(e){const{primaryText:t,className:a}=e;return t?o().createElement("span",{className:a},t):null}function g(e){const{secondaryText:t,className:a}=e;return t?o().createElement("span",{className:a},t):null}function v(e){const{caret:t,className:a}=e;if(!t){return null}if((0,r.isFunction)(t)){const s=t;return o().createElement(s,(0,n.Z)({className:a},e))}else if((0,r.isString)(t)){return o().createElement("div",{className:a,dangerouslySetInnerHTML:{__html:t}})}else if(t===true){return o().createElement("div",{className:a})}return t}function y(e){let{_createBEM:t,active:a,disabled:n,notifyText:i}=e;if(!i||!isNaN(i)&&parseFloat(i)===0){i=null}return i&&(0,s.Z)("span",{className:t("tabCaret",["notify",{active:a,disabled:n}],e)},void 0,i)}function b(e){const{_createBEM:t,_subcomponents:{TabIcon:a,TabPrimaryText:r,TabSecondaryText:l,TabCaret:c},hiddenParts:d,active:u,disabled:h}=e;return(0,s.Z)(i.Fragment,{},void 0,!d.icon&&o().createElement(a,(0,n.Z)({className:t("tabIcon",{active:u,disabled:h},e)},e)),!d.primaryText&&o().createElement(r,(0,n.Z)({className:t("tabLabel",["primary",{active:u,disabled:h}],e)},e)),!d.secondaryText&&o().createElement(l,(0,n.Z)({className:t("tabLabel",["secondary",{active:u,disabled:h}],e)},e)),!d.caret&&o().createElement(c,(0,n.Z)({className:t("tabCaret",{active:u,disabled:h},e)},e)))}function w(e){const{_createBEM:t,group:a,tabs:n,className:o}=e;if(a.TabGroup){return a.TabGroup(e)}if(n.length<1){return null}return(0,s.Z)(i.Fragment,{},void 0,n.map((e=>e.renderTab())))}function C(e){const{_createBEM:t,group:a,_subcomponents:{TabGroupIcon:l,TabGroupLabel:c}}=e;let{icon:d}=a;if(d&&!(0,r.isPlainObject)(d)){d={name:d}}return(0,s.Z)(i.Fragment,{},void 0,d&&l&&(0,s.Z)(l,{className:t("tabGroupIcon",a),icon:d}),a.label&&o().createElement(c,(0,n.Z)({},a,{className:t("tabGroupLabel",a)})))}function S(e){return o().createElement(m,e)}function E(e){const{label:t,className:a}=e;return o().createElement("span",{className:a},t)}const x=null;function T(e){let{children:t}=e;return(0,s.Z)(i.Fragment,{},void 0,t)}function k(e){const{_createBEM:t,title:a,icon:i,_subcomponents:{TabWrapperTitle:l,TabWrapperIcon:c}}=e;if(!a&&!i){return null}return(0,s.Z)("div",{className:t("tabWrapperTitleWrapper")},void 0,i&&c&&o().createElement(c,(0,n.Z)({},e,{className:t("tabWrapperIcon"),icon:(0,r.isPlainObject)(i)?i:{name:i}})),a&&l&&o().createElement(l,(0,n.Z)({},e,{className:t("tabWrapperTitle")})))}const I=null;function A(e){const{title:t,className:a}=e;return(0,s.Z)("span",{className:a},void 0,t)}function F(e){return o().createElement(m,e)}const Z=null;const M=null;const N=null;const D=null;const L=null;const P=null;const O=null;function R(e){const{children:t}=e;return t}function B(e){return(0,s.Z)(p.Z,{blockName:"BaTabs",type:"dot"})}},393:(e,t,a)=>{"use strict";var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(60042);var r=a.n(o);var l=a(619);var c=a(78144);const d=e=>{const{children:t,imageJSX:a,imageAlt:s="",imageSrc:i="",imageIcon:o="",isModalHeader:c=true,noPadding:d=false,theme:h,title:p="",subTitle:m=""}=e;const f=r()("Badge",{"Badge--modalHeader":c,"Badge--noPadding":d});const g=h?`BadgeContainer--${h}`:"";const v=r()("BadgeContainer",g,{"BadgeContainer--modalHeader":c});let y=null;if(i&&typeof i==="string"){y=(0,n.Z)("img",{alt:s,className:"BadgeImage__image",src:u(i)})}else if(a){y=(0,n.Z)("div",{},void 0,a)}else if(o&&typeof o==="string"){y=(0,n.Z)(l.I,{name:o})}return(0,n.Z)("div",{className:v},void 0,(0,n.Z)("div",{className:f},void 0,y&&(0,n.Z)("div",{className:"BadgeImage"},void 0,y),(0,n.Z)("div",{className:"BadgeText"},void 0,p&&(0,n.Z)("div",{className:"BadgeText__title"},void 0,u(p)),m&&(0,n.Z)("div",{className:"BadgeText__subTitle"},void 0,u(m)),t)))};function u(e){return(0,c.Jk)(e)}t["Z"]=d},14943:(e,t,a)=>{"use strict";a.d(t,{V:()=>h});var n=a(89835);var s=a(23321);var i=a(619);var o=a(1765);function r(e){const{classes:t="",fabricColorName:a="",iconName:s=""}=e;const r=o.colors[a]||o.colors.gray10;const l={fill:r};return(0,n.Z)("span",{className:t,style:l},void 0,(0,n.Z)(i.I,{name:s}))}var l=a(56445);var c=a(56921);var d=a(26242);var u=a(14386);function h(e){const{jobTitle:t="",location:a=""}=e;const s=(0,n.Z)("div",{className:"BadgeText__subTitle"},void 0,(0,l.ifFeature)("encore",(0,n.Z)(c.F,{display:"flex",alignItems:"center"},void 0,(0,n.Z)(d.L,{marginRight:"8px"},void 0,(0,n.Z)(u.I,{name:"location-dot-solid",color:"neutral-extra-strong",size:12})),(0,n.Z)("span",{className:"EmploymentSubtitles__subTitleText"},void 0,a)),(0,n.Z)("div",{},void 0,(0,n.Z)(r,{classes:"EmploymentSubtitles__subTitleIcon",fabricColorName:"gray7",iconName:"fab-location-11x14"}),(0,n.Z)("span",{className:"EmploymentSubtitles__subTitleText"},void 0,a))));const i=(0,n.Z)("div",{className:"BadgeText__subTitle"},void 0,(0,l.ifFeature)("encore",(0,n.Z)(c.F,{marginRight:"8px",alignItems:"center"},void 0,(0,n.Z)(d.L,{marginRight:"8px"},void 0,(0,n.Z)(u.I,{name:"wrench-solid",color:"neutral-extra-strong",size:12})),(0,n.Z)("span",{className:"EmploymentSubtitles__subTitleText"},void 0,t)),(0,n.Z)("div",{},void 0,(0,n.Z)(r,{classes:"EmploymentSubtitles__subTitleIcon",fabricColorName:"gray7",iconName:"fab-employees-14x12"}),(0,n.Z)("span",{className:"EmploymentSubtitles__subTitleText"},void 0,t))));return(0,n.Z)("div",{},void 0,t!==""&&i,a!==""&&s)}},9932:(e,t,a)=>{"use strict";var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(619);var r=a(60042);var l=a.n(r);var $=a(26570);const c=e=>{const{className:t,button:a,icon:s="fab-sasquatch-153x192",subtitle:i,title:r=$.__(`There's nothing to see here...`)}=e;return(0,n.Z)("div",{className:l()("ba-BlankState",t)},void 0,(0,n.Z)("div",{className:"ba-BlankState__icon"},void 0,(0,n.Z)(o.I,{name:s})),(0,n.Z)("h3",{className:"ba-BlankState__title"},void 0,r),i&&(0,n.Z)("p",{className:"ba-BlankState__subtitle"},void 0,i),a?(0,n.Z)("div",{className:"ba-BlankState__button"},void 0,a):null)};t["Z"]=c},26136:(e,t,a)=>{"use strict";a.d(t,{Z:()=>y});var n=a(88604);var s=a(89835);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(73641);var c=a.n(l);var d=a(60042);var u=a.n(d);var h=a(21198);var p=a.n(h);var m=a(54706);var f=a(78144);var g=a(56445);var v=a.n(g);var $=a(26570);class y extends o.Component{constructor(){super(...arguments);(0,i.Z)(this,"_handleFocus",(()=>{const{onFocus:e}=this.props;if((0,l.isFunction)(e)){e()}}));(0,i.Z)(this,"_ref",(0,o.createRef)())}static get className(){return"CalendarPicker"}_isRange(){const{type:e=""}=this.props;return(0,l.endsWith)(e,"-range")}_getApi(e){const t="[calendar-picker]";const a=e.querySelector(t)||e.closest(t);return a.__calendarPicker}_getRangePlaceholder(e){const{placeholder:t={},label:a={}}=e;return{end:a.end?"":$.__("End"),start:a.start?"":$.__("Start"),...t}}_getUniqueName(e){return e||(0,l.uniqueId)("calendarPicker")}_triggerChange(e){const{onChange:t}=this.props;if((0,l.isFunction)(t)){t(e)}}_triggerComplete(e,t){const{onComplete:a}=this.props;if((0,l.isFunction)(a)){a(e,t)}}_triggerIncomplete(e){const{onIncomplete:t}=this.props;if((0,l.isFunction)(t)){t(e)}}_renderLabel(e,t){const{required:a}=this.props;return(0,s.Z)("label",{className:(0,h.classNameFromObject)({"fab-Label":true,"fab-Label--required":a}),htmlFor:e},void 0,t)}_renderRange(e,t){const a=this._getRangePlaceholder(t);let i,o;let l,c;const{id:d,name:u,noFacade:h,required:p,type:m}=this.props;if(typeof u==="object"){o=u.start;i=u.end}else{const e=this._getUniqueName(u);o=`${e}Start`;i=`${e}End`}if(typeof d==="object"){c=d.start;l=d.end}const f={};if(p){f.required=true}if(h){f["no-facade"]=""}return r().createElement("div",(0,n.Z)({},f,{"calendar-picker":m,"calendar-picker-options":JSON.stringify(t),className:`${e.range} CalendarPicker__rangeRow`,"data-no-jquery-aria-required":true}),(0,s.Z)("div",{className:"CalendarPicker__rangeColumn"},void 0,!!t.label&&!!t.label.start&&this._renderLabel(o,t.label.start),(0,s.Z)("div",{className:"fab-InputWrapper"},void 0,(0,s.Z)("input",{className:`${e.rangeStart} fab-TextInput CalendarPicker CalendarPicker__input`,disabled:!!t.disabled,id:c,name:o,onFocus:this._handleFocus,placeholder:a.start,"range-start":"",required:p,type:"text"}))),(0,s.Z)("div",{className:"CalendarPicker__rangeColumn"},void 0,!!t.label&&!!t.label.end&&this._renderLabel(i,t.label.end),(0,s.Z)("div",{className:"fab-InputWrapper"},void 0,(0,g.ifFeature)("encore",r().createElement(r().Fragment,null,(0,s.Z)("div",{className:"CalendarPicker__rangeSeparator"},void 0,""),(0,s.Z)("input",{className:`${e.rangeEnd} fab-TextInput CalendarPicker CalendarPicker__input`,disabled:!!t.disabled,id:l,name:i,onFocus:this._handleFocus,placeholder:a.end,"range-end":"",required:p,type:"text"})),r().createElement(r().Fragment,null,(0,s.Z)("div",{className:"CalendarPicker__rangeSeparator"},void 0,""),(0,s.Z)("input",{className:`${e.rangeEnd} fab-TextInput CalendarPicker CalendarPicker__input`,disabled:!!t.disabled,id:l,name:i,onFocus:this._handleFocus,placeholder:a.end,"range-end":"",required:p,type:"text"}))))))}_renderSingle(e,t){const{id:a,name:s,noFacade:i,required:o,type:l,unsafeProps:c={},biId:d}=this.props;const u=this._getUniqueName(s);const{placeholder:h=""}=t;const p={};if(o){p.required=true}if(h){t.placeholder=(0,f.b0)(h);p["data-placeholder-trigger"]="focus"}if(i){p["no-facade"]=""}const m=`${e.single} fab-TextInput CalendarPicker CalendarPicker__input`;if(c.className){c.className=`${m} ${c.className}`}return r().createElement("input",(0,n.Z)({},p,{"aria-required":o,"data-bi-id":d,"data-no-jquery-aria-required":true,"calendar-picker":l,"calendar-picker-options":JSON.stringify(t),className:m,disabled:!!t.disabled,id:a,name:u,onFocus:this._handleFocus,placeholder:h,required:o,type:"text"},c))}componentDidMount(){const e=$(this._ref.current);const t=e.find("[calendar-picker]");(0,m.R)(t);$(e).on("inputmask:complete",'input[type="text"]',(e=>{const t=this._getApi(e.currentTarget);if(t){const a=t.getValue();const n=e.currentTarget.value;this._triggerChange(a);this._triggerComplete(n,a)}})).on("inputmask:incomplete",'input[type="text"]',(e=>{const t=this._getApi(e.currentTarget);if(t){const t=e.currentTarget.value;this._triggerIncomplete(t)}})).on("calendarPicker:rangeSet",((e,t)=>this._triggerChange(t)))}componentDidUpdate(e){const{disabled:t,settings:a}=this.props;const n=this._ref.current;const s=this._getApi(n);if(!(0,l.isEqual)(a,e.settings)||t!==e.disabled){s.setOptions({disabled:t,...a})}}componentWillUnmount(){const e=this._ref.current;const t=this._getApi(e);t._hidePopoverImmediately()}render(){const{cssClasses:e,disabled:t,name:a,settings:n,type:i}=this.props;const c={...n||{},disabled:t};const d=(0,l.defaultsDeep)({},y.defaultProps,e);const h=this._getUniqueName(a);let p=null;if(!(0,l.endsWith)(i,"-range")){p=!!n.label&&this._renderLabel(h,n.label)}return(0,s.Z)(o.Fragment,{},void 0,p,(0,g.ifFeature)("encore",r().createElement("div",{className:"fab-InputWrapper",ref:this._ref},(0,l.endsWith)(i,"-range")?this._renderRange(d,c):this._renderSingle(d,c)),r().createElement("div",{className:d&&u()({[d.component]:d?.component,"fab-InputWrapper":!(0,l.endsWith)(i,"-range"),"fab-FormSection":(0,l.endsWith)(i,"-range"),"fab-FormSection--noBorder":(0,l.endsWith)(i,"-range")}),ref:this._ref},(0,l.endsWith)(i,"-range")?this._renderRange(d,c):this._renderSingle(d,c))))}}(0,i.Z)(y,"defaultProps",{cssClasses:{component:"",range:"",rangeEnd:"ReportPageFilter__input",rangeStart:"ReportPageFilter__input",single:""},disabled:false,noFacade:false,settings:{},type:"date-range",unsafeProps:{}})},61327:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var n=a(44119);var s=a(23321);var i=a.n(s);var o=a(73641);var r=a(13686);var l=a(65843);class c extends s.Component{constructor(){super(...arguments);(0,n.Z)(this,"_element",(0,s.createRef)())}static get className(){return"AreaChartComponent"}_setupListeners(){const{onMouseOver:e}=this.props;if(typeof e==="function"){this._element.current.addEventListener(l.wQ,(t=>{e(t)}))}}componentDidMount(){const{data:e,settings:t}=this.props;this._settings=t;this._areaChart=new r.TH(this._element.current,t);this._areaChart.draw(e);this._setupListeners()}shouldComponentUpdate(e){const{data:t}=this.props;return!(0,o.isEqual)(t,e.data)}componentDidUpdate(){const{data:e}=this.props;this._areaChart.draw(e)}render(){return i().createElement("div",{ref:this._element})}}var d=c},53364:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var n=a(44119);var s=a(23321);var i=a.n(s);var o=a(73641);var r=a.n(o);var l=a(13686);class c extends s.Component{constructor(){super(...arguments);(0,n.Z)(this,"_onSliceEnter",(e=>{this.props.onSliceEnter(e.detail)}));(0,n.Z)(this,"_onSliceLeave",(e=>{this.props.onSliceLeave(e.detail)}))}static get className(){return"Donut"}componentDidMount(){const{data:e,settings:t}=this.props;this._donutChart=new l.YE(this._element,t);this._donutChart.draw(e);if(typeof this.props.onSliceEnter==="function"){this._element.addEventListener("ba:donutSliceEnter",this._onSliceEnter)}if(typeof this.props.onSliceLeave==="function"){this._element.addEventListener("ba:donutSliceLeave",this._onSliceLeave)}}componentWillUnmount(){if(typeof this.props.onSliceEnter==="function"){this._element.removeEventListener("ba:donutSliceEnter",this._onSliceEnter)}if(typeof this.props.onSliceLeave==="function"){this._element.removeEventListener("ba:donutSliceLeave",this._onSliceLeave)}}componentDidUpdate(){const{data:e}=this.props;this._donutChart.draw(e)}render(){return i().createElement("div",{ref:e=>this._element=e})}shouldComponentUpdate(e){return!(0,o.isEqual)(this.props.settings,e.settings)||!(0,o.isEqual)(this.props.data,e.data)}}},45048:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var n=a(44119);var s=a(23321);var i=a.n(s);var o=a(73641);var r=a.n(o);var l=a(13686);class c extends s.Component{constructor(){super(...arguments);(0,n.Z)(this,"_onSliceEnter",(e=>{this.props.onSliceEnter(e.detail)}));(0,n.Z)(this,"_onSliceLeave",(e=>{this.props.onSliceLeave(e.detail)}))}static get className(){return"DonutPercentage"}componentDidMount(){const{data:e,settings:t}=this.props;this._donutChart=new l.ub(this._element,t);this._donutChart.draw(e);if(typeof this.props.onSliceEnter==="function"){this._element.addEventListener("ba:donutSliceEnter",this._onSliceEnter)}if(typeof this.props.onSliceLeave==="function"){this._element.addEventListener("ba:donutSliceLeave",this._onSliceLeave)}}componentDidUpdate(){const{data:e}=this.props;this._donutChart.draw(e)}componentWillUnmount(){if(typeof this.props.onSliceEnter==="function"){this._element.removeEventListener("ba:donutSliceEnter",this._onSliceEnter)}if(typeof this.props.onSliceLeave==="function"){this._element.removeEventListener("ba:donutSliceLeave",this._onSliceLeave)}}render(){return i().createElement("div",{ref:e=>this._element=e})}shouldComponentUpdate(e){return!(0,o.isEqual)(this.props.settings,e.settings)||!(0,o.isEqual)(this.props.data,e.data)}}},99304:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var n=a(44119);var s=a(23321);var i=a.n(s);var o=a(73641);var r=a(13686);var l=a(65843);class c extends s.Component{static get className(){return"HorizontalBarChartComponent"}constructor(){super();(0,n.Z)(this,"_barChartElem",(0,s.createRef)());this._chart=null}_setupListeners(){const{onMouseClick:e,onMouseOver:t,onMouseLeave:a}=this.props;if(typeof e==="function"){this._barChartElem.current.addEventListener(l._D,e)}if(typeof t==="function"){this._barChartElem.current.addEventListener(l.wQ,t)}if(typeof a==="function"){this._barChartElem.current.addEventListener(l.Zl,a)}}componentDidMount(){let{data:e,settings:t}=this.props;this._chart=new r.Gm(this._barChartElem.current,t);this._chart.draw(e);this._setupListeners()}shouldComponentUpdate(e){const{data:t}=this.props;return!(0,o.isEqual)(t,e.data)}componentDidUpdate(){const{data:e}=this.props;this._chart.draw(e)}render(){return i().createElement("div",{ref:this._barChartElem})}}var d=c},9545:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var n=a(44119);var s=a(23321);var i=a.n(s);var o=a(13686);var r=a(65843);var l=a(73641);class c extends s.Component{constructor(){super(...arguments);(0,n.Z)(this,"_lineChartElem",(0,s.createRef)());(0,n.Z)(this,"_lineChart",void 0);(0,n.Z)(this,"_settings",void 0)}static get className(){return"LineChartComponent"}_setupListeners(){const{onMouseOver:e}=this.props;if(typeof e==="function"){this._lineChartElem.current.addEventListener(r.wQ,e)}}componentDidMount(){const{data:e,settings:t}=this.props;this._settings=t;this._lineChart=new o.wW(this._lineChartElem.current,t);this._lineChart.draw(e);this._setupListeners()}shouldComponentUpdate(e){const{data:t,settings:a}=this.props;return!(0,l.isEqual)(t,e.data)||!(0,l.isEqual)(a,e.settings)}componentDidUpdate(){const{data:e,settings:t}=this.props;if(!(0,l.isEqual)(this._settings,t)){this._settings=t;this._lineChart.updateSettings(t)}this._lineChart.draw(e)}render(){return i().createElement("div",{ref:this._lineChartElem})}}var d=c},76591:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(89835);var s=a(23321);var i=a.n(s);function o(e){let{percentDone:t,radius:a,width:s,height:i,displayText:o,strokeWidth:r,animate:l,stroke:c}=e;const d=100-t;const u=2*Math.PI*a+1;const h=u*(1-t/100);const p=u*(1-d/100);const m={strokeDasharray:u,strokeDashoffset:h,strokeWidth:r};const f={strokeDasharray:`${p}, 2, ${h-5}, 2`,strokeWidth:r};const g="MinimalDonut__circle--themeStrokeColor";const v=c;return(0,n.Z)("svg",{className:"MinimalDonut",height:i,width:s},void 0,(0,n.Z)("g",{transform:`translate(${s/2},${i/2})`},void 0,(0,n.Z)("circle",{className:"MinimalDonut__circle MinimalDonut__circle--percentLeft",r:a,style:f,transform:"rotate(270.1)"}),(0,n.Z)("circle",{className:`MinimalDonut__circle ${v?null:g} ${l?"MinimalDonut__circle--animate":""}`,r:a,stroke:v,style:m,transform:"rotate(270.1)"}),o&&(0,n.Z)("text",{className:"MinimalDonut__text fontSemibold MinimalDonut__circle--themeFillColor",dy:".3em",textAnchor:"middle"},void 0,o,"%")))}},69599:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var n=a(23321);var s=a.n(n);var i=a(21198);var o=a.n(i);var r=a(73641);var l=a.n(r);var c=a(13686);class d extends n.Component{static get className(){return"Slice"}componentDidMount(){const{data:e,settings:t}=this.props;this._slice=new c.BL(this._element,t);this._slice.draw(e)}componentDidUpdate(){const{data:e,settings:t}=this.props;(0,i.empty)(this._element);this._slice.draw(e)}shouldComponentUpdate(e){return!(0,r.isEqual)(this.props.data,e.data)}render(){return s().createElement("div",{ref:e=>this._element=e})}}},41768:(e,t,a)=>{"use strict";a.d(t,{U:()=>f});var n=a(23321);var s=a.n(n);var i=a(89835);const o=e=>{if(e.openKeys&&e.handlePanelChange){return true}return false};const r=e=>{if(o(e)){return e}return null};var l=a(95084);var c=a(98137);var d=a(60042);var u=a.n(d);var h=a(56445);var p=a(14386);const m=e=>{const t=(0,n.useRef)(null);const a=r(e);if(!a){throw new Error("Panel must appear as child of Collapse component.")}const{panelKey:s,openKeys:o,classes:d={},handlePanelChange:m,icon:f,title:g,children:v,endElement:y,disabled:b,onClose:w,onOpen:C}=a;const S=(0,c.Z)();const E=o.includes(s);(0,n.useEffect)((()=>{if(!t.current){if(E&&C&&!b){C(s)}t.current=true}else if(t.current&&E&&C&&!b){C(s)}else if(t.current&&!E&&w&&!b){w(s)}}),[E,s]);const x=e=>{if(e.key==="Enter"&&!b){m(s)}};return(0,i.Z)("div",{className:u()(S.root,d.root,{[d.rootOpen]:E})},void 0,(0,i.Z)("div",{className:u()(S.header,d.header,{[d.headerOpen]:E,[d.headerDisabled]:b}),onClick:b?()=>null:()=>m(s),onKeyDown:x,role:"button",tabIndex:0},void 0,(0,i.Z)("span",{className:u()(S.icon,d.icon,{[S.iconOpen]:E&&!b,[d.iconOpen]:E})},void 0,f?f:(0,h.ifFeature)("encore",(0,i.Z)(p.I,{name:"caret-right-solid",size:10}),(0,i.Z)(l.Z,{}))),(0,i.Z)("p",{className:u()(d.headerText,{[d.headerTextOpen]:E,[d.headerTextDisabled]:b})},void 0,g),y?y:null),E?(0,i.Z)("div",{className:u()(d.content,{[S.closed]:!E,[d.contentOpen]:E})},void 0,v):null)};const f=e=>{const{children:t,accordian:a}=e;const[i,o]=(0,n.useState)([]);const r=e=>{if(a){if(i.includes(e)){o([])}else{o([e])}}else{const t=i.findIndex((t=>t===e));if(t===-1){o((t=>[...t,e]))}else{o((e=>{const a=[...e];a.splice(t,1);return a}))}}};return s().createElement(s().Fragment,null,n.Children.map(t,(e=>{if((0,n.isValidElement)(e)){return(0,n.cloneElement)(e,{openKeys:i,handlePanelChange:r})}return e})))};f.Panel=m},81993:(e,t,a)=>{"use strict";a.d(t,{Z:()=>P});var n=a(44119);var s=a(16400);var i=a(54752);var o=a(38592);var r=a(73641);var l=a.n(r);var c=a(4905);var d=a.n(c);var u=a(18047);var h=a.n(u);var p=a(56445);var m=a.n(p);var $=a(26570);var f,g,v,y,b,w,C,S,E,x,T,k,I;const A=new WeakMap,F=new WeakMap,Z=new WeakMap;let M;function N(e,t,a,n){const s=n.settings.aoColumns[n.col];if(s.type===undefined||s.type==="escape"){e=(0,o.htmlentities)(e)}if(s.type==="ba-html"){e=e.html}if(s.data==="employeeName"){return`<span class="js-employeeName" data-employeeId="${a.employeeId}">${e}</span>`}return e}function D(e,t,a,n){const s=n.settings.aoColumns[n.col];if(s.type==="ba-html"){e=e.value}return e}function L(e,t,a,n){const s=n.settings.aoColumns[n.col];e=D.call(this,e,"filter",a,n);if((0,r.isString)(s.data)&&!(0,r.isUndefined)(a[s.data+"__sort"])){return a[s.data+"__sort"]}return e}let P=(f=(0,i.on)("liszt:ready","td select"),g=(0,i.on)("DataTable:draw"),v=(0,i.on)("DataTable:activateFilters"),y=(0,i.on)("DataTable:changeFilters"),b=(0,i.on)("DataTable:applyFilters"),w=(0,i.on)("DataTable:resetFilters"),C=(0,i.on)("DataTable:showChildren"),S=(0,i.on)("DataTable:hideChildren"),E=(0,i.k5)(),x=(0,i.Um)(),T=(0,i.ZG)("tbody td :input"),k=(0,i.Y5)("tbody td :input"),I=class e{static get className(){return"DataTable"}static get className(){return"DataTable"}static get className(){return"DataTable"}onChosenReady(e,t){clearTimeout(M);M=setTimeout((function(){t.adjustColumns()}),10)}get config(){return A.get(this)}get DataTable(){return this.$container.DataTable()}constructor(e,t){var a=this;(0,n.Z)(this,"$filters",this.$elem.find(".DataTable__filters"));(0,n.Z)(this,"$filterButtons",this.$filters.find(".DataTable__filter-buttons"));(0,n.Z)(this,"$container",this.$elem.find(".DataTable__container"));this.$elem.trigger("DataTable:config",this);const s=this.$elem.data("DataTable:config")||{};var i=(0,r.defaultsDeep)({headerCallback:function(e){$("th",e).each(((e,t)=>{const n=$(t);const s=a.config.columns[e];const i=s.orderable!==false;n.addClass("fab-Table__header").toggleClass("fab-Table__header--sortable",i).removeClass("fab-Table__cell").removeAttr("style");if(i){setTimeout((()=>{const e=n.hasClass("sorting_asc");const a=n.hasClass("sorting_desc");n.removeClass("sorting sorting_asc sorting_desc");const s=$(t.querySelector(".js-DataTable__sortWrap")||n.wrapInner('<span class="js-DataTable__sortWrap" />')[0].firstChild);s.toggleClass(`fab-Table__sorted`,e||a).toggleClass(`fab-Table__sorted--asc`,e)}),0)}}));$(e).removeAttr("style");if(typeof s.headerCellCallback==="function"){Array.from(e.querySelectorAll("th")).forEach(((e,t)=>{const n=a.config.columns[t];s.headerCellCallback(e,n,a.config)}))}if(typeof s.headerCallback==="function"){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}return s.headerCallback(e,...n,a.config)}}},s,{paging:false,pagingType:"simple_numbers",pageLength:250,data:this.$elem.data("DataTable:data")||(0,o.getJsonScriptVar)("data",t),columns:this.$elem.data("DataTable:columns")||(0,o.getJsonScriptVar)("columns",t),ajax:null,scrollX:true,scrollCollapse:true,searching:true,info:false,ordering:false,orderClasses:false,autoWidth:false,dom:'tr<"DataTable__pagination"ip>',columnDefs:[],cellPlaceholder:"-",deferRender:true,infoCallback:(e,t,a,n,s,i)=>$.__(`%1$s-%2$s of %3$s`,t,a,s),language:{paginate:{previous:"&laquo; "+$.__("Prev"),next:$.__("Next")+" &raquo;"}}});var l=i.initComplete;var c=i.ajax;var d=i.rowCallback;i.columnDefs.push({targets:"_all",render:{display:N.bind(this),filter:D.bind(this),sort:L.bind(this)}});i.initComplete=()=>{Z.set(this,this.DataTable.order());if((0,r.isFunction)(l)&&l.call(this)===false){return}let e=this.$elem.find(".dataTables_scrollBody");e.on("scroll",(function(){let t=e[0].scrollLeft,n=e[0].scrollTop,s=t/(e[0].scrollWidth-e[0].clientWidth),i=n/(e[0].scrollHeight-e[0].clientHeight);a.$elem.toggleClass("DataTable--scrolled-left",t>0);a.$elem.toggleClass("DataTable--scrolled-right",s<1);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++){r[l]=arguments[l]}a.$elem.trigger("DataTable:scroll",r)}));let t=[];this.$filters.find(":input, ba-select").each((function(){let e=$(this);t.push({$elem:e,val:e.val()})}));F.set(this,t)};i.columns=i.columns.map(((e,t)=>{if((0,r.isUndefined)(e.title)&&(0,r.isString)(e.label)){e.title=e.label}if((0,r.isUndefined)(e.name)&&(0,r.isString)(e.data)){e.name=e.data}else if((0,r.isString)(e.name)&&(0,r.isUndefined)(e.data)){e.data=e.name}if((0,r.isFunction)(i.processColumn)){e=i.processColumn.call(this,e,t,i.columns)||e}e.className=(0,r.uniq)((e.className||"").split(" ").map((e=>"DataTable__cell--"+e.replace(/^DataTable__cell--/,""))).concat(["DataTable__cell fab-Table__cell"]).concat((0,r.isString)(e.name)?[`DataTable__cell--${e.name}`]:[]).concat((0,r.isString)(e.data)?[`DataTable__cell--${e.data}`]:[]).concat((0,r.isString)(e.type)?[`DataTable__cell--${e.type}`]:[]).concat((0,r.isString)(e.extraClasses)?[`DataTable__cell--${e.extraClasses}`]:[]).filter((e=>e!=="DataTable__cell--"))).join(" ");return e}));i.ajax={};if((0,r.isString)(c)){i.ajax.url=c}else if((0,r.isPlainObject)(c)){i.ajax.url=c.url}if((0,r.isString)(i.ajax.url)){i.ajax.dataSrc=e=>{if((0,r.isFunction)(c.dataSrc)){e=c.dataSrc(e)}if((0,r.isArray)(e.activeColumns)){this.DataTable.columns().every((function(){this.visible((0,r.includes)(e.activeColumns,this.dataSrc()))}));this.toggleProcessing(false)}return e.data}}else{i.ajax=null}i.rowCallback=(e,t,a)=>{$(e).addClass("fab-Table__row").removeClass("even odd").removeAttr("style");if((0,r.isFunction)(d)&&d.call(this,e,t,a)===false){return}let n=this.DataTable.row(e);let s=(t.children||[]).map((e=>{let t=$('<tr class="DataTable__row--child"/>'),a=this.config.cellPlaceholder;this.DataTable.columns().every((function(){if(this.visible()){t.append(`<td>${e[this.dataSrc()]||a}</td>`)}}));return t}));n.child(s).show()};if(!i.scrollX&&!i.scrollY){this.$elem.addClass("DataTable--noScroll")}A.set(this,i);this.$elem.data("DataTable:config",this.config);["draw","error","init","order","preInit","column-sizing","length"].forEach((e=>{this.$container.on(`${e}.dt`,(function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++){s[i-1]=arguments[i]}a.$elem.trigger(`DataTable:${e}`,s)}))}));this.$filters.on("click.DataTable:activateFilters",(function(e){if($(e.target).closest(".DataTable__filter-buttons").length<1){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++){n[s-1]=arguments[s]}a.$elem.trigger("DataTable:activateFilters",n)}})).on("change.DataTable:changeFilters",":input, ba-select",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++){n[s-1]=arguments[s]}a.$elem.trigger("DataTable:changeFilters",n)})).on("click.DataTable:applyFilters",".DataTable__apply-filters",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++){n[s-1]=arguments[s]}a.$elem.trigger("DataTable:applyFilters",n);a.draw()})).on("click.DataTable:resetFilters",".DataTable__reset-filters",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++){n[s-1]=arguments[s]}a.$elem.trigger("DataTable:resetFilters",n)})).on("EmployeeFilters:update",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++){n[s-1]=arguments[s]}a.$elem.trigger("DataTable:changeFilters",n)}));this.$elem.on("DataTable:preInit DataTable:length",(()=>{let{pages:e}=this.DataTable.page.info();this.$elem.toggleClass("DataTable--singlePage",e<=1)}));this.$container.dataTable(this.config);$(".fab-Table--zebra").removeAttr("style")}onDrawTable(e,t,a){var n=a._oFixedColumns&&a._oFixedColumns.s&&a._oFixedColumns.s.iLeftColumns>0;var s=a._oFixedColumns&&a._oFixedColumns.s&&a._oFixedColumns.s.iRightColumns>0;t.$elem.toggleClass("DataTable--hasLeftColumns",n);t.$elem.toggleClass("DataTable--hasRightColumns",s);if(!s){t.$elem.find(".DTFC_ScrollWrapper .DTFC_RightHeadBlocker").css({height:t.$elem.find((0,p.ifFeature)("encore",".DTFC_LeftHeadWrapper .DataTable__container",".dataTables_scrollHead thead")).height()-(0,p.ifFeature)("encore",0,2)});var i=t.$elem.find(".dataTables_scrollBody");if(i.length>0&&i[0].scrollHeight<=i[0].clientHeight){t.$elem.find(".DTFC_RightWrapper").css({width:0,"max-width":0})}}}onActivateFilters(e,t){t.$filters.addClass("DataTable__filters--active")}onChangeFilters(e,t){t.$filters.addClass("DataTable__filters--active")}onApplyFilters(e,t){t.toggleProcessing(true);t.$filters.find(':input[name^="DataTable:"], ba-select[name^="DataTable:"]').each(((e,a)=>{let n=$(a),s=t.getColumn(n.attr("name")),i=$.fn.dataTable.util.escapeRegex(n.val());s.search(i?`^${i}$`:"",true,false)}));t.$filters.removeClass("DataTable__filters--active")}onResetFilters(e,t){t.toggleProcessing(true);(0,r.each)(F.get(t),(e=>{e.$elem.val(e.val).trigger("liszt:updated")}));t.$filters.find(".EmployeeFilters").trigger("EmployeeFilters:clear");t.$elem.trigger("DataTable:applyFilters",t)}onShowChildren(e,t){t.disableSort();t.$elem.addClass("DataTable--show-children")}onHideChildren(e,t){t.enableSort();t.$elem.removeClass("DataTable--show-children")}windowResized(e,t){t.adjustColumns()}onReady(e,t){t.adjustColumns()}onFieldFocus(e,t){var a=$(this).closest("tr").index();t.$elem.find("tbody tr").each(((e,t)=>{$(t).toggleClass("DataTable__row--active",$(t).index()==a)}))}onFieldBlur(e,t){t.$elem.find("tbody tr").removeClass("DataTable__row--active")}getColumns(){return this.DataTable.columns()}getColumn(e){if((0,r.isString)(e)&&!(0,r.includes)(e,":")){e+=":name"}return this.DataTable.column(e)}getRowDataFromElem(e){var t=$(e).closest("tr"),a=this.DataTable.row(t);return a.data()}adjustColumns(){this.DataTable.columns.adjust();this.draw();return this}enableSort(){this.resetSort();this.$elem.removeClass("DataTable--no-sort");return this}disableSort(){let e=this.getColumns().toArray()[0].map((e=>[e,"asc"]));this.DataTable.order.fixed({pre:e,post:e});this.draw();this.$elem.addClass("DataTable--no-sort");return this}resetSort(){this.DataTable.order.fixed({});this.DataTable.order(Z.get(this));this.draw();return this}toggleProcessing(e){var t="DataTable--processing",a=this.$elem.hasClass(t),n;this.$elem.toggleClass(t,e);n=this.$elem.hasClass(t);if(n!==a){this.$elem.trigger(`DataTable:process${n?"ing":"ed"}`)}}draw(){this.DataTable.draw();return this}reloadData(e,t,a){this.DataTable.ajax.url(e||this.DataTable.ajax.url()).load(t,a);return this}order(){if(arguments.length<1){return this.DataTable.order().map((e=>this.config.columns[e[0]].name+":"+e[1]))}this.DataTable.order(...arguments)}},(0,s.Z)(I.prototype,"onChosenReady",[f],Object.getOwnPropertyDescriptor(I.prototype,"onChosenReady"),I.prototype),(0,s.Z)(I.prototype,"onDrawTable",[g],Object.getOwnPropertyDescriptor(I.prototype,"onDrawTable"),I.prototype),(0,s.Z)(I.prototype,"onActivateFilters",[v],Object.getOwnPropertyDescriptor(I.prototype,"onActivateFilters"),I.prototype),(0,s.Z)(I.prototype,"onChangeFilters",[y],Object.getOwnPropertyDescriptor(I.prototype,"onChangeFilters"),I.prototype),(0,s.Z)(I.prototype,"onApplyFilters",[b],Object.getOwnPropertyDescriptor(I.prototype,"onApplyFilters"),I.prototype),(0,s.Z)(I.prototype,"onResetFilters",[w],Object.getOwnPropertyDescriptor(I.prototype,"onResetFilters"),I.prototype),(0,s.Z)(I.prototype,"onShowChildren",[C],Object.getOwnPropertyDescriptor(I.prototype,"onShowChildren"),I.prototype),(0,s.Z)(I.prototype,"onHideChildren",[S],Object.getOwnPropertyDescriptor(I.prototype,"onHideChildren"),I.prototype),(0,s.Z)(I.prototype,"windowResized",[E],Object.getOwnPropertyDescriptor(I.prototype,"windowResized"),I.prototype),(0,s.Z)(I.prototype,"onReady",[x],Object.getOwnPropertyDescriptor(I.prototype,"onReady"),I.prototype),(0,s.Z)(I.prototype,"onFieldFocus",[T],Object.getOwnPropertyDescriptor(I.prototype,"onFieldFocus"),I.prototype),(0,s.Z)(I.prototype,"onFieldBlur",[k],Object.getOwnPropertyDescriptor(I.prototype,"onFieldBlur"),I.prototype),I)},96370:(e,t,a)=>{"use strict";a.d(t,{M:()=>i,Z:()=>o});var n=a(38592);const s=()=>!window.BambooHR.env.prod||(0,n.getParameterByName)("debugdf");const i=e=>{if(s()){window.debugDynamicForm={downloadFormData:()=>{const t=`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(e.formData))}`;const a=document.createElement("a");a.setAttribute("href",t);a.setAttribute("download",`dynamicFormData.json`);a.click();a.remove()},validationObjects:{},context:e};const t=e=>{e.stopPropagation();e.preventDefault()};const a=e=>{t(e);const a=e.dataTransfer;const{files:s}=a;n(s)};const n=async t=>{const a=t[0];const n=new FileReader(a);n.readAsText(a);n.onload=async t=>{const a=t.target.result;try{const t=await JSON.parse(a);e.setFormData(t)}catch(t){console.warn("unable to upload data",t)}}};const s=document.querySelector(".PageHeader");if(s){s.addEventListener("dragenter",t,false);s.addEventListener("dragover",t,false);s.addEventListener("drop",a,false)}}};const o=(e,t)=>{if(s()&&window.debugDynamicForm&&e?.props?.id){window.debugDynamicForm.validationObjects[e?.props?.id]=t}}},21866:(e,t,a)=>{"use strict";a.d(t,{a:()=>rs,Z:()=>ds});var n={};a.r(n);a.d(n,{FieldBox:()=>T,FieldDiv:()=>C,FieldGroup:()=>b,FieldRow:()=>v,FieldSet:()=>m,OneEmailRequiredFieldGroup:()=>L,PassportFieldSet:()=>Z,PayrollFieldSet:()=>A,TaxDocumentDeliveryFieldSet:()=>W});var s={};a.r(s);a.d(s,{CheckboxField:()=>V,CheckboxList:()=>Y,CurrencyField:()=>ne,CurrencyOvertimeRateField:()=>ie,DateField:()=>ue,Documents:()=>Ne,EmployeeAccess:()=>za.R1,EmploymentStatusNote:()=>Pe,FallbackDiv:()=>ze,Form:()=>Ke,GenderIdentity:()=>Je,GenderPronouns:()=>et,GenderSelect:()=>it,HiddenInput:()=>rt,InformationField:()=>ct,Label:()=>ut,Legend:()=>_t,Note:()=>bt,PayScheduleNote:()=>St,SelectEmploymentStatusField:()=>Ft,SelectField:()=>Bt,SelectOvertimeStatusField:()=>Ht,SelectPaidPerField:()=>jt,SelectPayGroupField:()=>qt,SelectPayRateField:()=>Ut,SelectPayScheduleField:()=>Yt,SelectPayTypeField:()=>Kt,SelectStandardCountryField:()=>_a,SensitiveTextField:()=>wa,StaticTemplate:()=>xa,TablesDirectDepositElement:()=>za.ol,TablesEmployeeTaxInformationElement:()=>za.Wy,TextField:()=>Oa,TextHoverField:()=>Ba,TextIconField:()=>ja,TextMaskedField:()=>La,TextareaField:()=>Ia});var i={};a.r(i);a.d(i,{HoverAction:()=>an,HoverBase:()=>Wa,HoverEmail:()=>Ga,HoverLink:()=>en,HoverMap:()=>Xa,PendingRequest:()=>rn});var o={};a.r(o);a.d(o,{DependentGroup:()=>On,DependentRepeatContainer:()=>Kn,EducationGroup:()=>vn,EducationRepeatContainer:()=>wn,EmergencyContactGroup:()=>Mn,EmergencyContactRepeatContainer:()=>Ln,RepeatingContainer:()=>Jn});var r=a(88604);var l=a(23321);var c=a.n(l);var d=a(89835);var u=a(26242);var h=a(55928);const p=e=>{const{props:t,children:a}=e;const{className:n=""}=t;const s="js-noSection";return c().createElement("fieldset",(0,r.Z)({},t,{className:n}),n.includes(s)?(0,d.Z)(u.L,{marginTop:"20px"},void 0,a):(0,d.Z)(u.L,{marginTop:4},void 0,(0,d.Z)(h.S,{},void 0,a)))};var m=p;var f=a(7357);const g=e=>{let{props:t,settings:a,context:n,children:s}=e;const{className:i="",id:o}=t;const{controls:{Label:l},validation:{formState:{errors:u}}}=n;const{label:h}=a;const p=i.includes("required")||i.includes("requiredWhenVisible");const m=Object.keys(u).length?(0,f.B1)(n,u,o):null;return c().createElement("div",(0,r.Z)({},t,{className:`fieldRow DynamicForm__FieldRow ${i}`}),(0,d.Z)(l,{label:h,required:p}),s,!!m&&(0,d.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,m.message))};var v=g;const y=e=>{let{props:t,children:a}=e;const{className:n=""}=t;return c().createElement("div",(0,r.Z)({},t,{className:`fieldGroup ${n}`}),a)};var b=y;const w=e=>{let{customClasses:t="",isObfuscated:a=false,type:n,children:s}=e;if(a){t+=`js-input-obfuscated FormInputObfuscated FormInputObfustcated--${n}`}return(0,d.Z)("div",{className:`fieldDiv ${t}`},void 0,s)};var C=w;var S=a(60042);var E=a.n(S);const x=e=>{let{fieldBoxClasses:t="",children:a,id:n=null,isRequired:s=null}=e;const i=s===null?t:t.replace(/(?:^|\s)required(?!\S)/,"");const o=E()("fieldBox","DynamicForm__fieldBox",{required:s},i);return(0,d.Z)("div",{className:o,id:n},void 0,a)};var T=x;const k=3;const I=e=>{const{props:t,children:a,context:n}=e;const{className:s=""}=t;const[i,o]=(0,l.useState)(false);const p=(0,f.GS)(n);const m=(0,f.rz)(n,f.Iv.employeeTaxType);const g=(0,f.Ly)(m);(0,l.useEffect)((()=>{if(p){if(g&&g!==k.toString()){o(true);return}}o(false)}),[p,g]);(0,l.useEffect)((()=>{if(i){setTimeout((()=>{(0,f.Nu)(n)}),10)}}),[i]);return c().createElement("fieldset",(0,r.Z)({},t,{className:`${s} ${i?"":"hidden"}`}),(0,d.Z)(u.L,{marginTop:4},void 0,(0,d.Z)(h.S,{},void 0,a)))};var A=I;const F=e=>{const{props:t,children:a,context:n}=e;const{setFormData:s,formData:i,validation:{trigger:o}}=n;const{className:p="",id:m}=t;const[g,v]=(0,l.useState)(false);const y=(0,l.useRef)([]);const{current:b}=y;const w={selectEmployeePassportIssuingCountry:"selectEmployeePassportIssuingCountry",textEmployeePassportNumber:"textEmployeePassportNumber",textEmployeePassportIssuedDate:"textEmployeePassportIssuedDate",textEmployeePassportExpirationDate:"textEmployeePassportExpirationDate"};(0,l.useEffect)((()=>{const e=(0,f.N2)(n,m,{selector:"key",value:"field"});y.current=Object.keys(e)}),[]);const C=b.map((e=>{const t=i[e];return t?.props?.value||(0,f.Ly)(t)||""})).join("");(0,l.useEffect)((()=>{if(C.length){v(true)}else{v(false)}}),[C]);(0,l.useEffect)((()=>{if(b.length&&n.form.isAddEmployeeForm){const e=[];const t={};b.forEach((a=>{const n=i[a];if(w[n.settings.token]){if(!n.settings.validation){n.settings.validation={}}n.settings.validation.requiredWhenVisible=g;e.push(n.props.name);t[n.props.id]=n}}));s((e=>({...e,...t})));if(!g&&e.length){setTimeout((()=>{o(e)}),10)}}}),[g]);return c().createElement("fieldset",(0,r.Z)({},t,{className:p}),(0,d.Z)(u.L,{marginTop:4},void 0,(0,d.Z)(h.S,{},void 0,a)))};var Z=F;var M=a(38592);var $=a(26570);const N="oneEmailRequiredGroup";const D=e=>{let{props:t,children:a,context:n}=e;const{className:s=""}=t;const{validation:{register:i,setValue:o,formState:{errors:u},getValues:h,clearErrors:p},controls:{Label:m}}=n;const g=(0,f.rz)(n,f.CU.employeeAccess);const v=(0,f.ID)(n,{selector:"props.className",value:"oneEmailRequired"});const y=Object.keys(v);const b=g?.props?.value==="enabled"||(0,M.hasTrax)();const w=y.length==2;const C=y.some((e=>v[e]?.settings?.validation?.requiredWhenVisible));const S=y.map((e=>v[e]?.props?.value||"")).join("");const x=(0,f.wx)(u,N);const T=b&&w&&!C;i(N,{required:T});(0,l.useEffect)((()=>{o(N,"")}),[]);(0,l.useEffect)((()=>{if(!T&&x){p(N)}}),[T]);(0,l.useEffect)((()=>{if(h(N)!==S){o(N,S,{shouldValidate:true})}}),[S]);const k=E()("fieldGroup",s,{"DynamicForm__OneEmailRequired--error":x,"DynamicForm__OneEmailRequired--required":T});return c().createElement("div",(0,r.Z)({},t,{className:k}),T&&(0,d.Z)(m,{error:x,label:$.__("Email"),required:T},void 0,(0,d.Z)("span",{},void 0,"",$.__("(One Email Required)"))),(0,d.Z)("div",{className:"DynamicForm__OneEmailRequired__wrapper"},void 0,a))};var L=D;var P=a(26570);const O=()=>(0,d.Z)("div",{className:"FormInputObfuscateWrapper FormInputObfuscateWrapper--insideFieldset"},void 0,(0,d.Z)("ba-icon",{className:"FormInputObfuscateIcon",name:"lock-8x11"}),P.__(`You don't have access to view the information in this section.`));var R=O;var B=a(81709);var H=a(26570);const j=()=>(0,d.Z)(B.R,{ariaLabel:H.__("Tax Document Delivery"),items:[{id:"paperless",label:H.__(`Paperless - I prefer to download and print my year end tax documents (W2 or 1099) by logging into BambooHR.`),value:"false"},{id:"paper",label:H.__(`Paper - I'd like to have a paper copy of my year end tax documents (W2 or 1099) mailed to my home address.`),value:"true"}],name:"paperTaxDocuments",onChange:()=>1,value:"false"});var z=j;const q=e=>{const{props:t,children:a,settings:n}=e;const{className:s=""}=t;return c().createElement("fieldset",(0,r.Z)({},t,{className:`fab-FormSection ${s}`}),a,n.isObfuscated===true&&(0,d.Z)(R,{}),n.isObfuscated!==true&&(0,d.Z)(z,{}))};var W=q;const U=e=>{const{props:t,settings:a,context:n}=e;const{id:s,className:i,"data-checkbox_id":o,name:u,checked:h}=t;const{label:p,fieldBoxClasses:m,withContainer:g=false,inCheckboxGroup:v,labelProps:y={}}=a;const{controls:{Label:b,FieldBox:w,FieldDiv:C,PendingRequest:S},validation:{setValue:x,getValues:T,register:k,formState:{errors:I}}}=n;const A=(0,f.C3)(u);const F=(0,f.wx)(I,A);k(A,{...(0,f.Lt)(n,e)});(0,l.useEffect)((()=>{x(A,h)}),[]);const Z=e=>{let t=T(o)||"";t=t.replace(u,"");if(e){t+=u}x(o,t,{shouldValidate:true,shouldDirty:true})};const M=e=>{(0,f.Dn)("checkbox",s,e.target.checked,n);if(v&&o){Z(e.target.checked)}x(A,e.target.checked)};const N=E()(i,"fab-Checkbox__input",{"fab-Checkbox__input--error":F});const D=E()("fab-Checkbox__label",{"fab-Checkbox__label--error":F});const L=(0,d.Z)("div",{className:"fab-Checkbox js-formField DynamicForm__Checkbox"},void 0,(0,d.Z)(S,{context:n,props:t,settings:a}),c().createElement("input",(0,r.Z)({type:"checkbox"},t,{className:N,onChange:M})),(0,d.Z)(b,{inputId:s,label:p,labelClasses:D,labelProps:y}));const P=(0,d.Z)(w,{fieldBoxClasses:m},void 0,(0,d.Z)(C,{},void 0,L));const O=()=>{if(g){return P}if(v){return L}return(0,d.Z)(w,{fieldBoxClasses:m},void 0,L)};return O()};var V=U;const G=e=>{const{settings:t,context:a,children:n,props:s}=e;const{id:i,name:o}=s;const{label:r,fieldBoxClasses:c}=t;const{controls:{Legend:u,FieldBox:h},validation:{register:p,setValue:m}}=a;const g=`checkbox_${o}`;(0,l.useEffect)((()=>{m(g,"")}),[]);const v=(0,f.q9)(a,e);const y=n.findIndex((e=>e?.props?.props?.checked===true))===-1;p(g,{required:v&&y});const b=E()("fab-CheckboxGroup__legend",{"fab-CheckboxGroup__legend--required":v,"fab-CheckboxGroup__legend--error":v&&y});const w={className:b,id:`${i}-checkbox-legend`};return(0,d.Z)(h,{fieldBoxClasses:c,id:i},void 0,(0,d.Z)("fieldset",{className:"fab-CheckboxGroup"},void 0,r&&(0,d.Z)(u,{context:a,props:w,settings:{label:r}}),n))};var Y=G;var K=a(60901);var X=a(66389);var J=a(17842);var Q=a.n(J);const ee=(e,t)=>{const a=(0,l.useRef)(true);(0,l.useEffect)((()=>{let t=()=>{};if(a.current){a.current=false}else{t=e()}if(t&&typeof t==="function"){return t}}),t)};var te=a(26570);const ae=e=>{const{props:t,settings:a,context:n}=e;const{controls:{TextField:s,PendingRequest:i},validation:{formState:{errors:o},register:r,setValue:u,trigger:h}}=n;const{disabled:p,readOnly:m,name:g,id:v,value:y,className:b}=t;const{currency:w}=a;const C=!!p;const[S,x]=(0,l.useState)([]);const[T,k]=(0,l.useState)(w);const[I,A]=(0,l.useState)(y);const F=(0,f.C3)(g);const Z=(0,f.wx)(o,F);r(F,{...(0,f.Lt)(n,e),required:(0,f.q9)(n,e)});const M=(0,f.GS)(n);(0,l.useEffect)((()=>{u(F,y);N()}),[M]);ee((()=>{if(w.code!==T.code){(0,f.Dn)("currency-object",v,T,n);setTimeout((()=>{h(F)}),1)}}),[T]);ee((()=>{(0,f.Dn)("text",v,I.toString(),n)}),[I]);const N=()=>{let e=null;let t=null;if(M&&(b.includes(f.Iv.overtimeRate)||b.includes(f.Iv.payRate))){e=(0,f.U7)();t=(0,f.bw)(n)}Q().get("/ajax/get_currency",{field:v,employeeId:e,payScheduleId:t}).then((e=>{if(e.data&&e.data.data&&Array.isArray(e.data.data)){const t=e.data.data;x(t);if((0,f.Wc)()&&t.length===1){k(t[0])}}})).catch((()=>{window.setMessage(te.__("There was a problem getting the currency list"),"error")}));x([{text:te.__("Loading..."),code:"TMP",key:"tempLoading",isDisabled:true}])};const D=e=>{let{amount:t,currencyCode:a}=e;A(t);const n=S.find((e=>e.code===a));if(n){k({...n,symbolPosition:n.symbolPosition})}u(F,t,{shouldDirty:true,shouldValidate:true})};const L={...t,className:E()(b,{"fab-TextInput--error":Z,"fab-TextInput--disabled":p||m}),...(p||m)&&{readonly:String(p||m)},value:I};const P=c().createElement(c().Fragment,null,(0,d.Z)(K.a,{currencyCode:T.code,decimalCharacter:window.GLOBAL_DECIMAL_CHAR||".",getCurrencyItems:()=>Promise.resolve(S),thousandsSeparator:window.GLOBAL_THOUSANDS_SEPARATOR||","},void 0,(0,d.Z)(X.C,{id:L.id,name:g,onChange:e=>D({amount:e.amount,currencyCode:e.currencyCode}),value:{amount:I.toString(),currencyCode:T.code},size:"medium",submitUnmaskedValue:false,width:6,disabled:p||m}),g&&(0,d.Z)("input",{className:"currencyType js-currency-picker-type",name:g.replace("[0]","[1]"),type:"hidden",value:T.code})));return(0,d.Z)(s,{context:n,input:(0,d.Z)("div",{className:`CurrencyPicker ${C?"CurrencyPicker--pending":""}`},void 0,(0,d.Z)("div",{className:"fab-InputWrapper"},void 0,(0,d.Z)(i,{context:n,props:t,settings:a}),P)),props:t,settings:a})};var ne=ae;const se=e=>{const{props:t,settings:a,context:n}=e;const{controls:{CurrencyField:s}}=n;const{[f.Iv.overtimeRate]:{note:i,show:o}}=(0,f.zW)(n);return o&&(0,d.Z)(s,{context:n,props:t,settings:{...a,note:{text:i,type:"base"}}})};var ie=se;var oe=a(54544);var re=a(34914);var le=a(86629);var ce=a(26570);const de=e=>{const{props:t,settings:a,context:n}=e;const{controls:{TextField:s,PendingRequest:i},validation:{formState:{errors:o},register:r,setValue:u}}=n;const{value:h,className:p,...m}=t;const{name:g,disabled:v}=m;const y=/\d\d\d\d-\d\d-\d\d/g;const b=h?h.toString():"";const w=h&&!h.toString().match(y)?(0,re.formatISO)((0,re.parse)(h.toString(),window.dateFnsDefaultFormat,new Date),{representation:"date"}):b;const[C,S]=(0,l.useState)(w);const E=(0,f.q9)(n,e);const x=(0,f.C3)(g);const T=(0,f.wx)(o,x);r(x,{...(0,f.Lt)(n,e),required:E});(0,l.useEffect)((()=>{u(x,w)}),[]);ee((()=>{const e=C?C:"";(0,f.Dn)("text",t.id,e.toString(),n);u(x,e,{shouldDirty:true,shouldValidate:true})}),[C]);const k=e=>{if(!(0,re.isValid)(new Date(e))){a.note=null;return}const t=(0,re.differenceInYears)(new Date,new Date(e));a.note={text:ce.__("Age: %1",t),type:"base"}};const I=e=>{const{value:t}=e;S(t);if(a.token==="textEmployeeBirthDate"){k(t)}};const A=new Date(`${C}T00:00:00`);(0,le.Q)(`en-US`);const F=(0,re.isValid)(A)?(0,re.format)(A,window.dateFnsDefaultFormat):"";(0,le.Q)(document.documentElement.lang||"en-US");return c().createElement(c().Fragment,null,(0,d.Z)(s,{context:n,input:(0,d.Z)("div",{className:"dateFieldWrapper"},void 0,(0,d.Z)(i,{context:n,props:t,settings:a}),(0,d.Z)(oe.D,{disabled:!!v,id:t.id,onChange:I,required:E,status:T?"error":undefined,value:C}),(0,d.Z)("input",{name:g,type:"hidden",value:F})),props:t,settings:a}))};var ue=de;function he(e){return Q().get(`/employees/files/covid_documents/${e}`)}function pe(e,t){const a=new FormData;a.append("attachId[]",e);a.append("action","upload");a.append("employeeId",t);a.append("covidDocumentUpload","true");a.append("share","true");return Q().post(`/ajax/employees/files/edit_file.php`,a)}function me(e){return Q().post("/employees/files/delete_files",{action:"delete",fileIds:[e]})}var fe=a(25112);var ge=a(3015);var ve=a(39030);const _e=(0,ve.m)((e=>{let{palette:t}=e;return(0,ve.c)({header:{color:t.grey[800],marginBottom:"5px"}})}));var ye=a(58352);var be=a(86930);var we=a(72956);var Ce=a(88721);var Se=a(68468);var Ee=a(82543);var xe=a.n(Ee);var Te=a(26570);const ke=(0,ve.m)((e=>{let{palette:t}=e;return(0,ve.c)({trash:{fill:t.error.main},file:{marginTop:"10px",padding:"25px 0px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},fileName:{marginBottom:"0"}})}));const Ie=e=>{const{file:t,isOpen:a,handleClose:n,handleConfirm:s}=e;const i=ke();const o=xe()(t.created).format(xe().defaultFormat);return(0,d.Z)(we.S,{isOpen:a,onRequestClose:n},void 0,(0,d.Z)(we.S.Body,{renderFooter:(0,d.Z)(we.S.Footer,{actions:[(0,d.Z)(Ce.B,{onClick:s,type:"button"},"primary",Te.__("Delete File")),(0,d.Z)(Ce.B,{color:"secondary",onClick:n,type:"button"},"secondary",Te.__("Keep File"))]}),renderHeader:(0,d.Z)(we.S.Header,{hasCloseButton:true,title:Te.__("Just Checking...")})},void 0,(0,d.Z)(we.S.Constraint,{spacingOverrides:{bottom:we.S.Constraint.Spacing.MEDIUM,top:we.S.Constraint.Spacing.MEDIUM}},void 0,(0,d.Z)(we.S.HeroHeadline,{icon:"trash-can-regular",iconColor:"error-strong",text:Te.__("Are you sure you want to delete this file?")}),(0,d.Z)(Se.R,{className:i.file},void 0,(0,d.Z)(ye.F,{filename:t.name,size:"large"}),(0,d.Z)(fe.T,{className:i.fileName,variant:"h4"},void 0,t.name),(0,d.Z)(fe.T,{variant:"small"},void 0,"Created ",o," by ",t.created_user," (",(0,M.humanFileSize)(t.size),")")))))};const Ae=(0,ve.m)((e=>{let{palette:t}=e;return(0,ve.c)({wrapper:{display:"flex",alignItems:"center",marginBottom:"10px"},file:{display:"flex",alignItems:"center","&:hover $name":{cursor:"pointer",color:t.action.active}},name:{margin:"0px 8px",color:t.grey[800]}})}));const Fe=e=>{const{file:t,onDelete:a,canEdit:n}=e;const s=Ae();const[i,o]=(0,l.useState)(false);const r=()=>{o(true)};const c=()=>{o(false)};const u=()=>{a(t);c()};const h=()=>{window.previewFile(String(t.most_recent_employee_file_data_id),t.id,t.name,true,null,false,t.mode,false,false)};return(0,d.Z)("div",{},void 0,(0,d.Z)("div",{className:s.wrapper},void 0,(0,d.Z)("div",{className:s.file,onClick:h},void 0,(0,d.Z)(ye.F,{filename:t.name}),(0,d.Z)(fe.T,{className:s.name},void 0,t.name)),n&&(0,d.Z)(be.I,{icon:"circle-xmark-solid",noBoundingBox:true,onClick:r,type:"button"})),(0,d.Z)(Ie,{file:t,handleClose:c,handleConfirm:u,isOpen:i}))};var Ze=a(26570);const Me=e=>{let{props:t,settings:a,context:n}=e;const{accessLevel:s}=t;const{type:i}=a;const o=s.includes("view");const r=s.includes("edit");const[c,u]=(0,l.useState)([]);const[h,p]=(0,l.useState)(false);const[m,f]=(0,l.useState)(false);const g=_e();function v(e){me(e.id).then((function(e){let{data:t={}}=e;f(false);if(t.success){setMessage(t.success_message,"success")}else{setMessage(t.error,"error")}}))}function y(e){const t=window.Employee.id;let a;switch(i){case"upload_covid_documents":a=pe(e.id,t);break;default:a=null;break}if(a!==null){a.then((function(e){let{data:t={}}=e;if(t.success){setMessage(t.success_message,"success")}else{setMessage(t.error,"error")}}))}}function b(){he(window.Employee.id).then((function(e){if(e.data&&Array.isArray(e.data)){u(e.data);p(false);f(true)}}))}(0,l.useEffect)((function(){if(!m&&!h){p(true);b()}}),[m,h,r]);return(0,d.Z)("div",{},void 0,o&&(0,d.Z)("div",{},void 0,(0,d.Z)("div",{},void 0,(0,d.Z)(fe.T,{className:g.header,variant:"small"},void 0,Ze.__(`Attached File(s)`))),c.length>0&&c.map((e=>(0,d.Z)(Fe,{canEdit:r&&!h,file:e,onDelete:v},e.id))),r&&(0,d.Z)(ge.F,{canSelectMultiple:true,isDisabled:h,onRemove:v,onUpload:y})))};var Ne=Me;var De=a(26570);const Le=e=>{let{type:t}=e;const a=t==="updatedTaxType"?De.__("We updated the Employee Tax Type to a value that matches the Employment Status."):De.__("Based on the Employment Status, the Employee Tax Type may need to be updated.");return(0,d.Z)("div",{className:"TaxTypeWarningTextWrapper DynamicForm--EmploymentStatusNote"},void 0,(0,d.Z)("div",{className:"TaxTypeWarningText"},void 0,(0,d.Z)("div",{className:"TaxTypeWarningText__text"},void 0,a),(0,d.Z)("div",{className:"TaxTypeWarningText__doubleCheck"},void 0,De.__("Double-check and make sure it looks right."))))};var Pe=Le;var Oe=a(40724);var Re=a(1513);function Be(e){return(0,d.Z)("div",{className:"Quickform",dangerouslySetInnerHTML:{__html:e}})}function $e(e,t){return(0,d.Z)("div",{},void 0,(0,d.Z)(Oe.x5,{customClassNamePrefix:e.tableType,employee:window.Employee,openHistoryModal:Re.jN,route:"/employees/widget-history-table",tableComponentJson:{...e,isQuickBooksOnlinePayrollEnabled:t}}))}function He(e,t){const a={tableDirectReports:"direct reports"};return!e.componentJson||a[t.token]}const je=e=>{let{type:t,children:a,props:n,settings:s,isQuickBooksOnlinePayrollEnabled:i=false}=e;const{"aria-label":o="",id:r=""}=n||{};const c=window.BambooHR.env.dev;const{componentHtml:u,componentJson:h}=n;(0,l.useEffect)((()=>{if(!u&&!t.includes("table")&&!t.includes("direct_reports")){console.error("Dynamic Form: Missing template for: ",{type:t,label:o,fieldId:r})}}),[]);const p=He(n,s);if(h){h.label=s.label}return(0,d.Z)("div",{className:"DynamicForm__Table"},void 0,c&&!u&&(0,d.Z)("div",{style:{color:"red"}},void 0,"Tried to Render type: ",t,", but template doesn't exist"),a,p&&u&&Be(u),!p&&h&&$e(h,i))};var ze=je;var qe=a(51178);var We=a(38929);var Ue=a(71141);var Ve=a(26570);const Ge=(0,Ue.isEnabled)("GenderSelectUpdates");const Ye=e=>{let{props:t,children:a,settings:n,context:s}=e;const{className:i="",id:o}=t;const{isClickToEdit:h=false,customFooterData:p={primaryButton:{},secondaryButton:{}},validation:m={}}=n;const{primaryButton:g={},secondaryButton:v={}}=p;const{form:{isEditable:y,setIsEditable:b,customOnSubmit:w,previewMode:C},validation:{trigger:S,formState:{errors:x}}}=s;const[T,k]=(0,l.useState)(false);const I=E()(...i.split(" "),{"BhrForms--view":h?!y:false,DynamicForm__TraxSyncing:(0,f.GS)(s)});const A=e=>{const t=(0,f.wu)(e);if(!y&&t){b(true)}};const F=async()=>{closeMessage();k(true);const e=m.noValidation&&Ge?true:await S();console.log("isValid",e,x);if(e){const e=Ve(`#${o}`);if(window.ASSUMED_USER){window.disabledForPermsTest();return}if(w){w({context:s,submitForm:()=>e.submit(),onCancel:()=>k(false)});return}e.submit()}else{setMessage("Whoops... No worries. Please fix any missing or incorrect information and try again.","error");k(false);(0,f.HZ)()}};const Z=()=>{(0,f.Fx)(s);if(h){b(false)}};return c().createElement("form",(0,r.Z)({},t,{className:I,onClick:A}),(0,d.Z)(u.L,{marginTop:o==="emergencyContact"?"-10px":"-24px"},void 0,a,!C&&(0,d.Z)(We.T,{isOpen:y},void 0,(0,d.Z)(Ce.B,{onClick:F,processing:T,type:"submit"},void 0,g.text||Ve.__("Save Changes")),(0,d.Z)(qe.T,{onClick:Z,processing:T,type:"reset"},void 0,v.text||Ve.__("Cancel")))))};var Ke=Ye;const Xe=e=>{const{props:t,settings:a,context:n,children:s}=e;const{id:i,items:o}=t;const r=t["data-prefer-not-to-say-id"];const l=t["data-custom-gender-identity-id"];const u=(0,f.rz)(n,f.Iv.genderIdentity);const h=(0,f.Ly)(u);const p=h===l;const{controls:{SelectField:m}}=n;const g=[{items:o.filter((e=>e.value!==r&&e.value!==l)),type:"group",value:1},{anchor:"bottom",items:o.filter((e=>{if(e.value===r||e.value===l){e.exclusive=true;return e}})),type:"group",value:2}];const v={...t,canSelectMultiple:true,onChange:e=>(0,f.Dn)("select",i,e,n),items:g};return c().createElement(c().Fragment,null,(0,d.Z)(m,{context:n,props:v,settings:a}),p&&s)};var Je=Xe;const Qe=e=>{let{props:t,settings:a,context:n}=e;const{items:s}=t;const{controls:{SelectField:i}}=n;const o=[{items:s.filter((e=>e.value!==t["data-prefer-not-to-say-id"])),type:"group",value:1},{anchor:"bottom",items:s.filter((e=>e.value===t["data-prefer-not-to-say-id"])),type:"group",value:2}];const r={...t,items:o};return(0,d.Z)(i,{context:n,props:r,settings:a})};var et=Qe;var tt=a(91118);const at=()=>(0,ve.m)((e=>{let{palette:t}=e;return(0,ve.c)({infoIcon:{position:"relative","& svg":{fill:t.grey[600]},"&:hover svg":{fill:t.primary.main}},popoverContainer:{width:"250px"}})}));var nt=a(26570);const st=e=>{let{props:t,settings:a,context:n,children:s}=e;const{disabled:i,id:o}=t;const{fieldBoxClasses:r=""}=a;const{controls:{FieldBox:u,SelectField:h},formData:p}=n;const m=!r.includes("hidden");const g=(0,f.rz)(n,f.Iv.gender);const v=(0,f.Ly)(g);const y=Object.keys((0,f.N2)(n,o,{selector:"key",value:"field"})||[]);const b=y.map((e=>{const t=p[e];return(0,f.Ly)(t)||""})).join("");const w=v==="Non-binary";const C=window.SESSION_USER&&window.SESSION_USER.isOnboardingUser&&window.isMobile();const[S,E]=(0,l.useState)(null);const[x,T]=(0,l.useState)(false);const[k,I]=(0,l.useState)((!!b||w)&&m);const A={...t,width:"5"};const F=at();const Z=F();const M=!!s.length;const N=M?"fieldRow":"fieldBox DynamicForm__fieldBox";let D="top";if(C){if(window.outerWidth<=780){D="top-start"}else if(window.outerWidth>780&&window.outerWidth<1024){D="top-end"}}return(0,d.Z)("div",{className:N},void 0,(0,d.Z)(h,{context:n,props:A,settings:a}),(w||k)&&m&&s,M&&m&&!i&&c().createElement(c().Fragment,null,(0,d.Z)(u,{fieldBoxClasses:r},void 0,c().createElement(be.I,{ariaLabel:nt.__("Show expanded gender option details"),className:Z.infoIcon,floatingIcon:true,icon:"circle-question-solid",onClick:()=>{T(true)},onMouseEnter:()=>{T(true)},ref:E,type:"button"}),(0,d.Z)(tt.P,{anchorEl:S,disableOuterClickOnClose:C,disablePortal:true,onClose:()=>T(false),open:x,placement:D,title:nt.__("Gender Information")},void 0,(0,d.Z)("div",{className:Z.popoverContainer},void 0,nt.__(`Government reporting currently requires reporting on employee gender. If you'd like, we encourage you to add gender information below and share more about your gender identity and pronouns.`),!(w||k)&&(0,d.Z)(qe.T,{onClick:()=>I(true)},void 0,nt.__("+ Add Gender Information")))))))};var it=st;const ot=e=>{let{props:t}=e;return c().createElement("input",t)};var rt=ot;const lt=e=>{let{settings:t,context:a}=e;const{controls:{FieldDiv:n}}=a;const{note:s}=t;return(0,d.Z)(n,{},void 0,s)};var ct=lt;const dt=e=>{let{labelClasses:t,inputId:a,label:n,labelProps:s,info:i,required:o,error:l,children:d}=e;if(!n||n.length===0){return null}const u=t||E()("fab-Label",{"fab-Label--info":i,"fab-Label--required":o,"fab-Label--error":l});return c().createElement("label",(0,r.Z)({className:u,htmlFor:a},s),n,d)};var ut=dt;var ht=a(14386);var pt=a(56921);var mt=a(33042);var ft=a(26570);const gt={address:(0,d.Z)(ht.I,{color:"primary-strong",name:"house-solid",size:16}),compensation:(0,d.Z)(ht.I,{color:"primary-strong",name:"money-check-solid",size:16}),contact:(0,d.Z)(ht.I,{color:"primary-strong",name:"address-book-solid",size:16}),default:(0,d.Z)(ht.I,{color:"primary-strong",name:"id-card-solid",size:16}),dependents:(0,d.Z)(ht.I,{color:"primary-strong",name:"users-solid",size:16}),education:(0,d.Z)(ht.I,{color:"primary-strong",name:"book-solid",size:16}),directDeposit:(0,d.Z)(ht.I,{color:"primary-strong",name:"building-columns-solid",size:16}),emergency:(0,d.Z)(ht.I,{color:"primary-strong",name:"truck-medical-solid",size:20}),emergencyContacts:(0,d.Z)(ht.I,{color:"primary-strong",name:"truck-medical-solid",size:20}),employmentStatus:(0,d.Z)(ht.I,{color:"primary-strong",name:"id-card-solid",size:16}),job:(0,d.Z)(ht.I,{color:"primary-strong",name:"briefcase-solid",size:20}),jobInformation:(0,d.Z)(ht.I,{color:"primary-strong",name:"briefcase-solid",size:16}),personal:(0,d.Z)(ht.I,{color:"primary-strong",name:"id-card-solid",size:16}),selfService:(0,d.Z)(ht.I,{color:"primary-strong",name:"user-lock-solid",size:24}),socialLinks:(0,d.Z)(ht.I,{color:"primary-strong",name:"comments-solid",size:16}),projectPayRates:(0,d.Z)(ht.I,{color:"primary-strong",name:"stopwatch-solid",size:16})};const vt=e=>{let{settings:t,props:a}=e;const{label:n,icon:s,fabIcon:i}=t;const{className:o=""}=a;let l=n;if(s==="emergency"||s==="emergencyContacts"){l=ft.__("Emergency Contact")}if(!n){console.error("Label is required for Legend component");return null}const h=typeof s==="undefined"?false:gt[s]||gt.default;const p=E()({DynamicForm__Legend:true,"fab-FormSection__legend":!o.includes("fab-CheckboxGroup__legend")},o);const m=`quickform-form-section-for-${n?.toLowerCase().replace(" ","-")}-legend`;return c().createElement("legend",(0,r.Z)({},a,{className:p,"data-bi-id":m}),!!h&&(s==="selfService"?(0,d.Z)(u.L,{marginRight:"12px"},void 0,(0,d.Z)(pt.F,{alignItems:"center"},void 0,h)):(0,d.Z)(mt.S,{backgroundColor:"neutral-medium",borderRadius:"medium",marginRight:2,padding:1.5},void 0,(0,d.Z)(pt.F,{alignItems:"center"},void 0,h))),(0,d.Z)("div",{className:"DynamicForm__LegendText"},void 0,l))};var _t=vt;const yt=e=>{let{type:t,text:a,context:n}=e;const{controls:{EmploymentStatusNote:s,PayScheduleNote:i}}=n;if(t==="updatedTaxType"||t==="verifyTaxType"){return(0,d.Z)(s,{context:n,text:a,type:t})}if(t==="PayScheduleWarning"){return(0,d.Z)(i,{context:n,text:a,type:t})}const o=E()("fab-FormNote",{"fab-FormNote--info":t==="info"});return(0,d.Z)("span",{className:o},void 0,a)};var bt=yt;var wt=a(26570);const Ct=()=>(0,d.Z)("div",{className:"DynamicForm--PayScheduleNote"},void 0,(0,d.Z)("div",{className:"fab-FormNote CompensationForm__warningNote"},void 0,wt.__("This pay schedule isnt compatible with a couple other fields.")),(0,d.Z)("div",{className:"fab-FormNote"},void 0,wt.__("Make sure to also update the fields highlighted in red.")));var St=Ct;var Et=a(56445);var xt=a(2063);var Tt=a(26570);const kt=(0,Et.isEnabled)("OWNER_AND_CORPORATE_OFFICER_FLAGS");const It=(0,ve.m)((e=>{let{palette:t,spacing:a,typography:n}=e;return{note:{color:t.gray[700],fontSize:n?.teenie?.fontSize,lineHeight:n?.teenie?.lineHeight,marginTop:a(1)}}}));const At=e=>{const{props:t,settings:a,context:n}=e;const{controls:{SelectField:s},setFormData:i,validation:{setValue:o}}=n;const r=(0,f.Ly)(e);const u=(0,f.rz)(n,f.Iv.employeeTaxType);const h=(e,t,a)=>{let s;const r=e.data.options.map((e=>{const{optionValue:t,optionText:a,selected:n,optionNote:i}=e;if(n){s=t.toString()}return{value:t.toString(),text:a,note:kt?i:undefined}}));const l=(0,f.Dn)("select-items",u?.props?.id,r,n,false);const c=document.getElementById(l?.props?.id);if((0,f.pn)(c)){l.props.condition="info";if(t||l.props.selectedValues.length===0){l.props.selectedValues=[s]}const e=(0,f.C3)(l?.props?.name);o(e,l?.props?.selectedValues[0]||"",{shouldDirty:true,shouldValidate:true});l.settings.note={text:" ",type:a}}i((e=>({...e,...{[l.props.id]:l}})))};const p=()=>{const e=(0,f.rz)(n,f.Iv.employeeTaxType);if(e.settings.note){e.settings.note=null;e.props.condition=null;i((t=>({...t,...{[e.props.id]:e}})))}};const m=()=>{if(r){xt.Z.getAllowableEmployeeTaxTypes("0",r,`select[name="${u?.props?.name}"]`).then((e=>{let{result:t,forceNewSelection:a,warningType:n}=e;h(t,a,n)})).catch((()=>{}))}else{setTimeout((()=>{p()}),10)}};const g=(0,l.useMemo)((()=>t.items.some((e=>{let{props:t,value:a}=e;const n=!!(typeof t==="object"&&t["data-inactiveoption"]);return n&&a===r}))),[r]);(0,l.useEffect)((()=>{if((0,M.hasTrax)()&&u?.props?.id){m()}}),[r]);const v=It();return c().createElement(c().Fragment,null,c().createElement(s,e),g?(0,d.Z)("div",{className:v.note},void 0,Tt.__("This employee will not be able to access their BambooHR account while in this employment status.")):null)};var Ft=At;var Zt=a(405);var Mt=a(84164);var Nt=a(26570);const Dt={Owner:6,CorporateOfficer:7};function Lt(e){const t=typeof e==="number"?e:parseInt(e);switch(t){case Dt.Owner:return{title:Nt.__("The Owner tax type may be exempt from Federal or State taxes. You can mange it in your Federal and State withholdings.")};case Dt.CorporateOfficer:return{title:Nt.__("The Corporate Officer tax type may be exempt from Federal or State taxes. You can mange it in your Federal and State withholdings.")};default:return null}}function Pt(e){let{selectedEmployeeTaxTypeId:t}=e;if(!t){return null}const a=Lt(t);if(!a){return null}return(0,d.Z)(u.L,{paddingTop:2},void 0,c().createElement(Mt.I,(0,r.Z)({},a,{icon:"circle-info-solid",status:Mt.a.neutral})))}function Ot(e){if(!(0,Et.isEnabled)("OWNER_AND_CORPORATE_OFFICER_TAX_TYPE_FILTER_UPDATES")){return e}const t=new Map;for(const{note:a,...n}of e){const e=typeof a==="string"?a:"";let s=t.get(e);if(!s){s=[];t.set(e,s)}s.push(n)}const a=[];for(const[e,n]of t){if(e){a.push({text:e,value:e,type:"group",items:n})}else{a.push(...n)}}return a}const Rt=e=>{const{props:t,settings:a,context:n}=e;const{id:s,disabled:i,isObfuscated:o,className:u,style:h,name:p,condition:m=null,items:g,selectedValues:v,canSelectMultiple:y=false,onChange:b}=t;const{fieldBoxClasses:w,label:C,type:S,note:E=false}=a;const{controls:{Label:x,Note:T,FieldBox:k,FieldDiv:I,PendingRequest:A},validation:{formState:{errors:F},trigger:Z,register:N,setValue:D}}=n;const L=(0,l.useRef)(null);const P=(0,f.q9)(n,e);const O=(0,f.C3)(p);const R=(0,f.wx)(F,O);N(O,{...(0,f.Lt)(n,e),required:P});const B=(0,l.useMemo)((()=>{if(n.form.isAddEmployeeForm&&a.token==="selectEmployeeTaxType"&&!(0,Et.isEnabled)("OWNER_AND_CORPORATE_OFFICER_FLAGS")){return g.map((e=>({...e,note:undefined})))}return g}),[n.form.isAddEmployeeForm,g,a.token]);let H=[];if(Array.isArray(v)){H=v}if(typeof v==="string"){H=[v]}(0,l.useEffect)((()=>{D(O,H[0]||"")}),[]);const j=()=>{const e=L.current;let t;let i;const o=new Promise(((e,a)=>{t=e;i=a}));if(!e){console.error("Dynamic Form: Select Element: Unable to get current element ref");i();return o}e.dispatchEvent(new CustomEvent("ba:selectAddItem",{bubbles:true,detail:{resolve:t,reject:i,settings:a}}));return o.then((function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];(0,f.Gj)(s,e[0],n);if(e[0]?.selected&&e[0]?.value){D(O,e[0].value||"",{shouldDirty:true,shouldValidate:true})}}))};const z=B.filter((e=>{if((0,M.hasTrax)()&&e?.props&&typeof e.props==="object"&&Object.prototype.hasOwnProperty.call(e.props,"data-invalid-payroll-option")&&(0,f.GS)(n)){return!e.props["data-invalid-payroll-option"]}return true}));const q=e=>{(0,f.Dn)("select",s,y?e:e[0]||"",n);D(O,e[0]||"",{shouldDirty:true,shouldValidate:true})};const W={};Object.keys(t).forEach((e=>{if(e.startsWith("data-")){W[e]=t[e]}}));const U=n.form.isAddEmployeeForm&&a.token==="selectEmployeeTaxType"?Ot(z):z;return c().createElement(c().Fragment,null,(0,d.Z)(k,{fieldBoxClasses:w},void 0,(0,d.Z)(x,{error:R,info:m==="info",inputId:s,label:C,required:P}),(0,d.Z)(I,{isObfuscated:o,type:S},void 0,(0,d.Z)(A,{context:n,props:t,settings:a}),c().createElement("div",(0,r.Z)({className:u,ref:L},W,{"data-name":p,style:h}),c().createElement(Zt.S,(0,r.Z)({},t,{condition:R?"error":m,isDisabled:i||window.previewUser,items:U,name:y?`${p}[]`:p,onAdd:t["can-add"]?j:null,onChange:b?e=>{b(e);Z(p)}:q,selectedValues:H,showSearch:"auto"})))),E&&c().createElement(T,(0,r.Z)({},E,{context:n})),(0,Et.ifFeature)("OWNER_AND_CORPORATE_OFFICER_FLAGS",n.form.isAddEmployeeForm&&a.token==="selectEmployeeTaxType"?(0,d.Z)(Pt,{selectedEmployeeTaxTypeId:H[0]}):null)))};var Bt=Rt;const $t=e=>{const{props:t,settings:a,context:n}=e;const{disabled:s=false,selectedValues:i=[]}=t;const{controls:{SelectField:o}}=n;const{[f.Iv.overtimeStatus]:{nonExemptEmptyPay:r,note:l}}=(0,f.zW)(n);const c={...a,note:{text:l,type:"base"}};const u={...t,isDisabled:r||s,selectedValues:r?["Exempt"]:i};return(0,d.Z)(o,{context:n,props:u,settings:c})};var Ht=$t;function jt(e){const{props:t,settings:a,context:n}=e;const{controls:{SelectField:s}}=n;const i=(0,f.rz)(n,f.Iv.payType);const o=(0,f.Ly)(i);if(o&&(o==="Commission"||o==="Hourly")){return(0,d.Z)(s,{context:n,props:{...t,className:`${t.className} hidden`,disabled:false,selectedValues:["Hour"]},settings:a})}const r=t?.selectedValues?.[0];const l=t.items.filter((e=>e.value!=="Hour"));return c().createElement(c().Fragment,null,(0,d.Z)(s,{context:n,props:{...t,disabled:!o,items:l},settings:a}),r&&!o?(0,d.Z)("input",{type:"hidden",name:t?.name,value:r}):null)}const zt=e=>{const{props:t,settings:a,context:n}=e;const{controls:{SelectField:s}}=n;return c().createElement(c().Fragment,null,(0,d.Z)(s,{context:n,props:t,settings:a}))};var qt=zt;var Wt=a(26570);function Ut(e){const{props:t,settings:a,context:n}=e;const{controls:{CurrencyField:s}}=n;const i=(0,f.rz)(n,f.Iv.payType);const o=(0,f.Ly)(i);const r=(0,f.oU)(n,t.id);const l=r?document.querySelector(`#${r.props.id}`):undefined;if(l){l.classList.remove("hidden")}if(o&&o!=="Salary"&&o!=="Hourly"){if(l){l.classList.add("hidden")}return null}const c=o==="Hourly"?{type:"edit",text:Wt.__("per hour.")}:a.note;return(0,d.Z)(s,{context:n,props:{...t,readOnly:!o?true:false},settings:{...a,note:c}})}var Vt=a(26570);const Gt=e=>{const{props:t,settings:a,context:n}=e;const{items:s,selectedValues:i=[]}=t;const{validation:o,validation:{requiredTrax:r}}=a;const{controls:{SelectField:c},validation:{trigger:u}}=n;const h=(0,Et.ifFeature)("XERO_UK_INTEGRATION",true);const p=(0,l.useRef)(null);const m=()=>{if(s.length===0){return[{text:Vt.__(`You don't have any pay schedules set up. Add them in settings.`),value:"",isDisabled:true}]}return s};const g=(0,f.rz)(n,f.CU.payrollCheckbox);const v=(0,f.rz)(n,f.CU.payrollProviderSelectField);const y=g?.props?.checked;const b=v?.props?.selectedValues?.includes("bamboohr_payroll");const w=(0,f.rz)(n,f.Iv.paidPer);const C=(0,f.rz)(n,f.Iv.payType);const S=(0,M.hasTrax)()&&(0,f.U7)()===0&&(g?.props?.checked===true||b===true)||r;const[E,x]=(0,l.useState)(m());(0,l.useEffect)((()=>{if((0,M.hasTrax)()&&(g||v)&&s.length>0){let e=false;if(h&&v){e=v.props.selectedValues?.includes("bamboohr_payroll")}else if(g){e=!!g.props.checked}if(e){const e=s.filter((e=>{if(!e.props){return true}return e.props["data-syncing-pay-schedule"]}));x(e)}else{x(s)}}}),[y,b]);(0,l.useEffect)((()=>{if((0,M.hasTrax)()&&(0,f.GS)(n)&&w&&C){const e=(0,f.II)(w);const t=(0,f.II)(C);if(e?.props?.["data-invalid-payroll-option"]||t?.props?.["data-invalid-payroll-option"]){p.current={text:" ",type:"PayScheduleWarning"};u([w?.props?.name,C?.props?.name])}}else{p.current=null;u([w?.props?.name,C?.props?.name])}}),[y,b,i]);const T={...a,note:p.current,validation:{...o,requiredTrax:S}};return(0,d.Z)(c,{context:n,props:{...t,items:E},settings:T})};var Yt=Gt;function Kt(e){const{props:t,settings:a,context:n}=e;const{controls:{SelectField:s}}=n;const i=t.items.filter((e=>e.value!=="Contract"));return(0,d.Z)(s,{context:n,props:{...t,items:i},settings:a})}var Xt=a(73641);function Jt(e){return e?Array.from(e).map((e=>({...e,text:e.displayText||e.name||e.text,value:e.value||e.id}))):[]}function Qt(e){switch(parseInt(e)){case aa:case na:case sa:case oa:return ra;case ia:return la;default:return ca}}function ea(e){switch(parseInt(e)){case aa:case na:return da;case sa:case ia:return ua;default:return ha}}var ta=a(26570);const aa=0;const na=1;const sa=3;const ia=222;const oa=157;const ra=ta.__("State");const la=ta.__("County");const ca=ta.__("Province");const da=ta.__("ZIP");const ua=ta.__("Postcode");const ha=ta.__("Postal Code");const pa={endpoint:"/ajax/get_states?country=",initialCountryId:na,initialSubEntityLabel:Qt(na),initialSubEntityOptions:[]};function ma(e){e={...pa,...e};const{initialCountryId:t,initialPostCodeLabel:a,initialSubEntityLabel:n,initialSubEntityOptions:s}=e;const[i,o]=(0,l.useState)({countryId:t,postCodeLabel:t?ea(t):a,subEntityLabel:t?Qt(t):n,subEntityOptions:Jt(s)});const r=(0,l.useCallback)(ga(o),[]);const c=(0,l.useCallback)(fa(e,r),[e]);(0,l.useEffect)((()=>{if((0,Xt.isEmpty)(e.initialSubEntityOptions)){c(e.initialCountryId)}}),[]);return{countryId:i.countryId,postCodeLabel:i.postCodeLabel,subEntityLabel:i.subEntityLabel,subEntityOptions:i.subEntityOptions,switchCountry:c}}function fa(e,t){let{endpoint:a}=e;return e=>Q().get(`${a}${e}`).then((a=>{t(e,a.data?a.data.data:[])})).catch((t=>{if(t?.response?.status>=500){window.Rollbar.error(`Could not fetch state data for country id ${e}, with status code ${t?.response?.status}`,t)}}))}function ga(e){return(t,a)=>{e({countryId:t,postCodeLabel:ea(t),subEntityLabel:Qt(t),subEntityOptions:Jt(a)})}}const va=e=>{const{props:t,settings:a,context:n}=e;const{id:s,"data-state-field-id":i,"data-zip-field-id":o,items:r,selectedValues:d}=t;const{initialValue:u}=a;const{controls:{SelectField:h},formData:p}=n;const m=(0,f.Ly)(e);const g=i?.includes("field")?p[i]:p[`field_${i}-0`];const v=o?.includes("field")?o:`field_${o}-0`;const y=(0,f.GS)(n);const b=(0,M.hasTrax)()&&(0,f.I)();const w=`/ajax/get_states?${b?`payrollCheckbox=${y}&`:""}country=`;const[C,S]=(0,l.useState)(r);const[E,x]=(0,l.useState)(u[0]);const{countryId:T,postCodeLabel:k,subEntityLabel:I,subEntityOptions:A,switchCountry:F}=ma({initialCountryId:u[0]?~~E:1,initialSubEntityOptions:g?g.props.items:[],endpoint:w});const Z=()=>{(0,f.Dn)("select-items",s,C,n)};const N=()=>{(0,f.IB)(g.props.id,v,{countryId:T,postCodeLabel:k,subEntityLabel:I,subEntityOptions:A},n,u[0]===d[0])};(0,l.useEffect)((()=>{Z()}),[C]);(0,l.useEffect)((()=>{const e=d[0];if(e&&+e!==+E){x(e);F(e)}}),[m]);(0,l.useEffect)((()=>{if(g){N()}}),[T,m]);(0,l.useEffect)((()=>{if(d[0]){F(d[0])}}),[]);const D=()=>{let e="";if(b){e+=`payrollChecked=${y}`}if(e.length!==0){Q().get(`/ajax/get_countries?${e}`).then((e=>{if(e.data.success){const t=Object.keys(e.data.data).map((t=>({text:e.data.data[t],value:t})));S(t)}})).catch((e=>{console.error("Dynamic Form - Select Standard Country - Ajax request failed to update country selector",e)}))}};(0,l.useEffect)((()=>{D()}),[y]);return c().createElement(h,e)};var _a=va;var ya=a(26570);const ba=e=>{let{props:t,settings:a,context:n}=e;const{id:s}=t;const{form:{isEditable:i=true},controls:{TextField:o}}=n;const[r,c]=(0,l.useState)(i);const[u,h]=(0,l.useState)(a.sensitive.value);const p=()=>{if((0,f.Wc)()){return}Q().get(`/employees/get_secure_field/${t["data-secure-field-type"]}`,{id:t["data-employeeid"]}).then((e=>{if(e.data){h(e.data);c(true)}})).catch((()=>{window.setMessage(ya.__("There was a problem getting the sensitive data"),"error")}))};const m=()=>{if(u===a.sensitive.value){p()}else{c(true)}};const g=()=>{c(false)};(0,l.useEffect)((()=>{if(i){m()}else{g()}}),[i]);const v={text:r?ya.__("Hide"):ya.__("Show"),template:"action",className:"",handleHoverAction:r?g:m};const y={...t,value:r?u:a.sensitive.value};const b={...a,...!!u&&{hover:v}};return(0,d.Z)(o,{context:n,props:y,settings:b},`${s}${r?"sensitive":""}`)};var wa=ba;var Ca=a(52764);var Sa=a(26570);const Ea=e=>{let{props:t,settings:a}=e;const n=()=>{const{template:e}=a;const{className:n}=t;if(e==="dash"){const e=E()("formDash","DynamicForm--static__dash",n);return c().createElement("span",(0,r.Z)({},t,{className:e}),"")}if(e==="payrollSectionHeader"){return(0,d.Z)(u.L,{marginTop:4},void 0,(0,d.Z)(Ca.InPageMessaging,{body:Sa.__("Anything not completed here will be sent to your company's payroll admins to fill out."),header:Sa.__("Not sure about some of the payroll info below? That's okay, just fill out as much as you know."),icon:"circle-question-solid",type:"info"}))}return null};return n()};var xa=Ea;var Ta=a(85617);const ka=e=>{const{props:t,settings:a,context:n}=e;const{id:s,name:i,className:o}=t;const{fieldBoxClasses:u,label:h,isObfuscated:p,type:m}=a;const{controls:{Label:g,FieldBox:v,FieldDiv:y,PendingRequest:b},validation:{formState:{errors:w},register:C,setValue:S}}=n;const E=(0,f.C3)(i);const x=(0,f.wx)(w,E);const T=(0,f.q9)(n,e);C(E,{...(0,f.Lt)(n,e),required:T});const{value:k,...I}=t;const[A,F]=(0,l.useState)(k);(0,l.useEffect)((()=>{S(E,k)}),[]);const Z=e=>{(0,f.Dn)("textarea",s,e.target.value,n);S(E,e.target.value,{shouldDirty:true,shouldValidate:true})};return(0,d.Z)(v,{fieldBoxClasses:u,isRequired:T},void 0,(0,d.Z)(g,{error:x,inputId:s,label:h,required:T}),(0,d.Z)(y,{isObfuscated:p,type:m},void 0,(0,d.Z)(b,{context:n,props:t,settings:a}),c().createElement(Ta.T,(0,r.Z)({},I,{className:"",onBlur:Z,onChange:e=>{F(e.target.value)},size:"medium",value:A,width:I?.width??9}))))};var Ia=ka;var Aa=a(96800);var Fa=a.n(Aa);var Za=a(45673);var Ma=a(78144);const Na=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;let a=null;Object.keys(Za.Kx).forEach((n=>{if(e.includes(n)||(0,Ma.bB)(e,n.split(" "))){const e=t?Za.Kx[n]:Za.Kx[`${n}-sensitive`]||Za.Kx[n];a=e}}));return a};const Da=e=>{const{props:t,context:a}=e;const{className:n="",id:s,name:i,value:o=""}=t;const{form:{isEditable:l=true},validation:{register:d,setValue:u}}=a;const h=(0,f.C3)(i);d(h,{...(0,f.Lt)(a,e),required:(0,f.q9)(a,e)});const p=e=>{(0,f.Dn)("text",s,e.target.value,a);u(h,e.target.value,{shouldValidate:true,shouldDirty:true})};const m=Na(n,l);return c().createElement(Fa(),(0,r.Z)({mask:m},t,{onBlur:p}))};var La=Da;const Pa=e=>{const{props:t,input:a,settings:n,context:s}=e;const{className:i="",disabled:o,id:u,name:h}=t;const{icon:p,label:m="",isObfuscated:g,condition:v,fieldBoxClasses:y,pending:b,type:w,note:C=false}=n;const{controls:{TextMaskedField:S,TextIconField:x,TextHoverField:T,FieldBox:k,FieldDiv:I,Label:A,Note:F,PendingRequest:Z},validation:{register:M,formState:{errors:N},setValue:D},form:{isEditable:L}}=s;const P=(0,f.C3)(h);const O=(0,f.wx)(N,P);const R=(0,f.q9)(s,e);(0,l.useEffect)((()=>{D(P,H)}),[]);const B=e=>{(0,f.Dn)("text",u,e.target.value,s);D(P,e.target.value,{shouldDirty:true,shouldValidate:true})};const{value:H,...j}=t;const z={type:"text",...j,defaultValue:H,className:E()(i,{disabled:o,"fab-TextInput--error":O})};const q=()=>{const a=!!Na(i,L);if(a&&!b){return(0,d.Z)(S,{context:s,props:z,settings:n})}M(P,{...(0,f.Lt)(s,e),required:R});return(0,d.Z)("div",{className:"fab-InputWrapper"},void 0,(0,d.Z)(Z,{context:s,props:t,settings:n}),c().createElement("input",(0,r.Z)({onBlur:B},z)),p&&(0,d.Z)(x,{props:t,settings:n}))};const W=a||q();const U=()=>{const e=W;const a=(0,d.Z)(T,{context:s,input:e,props:t,settings:n});return a};return(0,d.Z)(k,{fieldBoxClasses:y,isRequired:R},void 0,(0,d.Z)(A,{error:O,info:v==="info",inputId:u,label:m,required:n?.validation?.requiredWhenVisible===true}),(0,d.Z)(I,{isObfuscated:g,type:w},void 0,U()),C&&c().createElement(F,(0,r.Z)({},C,{context:s})))};var Oa=Pa;const Ra=e=>{let{props:t,settings:a,input:n,context:s}=e;const{value:i=""}=t;const{hover:o,initialValue:r}=a;const{form:{isEditable:l=true},controls:{HoverAction:c,HoverEmail:u,HoverLink:h,HoverMap:p}}=s;const m={link:h,email:u,map:p,action:c};if(o&&o.template&&r){const e=m[o.template];if(e){return(0,d.Z)(e,{context:s,hover:o,isEditable:l,value:i},void 0,n)}}return n};var Ba=Ra;const $a={default:(0,d.Z)(ht.I,{color:"neutral-strong",name:"comment-regular",size:16}),inputAolIcon:(0,d.Z)(ht.I,{color:"neutral-strong",name:"globe-solid",size:16}),inputSkypeIcon:(0,d.Z)(ht.I,{color:"neutral-strong",name:"skype",size:16}),inputEducationIcon:(0,d.Z)(ht.I,{color:"neutral-strong",name:"diploma-solid",size:16}),inputHomeIcon:(0,d.Z)(ht.I,{color:"neutral-strong",name:"house-regular",size:16}),inputMobileIcon:(0,d.Z)(ht.I,{color:"neutral-strong",name:"mobile-regular",size:16}),inputFacebookIcon:(0,d.Z)(ht.I,{color:"neutral-strong",name:"facebook",size:16}),inputLinkedinIcon:(0,d.Z)(ht.I,{color:"neutral-strong",name:"linkedin",size:16}),inputPinterestIcon:(0,d.Z)(ht.I,{color:"neutral-strong",name:"pinterest",size:16}),inputTwitterIcon:(0,d.Z)(ht.I,{color:"neutral-strong",name:"square-x-twitter",size:16}),inputOfficeIcon:(0,d.Z)(ht.I,{color:"neutral-strong",name:"building-regular",size:16}),inputInstagramIcon:(0,d.Z)(ht.I,{color:"neutral-strong",name:"square-instagram",size:16})};const Ha=e=>{let{props:t,input:a,settings:n,context:s}=e;const{icon:i}=n;const o=$a[i]||$a.default;return(0,d.Z)("span",{className:"fab-TextInputNub"},void 0,o)};var ja=Ha;var za=a(84279);const qa=e=>{let{children:t,isEditable:a,hoverChild:n}=e;const s=E()("HoverHint","DynamicForm--HoverBase__hint",{"DynamicForm--HoverBase__Editable":a});return(0,d.Z)("span",{className:s},void 0,n,(0,d.Z)("span",{className:"HoverHint__content"},void 0,t))};var Wa=qa;var Ua=a(26570);const Va=e=>{let{value:t,isEditable:a,context:n,children:s}=e;const{controls:{HoverBase:i}}=n;return(0,d.Z)(i,{hoverChild:s,isEditable:a},void 0,c().createElement(c().Fragment,null,(0,d.Z)("span",{className:"HoverHint__icon"},void 0,(0,d.Z)(ht.I,{color:"info-strong",name:"envelope-solid",size:16})),(0,d.Z)("a",{className:"HoverHint__link",href:`mailto:${t}`},void 0,Ua.__("Email"))))};var Ga=Va;var Ya=a(26570);const Ka=e=>{let{hover:t,isEditable:a,context:n,children:s}=e;const{controls:{HoverBase:i}}=n;if(!t.link){return c().createElement(c().Fragment,null," ",s," ")}return(0,d.Z)(i,{hoverChild:s,isEditable:a},void 0,c().createElement(c().Fragment,null,(0,d.Z)("span",{className:"HoverHint__icon"},void 0,(0,d.Z)(ht.I,{color:"info-strong",name:"location-dot-solid",size:12})),(0,d.Z)("a",{className:"HoverHint__link",href:t.link,rel:"noopener noreferrer",target:"_blank"},void 0,Ya.__("Map"))))};var Xa=Ka;var Ja=a(26570);const Qa=e=>{let{hover:t,isEditable:a,context:n,children:s}=e;const{controls:{HoverBase:i}}=n;return(0,d.Z)(i,{hoverChild:s,isEditable:a},void 0,(0,d.Z)("a",{className:"HoverHint__link",href:t.link,rel:"noopener noreferrer",target:"_blank"},void 0,Ja.__("View")))};var en=Qa;const tn=e=>{let{hover:t,isEditable:a,context:n,children:s}=e;const{controls:{HoverBase:i}}=n;return(0,d.Z)(i,{hoverChild:s,isEditable:a},void 0,(0,d.Z)("button",{className:"HoverHint__link fab-TextButton fab-link",onClick:t.handleHoverAction,type:"button"},void 0,t.text))};var an=tn;var nn=a(17145);var sn=a(26570);const on=e=>{let{props:t,settings:a}=e;const{pending:n}=a;const{className:s="",type:i}=t;if(!n){return null}const o=E()({DynamicForm__pending:true,"DynamicForm__pending--container":i==="checkbox"});const r=`/inbox/details.php?id=${n}`;return(0,d.Z)("a",{className:o,href:r},void 0,(0,d.Z)("div",{className:"DynamicForm__pending--icon"},void 0,(0,d.Z)(nn.Z,{settings:{template:{name:"tooltip-standard",data:{title:sn.__("Pending Approval"),content:sn.__("The latest change to this field is waiting for approval. Click to go to the original request."),textAlign:"center"}}}},void 0,(0,d.Z)(ht.I,{color:"neutral-weak",name:"clock-solid",size:16}))))};var rn=on;function ln(e,t){const a=new FormData;a.append("id",e);a.append("employeeId",t);return Q().post("/ajax/employees/delete_employee_education_item.php",a)}function cn(e,t){return Q()["delete"](`/employees/contacts.php?id=${e}&e=${e}&c=${t}`)}function dn(e,t){const a=new FormData;a.append("id",e);a.append("d",t);return Q().post("/ajax/dialog/delete_dependent.php",a)}var un=a(98675);var hn=a(26570);const pn=e=>{let{handleClose:t=Xt.noop,handlePrimaryAction:a=Xt.noop}=e;return(0,d.Z)(un.u_,{icon:"trash-can-regular",iconColor:"danger",iconV2Color:"error-strong",isOpen:true,onClose:()=>{t()},primaryAction:()=>{a()},primaryActionText:hn.__("Yes, Delete Education"),title:hn.__("Delete Education"),headline:hn._("Are you sure you want to delete this education record?"),content:(0,d.Z)(pt.F,{justifyContent:"center"},void 0,hn.__(`Don't worry, doing so won't actually make the employee any less educated.`))})};var mn=pn;const fn=(0,ve.m)((()=>({deleteIconContainer:{display:"flex"}})));const gn=e=>{let{props:t,settings:a,handleRemove:n,children:s}=e;const{canDelete:i}=a;const{disabled:o,id:r}=t;const l=fn();const u=i||r.includes("add");return c().createElement("div",t,u&&(0,d.Z)("button",{className:"fab-FloatingIconButton fab-FloatingIconButton--secondary formDelete withIconLabel",disabled:o,onClick:()=>{n(r)},type:"button"},void 0,(0,d.Z)("span",{className:"fab-FloatingIconButton__icon"},void 0,(0,d.Z)("div",{className:`${l.deleteIconContainer} phoneHide`},void 0,(0,d.Z)(ht.I,{name:"trash-can-regular",size:16}))),(0,d.Z)("span",{className:"fab-FloatingIconButton__icon"},void 0,(0,d.Z)("div",{className:"hidden phoneOnly--inline-flex"},void 0,(0,d.Z)(ht.I,{name:"trash-can-regular",size:12})))),(0,d.Z)("div",{className:"fieldGroup divided"},void 0,s))};var vn=gn;var _n=a(26570);const yn=(0,ve.m)((()=>({button:{margin:"5px 0px 0px 24px"}})));const bn=e=>{let{props:t,settings:a,context:n,children:s}=e;const{id:i,disabled:o}=t;const{canAdd:u,displayInitialEmpty:h}=a;const[p,m]=(0,l.useState)(false);const[g,v]=(0,l.useState)(false);let y;const b=yn();const w=()=>{if(!y){console.error(`Dynamic Form: Error getting add template for repeating container with id ${i}`);return}(0,f.Ti)(i,y,n)};(0,l.useEffect)((()=>{const e=document.querySelector('legend[data-bi-id="quickform-form-section-for-education-legend"]');if(e){e.classList.remove("BhrTable__header--section")}}));(0,l.useEffect)((()=>{if(y&&Array.isArray(s)&&s.length<2&&h&&!g){return w()}v(true)}),[y,h,s,g]);const C=e=>{if(e.includes("add")){(0,f.JJ)(i,e,n)}else{m(e)}};const S=()=>{m(false)};const E=()=>{if(typeof p==="string"){const e=p;const t=e.split("_").pop();ln(t,window.currentlyEditingEmployeeId.toString()).then((t=>{let{data:a={}}=t;if(a.result==="error"){window.setMessage(a.message,"error");return}window.setMessage(a.message,"success");(0,f.JJ)(i,e,n)})).catch((e=>{let{data:t={}}=e;window.setMessage(t.message,"error")}))}m(false)};const x=Array.isArray(s)?s.map((e=>{if(e&&e.props.props&&e.props.props.className&&e.props.props.className.includes("repeatPrototype")){y=e.props.props.id;return null}return c().createElement(vn,(0,r.Z)({},e.props,{key:e.props.props.id,handleRemove:C}))})):s;return(0,d.Z)("div",{},void 0,p&&(0,d.Z)(mn,{handleClose:S,handlePrimaryAction:E}),(0,d.Z)("div",{className:"row repeat employee_education",id:i},void 0,(0,d.Z)("div",{},void 0,(0,d.Z)("input",{id:"qf:employeeEducation",name:"_qf__employeeEducation",type:"hidden"}),x),(0,d.Z)("button",{className:`${b.button} educationAdd fab-TextButton fab-link`,disabled:!u||o,id:"educationAdd",onClick:w,type:"button"},void 0,(0,d.Z)("span",{className:"fab-TextButton__icon fab-TextButton__icon--left"},void 0,(0,d.Z)(ht.I,{color:"neutral-strong",name:"circle-plus-regular",size:16})),_n.__("Add Education"))))};var wn=bn;var Cn=a(62794);var Sn=a(26570);const En=Sn.__("No emergency contacts have been added for this employee.");const xn=Sn.__("Add Contact");const Tn=e=>{let{onClick:t,canAdd:a}=e;return(0,d.Z)(Cn.B,{icon:"bs-doc-missing-field",subtitle:"",title:En,actions:a&&[(0,d.Z)(Ce.B,{color:"secondary","data-bi-id":"employees-contacts-add-contact",onClick:t,startIcon:"plus-regular",type:"button"},void 0,xn)]})};const kn=e=>{let{onClick:t,canAdd:a}=e;return(0,d.Z)(Cn.B,{icon:"bs-doc-missing-field",subtitle:En,title:"",actions:a&&[(0,d.Z)(Ce.B,{color:"secondary","data-bi-id":"employees-contacts-add-contact",onClick:t,startIcon:"plus-regular",type:"button"},void 0,xn)]})};var In=a(26570);const An=e=>{let{handleClose:t=Xt.noop,handlePrimaryAction:a=Xt.noop,data:n}=e;return(0,d.Z)(we.S,{isOpen:true,onRequestClose:()=>t()},void 0,(0,d.Z)(we.S.Body,{renderFooter:(0,d.Z)(we.S.Footer,{actions:[(0,d.Z)(qe.T,{onClick:()=>t(),type:"button"},"secondary",In.__("Keep Contact")),(0,d.Z)(Ce.B,{onClick:()=>a(),type:"button"},"primary",In.__("Delete Contact"))]})},void 0,(0,d.Z)(we.S.Constraint,{},void 0,(0,d.Z)(we.S.HeroHeadline,{icon:"trash-can-regular",iconColor:"error-strong",text:In.__("Are you sure you want to delete this contact?")}),(0,d.Z)("div",{className:"Contact__modalContent"},void 0,(0,d.Z)("div",{className:"Contact__modalName"},void 0,n.contactName),(0,d.Z)("div",{className:"Contact__modalRelationship"},void 0,n.contactRelationship)))))};var Fn=An;const Zn=e=>{let{props:t,settings:a,handleRemove:n,children:s}=e;const{canDelete:i=true}=a;const{id:o,disabled:r}=t;const l=i||o.includes("add");return c().createElement("div",t,(0,d.Z)("fieldset",{},void 0,l&&(0,d.Z)("button",{className:"Contact__formDelete fab-FloatingIconButton fab-FloatingIconButton--secondary formDelete withIconLabel",disabled:r,onClick:()=>{n(o)},type:"button"},void 0,(0,d.Z)("span",{className:"fab-FloatingIconButton__icon"},void 0,(0,d.Z)("div",{className:"phoneHide deleteIconContainer"},void 0,(0,d.Z)(ht.I,{name:"trash-can-regular",size:16}))),(0,d.Z)("span",{className:"fab-FloatingIconButton__icon"},void 0,(0,d.Z)("div",{className:"hidden phoneOnly--inline-flex"},void 0,(0,d.Z)(ht.I,{name:"trash-can-regular",size:12})))),(0,d.Z)("input",{className:"hidden",id:`id-0_${o}`,name:`id[${o}]`,type:"hidden",value:o}),s))};var Mn=Zn;var Nn=a(26570);const Dn=e=>{let{props:t,settings:a,context:n,children:s}=e;const{id:i,disabled:o}=t;const{canAdd:u,displayInitialEmpty:h,label:p}=a;const[m,g]=(0,l.useState)(false);const[v,y]=(0,l.useState)(false);const b=(0,f.Wc)()?kn:Tn;let w;let C=0;const{validation:S}=n;const{unregister:E}=S;const x=e=>{const t={contactName:"",contactRelationship:""};const a=e.split("_").pop();const s=(0,f.bl)(n,{selector:"key",value:a},{selector:"props.className",value:"nameInput"});const i=(0,f.bl)(n,{selector:"key",value:a},{selector:"props.className",value:"list-field"});t.contactName=s?s.props.value.toString():"";t.contactRelationship="";if(i){const{items:e}=i.props;const a=e.find((e=>e.value===i.props.selectedValues[0]));t.contactRelationship=a?a.text:""}return t};const T=()=>{if(!w){console.error(`Dynamic Form: Error getting add template for repeating container with id ${i}`);return}(0,f.Ti)(i,w,n)};const k=e=>{if(e.includes("add")){(0,f.JJ)(i,e,n)}else{g(e)}};const I=()=>{g(false)};const A=()=>{if(typeof m==="string"){const e=m;const t=e.split("_").pop();cn(window.currentlyEditingEmployeeId.toString(),t).then((t=>{let{data:a={}}=t;if(!a.success){if(a.error){window.setMessage(a.error,"error")}return}if(a.newPrimaryContactId){const e=(0,f.bl)(n,{selector:"key",value:a.newPrimaryContactId},{selector:"settings.fieldBoxClasses",value:"primaryCheck"});if(e){e.props.checked=true;n.setFormData((t=>({...t,...{[e.props.id]:e}})))}}E(e);(0,f.JJ)(i,e,n)})).catch((e=>{let{data:t={}}=e;window.setMessage(t.error||t.message,"error")}))}g(false)};const F=Array.isArray(s)?s.map((e=>{if(e&&e.props.props&&e.props.props.className&&e.props.props.className.includes("repeatPrototype")){w=e.props.props.id;return null}C++;return c().createElement(Mn,(0,r.Z)({},e.props,{handleRemove:k,key:e.props.props.id}))})):s;const Z=!!C;(0,l.useEffect)((()=>{if(w&&!Z&&h&&!v){return T()}y(true)}),[w,h,Z,v]);return c().createElement(c().Fragment,null,m&&(0,d.Z)(Fn,{data:x(m),handleClose:I,handlePrimaryAction:A}),(0,d.Z)("div",{className:"row repeat employee_contacts",id:i},void 0,(0,d.Z)("input",{id:"qf:emergencyContact",name:"_qf__emergencyContact",type:"hidden"}),p&&(0,d.Z)("p",{},void 0,p),F,!Z&&(0,d.Z)(b,{canAdd:u,onClick:T}),Z&&u&&(0,d.Z)("button",{className:"Contact__addNewContact fab-TextButton fab-link repeatAdd","data-bi-id":"employees-contacts-add-contact",disabled:!u||o,onClick:T,type:"button"},void 0,(0,d.Z)("span",{className:"fab-TextButton__icon fab-TextButton__icon--left"},void 0,(0,d.Z)(ht.I,{name:"circle-plus-regular",size:16})),Nn.__("Add Contact"))))};var Ln=Dn;const Pn=e=>{let{props:t,settings:a,handleRemove:n,children:s}=e;const{canDelete:i}=a;const{disabled:o,id:r}=t;const l=i||r.includes("add");return c().createElement("div",t,l&&(0,d.Z)(be.I,{className:"fab-FloatingIconButton fab-FloatingIconButton--secondary formDelete withIconLabel",disabled:o,floatingIcon:true,icon:"trash-can-regular",onClick:()=>{n(r)},type:"button"}),(0,d.Z)("div",{className:"fieldGroup divided"},void 0,s))};var On=Pn;var Rn=a(2028);var Bn=a(26570);const $n=e=>{let{handleClose:t=Xt.noop,handlePrimaryAction:a=Xt.noop,data:n}=e;return(0,d.Z)(we.S,{isOpen:true,onRequestClose:()=>t()},void 0,(0,d.Z)(we.S.Body,{renderFooter:()=>(0,d.Z)(we.S.Footer,{actions:[(0,d.Z)(qe.T,{onClick:()=>t()},"cancel",Bn.__("Cancel")),(0,d.Z)(Ce.B,{onClick:()=>a()},"confirm",Bn.__("Yes, Delete Dependent"))]}),renderHeader:()=>(0,d.Z)(we.S.Header,{title:Bn.__("Delete Dependent")})},void 0,(0,d.Z)(we.S.Constraint,{},void 0,(0,d.Z)(Rn.S,{spacing:2},void 0,(0,d.Z)(we.S.HeroHeadline,{icon:"trash-can-regular",iconColor:"error-strong",text:Bn.__("Are you sure you want to delete this dependent?")}),(0,d.Z)("div",{className:"Contact__modalContent"},void 0,(0,d.Z)("div",{className:"Contact__modalName"},void 0,n.contactName),(0,d.Z)("div",{className:"Contact__modalRelationship"},void 0,n.contactRelationship))))))};var Hn=$n;var jn=a(26570);const zn=jn.__("No dependents have been added for this employee.");const qn=jn.__("Add Dependent");const Wn=(0,ve.m)((e=>({icon:{fill:e.palette.gray[600]},root:{marginTop:"72px"},subtitle:{color:e.palette.gray[600]},title:{color:e.palette.gray[600]}})));const Un=e=>{let{onClick:t,canAdd:a}=e;const n=Wn();return(0,d.Z)(Cn.B,{classes:n,icon:"bs-doc-missing-field",title:zn,actions:a&&[(0,d.Z)(Ce.B,{color:"secondary","data-bi-id":"employees-dependents-add-dependent",onClick:t,startIcon:"plus-regular",type:"button"},void 0,qn)]})};const Vn=e=>{let{onClick:t,canAdd:a}=e;return(0,d.Z)(Cn.B,{icon:"bs-doc-missing-field",title:zn,actions:a&&[(0,d.Z)(Ce.B,{color:"secondary","data-bi-id":"employees-dependents-add-dependent",onClick:t,startIcon:"plus-regular",type:"button"},void 0,qn)]})};var Gn=a(26570);const Yn=e=>{let{props:t,settings:a,context:n,children:s}=e;const{id:i,disabled:o}=t;const{canAdd:u,displayInitialEmpty:h,label:p}=a;const[m,g]=(0,l.useState)(false);const[v,y]=(0,l.useState)(false);const b=(0,f.Wc)()?Vn:Un;let w;let C=0;const{validation:S}=n;const{unregister:E}=S;const x=e=>{const t={contactName:"",contactRelationship:""};const a=e.split("_").pop();const s=(0,f.bl)(n,{selector:"key",value:a},{selector:"props.className",value:"nameInput"});const i=(0,f.bl)(n,{selector:"key",value:a},{selector:"props.className",value:"list-field"});t.contactName=s?s.props.value.toString():"";t.contactRelationship="";if(i){const{items:e}=i.props;const a=e.find((e=>e.value===i.props.selectedValues[0]));t.contactRelationship=a?a.text:""}return t};const T=()=>{if(!w){console.error(`Dynamic Form: Error getting add template for repeating container with id ${i}`);return}(0,f.Ti)(i,w,n)};const k=e=>{if(e.includes("add")){(0,f.JJ)(i,e,n)}else{g(e)}};const I=()=>{g(false)};const A=()=>{if(typeof m==="string"){const e=m;const t=e.split("_").pop();dn(window.currentlyEditingEmployeeId.toString(),t).then((t=>{let{data:a={}}=t;if(!a.success){if(a.error){window.setMessage(a.error,"error")}return}E(e);(0,f.JJ)(i,e,n)})).catch((e=>{let{data:t={}}=e;window.setMessage(t.error||t.message,"error")}))}g(false)};const F=Array.isArray(s)?s.map((e=>{if(e?.props?.props?.className?.includes("repeatPrototype")){w=e.props.props.id;return null}C++;return c().createElement(On,(0,r.Z)({},e.props,{handleRemove:k,key:e.props.props.id}))})):s;const Z=!!C;(0,l.useEffect)((()=>{if(w&&!Z&&h&&!v){return T()}y(true)}),[w,h,Z,v]);return(0,d.Z)("div",{},void 0,m&&(0,d.Z)(Hn,{data:x(m),handleClose:I,handlePrimaryAction:A}),(0,d.Z)("div",{className:"row repeat dependents",id:i},void 0,(0,d.Z)("div",{},void 0,(0,d.Z)("input",{id:"qf:dependent",name:"_qf__dependent",type:"hidden"}),F),!Z&&(0,d.Z)(b,{canAdd:u,onClick:T}),Z&&u&&(0,d.Z)(qe.T,{children:Gn.__("Add Dependent"),disabled:!u||o,onClick:T,type:"button",startIcon:(0,d.Z)(ht.I,{name:"circle-plus-regular",size:16})})))};var Kn=Yn;const Xn=e=>{const{settings:{repeatType:t}}=e;let a=null;if(t==="base"){return null}if(t==="education"){a=c().createElement(wn,e)}else if(t==="contact"){a=c().createElement(Ln,e)}else if(t==="dependent"){a=c().createElement(Kn,e)}return a};var Jn=Xn;var Qn=a(26570);function es(){let e;t();Qn(window).resize((function(){clearTimeout(e);e=setTimeout(t,400)}));function t(){const e=document.getElementsByClassName("js-BhrTable-scroll");for(let t=0;t<e.length;t++){const a=e[t];const n=a.querySelector(".BhrTable__scrollWrapper-inner");if(n.scrollWidth>n.clientWidth){a.classList.add("scrollable");n.addEventListener("scroll",(function(){if(n.scrollLeft>n.scrollWidth-(n.clientWidth+50)){a.classList.remove("scrollable")}else{a.classList.add("scrollable")}}))}else{a.classList.remove("scrollable")}}}Qn(".js-BhrTable-scroll").on("mouseover",".fab-Table__row",a);function a(){const e=Qn(this)[0];const t=e.closest(".scrollable .BhrTable__scrollWrapper-inner");const a=Qn(this).find(".BhrTable__actions:visible").parent(".fab-Table__cell")[0];if(t&&a){const n=a.offsetWidth;if(t.scrollLeft<e.scrollWidth-(t.clientWidth+n)){let e="";Qn(this).find(".BhrTable__actions:visible").parent(".fab-Table__cell").each((function(a){const n=window.getComputedStyle(this);const s={left:t.clientWidth-parseInt(n.width)+"px",height:parseInt(n.height)-parseInt(n.borderBottomWidth)+"px",display:"flex","flex-direction":"column","justify-content":"center","border-bottom":"none"};e=n.height;this.classList.add("BhrTable__actions--floating");Qn(this).css(s)}));Qn(this).css({height:e})}}}Qn(".js-BhrTable-scroll").on("mouseout",".fab-Table__row",(function(){Qn(this).find(".BhrTable__actions:visible").parent(".fab-Table__cell").each((function(e){Qn(this).removeAttr("style");this.classList.remove("BhrTable__actions--floating")}))}))}const ts=e=>{let t=e;const a=(0,f.kr)({formData:e});const n=(0,f.bl)(a,{selector:"props.className",value:"oneEmailRequired"});if(n){const e=(0,f.FX)(a,n.props.id,{selector:"type",value:"FieldGroup"});if(e){t=(0,f.YT)(e.props.id,"OneEmailRequiredFieldGroup",t)}}return t};const as=e=>{const t=e;const a=(0,f.kr)({formData:e});const n=(0,f.qH)(a,{selector:"key",value:":idx:",match:"includes"},{selector:"type",value:"SelectStandardCountryField",match:"exact"},{selector:"settings.isCustomField",value:false,match:"exact"});const s=Object.keys(n);if(s.length){s.forEach((e=>{const n=t[e];const s=(0,f.FX)(a,e,{selector:"type",value:"FieldGroup"});if(s){const e=(0,f.N2)(a,s?.props?.id,{selector:"props.data-csz",value:"state"},{selector:"settings.isCustomField",value:false,match:"exact"});const t=(0,f.N2)(a,s?.props?.id,{selector:"props.data-csz",value:"postal_code"},{selector:"settings.isCustomField",value:false,match:"exact"});const i=Object.keys(e);if(i.length){const e=i[0];n.props["data-state-field-id"]=e}const o=Object.keys(t);if(o.length){const e=o[0];n.props["data-zip-field-id"]=e}}}))}return t};const ns=e=>{let t=e;t=ts(t);t=as(t);t.memoizeKey=(0,M.makeUid)();return t};var ss=a(96370);var is=a(97642);var os=a(20894);const rs={...s,...n,...o,...i};const ls=e=>{let{data:t,controls:a={},isAddEmployeeForm:n=false,previewMode:s=false,additionalOptions:i={},customOnSubmit:o}=e;const[r,c]=(0,l.useState)(t);const d=(0,is.u)([],{mode:"onBlur",shouldFocusError:false,shouldUnregister:false});const{root:u}=r;const h=r[u];let p=true;const{isInstalled:m}=(0,os.z)("quickbooksOnlinePayroll");(0,l.useEffect)((()=>{es()}),[]);if(h&&h.settings&&Object.prototype.hasOwnProperty.call(h.settings,"isClickToEdit")){p=false}const[f,g]=(0,l.useState)(!s&&p);const v={...rs,...a};const{employeeId:y,showPayrollFederal:b=false,showPayrollState:w=false,isNHPPacket:C=false}=i;const S={controls:v,formData:r,setFormData:c,formOptions:{employeeId:y,isNHPPacket:C,showPayrollFederal:b,showPayrollState:w},form:{isAddEmployeeForm:n,isEditable:f,setIsEditable:g,customOnSubmit:o,previewMode:s},validation:d};(0,ss.M)(S);const E=e=>{const t=r[e];const{props:a,settings:n,type:s,children:i}=t;let o=s;if(typeof t==="undefined"||typeof a==="undefined"){console.error(`Dynamic Form: Unable to find element id: ${e}`);return null}if(o.includes("upload_covid_documents")){o="Documents"}let c=[];if(Array.isArray(i)&&i.length>0){c=i.map((e=>e===null||e===undefined?null:E(e)))}const d=v[o]||v.FallbackDiv;return(0,l.createElement)(d,{key:a.id,context:S,props:a,settings:n,type:o,isQuickBooksOnlinePayrollEnabled:m},c)};return u?E(u):null};const cs=e=>{const t=ns(e.data);return c().createElement(ls,(0,r.Z)({},e,{data:t}))};var ds=cs},45673:(e,t,a)=>{"use strict";a.d(t,{Kx:()=>c});const n="";function s(){let{maxLength:e=null,minLength:t=null,replaceInvalidCharacters:a=true,nonMatchingRegExp:s=/\W/g,matchingRegularExpression:i=/\w/}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};function o(){let o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:n;if(o===n&&t===null){return[i]}let l=o;if(e&&typeof e==="number"){l=l.slice(0,e)}l=a?l.replace(s,n):l;if(t&&typeof t==="number"){const e=l.length;if(e<t){for(let a=e;a<t;a++){l+="9"}}}return r(l)}function r(e){return e.split(n).map((e=>i.test(e)?i:e))}o.instanceOf="createDynamicMask";return o}function i(){let{maxLength:e=null,minLength:t=null,replaceInvalidCharacters:a=true}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return s({maxLength:e,minLength:t,replaceInvalidCharacters:a,nonMatchingRegExp:/\D+/g,matchingRegularExpression:/\d/})}function o(){let{maxLength:e=null,minLength:t=null,replaceInvalidCharacters:a=true}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return s({maxLength:e,minLength:t,replaceInvalidCharacters:a,nonMatchingRegExp:/[^A-Za-z0-9]+/g,matchingRegularExpression:/[A-Za-z0-9]/})}const r=i({replaceInvalidCharacters:false});const l=o({replaceInvalidCharacters:false});const c={"ssn-field":r("999-99-9999"),"ssn-field-sensitive":l("999-99-9999"),"sin-field":r("999-999-999"),"sin-field-sensitive":l("999-999-999"),"nin-field":l("ss ss ss ss s"),"national-id-field":o({minLength:6,maxLength:16}),validatePassportNumber:o({maxLength:20}),"cc-expiration-field":r("99/99")}},84279:(e,t,a)=>{"use strict";a.d(t,{R1:()=>M,ol:()=>l,Wy:()=>U,CU:()=>N});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(98976);const r=e=>{let{context:t}=e;const{formOptions:{isNHPPacket:a}}=t;return i().createElement(i().Fragment,null,(0,n.Z)(o.q,{employeeId:0,isDisabled:a,isNewEmployeeForm:true}))};var l=r;var c=a(7167);var d=a(405);var u=a(7357);var $=a(26570);const h=e=>{let{access:t,settings:a,context:s}=e;const{controls:{FieldRow:i}}=s;const{userGroups:o,userGroupValue:r}=a;let l=t==="disabled"?$.__("Disabled"):$.__("Enabled");if(o&&Array.isArray(o)&&o.length>1&&r){const e=o.find((e=>e.value===r));if(e){l=e.text}}return(0,n.Z)(i,{context:s,props:{},settings:{}},void 0,(0,n.Z)("span",{className:"DynamicForm--employeeAccess__noAccess"},void 0,l))};var p=h;var m=a(13354);var f=a(56921);var g=a(33042);var v=a(14386);var y=a(26242);var b=a(4715);var w=a(26570);const C=e=>{let{accessLevelText:t,name:a,renderAccessLevelOptions:s,renderEmailReminderText:o,value:r}=e;return i().createElement(i().Fragment,null,(0,n.Z)(m.H,{size:"extra-small"},void 0,w._(`This new employee will have access to:`)),(0,n.Z)("input",{type:"hidden",name:a,value:r}),(0,n.Z)(f.F,{marginTop:"16px",width:"100%"},void 0,(0,n.Z)(f.F,{alignItems:"start",flex:1},void 0,(0,n.Z)(g.S,{backgroundColor:"neutral-medium",borderRadius:"medium",marginRight:2,padding:1.5},void 0,(0,n.Z)(f.F,{alignItems:"center"},void 0,(0,n.Z)(v.I,{color:"primary-strong",name:"address-card-regular",size:24}))),(0,n.Z)(y.L,{},void 0,(0,n.Z)(c.B,{color:"neutral-strong",size:"large",weight:"medium"},void 0,w.__("BambooHR")),(0,n.Z)(y.L,{margin:"2px 0px 2px 0px"},void 0,(0,n.Z)(c.B,{color:"neutral-strong",size:"extra-small"},void 0,t)),s(),o())),(0,n.Z)(b.D,{color:"neutral-weak",margin:"0px 24px",orientation:"vertical"}),(0,n.Z)(f.F,{alignItems:"start",flex:1},void 0,(0,n.Z)(g.S,{backgroundColor:"neutral-medium",borderRadius:"medium",marginRight:2,padding:1.5},void 0,(0,n.Z)(f.F,{alignItems:"center"},void 0,(0,n.Z)(v.I,{color:"primary-strong",name:"circle-dollar-regular",size:24}))),(0,n.Z)(y.L,{},void 0,(0,n.Z)(c.B,{color:"neutral-strong",size:"large",weight:"medium"},void 0,w.__("QuickBooks Workforce")),(0,n.Z)(y.L,{marginTop:"2px"},void 0,(0,n.Z)(c.B,{color:"neutral-strong",size:"extra-small"},void 0,w.__("They will use QuickBooks Workforce to access their paychecks and tax documents.")))))))};var S=C;var E=a(22635);var x=a(86319);var T=a(37194);var k=a(26570);const I=e=>{let{access:t,accessLevelText:a,context:s,handleSelectChange:o,hasEmailFields:r,props:l,renderAccessLevelOptions:c,renderEmailReminderText:d}=e;const{id:u,name:h}=l;const{controls:{FieldRow:p}}=s;return i().createElement(i().Fragment,null,r&&i().createElement(i().Fragment,null,(0,n.Z)(p,{context:s,props:{},settings:{}},void 0,(0,n.Z)(f.F,{"data-bi-id":"employees-add-employee-form-employee-access"},void 0,(0,n.Z)(E.S,{ariaLabel:k.__("Self-Service Access"),type:"radio"},void 0,(0,n.Z)(f.F,{gap:"24px",flexDirection:"row",height:"121px"},void 0,(0,n.Z)(x.S,{boxWidth:"380px",description:a,icon:"user-check-solid",inputId:`${u}-enabled`,isChecked:t==="enabled",name:h,onChange:o,title:k.__("Allow Access to BambooHR"),type:"radio",value:"enabled"}),(0,n.Z)(x.S,{boxWidth:"380px",description:k.__(`They won't have access and will not be able to login to BambooHR.`),icon:"ban-regular",inputId:`${u}-disabled`,isChecked:t!=="enabled",name:h,onChange:o,title:k.__("No Access"),type:"radio",value:"disabled"}))))),c()),(0,n.Z)(p,{context:s,props:{},settings:{}},void 0,(0,n.Z)("div",{className:"fieldBox fab-FormField"},void 0,!r&&(0,n.Z)("span",{className:"fab-FormNote DynamicForm--employeeAccess__noMargin"},void 0,(0,n.Z)(T.Message,{link:(0,T.InternalLink)("new_fields.php"),text:k._(`To turn this on the employee needs an email and we don't detect an email on the page. Click [here] to add.`)})),d())))};var A=I;var F=a(26570);const Z=e=>{let{props:t,settings:a,context:o}=e;const{id:r,name:l,value:h="disabled"}=t;const{hasEmailFields:m,permission:f,userGroups:g}=a;const{controls:{FieldRow:v}}=o;const y=g&&Array.isArray(g)?[g[0].value]:[];const[b,w]=(0,s.useState)(window.isQuickBooksIntegration?"enabled":h);const[C,E]=(0,s.useState)(y);const[x,T]=(0,s.useState)(true);const k=(0,u.rz)(o,u.Iv.emailWork);const I=k?.props?.value;const Z=(0,u.rz)(o,u.Iv.emailHome);const M=Z?.props?.value;(0,s.useEffect)((()=>{const e=!!I;const t=!!M;if(e||t){T(false)}else{T(true)}}),[I,M]);const N=(e,t)=>{w(t);(0,u.Dn)("text",r,t,o)};const D=e=>{E(e)};const L={id:"ess_group_id",isClearable:false,items:g,label:F.__("Access Level"),menuWidth:7,name:"ess_group_id",onChange:D,selectedValues:C,width:7};const P=g&&Array.isArray(g)&&g.length>1;const O=P?F.__("They will be able to login to BambooHR using the access level you choose."):F.__("They will be able to login to BambooHR using the access level you choose in settings.");const R=()=>{if(x&&b==="enabled"){return(0,n.Z)(c.B,{color:"neutral-weak",size:"extra-small"},void 0,F.__("To enable access, this employee needs to be active and have a valid work or home email."))}return null};const B=()=>{if(P&&b==="enabled"){return(0,n.Z)(v,{context:o,props:{},settings:{}},void 0,(0,n.Z)("div",{className:"fieldBox fab-FormField"},void 0,i().createElement(d.S,L)))}return null};const H=()=>{if(f!=="REQUEST/EDIT"){return(0,n.Z)(p,{access:b,context:o,props:t,settings:a})}else if(window.isQuickBooksIntegration){return(0,n.Z)(S,{accessLevelText:O,name:l,renderAccessLevelOptions:B,renderEmailReminderText:R,value:b})}else{return(0,n.Z)(A,{access:b,accessLevelText:O,context:o,handleSelectChange:N,hasEmailFields:m,props:t,renderAccessLevelOptions:B,renderEmailReminderText:R,settings:a})}};return(0,n.Z)("div",{className:"DynamicForm--employeeAccess"},void 0,H())};var M=Z;let N=function(e){e["newHireCheckbox"]="customNewHireCheckbox";e["payrollCheckbox"]="bamboohrPayrollCheckbox";e["employeeAccess"]="employee_access_field";e["payrollProviderSelectField"]="payrollProviderSelectField";e["employmentEligibilityVerificationSection"]="employment_eligibility_verification_section";return e}({});var D=a(86930);var L=a(62794);var P=a(88721);var O=a(17842);var R=a.n(O);var B=a(60042);var H=a.n(B);var j=a(87579);var z=a(26570);const q="taxInformationGroup";const W=e=>{let{context:t,props:a}=e;const{controls:{Legend:o},validation:{formState:{errors:r},register:l},form:{isAddEmployeeForm:c},formOptions:{employeeId:d,showPayrollFederal:h,showPayrollState:p,isNHPPacket:m}}=t;const{disabled:f}=a;const[g,v]=(0,s.useState)({});const[y,b]=(0,s.useState)(false);const[w,C]=(0,s.useState)(false);const S=(0,s.useRef)();const E=window.SESSION_USER&&window.SESSION_USER.isAdmin;l(q,{validate:{manuallyRequired:()=>u.Lk.validateTaxInformation(S)}});const x=(0,u.by)(r,q);const T=!!x;const k=(0,u.rz)(t,u.Iv.location);const I=(0,u.rz)(t,u.Iv.employeeAddressState);const A=(0,u.rz)(t,u.Iv.payrollHomeStateField);const F=(0,u.rz)(t,u.Iv.stateTaxWithholdingLocationField);const Z=(0,u.rz)(t,u.Iv.stateUiLocationField);const M=(0,u.rz)(t,u.Iv.stateUiExemptField);const N=(0,u.Ly)(k);const O=(0,u.Ly)(I)||(0,u.Ly)(A);const B=(0,u.Ly)(F);const W=(0,u.Ly)(Z);const U=!!M?.props?.checked;const V=()=>{if(k&&(I||A)&&F&&Z&&M){if(N&&O&&B&&W){b(true)}}};const G=async()=>{if(N&&O&&B&&W){C(true);const e=await R().get("/payroll_ajax/new_employee_detailed_tax_information/",{locationId:N,homeStateId:O,stateTaxWithholdingLocation:B,stateUiLocation:W,stateUiExempt:U});C(false);if(e.data&&e.data.success){v(e.data.employeeTaxInformation);b(false)}}};(0,s.useEffect)((()=>{V()}),[N,O,B,W,U]);const Y=H()("DynamicForm--taxInformation",{"DynamicForm--error":T});const{hasBhrPayroll:K,hasTempTraxFeature:X,hasTrax:J,withHoldings:Q}=window;const ee=document.getElementById("nhpTaxInformation");const te={canAccessStateUiFields:true,canManageBhrPayroll:false,companyTaxStates:[],employeeId:0,federalTaxDeductionsPermissions:3,federalTaxDeductionToggle:true,hasBhrPayroll:false,hasBlankStateHeader:false,hasTempTraxFeature:true,hasTrax:true,headerHeadlineSize:"small",isAdminUser:E,isNewHirePacket:true,isPayrollAdminUser:true,newTraxEEData:g,residentTaxState:null,showResidentTaxState:null,stateTaxDeductionsPermissions:3,unemploymentTaxState:null,withholdings:{},withholdingSectionsFlexGap:2};if(!c){te.canAccessStateUiFields=false;te.companyTaxStates=null;te.employeeId=d;te.federalTaxDeductionsPermissions=h?2:0;te.hasBhrPayroll=K;te.hasTempTraxFeature=X;te.hasTrax=J||undefined;te.isAdminUser=false;te.isNewHirePacket=m;te.isPayrollAdminUser=false;te.newTraxEEData=ee?JSON.parse(ee.innerHTML):null;te.stateTaxDeductionsPermissions=p?2:0;te.withholdings=Q||undefined}return i().createElement("div",{className:Y,ref:S},(0,n.Z)(o,{props:{},settings:{label:z.__("Tax Withholding"),icon:"taxWithholding"}}),T&&(0,n.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,x.message),!y&&i().createElement(i().Fragment,null,!!Object.keys(g).length&&(0,n.Z)("div",{className:"DynamicForm--taxInformation__delete"},void 0,(0,n.Z)(D.I,{floatingIcon:true,icon:"trash-solid",onClick:()=>b(true),secondary:true,type:"button"})),i().createElement(j.X,te)),y?(0,n.Z)(L.B,{actions:[(0,n.Z)(P.B,{onClick:G,processing:w,type:"button",variant:"outlined"},"add-withholding",z.__("Add Withholding"))],icon:"landmark-dome-solid",subtitle:z.__("Federal and State Tax withholding information can be added for this employee."),title:""}):null)};var U=W},7357:(e,t,a)=>{"use strict";a.d(t,{di:()=>He.di,F3:()=>s.Z,Iv:()=>i.Iv,Ll:()=>Ye,Ti:()=>Re,kr:()=>He.kr,U7:()=>A,Lk:()=>n,wu:()=>Je,I:()=>$e,qH:()=>je,ID:()=>qe,N2:()=>Ge,FX:()=>Ve,bl:()=>We,oU:()=>Ue,C3:()=>Z,Nu:()=>ot,Lt:()=>B,zW:()=>Tt,mb:()=>He.mb,by:()=>M,rz:()=>He.rz,B1:()=>D,bw:()=>wt,II:()=>He.II,Ly:()=>He.Ly,Gj:()=>at,Dn:()=>et,IB:()=>tt,wx:()=>N,Pr:()=>yt,Wc:()=>F,cR:()=>L,q9:()=>I,GS:()=>bt,pn:()=>O,CU:()=>o.CU,JJ:()=>Be,Fx:()=>Qe,HZ:()=>rt,gW:()=>Ke,YT:()=>nt,Ub:()=>j});var n={};a.r(n);a.d(n,{baseDateValidation:()=>U,checkEmailExists:()=>ae,currencyTypeMatch:()=>q,invalidPayrollOption:()=>de,maxLengthSelect:()=>Se,noLeadingZeros:()=>pe,onePrimaryContact:()=>ve,uniqueEmployeeNumber:()=>ie,validateDateBetween:()=>W,validateDateField:()=>Y,validateDateFrom_to:()=>J,validatePaidPerTrax:()=>_e,validatePayRatePaidPer:()=>ye,validatePaySchedule:()=>Ce,validateSocialId:()=>Ie,validateSocialSecurity:()=>Fe,validateTaxInformation:()=>Pe,validateUSZipTrax:()=>De,valueGreaterThanZero:()=>ce});var s=a(21866);var i=a(74825);var o=a(84279);var r=a(73641);var l=a(17842);var c=a.n(l);var d=a(30424);var u=a(82543);var h=a.n(u);var $=a(26570);const p=/^[0-9]{3}-[0-9]{2}-[0-9]{4}$/;const m=/^[0-9]{3}-[0-9]{3}-[0-9]{3}$/;const f=/^([0-9a-z]{2}\s?){4}\s?[0-9a-z]{1}$/i;const g=/^[0-9a-z]{6,16}$/i;const v=/^\d+$/;const y=/^((https?|s?ftp):\/\/)?(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;const b=new RegExp(window.GLOBAL_NUMBER_REGEX.replace("(?!0[0-9])",""));const w=/^[A-Z0-9]{1,20}$/i;const C={[i.Iv.ssn]:{validateSocialSecurity:{check_field:"ssn",action:"checkSSN",message:window.SESSION_USER&&window.SESSION_USER.isAdmin?$.__("Oops, this is not a valid SSN or it is a duplicate of another SSN in your account."):$.__("Oops! Double check the numbers you entered. If everything is correct please contact your administrator.")},pattern:p},[i.Iv.sin]:{validateSocialId:{action:"checkSIN",check_field:"sin",message:$.__("There is already an employee with this SIN in the system.")},pattern:m},[i.Iv.nin]:{validateSocialId:{check_field:"nin",action:"checkNIN",message:$.__("Please fix this field.")},pattern:f},[i.Iv.nationalId]:{validateSocialId:{check_field:"national_id",friendly_name:"National ID",action:"checkNationalID",message:$.__("Please fix this field.")},pattern:g},[i.Iv.employeeNumber]:{uniqueEmployeeNumber:true},[i.Iv.paySchedule]:{validatePaySchedule:true},[i.Iv.payType]:{invalidPayrollOption:true},[i.Iv.paidPer]:{invalidPayrollOption:true,validatePayRatePaidPer:true,validatePaidPerTrax:true},[i.Iv.payRate]:{validatePayRatePaidPer:true,currencyTypeMatch:{onlyIfTrax:true,currency:"USD"}},CalendarPicker:{baseDateValidation:{from:h()().subtract({year:100,days:1}),to:h()().add(50,"y")}},validateBirthDate:{validateDateBetween:{from:"1900-01-01",to:h()()}},validateDateField:{validateDateField:true},validateHireDate:{validateDateBetween:{from:"1900-01-01",to:h()().add(3,"y")}},validateSmallDate:{validateDateBetween:{from:"1900-01-01",to:"2079-06-06"}},validateToDate:{validateDateFrom_to:true},validateZipTrax:{validateUSZipTrax:true},checkEmailExists:{checkEmailExists:true,pattern:{value:d.emailRegex,message:$.__("Invalid email address.")}},validateEmail:{pattern:{value:d.emailRegex,message:$.__("Invalid email address.")}},validateUrl:{pattern:{value:y,message:$.__("Please enter a valid URL.")}},validateNumber:{pattern:{value:new RegExp(window.GLOBAL_NUMBER_REGEX),message:$.__("Please enter a valid number or remove any leading zeros.")}},validateEmployeeNumber:{pattern:{value:b,message:$.__("Please enter a valid number.")}},validatePayrollEmployeeNumber:{pattern:v,maxLength:6,noLeadingZeros:true},creditCardLast4Digits:{pattern:v,maxLength:4},validateOvertimeRateTrax:{valueGreaterThanZero:{onlyIfTrax:true},currencyTypeMatch:{onlyIfTrax:true,currency:"USD"}},validatePassportNumber:{pattern:w,maxLength:20},validateCCNumber:{minLength:13,maxLength:16},primaryContact:{onePrimaryContact:true}};var S=a(38592);var E=a(96370);var x=a(26570);const T=null;const k=["maxLength","minLength","max","min","pattern"];const I=(e,t)=>{let a=true;const n=document.getElementById(t.props.id);if(!O(n)){return false}if(t?.props?.disabled===true||t?.props?.readOnly!==undefined){return false}if(t?.settings?.validation?.requiredWhenVisible===true){a=true}else{a=false}if(A()===0&&t?.props?.className?.includes("emailRequiredIfSelfService")&&!a){const t=(0,He.rz)(e,o.CU.employeeAccess);const a=qe(e,{selector:"props.className",value:"oneEmailRequired"});const n=Object.keys(a);if(t?.props?.value==="enabled"&&n.length===1){return true}}if(t?.settings?.validation?.requiredTrax&&(0,S.hasTrax)()){const t=bt(e);if(t){a=true}}return a};const A=()=>window.currentlyEditingEmployeeId||0;const F=()=>{let e=false;if(A()===0){e=true}return e};const Z=e=>{if(typeof e!=="string"){console.error("Cannot validate field without name");return""}if(e.includes("table_")){return e.replaceAll("[","_group").replaceAll("][","_field").replaceAll("]","")}return e};const M=(e,t)=>(0,r.get)(e,t,null);const N=(e,t)=>!!M(e,t);const D=(e,t,a)=>{if(a&&Object.keys(t).length){const n=Ge(e,a,{selector:"type",value:"FieldRow"});if(Object.keys(n).length===0){const n=Ge(e,a,{selector:"key",value:"field"});const s=Object.keys(n).map((e=>n[e]?.props?.name));const i=s.find((e=>N(t,e)&&M(t,e)?.message));if(i){return(0,r.get)(t,i,null)}}}return null};const L=()=>window.isOnboardingUser||window.SESSION_USER&&window.SESSION_USER.isOnboardingUser;const P=()=>{if(L()){return"/self_onboarding/packet/validate"}return"/employees/validate"};function O(e){return x(e).is(":visible")}function R(e,t){const a={validate:{}};if(t?.settings?.validation&&typeof t.settings.validation==="object"&&Object.keys(t.settings.validation).length){const n=e.formData[t?.props?.id];if(!n){return a}const s=Object.keys(t.settings.validation);if(s.includes("maxLength")){let{maxLength:i}=t.settings.validation;if((0,S.hasTrax)()&&s.includes("maxLengthTrax")&&bt(e)){i=t.settings.validation.maxLengthTrax}if(n.type.toLowerCase().includes("select")){a.validate.maxLengthSelect=Se(e,t,{maxLength:i,message:x.__("Please select an option with no more than %1 characters.",i)})}else{a.maxLength={value:i,message:x.__("Please enter no more than %1 characters.",i)}}}}return a}function B(e,t){const a={validate:{}};const s=(t.props.className||"").split(" ");s.forEach((s=>{const i=C[s];if(i&&t.props.disabled===false){Object.keys(i).forEach((s=>{if(k.includes(s)){a[s]=i[s]}else{const o=n[s];if(o){a.validate[s]=o(e,t,i[s])}}}))}}));const i=R(e,t);const o=(0,r.merge)(a,i);(0,E.Z)(t,o);return o}const H={};const j=async function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:undefined;if(typeof e!=="function"){console.warn("validateWithBE - unsupported ajax function!")}if(n&&n!==""){const e=H[n];if(e)return e}let s=null;let i=true;let o=false;try{s=await e.call(c(),a||P(),t);i=s.data===true;o=s.data===T;if(o){window.Rollbar.info("EE Validation: limit has been met!",{action:(t||{})?.action})}}catch(e){console.warn(e);return{response:null,isValid:true,isRateLimited:false}}const r={response:s,isValid:i,isRateLimited:o};if(n&&n!==""&&!o){H[n]=r}return r};var z=a(26570);const q=(e,t,a)=>n=>{const{settings:{currency:{code:s=""}}}=t;let i=s===a.currency;const{Employee:o}=window;const r=o.firstName?o.firstName:"an employee";if(a.onlyIfTrax){const t=(0,S.hasTrax)()&&bt(e);if(!t){i=true}}if(F()){i=true}if(!i){window.setMessage(z.__("Oops, please make sure the pay rate is in %1 before adding %2 to a pay schedule that syncs with BambooHR Payroll.",a.currency,r),"error")}return i};const W=(e,t,a)=>e=>h()(e).isBetween(a.from,a.to,null,"[]");const U=(e,t,a)=>W(e,t,a);var V=a(26570);const G=V.__("Please enter a valid date.");const Y=(e,t,a)=>e=>{const t=e===""||h()(e,h().defaultFormat).isValid();return t||G};var K=a(26570);const X=K.__("Beginning date must be before end date.");const J=(e,t,a)=>a=>{const{props:n}=t;if(a===""){return true}const s=n["data-calendar-id"]||null;const i=We(e,{selector:"props.data-calendar-id",value:s,match:"exact"});if(!i){return false}const o=h()(a);const r=h()(i.props.value.toString());const l=o.isValid()&&r.isValid()&&o.isAfter(r,"day");return l||X};var Q=a(26570);const ee=Q.__("This field has been validated too many times, please wait 2 minutes and try again.");var te=a(26570);const ae=(e,t,a)=>{const n=te.__("This email is already being used.");return async a=>{if(!a){return true}const s={id:A(),userId:t.props["data-userid"]||null,email:a,action:"checkUserEmail"};const i=`${e.formData.memoizeKey}${A}${s.action}${s.email}`;const{isValid:o,isRateLimited:r}=await j(c().post,s,null,i);if(r){return ee}return o||n}};var ne=a(26570);const se=ne.__("This employee number is already being used.");const ie=(e,t,a)=>async e=>{if(!e){return true}const t={eeid:A(),value:e};const{isValid:a,isRateLimited:n}=await j(c().get,t,"/ajax/check_unique_ee_number.php");if(n){return ee}return a||se};var oe=a(67572);var re=a(26570);const le=re.__("Value must be greater than 0");const ce=(e,t,a)=>t=>{const n=!t||(0,oe.w)(t)>0;if(a.onlyIfTrax){if((0,S.hasTrax)()&&bt(e)){return n}return true}return n||le};const de=(e,t,a)=>a=>{if(bt(e)&&t&&Object.prototype.hasOwnProperty.call(t.props,"selectedValues")){const e=(0,He.II)(t);if(e){if(e?.props?.["data-invalid-payroll-option"]){return false}}}return true};var ue=a(26570);const he=ue.__("Value must not start with a 0.");const pe=(e,t,a)=>e=>{const t=!e||!e.toString().startsWith("0");return t||he};var me=a(33098);var fe=a(26570);const ge=fe.__("Please select one Primary Contact");const ve=(e,t,a)=>async a=>{const n=document.getElementById(t.props.id);if(!O(n)){return true}const{validation:{setError:s,clearErrors:i}}=e;await(0,me._)(100);const o=je(e,{selector:"props.className",value:"primaryContact"},{selector:"key",value:":idx:",match:"notIncludes"});const r=Object.keys(o).filter((e=>!!o[e]?.props?.checked));if(r.length>1){r.forEach((e=>{const t=o[e]?.props?.name;if(t){s(t,{type:"onePrimaryContact",message:ge})}}));return ge}i(Object.keys(o).map((e=>o[e]?.props?.name)));return true};const _e=(e,t,a)=>function(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";if(bt(e)&&t){const a=(0,He.rz)(e,i.Iv.payType);if(a){const e=(0,He.Ly)(a);if(e?.toLowerCase()==="salary"&&t?.toLowerCase()!=="year"){return false}}}return true};const ye=(e,t,a)=>t=>{const a=(0,He.rz)(e,i.Iv.paidPer);const n=(0,He.rz)(e,i.Iv.payRate);const s=(0,He.rz)(e,i.Iv.payType);const o=s?(0,He.Ly)(s):"";const r=n?.props?.value;const l=a?(0,He.Ly)(a):false;return!!t||!r&&!l||o==="Hourly"&&!!r};var be=a(26570);const we=be.__("SSN is not valid for the Selected Pay Schedule.");const Ce=(e,t,a)=>async t=>{const{validation:{trigger:a},formData:n}=e;if(!t){return true}if(!(0,S.hasTrax)()){return true}const s={id:A(),payScheduleId:null,payScheduleListValueId:t,action:"checkPayScheduleForEmployee",ssn:null};const o=(0,He.rz)(e,i.Iv.ssn);if(o&&o.props&&o.props.value){s.ssn=o.props.value}const{isValid:r,isRateLimited:l}=await j(c().post,s);if(l){return ee}if(!r){if(o&&o.props&&o.props.name){a(o.props.name)}}return r||we};const Se=(e,t,a)=>e=>{if(e){const e=(0,He.II)(t);if(e&&e.text){const{maxLength:t=255}=a;const n=e.text.length;return n>t?a.message:true}}return true};var Ee=a(80962);var xe=a(26570);const Te={};const ke={};const Ie=(e,t,a)=>{const{action:n,check_field:s,friendly_name:i,message:o}=a;const r=(i||s).toUpperCase();return async e=>{if(!e||e===t?.settings?.initialValue){return true}const a=A();const i=`${String(a)}_${s}`;const l=`${i}_${e}`;if(Te[i]?.value===e){return Te[i].valid}if(ke[l]){return ke[l]}let d;try{d=(async()=>{const t={id:a,check_field:s,action:n,[s]:e};const{isValid:d,isRateLimited:u}=await j(c().post,t);if(u){delete ke[l];return ee}let h=d;if(!d){let e;const t=new Promise((t=>{e=t}));const a=xe.__("There is already an employee with this %1 in the system. Are you sure you want to create another one?",r);const n=xe.__("Duplicate %1",r);(0,Ee.U0)(n,a,e);h=await t}Te[i]={value:e,valid:h,employeeId:String(a)};return h||o})();ke[l]=d;d.finally((()=>{delete ke[l]}));return d}catch(e){delete ke[l];throw e}}};let Ae=false;const Fe=(e,t,a)=>{const{action:n,check_field:s,message:o}=a;return async t=>{if(!t){return true}const a={id:A(),check_field:s,action:n,[s]:t,payScheduleListValueId:null};if((0,S.hasTrax)()){const t=wt(e);if(t){a.payScheduleListValueId=t}}const{isValid:r,isRateLimited:l}=await j(c().post,a);if(l){return ee}if(t==="001-00-0000"){if(!Ae&&!L()){Ae=true;(0,Ee.Ix)()}}else{Ae=false}if(r&&(0,S.hasTrax)()){const t=(0,He.rz)(e,i.Iv.paySchedule);if(t){const{props:{name:a}}=t;const{validation:{clearErrors:n}}=e;n(a)}}return r||o}};var Ze=a(78144);var Me=a(26570);const Ne=Me.__("Please enter a valid US Zip code.");const De=(e,t,a)=>a=>{const{className:n,id:s}=t.props;if(!a){return true}if(!(0,S.hasTrax)()||n.includes("contact_zip")||!O(document.getElementById(s))){return true}const i=bt(e);if(i){const e=(0,Ze.wU)(a);return e||Ne}return true};var Le=a(26570);const Pe=e=>{let t=true;const a=Le.__("There is missing information in Tax Withholding. Please check that all required fields are entered and all State Unemployment Insurance fields are filled out (if applicable).");const n=['[name^="fed[status"]','[name="state[optional][13]"]','[name="state[optional][48]"]','[name="state[location]"]','[name="uiState[location]"]','[name="uiState[optional][1]"]','[name="uiState[optional][2]"]','[name="uiState[optional][3]"]'];if(!e?.current){return t}const s=e.current.querySelectorAll(n.join(", "));if(!s||!s.length){return t}s.forEach((e=>{if(e&&!e.value.length){t=false}}));return t||a};function Oe(e){let t;do{t=`add${Math.round(Math.random()*1e4)}`}while(document.getElementById(e.replace(":idx:",t)));return t}function Re(e,t,a){const n=(0,r.cloneDeep)(a.formData[e]);const s=(0,He.mb)(t,a);let i;try{i=JSON.stringify(s)}catch(a){console.error(`Dyanmic Form: unable to stringify template with container ${e} and template ${t}`);return false}const o=Oe(t);i=i.replace(/:idx:/gi,o).replace("repeatPrototype","");try{i=JSON.parse(i)}catch(a){console.error(`Dyanmic Form: unable to parse template with container ${e} and template ${t}`);return false}const l=t.replace(":idx:",o);n.children.push(l);a.setFormData({...a.formData,...i,...{[n.props.id]:n}});return l}function Be(e,t,a){const n=(0,r.cloneDeep)(a.formData[e]);const s=(0,He.mb)(t,a);const i=(0,r.omit)(a.formData,Object.keys(s));n.children=n.children.filter((e=>e!==t));a.setFormData({...i,...{[n.props.id]:n}});const o=[];for(const e in s){if(s[e].props.name){const t=Z(s[e].props.name);o.push(t)}}a.validation.unregister(o)}function $e(){return!window.location.href.includes("contacts")}var He=a(44403);function je(e){let t=e.formData;for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++){n[s-1]=arguments[s]}n.forEach((e=>{let{selector:a,match:n="includes",value:s}=e;if(a==="key"&&n==="exact"){const e=t[s];t=e?(0,He.di)(e):{}}else{t=Object.keys(t).reduce(((e,i)=>{let o=false;if(a==="key"){if(n==="includes"&&i.includes(s)){o=true}else if(n==="notIncludes"&&!i.includes(s)){o=true}else if(n==="exact"&&i===s){o=true}}else{const e=(0,r.get)(t[i],a);if(e!==undefined){if(n==="includes"&&(typeof e==="string"||Array.isArray(e))&&e.includes(s)){o=true}else if(n==="notIncludes"&&(typeof e==="string"||Array.isArray(e))&&!e.includes(s)){o=true}else if(n==="exact"&&e===s){o=true}}}if(o){e[i]=t[i]}return e}),{})}}));return(0,r.cloneDeep)(t)}const ze=(0,r.memoize)((function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}return Object.keys(je(e,...a))}),(function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}return`${e?.formData?.memoizeKey}_${a.map((e=>Object.values(e).join(""))).join("_")}`}));const qe=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}if(e.formData?.memoizeKey?.length&&a?.length){const t=ze(e,...a);if(t?.length){const a={};t.forEach((t=>{a[t]=e.formData[t]}));return(0,r.cloneDeep)(a)}}return je(e,...a)};function We(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}const s=je(e,...a);const i=Object.keys(s)[0];if(typeof i!=="undefined"){return s[i]}return null}function Ue(e,t){const a=Object.keys(e.formData).find((a=>e.formData[a]?.children?.includes(t)));return a?e.formData[a]:null}function Ve(e,t){const a=Ue(e,t);if(a){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++){s[i-2]=arguments[i]}const t=We(e,{selector:"key",value:a.props.id,match:"exact"},...s);if(!t){return Ve(e,a.props.id,...s)}return t}return null}function Ge(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),s=2;s<a;s++){n[s-2]=arguments[s]}const i=e.formData[t];if(i&&i.children&&i.children.length){let t={};i.children.forEach((a=>{const s=e.formData[a];if(s.children&&s.children.length){const s=Ge(e,a,...n);t={...t,...s}}if(s){t[a]=s}}));const a=(0,He.kr)({formData:(0,r.cloneDeep)(t)});return je(a,...n)}return null}function Ye(e,t,a){const n=(0,r.cloneDeep)(e);for(var s=arguments.length,i=new Array(s>3?s-3:0),o=3;o<s;o++){i[o-3]=arguments[o]}const l=We((0,He.kr)({formData:n}),...i);if(!l){console.error(`Dynamic Form - Unable to add child, field not found`);return n}const c=Array.isArray(l.children)?l.children:[];if(a==="start"){c.unshift(t.props.id)}else{c.push(t.props.id)}l.children=c;n[t.props.id]=t;n[l.props.id]=l;return n}function Ke(e,t,a){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"hidden";const s=(0,r.cloneDeep)(e.formData);const i=(0,He.kr)({formData:s});const o={};const l={};const c={};const d=` ${n}`;const u=t=>{let n;if(typeof t==="string"){const e=t.replace("*","");const a=t.includes("*")?"includes":"exact";n=je(i,{selector:"key",value:e,match:a})}else{n=(0,He.di)(t)}Object.keys(n).forEach((t=>{const s=n[t];if(s.props.id.includes(":idx:")){return false}if(s){s.settings.fieldBoxClasses=s.settings.fieldBoxClasses||"";s.props.className=s.props.className||"";if(a){if(t.startsWith("field")){s.settings.fieldBoxClasses+=d;s.props.className+=d}else{s.props.className+=d}}else{if(t.startsWith("field")){s.settings.fieldBoxClasses=s.settings.fieldBoxClasses.replaceAll(d,"");s.props.className=s.props.className.replaceAll(d,"")}else{s.props.className=s.props.className.replaceAll(d,"")}}o[s.props.id]=s;const n=Ve(e,t,{selector:"type",value:"FieldRow"});if(n){l[n.props.id]=n}}}))};const h=(t,a,n)=>{Object.keys(t).forEach((t=>{const s=Ge(e,t,{selector:"key",value:"field"});let i=0;Object.keys(s).forEach((e=>{if(!o[e]){i++}}));if(i===0){u(t);if(a&&n){const n=Ve(e,t,a);if(n){c[n.props.id]=n}}}}))};if(Array.isArray(t)){t.forEach(u)}else{Object.keys(t).forEach(u)}h(l,{selector:"type",value:"FieldSet"},c);h(c);return o}const Xe=["INPUT","BUTTON","TEXTAREA","BA-SELECT","DIV"];const Je=e=>{const{tagName:t=""}=e.target;if(!Xe.includes(t)){return false}const a=e=>{if(e.querySelector(".fab-SelectToggle")?.classList?.contains("fab-SelectToggle--disabled")){return true}return e.getAttribute("disabled")!==null};if(a(e.target)){return false}if(t==="DIV"){const t=e.target.closest("ba-select, .fab-Select");if(t){if(a(t)){return false}}else{return false}}if(t==="LABEL"){const t=document.getElementById(e.target.getAttribute("for"));if(a(t)){return false}}if(t==="A"){return false}if(t==="BUTTON"){const t=e.target.closest(".DynamicForm--HoverBase__hint");if(t){return false}}return true};function Qe(e){const t={};Object.keys(e.formData).forEach((a=>{let n=e.formData[a];if(n.settings&&Object.prototype.hasOwnProperty.call(n.settings,"initialValue")&&!n.props.id.includes(":idx:")){n=(0,r.cloneDeep)(n);const{initialValue:e}=n.settings;if(Object.prototype.hasOwnProperty.call(n.props,"checked")){n.props.checked=!!e}else if(Object.prototype.hasOwnProperty.call(n.props,"selectedValues")){n.props.selectedValues=e}else{n.props.value=`${e}`}t[n.props.id]=n}}));e.setFormData((e=>({...e,...t})))}function et(e,t,a,n){let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;const i=(0,r.cloneDeep)(n.formData[t]);if(!i){console.error(`Dynamic Form - Unable to update value for field id: ${t}`);return}if(e==="text"||e==="textarea"){i.props.value=`${a}`}else if(e==="checkbox"||e==="radio"){i.props.checked=!!a}else if(e==="select"){let e=[];if(Array.isArray(a))e=a;if(typeof a==="string")e=[a];i.props.selectedValues=e}else if(e==="currency-object"){i.settings.currency=(0,r.cloneDeep)(a)}else if(e==="select-items"&&Array.isArray(a)){const e=(0,r.cloneDeep)(a);const t=i;t.props.items=e;const n=e.some((e=>e.value===t.props.selectedValues[0]));if(!n){t.props.selectedValues=[]}}if(s){n.setFormData((e=>({...e,...{[i.props.id]:i}})))}else{return i}}function tt(e,t,a,n,s){const i=(0,r.cloneDeep)(n.formData[e]);const o={};if(!i){console.error(`Dynamic Form - unable to update state field: ${e}`);return}let l=function(e){e[e["SELECT_FIELD"]=0]="SELECT_FIELD";e[e["TEXT_FIELD"]=1]="TEXT_FIELD";return e}({});let c=document.getElementById(e);let d="";let u;if(c?.value){d=c.value;u=l.TEXT_FIELD}else{c=document.querySelector(`#${e} select`);d=c?.value;u=l.SELECT_FIELD}if(a.subEntityOptions.length>0){i.type="SelectField";const e=a.subEntityOptions.map((e=>({text:e.name||e.text,value:e.value||e.id})));i.props.items=e;i.props.className=i.props.className.replaceAll("fab-TextInput","");i.props.isDisabled=!!i.props.disabled;if(s){i.props.selectedValues=Array.isArray(i.settings.initialValue)?i.settings.initialValue:[i.settings.initialValue]}else{i.props.selectedValues=u===l.SELECT_FIELD?[`${d}`]:[]}i.settings.type="select";i.props.type="select";i.props.placeholder=a.subEntityLabel}else{i.type="TextField";i.props.value=typeof i.settings.initialValue==="string"&&s?i.settings.initialValue:"";i.props.className+=" fab-TextInput";i.props.value=u===l.TEXT_FIELD?d:"";i.settings.type="text";i.props.type="text";delete i.props.isDisabled;delete i.props.selectedValues;delete i.props.items;delete i.props.placeholder}i.settings.label=a.subEntityLabel;i.props["aria-label"]=a.subEntityLabel;const h=(0,r.cloneDeep)(n.formData[t]);if(h){h.settings.label=a.postCodeLabel;h.props["aria-label"]=a.postCodeLabel;o[h.props.id]=h}o[i.props.id]=i;n.setFormData((e=>({...e,...o})))}function at(e,t,a){const n=(0,r.cloneDeep)(a.formData[e]);if(!n||!n.props||!n.props.items){console.error(`Dynamic Form - Unable to add item for field id: ${e}`);return}n.props.items.push({text:t.text,value:t.value.toString()});if(t.selected){n.props.selectedValues=[t.value.toString()]}a.setFormData((e=>({...e,...{[n.props.id]:n}})))}function nt(e,t,a){const n=(0,r.cloneDeep)(a);const s=n[e];if(s){s.type=t}return n}function st(e,t){if(Array.isArray(e)){const a=cloneDeep(t);e.forEach((e=>{if(typeof e.filter==="string"){const t=a[e.filter];if(t){t.type=e.replacementType}}else if(typeof e.filter==="object"){const t=e.filter;Object.keys(t).forEach((n=>{const s=t[n];const i=a[s&&s.props&&s.props.id];if(i){i.type=e.replacementType}}))}}));return a}return t}function it(e,t,a){const n=a.formData[e];const s=n&&n.children||[];const i={};s.map((e=>{const n=cloneDeep(a.formData[e]);if(n.type!==t){n.type=t;i[n.props.id]=n}return n}));if(Object.keys(i).length){a.setFormData((e=>({...e,...i})))}}const ot=(0,r.debounce)((e=>{const{formData:t,setFormData:a}=e;a((e=>({...e,forceRender:(0,S.makeUid)()})))}),200);const rt=()=>{const e=[".fab-Label--error",".fab-CheckboxGroup__legend--error",".fab-Textarea--error",".fab-TextInput--error",".fab-SelectToggle__innerFacade--errorCondition",".fab-FormNote--error",".DynamicForm--error"];const t=document.querySelector(e.join(","));if(t){t.scrollIntoView({behavior:"smooth",block:"center"})}};const lt={"f-0":{type:"TextField",props:{id:"f-0",value:"blue",className:""},settings:{initialValue:"blue"},children:["1-2"]},"1-2":{type:"TextField",props:{id:"1-2"},settings:{}}};const ct={...(0,r.cloneDeep)(lt),"1-2":{type:"TextField",props:{id:"1-2"},settings:{},children:["1-3"]},"1-3":{type:"SelectField",props:{id:"1-3"},children:["1-4"],settings:{}},"1-4":{type:"StaticTemplate",props:{id:"1-4"},settings:{}}};let dt=JSON.stringify((0,r.cloneDeep)(ct));dt=dt.replace(/1-2/gi,"1-2:idx:").replace(/1-3/gi,"1-3:idx:").replace(/1-4/gi,"1-4:idx:");const ut=JSON.parse(dt);const ht={test_01:{type:"CheckboxField",props:{id:"test_01",checked:true},settings:{initialValue:true},children:[]}};const pt={test_02:{type:"SelectField",props:{id:"test_02",className:"",selectedValues:["2"],items:[{text:"test 2",value:"2"}]},settings:{initialValue:["2"]},children:[]}};const mt={"0-0":{type:"FieldSet",props:{id:"0-0"},settings:{},children:["0-1"]},"0-1":{type:"FieldRow",props:{id:"0-1"},settings:{},children:["field_1-2","field_1-3"]},"field_1-2":{type:"TextField",props:{id:"field_1-2"},settings:{}},"field_1-3":{type:"TextField",props:{id:"field_1-3"},settings:{}}};const ft={field_4204:{type:"CurrencyField",props:{type:"text",name:"field_4204[0]",id:"field_4204",className:"dynamic-field-react  fab-TextInput fab-TextInput--width5 currency-field  js-overtimeRate",value:"",disabled:false},settings:{initialValue:"",fieldBoxClasses:" spaced",currency:{code:"USD",symbol:"$",symbolPosition:0},label:"Overtime Rate",type:"currency",isCustomField:false}}};function gt(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return createContext(e)}var vt=a(56445);function _t(){return window.Employee&&window.Employee.payrollSynced}function yt(e){let t=false;const a=(0,He.rz)(e,i.Iv.paySchedule);if(a){t=a.props.items.some((e=>e.props&&e.props["data-syncing-pay-schedule"]))}return t}function bt(e){const t=(0,He.rz)(e,o.CU.payrollCheckbox);const a=(0,He.rz)(e,o.CU.payrollProviderSelectField);const n=(0,vt.ifFeature)("XERO_UK_INTEGRATION",true);if(n&&a){const e=a.props.selectedValues?.includes("bamboohr_payroll");if(e){return true}}else if(t){if(t.props.checked){return true}}const s=(0,He.rz)(e,i.Iv.paySchedule);if(!s){return _t()}const{items:r}=s.props;const l=(0,He.Ly)(s);const c=r.find((e=>e.value===l));if(c){return c.props&&c.props["data-syncing-pay-schedule"]}return false}function wt(e){const t=(0,He.rz)(e,i.Iv.paySchedule);let a;const n=(0,He.rz)(e,o.CU.payrollCheckbox);const s=(0,He.rz)(e,o.CU.payrollProviderSelectField);if(t){a=(0,He.Ly)(t)}if(n&&t&&!a){const e=!!n.props.checked;const a=t.props.items.find((t=>t.props&&t.props["data-syncing-pay-schedule"]===e));if(a){return a.value}}else if(s&&t&&!a){const e=s.props.selectedValues?.includes("bamboohr_payroll");const a=t.props.items.find((t=>t.props&&t.props["data-syncing-pay-schedule"]===e));if(a){return a.value}}return a}var Ct=a(13216);var St=a(26570);const Et=e=>{if(e===0||!(0,S.hasTrax)()){return null}const t=(0,Ct.M)(e);const a=t?t.times(1.33333333).toFixed(2):NaN.toString();const n=St.__("The double time rate is $%1.",a);return n};const xt=e=>{if(e&&(0,S.hasTrax)()){const{value:t=0}=e.props;const{currency:{symbol:a="$",symbolPosition:n=0}}=e.settings;const s=(0,oe.w)((0,oe.l)(t,a));const i=(0,Ct.M)(s);const o=i?i.times(2).toFixed(2):NaN.toString();const r=i?i.times(1.5).toFixed(2):NaN.toString();const l=n==0?`${a}${r}`:`${r}${a}`;const c=n==0?`${a}${o}`:`${o}${a}`;const d=St.__("Overtime rate is %1 (1.5x), double-time rate is %2",l,c);return d}return null};function Tt(e){const t={[i.Iv.overtimeRate]:{show:false,note:null},[i.Iv.overtimeStatus]:{note:null,nonExemptEmptyPay:false}};const a=(0,He.rz)(e,i.Iv.payRate);const n=(0,He.rz)(e,i.Iv.overtimeStatus);const s=(0,He.rz)(e,i.Iv.payType);const o=(0,He.rz)(e,i.Iv.overtimeRate);const r=(0,He.rz)(e,i.Iv.paidPer);const l=(0,He.Ly)(r);const c=n&&((0,He.Ly)(n)||"");const d=s&&((0,He.Ly)(s)||"");const u=(0,oe.w)(o?.props?.value);t[i.Iv.overtimeRate].note=Et(u);if(c?.toLowerCase()==="non-exempt"){if(!(0,S.hasTrax)()){t[i.Iv.overtimeRate].show=true}else if(d?.toLowerCase()==="hourly"&&l==="Hour"&&a?.settings?.currency?.symbolPosition==0){t[i.Iv.overtimeRate].show=false;t[i.Iv.overtimeStatus].note=xt(a)}else if(d==="Hourly"){t[i.Iv.overtimeRate].show=false}else{t[i.Iv.overtimeRate].show=true}if(a){const e=(0,oe.w)(a?.props?.value);if(e===0){t[i.Iv.overtimeRate].show=false;t[i.Iv.overtimeStatus].note=St.__("Non-exempt requires a Pay Rate higher than $0.00");t[i.Iv.overtimeStatus].nonExemptEmptyPay=true}}}else{t[i.Iv.overtimeRate].show=false}return t}},74825:(e,t,a)=>{"use strict";a.d(t,{Iv:()=>s,cr:()=>i});let n=function(e){e["FIELD_ROW"]="FieldRow";e["FIELD_SET"]="FieldSet";e["GROUP"]="Group";e["FORM"]="Form";e["TEXT"]="TextField";e["SELECT"]="SelectField";e["CHECKBOX"]="CheckboxField";e["CHECKBOX_LIST"]="CheckboxList";e["DATE"]="DateField";e["REPEAT"]="RepeatingContainer";e["STATIC"]="StaticTemplate";e["INFORMATION"]="InformationField";e["TEXTAREA"]="TextareaField";e["HIDDEN"]="HiddenInput";e["LEGEND"]="Legend";e["EMPLOYEE_ACCESS"]="EmployeeAccess";e["DOCUMENTS"]="Documents";return e}({});let s=function(e){e["emailHome"]="home-email-field";e["emailWork"]="work-email-field";e["employeeAddressLine1"]="textEmployeeAddressLine1";e["employeeAddressLine2"]="textEmployeeAddressLine2";e["employeeAddressCity"]="textEmployeeCity";e["employeeAddressState"]="employee-address-state-field";e["employeeAddressTextState"]="textEmployeeStateId";e["employeeAddressStateId"]="selectEmployeeStateId";e["employeeAddressZipCode"]="textEmployeeZipCode";e["employeeAddressCountry"]="selectEmployeeCountryId";e["employeeFirstName"]="first-name-field";e["employeeLastName"]="last-name-field";e["employeeMiddleName"]="middle-name-field";e["employeeNumber"]="employee-number-field";e["employeeTaxType"]="employee-tax-type-field";e["employmentStatus"]="employment-status-field";e["gender"]="gender-field";e["genderIdentity"]="gender-identity-field";e["genderPronouns"]="gender--pronouns-field";e["homeState"]="state-field";e["location"]="js-location-insertable-list";e["nationalId"]="national-id-field";e["nin"]="nin-field";e["overtimeRate"]="overtime-rate-field";e["overtimeStatus"]="overtime-status-field";e["paidPer"]="paid-per-field";e["payGroup"]="pay-group-field";e["payRate"]="pay-rate-field";e["payrollHomeStateField"]="js-validate-payroll-state-live-in";e["paySchedule"]="pay-schedule-field";e["payType"]="pay-type-field";e["sin"]="sin-field";e["ssn"]="ssn-field";e["stateTaxWithholdingLocationField"]="js-payroll-tax-state-withholding-type";e["stateUiExemptField"]="js-payroll-tax-state-ui-exempt";e["stateUiLocationField"]="js-payroll-tax-state-ui-type";return e}({});let i=function(e){e["token"]="settings.token";e["className"]="props.className";return e}({})},44403:(e,t,a)=>{"use strict";a.d(t,{II:()=>h,Ly:()=>u,di:()=>c,kr:()=>l,mb:()=>d,rz:()=>m});var n=a(7357);var s=a(73641);var i=a.n(s);var o=a(74825);var r=a(21866);function l(e){return{controls:r.a,form:{isEditable:true,setIsEditable(e){this.isEditable=e}},formData:{},setFormData(e){if(typeof e==="function"){this.formData=e(this.formData)}else{this.formData=e}},validation:{},...e}}function c(e){return{[e.props.id]:e}}function d(e,t){const a=(0,s.cloneDeep)(t.formData[e]);if(!a){console.error(`Dynamic Form: Unable to find field with id: ${e}`);return}let n={};if(Array.isArray(a.children)){const e=a.children.map((e=>d(e,t)));e.forEach((e=>{n={...n,...e}}))}return{[a.props.id]:a,...n}}const u=e=>{if(!e){return undefined}const{props:{selectedValues:t=[]}}=e;if(t.length===0)return"";return t.length===1?t[0]:t};const h=e=>{const t=u(e);if(t!==undefined){return e.props.items.find((e=>e.value==t))}return undefined};const p=(0,s.memoize)((function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:o.cr.className;const s=(0,n.bl)(e,{selector:a,value:t});return s?.props?.id}),((e,t)=>`${e?.formData?.memoizeKey}_${t}`));const m=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:o.cr.className;if(Object.values(n.CU).includes(t)){return(0,s.cloneDeep)(e.formData[t])}if(e.formData?.memoizeKey?.length&&t?.length){const n=p(e,t,a);if(n){return(0,s.cloneDeep)(e.formData[n])}}return(0,n.bl)(e,{selector:a,value:t})}},32540:(e,t,a)=>{"use strict";a.d(t,{Q:()=>v});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(72956);var r=a(88721);var l=a(21936);var c=a(12233);var d=a(16234);var u=a(17842);var h=a.n(u);let p=function(e){e["ID"]="id";e[e["FIRST_NAME"]=-34]="FIRST_NAME";e[e["LAST_NAME"]=2]="LAST_NAME";e[e["HIRE_DATE"]=3]="HIRE_DATE";e[e["JOB_TITLE"]=17]="JOB_TITLE";return e}({});function m(e){return e.map((e=>({header:e.name,fieldId:e.fieldId,key:e.fieldId,sortBy:t=>{if(e.fieldId===p.HIRE_DATE&&t[e.fieldId].value){return new Date(t[e.fieldId].value).toISOString()}return t[e.fieldId].value?.toString()?.toLowerCase()??""},cell:t=>{let a=(0,n.Z)("span",{},void 0,t[e.fieldId].value);if(t[e.fieldId].type==="name"){a=(0,n.Z)("a",{href:`/employees/employee.php?id=${t.id.value}`},void 0,t[e.fieldId].value)}return a}})))}var f=a(56445);var g=a(41599);var $=a(26570);const v=e=>{const{isOpen:t,onClose:a,title:u,listId:p,listValueId:v,employeeIds:y,subtitle:b}=e;const w=(0,g.Z)();const[C,S]=(0,s.useState)(true);const[E,x]=(0,s.useState)([]);const[T,k]=(0,s.useState)([]);const[I,A]=(0,s.useState)(0);const[F,Z]=(0,s.useState)(false);const[M,N]=(0,s.useState)(0);const[D,L]=(0,s.useState)(0);const P=(0,s.useRef)(false);const O="pay_group";const[R,B]=(0,s.useState)(true);(0,s.useEffect)((()=>{B(t)}),[t]);const H=()=>{B(false)};function j(){a();x([]);k([])}(0,s.useEffect)((()=>{Z(I>M)}),[I,M]);const z=e=>{const{columns:t,employeeResults:a,totalNumberOfEmployees:n,pagination:s}=e.data;x(m(t));k(T.concat(a));A(n);N(a.length+M);L(s.next);P.current=false};const q=()=>{if(P.current){return}P.current=true;if(p&&v){h().post("/employees/list/filter/list_value",{list_id:p===O?O:+p,list_value_id:+v,page:D}).then(z).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error")})).finally((()=>{S(false)}))}else if(y?.length){h().post("/employees/list/filter/employee_ids",{employee_ids:y,page:D}).then(z).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error")})).finally((()=>{S(false)}))}};const W=()=>{S(true);if(p&&v){h().post("/employees/list/filter/list_value",{list_id:p===O?O:+p,list_value_id:+v}).then(z).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error")})).finally((()=>{S(false)}))}else if(y?.length){h().post("/employees/list/filter/employee_ids",{employee_ids:y}).then(z).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error")})).finally((()=>{S(false)}))}else{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error");H()}};return(0,n.Z)(o.S,{isOpen:t&&R,onOpenComplete:W,onRequestClose:H,onCloseComplete:j},void 0,(0,n.Z)(o.S.Body,{renderFooter:(0,n.Z)(o.S.Footer,{actions:[(0,n.Z)(r.B,{onClick:H,type:"button"},"button",$.__("Done"))]}),renderHeader:(0,n.Z)(o.S.Header,{hasCloseButton:true,title:u})},void 0,(0,n.Z)(o.S.StandardHeadline,{icon:(0,f.ifFeature)("encore","users-solid","fab-employees-18x15"),text:`${b} ${I?`(${I})`:""}`}),(0,n.Z)("div",{className:w.modalBody,id:"employee_list_modal_body"},void 0,C?(0,n.Z)(l.L,{}):i().createElement(i().Fragment,null,(0,n.Z)(c.T,{caption:`${u} - ${b}`,columns:E,rowKey:e=>e.id.value,rows:T}),F&&(0,n.Z)(d.P,{hasMore:F,loadMore:q,loader:(0,n.Z)(l.L,{small:true}),preloadUntilScroll:true,wrapper:"#employee_list_modal_body"})))))}},47912:(e,t,a)=>{"use strict";a.d(t,{w:()=>g});var n=a(89835);var s=a(44119);var i=a(23321);var o=a.n(i);var r=a(14386);var l=a(26242);var c=a(79340);var d=a(38716);var u=a(86930);var h=a(405);var p=a(21198);var m=a.n(p);var f=a(17145);var $=a(26570);class g extends i.Component{static get className(){return"TheNewEmployeeSelector"}constructor(e){super(e);(0,s.Z)(this,"_filterAndPlace",(()=>{let{employees:e,rowKey:t,isRowSelected:a,sort:n}=this.props;const{leftHighlightedKeys:s}=this.state;e=e.sort(n);const[i,o]=y(e,a);const r={};const l=o.filter(this._isNotFiltered);l.forEach((e=>{const a=t(e);if(s[a]){r[a]=true}}));this.setState({availableEmployees:l,selectedEmployees:i,leftHighlightedKeys:r})}));(0,s.Z)(this,"_sortFilters",((e,t)=>{if(e.text&&t.text){const a=e.text.toUpperCase();const n=t.text.toUpperCase();if(a<n){return-1}if(a>n){return 1}}return 0}));(0,s.Z)(this,"_createFirstFilterSettings",(()=>{const{filters:e}=this.props;const{firstFilter:t,showSecondFilter:a}=this.state;const n=100;const s={onClear:this._handleFirstFilterCleared,onSelect:this._handleFirstFilterSelect,placeholder:$.__("All Employees"),showSearch:"never",size:"small",width:a?4:n};if(t){s.items=t.items;s.selectedValues=t.selectedValues}else{s.items=e.map((e=>{const{key:t,name:a,options:n}=e;return{key:t,text:a,items:Object.keys(e.options).reduce(((e,t)=>{e.push({text:n[t],value:t});return e}),[]).sort(this._sortFilters)}}))}return s}));(0,s.Z)(this,"_createSecondFilterSettings",(()=>{const{filters:e}=this.props;const{firstFilter:t,secondFilter:a}=this.state;const n={onClear:this._handleSecondFilterCleared,onSelect:this._handleSecondFilterSelect,placeholder:$.__("-- Select --"),showSearch:"never",size:"small",width:4};if(a){n.items=a.items;n.selectedValues=a.selectedValues}else{n.items=e.filter((e=>e.key!==t.parentKey)).map((e=>{const{key:t,name:a,options:n}=e;return{key:t,text:a,items:Object.keys(e.options).reduce(((e,t)=>{e.push({text:n[t],value:t});return e}),[]).sort(this._sortFilters)}}))}return n}));(0,s.Z)(this,"_createRowMeta",(e=>{const{rowKey:t,mainContent:a,secondaryContent:n,secondaryContentIcon:s,isRowDisabled:i,rowDisabledTooltip:o}=this.props;return{key:t(e),main:a(e),secondary:n(e),secondaryIcon:s(e),isDisabled:i(e),disabledTooltipContent:o(e)}}));(0,s.Z)(this,"_isNotFiltered",(e=>{const{firstFilter:t,secondFilter:a,searchValue:n}=this.state;const s=n.toLowerCase().trim();const i=t?this._checkFilterMatch(e,t.parentKey,t.selectedValues[0]):true;if(!i){return false}const o=a?this._checkFilterMatch(e,a.parentKey,a.selectedValues[0]):true;if(!o){return false}const r=e.firstName?.toLowerCase().indexOf(s)===0||e.lastName?.toLowerCase().indexOf(s)===0||e.displayName?.toLowerCase().indexOf(s)===0||e.lastNameFirstName?.toLowerCase().indexOf(s)===0;if(!r){return false}return true}));(0,s.Z)(this,"_checkFilterMatch",((e,t,a)=>{if(t==="teamAssignments"&&Array.isArray(e[t])){return e[t].some((e=>String(e)===a))}return String(e[t])===a}));(0,s.Z)(this,"_handleFirstFilterSelect",((e,t,a)=>{const{firstFilter:n}=this.state;this.setState({firstFilter:{parentKey:a.parentItem?a.parentItem.key:n.parentKey,items:a.parentItem?a.parentItem.items:n.items,selectedValues:[e]}},this._filterAndPlace)}));(0,s.Z)(this,"_handleFirstFilterCleared",(()=>{const{secondFilter:e}=this.state;const t=e?e:null;this.setState({firstFilter:t,secondFilter:null,showSecondFilter:false},this._filterAndPlace)}));(0,s.Z)(this,"_handleSecondFilterSelect",((e,t,a)=>{const{secondFilter:n}=this.state;this.setState({secondFilter:{parentKey:a.parentItem?a.parentItem.key:n.parentKey,items:a.parentItem?a.parentItem.items:n.items,selectedValues:[e]}},this._filterAndPlace)}));(0,s.Z)(this,"_handleSecondFilterCleared",(()=>{this.setState({secondFilter:null,showSecondFilter:false},this._filterAndPlace)}));(0,s.Z)(this,"_handleAddFilter",(()=>{this.setState({showSecondFilter:true})}));(0,s.Z)(this,"_handleSearchFocus",(()=>{this.setState({searchFocused:true})}));(0,s.Z)(this,"_handleSearchBlur",(()=>{this.setState({searchFocused:false})}));(0,s.Z)(this,"_handleSearchChange",(e=>{this.setState({searchValue:e.target.value},this._filterAndPlace)}));(0,s.Z)(this,"_handleRowClick",((e,t,a,n,s)=>{const{rowKey:i,isRowDisabled:o}=this.props;const{availableEmployees:r,selectedEmployees:l}=this.state;if(n){return}const{leftHighlightedKeys:c,rightHighlightedKeys:d}=this.state;let u=t?c:d;let h=t?r:l;if(e.shiftKey&&this.lastRowKeyUsed&&this.lastRowKeyUsed!==a&&this.leftSideUsedLast===t){const e=[];let t=false;for(let n=0;n<h.length;n++){const s=i(h[n]);const r=o(h[n]);if(!r&&t){e.push(s)}if(!r&&(s===a||s===this.lastRowKeyUsed)){if(t){break}e.push(s);t=true}}e.forEach((e=>{u[e]=!s}))}else if(e.metaKey||e.altKey||e.ctrlKey){u[a]=!s}else{u={[a]:true}}this.lastRowKeyUsed=a;this.leftSideUsedLast=t;this.setState({[t?"leftHighlightedKeys":"rightHighlightedKeys"]:u})}));(0,s.Z)(this,"_onClickAddAll",(()=>{const{onSelect:e,isRowDisabled:t}=this.props;const{availableEmployees:a,leftHighlightedKeys:n}=this.state;const s=a.filter((e=>!t(e)));if(s.length===0){return}e(s);this.setState({leftHighlightedKeys:{},rightHighlightedKeys:n})}));(0,s.Z)(this,"_onClickAddHighlighted",(()=>{const{onSelect:e,isRowDisabled:t,rowKey:a}=this.props;const{availableEmployees:n,leftHighlightedKeys:s}=this.state;const i=n.filter((e=>!t(e)&&s[a(e)]));if(i.length===0){return}e(i);this.setState({leftHighlightedKeys:{},rightHighlightedKeys:s})}));(0,s.Z)(this,"_onClickRemoveHighlighted",(()=>{const{onDeselect:e,isRowDisabled:t,rowKey:a}=this.props;const{selectedEmployees:n,rightHighlightedKeys:s}=this.state;const i=n.filter((e=>!t(e)&&s[a(e)]));if(i.length===0){return}e(i);this.setState({rightHighlightedKeys:{},leftHighlightedKeys:s})}));(0,s.Z)(this,"_onClickRemoveAll",(()=>{const{onDeselect:e,isRowDisabled:t}=this.props;const{rightHighlightedKeys:a,selectedEmployees:n}=this.state;const s=n.filter((e=>!t(e)));if(s.length===0){return}e(s);this.setState({rightHighlightedKeys:{},leftHighlightedKeys:a})}));let{employees:t,isRowSelected:a,sort:n}=this.props;this.leftSideUsedLast=false;this.lastRowKeyUsed=null;t=t.sort(n);const[i,o]=y(t,a);this.state={availableEmployees:o,selectedEmployees:i,firstFilter:null,secondFilter:null,showSecondFilter:false,searchFocused:false,searchValue:"",leftHighlightedKeys:{},rightHighlightedKeys:{}}}componentDidUpdate(e,t,a){const{employees:n}=this.props;if(n!==e.employees){this._filterAndPlace()}}render(){let{filters:e=[],rowDisabledTooltip:t,showSearch:a=true}=this.props;const{availableEmployees:s,selectedEmployees:m,leftHighlightedKeys:g,rightHighlightedKeys:y,searchFocused:b,searchValue:w,firstFilter:C,showSecondFilter:S}=this.state;return(0,n.Z)("div",{className:"EmployeeSelectorReact"},void 0,(0,n.Z)("div",{className:"EmployeeSelectorReact__container"},void 0,(0,n.Z)("div",{className:"EmployeeSelectorReact__title"},void 0,$.__("Available Employees")),(0,n.Z)("div",{className:"EmployeeSelectorReact__wrapper"},void 0,e.length>0&&(0,n.Z)("div",{className:"EmployeeSelectorReact__selects"},void 0,o().createElement(h.S,this._createFirstFilterSettings()),!!C&&!S&&(0,n.Z)("div",{className:"EmployeeSelectorReact__addSelectIcon",onClick:this._handleAddFilter},void 0,(0,n.Z)(r.I,{name:"circle-plus-regular",size:14})),S&&(0,n.Z)(i.Fragment,{},void 0,(0,n.Z)("div",{className:"EmployeeSelectorReact__plusSelectIcon"},void 0,"+"),o().createElement(h.S,this._createSecondFilterSettings()))),a&&(0,n.Z)("div",{className:"EmployeeSelectorReact__searchContainer"},void 0,(0,n.Z)(l.L,{paddingTop:e.length>0?"0px":"16px"},void 0,(0,n.Z)(c.T,{onBlur:this._handleSearchBlur,onChange:this._handleSearchChange,onFocus:this._handleSearchFocus,placeholder:$.__("Search..."),value:w,size:"small",InputProps:{startAdornment:(0,n.Z)(d.N,{position:"start"},void 0,(0,n.Z)(r.I,{name:"magnifying-glass-solid",size:16,color:"neutral-weak"}))}}))),(C||w)&&s.length===0&&(0,n.Z)("div",{className:"EmployeeSelectorReact__noFilterMatchBlankState"},void 0,$.__("No employees match this filter.")),(0,n.Z)("div",{className:"EmployeeSelectorReact__listContainer"},void 0,s.length>0&&(0,n.Z)("ul",{className:"EmployeeSelectorReact__list"},void 0,s.map((e=>{const{key:t,main:a,secondary:s,secondaryIcon:i,isDisabled:o,disabledTooltipContent:l}=this._createRowMeta(e);const c=g[t];return(0,n.Z)(v,{condition:o&&l,wrap:e=>(0,n.Z)(f.Z,{settings:{content:l}},void 0," ",e," ")},t,(0,n.Z)("li",{className:(0,p.classNameFromObject)("EmployeeSelectorReact__listItem",{"EmployeeSelectorReact__listItem--disabled":o,"EmployeeSelectorReact__listItem--highlighted":c}),onClick:e=>this._handleRowClick(e,true,t,o,c)},void 0,(0,n.Z)("div",{className:"EmployeeSelectorReact__listItem__mainContent"},void 0,a),s&&(0,n.Z)("span",{className:(0,p.classNameFromObject)("EmployeeSelectorReact__listItem__textRight",{"EmployeeSelectorReact__listItem__textRight--highlighted":c})},void 0,i&&(0,n.Z)("span",{className:(0,p.classNameFromObject)("EmployeeSelectorReact__listItem__textRightIcon",{"EmployeeSelectorReact__listItem__textRightIcon--highlighted":c})},void 0,(0,n.Z)(r.I,{color:"neutral-medium",name:i,size:12})),s)))})))))),(0,n.Z)("div",{className:"EmployeeSelectorReact__buttons"},void 0,(0,n.Z)("div",{className:"EmployeeSelectorReact__btn"},void 0,(0,n.Z)(u.I,{ariaLabel:$.__("All Employees"),icon:(0,n.Z)(r.I,{color:"neutral-x-strong",name:"chevrons-right-regular",size:16}),onClick:this._onClickAddAll,size:"small",type:"button",variant:"outlined"})),(0,n.Z)("div",{className:"EmployeeSelectorReact__btn"},void 0,(0,n.Z)(u.I,{ariaLabel:$.__("Select employee"),icon:(0,n.Z)(r.I,{color:"neutral-x-strong",name:"chevron-right-regular",size:16}),onClick:this._onClickAddHighlighted,size:"small",type:"button",variant:"outlined"})),(0,n.Z)("div",{className:"EmployeeSelectorReact__btn"},void 0,(0,n.Z)(u.I,{ariaLabel:$.__("Remove employee"),icon:(0,n.Z)(r.I,{color:"neutral-x-strong",name:"chevron-left-regular",size:16}),onClick:this._onClickRemoveHighlighted,size:"small",type:"button",variant:"outlined"})),(0,n.Z)("div",{className:"EmployeeSelectorReact__btn"},void 0,(0,n.Z)(u.I,{ariaLabel:$.__("Remove all employees"),icon:(0,n.Z)(r.I,{color:"neutral-x-strong",name:"chevrons-left-regular",size:16}),onClick:this._onClickRemoveAll,size:"small",type:"button",variant:"outlined"}))),(0,n.Z)("div",{className:"EmployeeSelectorReact__container"},void 0,(0,n.Z)("p",{className:"EmployeeSelectorReact__title"},void 0,$.__("Selected Employees")),(0,n.Z)("div",{className:"EmployeeSelectorReact__wrapper"},void 0,m.length>0&&(0,n.Z)("div",{className:"EmployeeSelectorReact__listContainer"},void 0,(0,n.Z)("ul",{className:"EmployeeSelectorReact__list"},void 0,m.map((e=>{const{key:t,main:a,secondary:s,isDisabled:i}=this._createRowMeta(e);const o=y[t];return(0,n.Z)("li",{className:(0,p.classNameFromObject)("EmployeeSelectorReact__listItem",{"EmployeeSelectorReact__listItem--disabled":i,"EmployeeSelectorReact__listItem--highlighted":o}),onClick:e=>this._handleRowClick(e,false,t,i,o)},t,(0,n.Z)("div",{className:"EmployeeSelectorReact__listItem__mainContent"},void 0,a),s&&(0,n.Z)("span",{className:(0,p.classNameFromObject)("EmployeeSelectorReact__listItem__textRight",{"EmployeeSelectorReact__listItem__textRight--highlighted":o})},void 0," ",s))})))),m.length===0&&(0,n.Z)("div",{className:"EmployeeSelectorReact__rightBlankState"},void 0,(0,n.Z)("div",{className:"EmployeeSelectorReact__rightBlankStateIcon"},void 0,(0,n.Z)(r.I,{color:"neutral-medium",name:"circle-user-regular",size:60})),(0,n.Z)("p",{className:"EmployeeSelectorReact__rightBlankState__text"},void 0,$.__(`You haven't added any employees yet.`))))))}}(0,s.Z)(g,"defaultProps",{isRowDisabled:e=>e.disabled,isRowSelected:e=>e.selected,mainContent:e=>e.lastNameFirstName,rowKey:e=>e.id,rowDisabledTooltip:()=>null,secondaryContent:()=>null,secondaryContentIcon:()=>null,showSearch:true,sort:(e,t)=>{const a=(e.lastName||"").localeCompare(t.lastName||"");if(a!==0){return a}return(e.firstName||"").localeCompare(t.firstName||"")}});function v(e){let{condition:t,wrap:a,children:n}=e;return t?a(n):n}function y(e,t){const a=[];const n=[];for(let s=0;s<e.length;s++){const i=e[s];(t(i)?a:n).push(i)}return[a,n]}},89998:(e,t,a)=>{"use strict";a.d(t,{p:()=>I,Y:()=>T});var n=a(89835);var s=a(23321);var i=a(98675);var o=a(17842);var r=a.n(o);const l={name:false,acaStatus:false,fte:false};const c={name:"",acaStatus:"",fte:""};function d(e){if(!e){return c}return{name:u(e.name),acaStatus:u(e.acaStatus),fte:u(e.fte),changeHistory:"history"}}function u(e){return e===null||e===undefined?"":e}function h(e,t,a,n){let s;if(e){s=r().prepareData({action:"Update",ajax:1,changeHistory:n.changeHistory,listValueId:a,id:t,acaStatus:n.acaStatus===""?null:n.acaStatus,value:n.name,FTEValue:n.fte},r().prepareDataTypes.FORM_DATA)}else{s=r().prepareData({action:"Add",ajax:1,id:t,acaStatus:n.acaStatus===""?null:n.acaStatus,label:n.name},r().prepareDataTypes.FORM_DATA)}return r().post("/settings/list.php",s)}function p(){window.location.reload()}function m(e){return e.data&&e.data.ret==="SAVED"}function f(e,t){return{fte:!y(e.fte),name:!v(e.name),acaStatus:t?!v(e.acaStatus):false}}function g(e){return e.name||e.acaStatus||e.fte}function v(e){return e!==""}function y(e){if(!e){return true}const t=window.getFloatFromStringJS(e);return!isNaN(t)&&t<=1&&t>=0}function b(e){const t=(0,s.useRef)();(0,s.useEffect)((()=>{t.current=e}),[e]);return t.current}var w=a(50299);var C=a(56921);function S(e){const{id:t,label:a,onChange:s,selectedValue:i,value:o}=e;return(0,n.Z)("div",{className:"fab-Radio"},void 0,(0,n.Z)("input",{checked:i===o,className:"fab-Radio__input",id:t,onChange:s,type:"radio",value:o}),(0,n.Z)("label",{className:"fab-Radio__label",htmlFor:t},void 0,a))}var E=a(74477);var x=a(56445);var $=a(26570);function T(e){const{acaStatuses:t,initialValues:a,isEdit:i,isProcessing:o,postFormData:r,setIsProcessing:c,showAcaStatus:u,showChangeHistory:h}=e;const[p,m]=(0,s.useState)((()=>d(a)));const[v,y]=(0,s.useState)(l);const T=b(o);(0,s.useEffect)((()=>{if(!T&&o){const e=f(p,u);y({...e});if(g(e)){c(false)}else{r(p)}}}),[T,o,p,r,c,u]);const k=e=>{m({...p,name:e.target.value})};const I=e=>{m({...p,acaStatus:e||""})};const A=e=>{m({...p,fte:e.target.value})};const F=e=>{m({...p,changeHistory:e.target.value})};return(0,n.Z)("form",{},void 0,(0,n.Z)("div",{className:"fab-FormRow"},void 0,(0,n.Z)(E.nv,{hasError:v.name,id:"employmentStatusName",label:$.__("Name"),onChange:k,required:true,value:p.name})),u&&(0,n.Z)("div",{className:"fab-FormRow"},void 0,(0,n.Z)("div",{},void 0,(0,n.Z)(w.e,{allowedAcaStatuses:t,hasError:v.acaStatus,id:"employmentStatusAca",onSelect:I,selectedValue:p.acaStatus,showLabel:true}))),i&&(0,n.Z)("div",{className:"fab-FormRow"},void 0,(0,n.Z)(E.nv,{hasError:v.fte,id:"employmentStatusFTE",label:$.__("FTE (Full Time Equivalent)"),maxLength:"4",note:$.__("1.0 is equal to one full-time worker"),onChange:A,value:p.fte,width:"4"})),h&&(0,n.Z)("div",{className:`fab-FormRow ${(0,x.ifFeature)("encore","fab-marginTop--8","")}`},void 0,(0,n.Z)("fieldset",{className:"fab-RadioGroup check-radio"},void 0,(0,n.Z)(C.F,{flexDirection:"column",gap:1},void 0,(0,n.Z)("legend",{className:`fab-RadioGroup__legend ${(0,x.ifFeature)("encore","fab-fontWeight--medium","")}`},void 0,$.__("How should this change occur?")),(0,n.Z)(S,{id:"changeHistory1",label:$.__("Change for future but leave history alone."),onChange:F,selectedValue:p.changeHistory,value:"noHistory"}),(0,n.Z)(S,{id:"changeHistory2",label:$.__("Change anywhere it is used, including history."),onChange:F,selectedValue:p.changeHistory,value:"history"})))))}var k=a(26570);function I(e){const{acaStatuses:t,closeModal:a,initialValues:o,isEdit:r,isOpen:l,listId:c,listValueId:d,showAcaStatus:u,showChangeHistory:f=false}=e;const[g,v]=(0,s.useState)(false);const y=e=>{h(r,c,d,e).then((e=>{if(m(e)){p()}else{window.setMessage(e.data.error||window.DEFAULT_ERROR_MESSAGE,"error");v(false)}})).catch((e=>{v(false);window.Rollbar.error("Failed to save employment status",e)}))};const b=()=>{v(true)};return(0,n.Z)(i.u_,{isOpen:l,isProcessing:g,onClose:a,primaryAction:b,primaryActionText:k.__("Save"),title:r?k.__("Edit Employment Status"):k.__("New Employment Status")},void 0,(0,n.Z)(T,{acaStatuses:t,initialValues:o,isEdit:r,isProcessing:g,postFormData:y,setIsProcessing:v,showAcaStatus:u,showChangeHistory:f}))}},48037:(e,t,a)=>{"use strict";a.r(t);a.d(t,{addComment:()=>S,addEvent:()=>E,beginEditing:()=>x,cancelEditing:()=>T,deleteComment:()=>w,deleteEvent:()=>C,editComment:()=>b});const n="ADD_COMMENT";const s="ADD_EVENT";const i="EDIT_COMMENT_START";const o="EDIT_COMMENT_SUCCESS";const r="EDIT_COMMENT_ERROR";const l="DELETE_COMMENT_START";const c="DELETE_COMMENT_SUCCESS";const d="DELETE_COMMENT_ERROR";const u="DELETE_EVENT_START";const h="DELETE_EVENT_SUCCESS";const p="DELETE_EVENT_ERROR";const m="EDITING_BEGIN";const f="EDITING_CANCEL";var g=a(99023);var v=a(28727);var y=a(38962);var $=a(26570);const b=(e,t,a,n)=>(s,l)=>{s({type:i,payload:e});const c=(0,y.iE)(l().id);$.post(`${c.rootCommentURL}/${c.parentType}/${c.parentId}/${e}`,{text:t,attachIds:a,deleteIds:n}).then((t=>{const a=(0,g.XR)(t);s({type:o,payload:{feed:a,id:e}});c.externalCallback({type:"edit",data:(0,v._g)(a,e)})}),(t=>{if(t){window.Rollbar.error("FEEDS: Error when editing comment",t)}s({type:r,payload:e,error:true})}))};const w=e=>(t,a)=>{t({type:l,payload:e});const n=(0,y.iE)(a().id);$.ajax({url:`${n.rootCommentURL}/${n.parentType}/${n.parentId}/${e}`,type:"DELETE"}).then((s=>{t({type:c,payload:e});if(Array.isArray(s)&&!s.length){s={type:"delete",data:{id:e},state:a()}}n.externalCallback(s)}),(s=>{if(s?.status==404){t({type:c,payload:e});n.externalCallback({type:"delete",data:{id:e},state:a()});return}if(s){window.Rollbar.error("FEEDS: Error when deleting comment",s)}t({type:d,payload:e,error:true})}))};const C=e=>(t,a)=>{t({type:u,payload:e});const n=(0,y.iE)(a().id);const s=a().getIn(["entities","events","byId",e]);$.ajax({data:{id:s.getRemoteId(),type:s.type},type:"DELETE",url:`/events/${n.parentType}/${n.parentId}`}).then((s=>{t({type:h,payload:e});const i={...s,state:a()};n.externalCallback(i)}),(a=>{if(a){window.Rollbar.error("FEEDS: Error when deleting event",a)}t({type:p,payload:e,error:true})}))};const S=e=>(t,a)=>{const s=(0,y.iE)(a().id);t({type:n,payload:(0,g.XR)(e)});s.externalCallback({type:"addComment",feed:(0,g.XR)(e),state:a()})};const E=e=>(t,a)=>{const n=(0,y.iE)(a().id);t({type:s,payload:(0,g.XR)(e)});n.externalCallback({type:"addEvent",feed:(0,g.XR)(e),state:a()})};const x=e=>t=>{t({type:m,payload:e})};const T=e=>t=>{t({type:f,payload:e})}},38962:(e,t,a)=>{"use strict";a.d(t,{K8:()=>l,R:()=>y,eC:()=>m,hT:()=>u,iE:()=>p});var n=a(20711);var s=a(90046);var i=a.n(s);var o=a(88617);var $=a(26570);const r=window.GLOBAL_VALID_EXTENSIONS?Array.from(window.GLOBAL_VALID_EXTENSIONS):["pdf","doc","docx","xls","xlsx","csv","jpg","jpeg","tif","tiff","gif","png","bmp","txt","rtf","zip"];const l=r.map((e=>"."+e));const c=(0,s.Record)({enableAttach:true,enableReply:true,externalCallback:()=>undefined,externalRender:()=>undefined,externalRenderByType:()=>undefined,inputPosition:"top",parentId:0,parentType:"applicant_tracking",placeholder:$.__("Add a comment..."),replyPlaceholder:$.__("Add your reply..."),submitEditText:$.__("Save"),submitNewText:$.__("Post"),readOnly:false,rootCommentURL:"/comments",rootComponent:o.Z,rootData:{}});let d=c();const u={"entities, comments, byId":n.sv,"entities, files, byId":n.$B,"entities, replies, byId":n.jB,"entities, users, byId":n.n5,"entities, events, byId":n.ju};let h={};const p=e=>{if(!e){let e;for(e in h){break}return h[e]}return h[e]};function m(e){if(s.Iterable.isIterable(e)){d=e}else{d=c(e)}h[d.parentId]=d;return d}const f=$.__("Are you sure you want to delete this comment and its replies (including any attached files)?");const g=$.__("Are you sure you want to delete this comment and all its files?");const v=$.__("Are you sure you want to delete this comment?");const y=e=>{const{replies:t,files:a}=e;if(t&&t.size){return f}else if(a&&a.size){return g}return v}},757:(e,t,a)=>{"use strict";a.d(t,{NE:()=>g,yG:()=>v});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(99023);var r=a(46676);var l=a(2011);var c=a(38962);var d=a(53534);var u=a(48037);var h=a(88617);var p=a(64265);let m={};const f=()=>m;const g=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let t=arguments.length>1?arguments[1]:undefined;const a=(0,c.eC)(t);const s={...e};const i=a.rootComponent;s.id=a.parentId;const d=(0,o.ZP)(s);const{addComment:h,addEvent:p}=u;m=(0,l.DE)({addComment:h,addEvent:p},d.dispatch);return(0,n.Z)(r.zt,{store:d},void 0,(0,n.Z)(i,{}))};const v=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let a=arguments.length>2?arguments[2]:undefined;(0,d.s)(g(t,a),document.getElementById(e))}},20711:(e,t,a)=>{"use strict";a.d(t,{$B:()=>c,JH:()=>i,ZM:()=>r,jB:()=>d,jQ:()=>o,ju:()=>h,n5:()=>u,sv:()=>l});var n=a(90046);var s=a.n(n);const i=(0,n.Record)({allIds:new n.OrderedSet,byId:new n.Map});const o=(0,n.Record)({comments:new i,files:new i,replies:new i,users:new i,events:new i});const r=(0,n.Record)({id:null,entities:new o});const l=(0,n.Record)({author:null,canDelete:false,canEdit:false,categoryName:null,createdAt:null,createdDate:null,edited:false,editing:false,excludeFromComments:false,files:[],id:null,isPinned:false,pending:false,replies:[],text:"",eventId:null});const c=(0,n.Record)({fileType:"",id:null,mostRecentEmployeeFileDataId:null,name:""});const d=(0,n.Record)({author:null,canDelete:false,canEdit:false,createdAt:null,edited:false,editing:false,files:[],id:null,inReplyTo:null,pending:false,text:""});const u=(0,n.Record)({avatar:"",canView:false,employeeId:null,id:null,name:""});class h extends((0,n.Record)({createdAt:null,canDelete:false,data:{},id:null,pending:false,type:null,userId:null})){static get className(){return"Event"}getCommentId(){return this.getIn(["data","commentId"],null)}getRemoteId(){return this.getIn(["data","remoteId"],null)}}},99023:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>L,XR:()=>A,qP:()=>M});const n=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return(e,a)=>t.reduce(((e,t)=>t(e,a)),e)};const s=(e,t)=>function(){let a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:e;let n=arguments.length>1?arguments[1]:undefined;if(t.hasOwnProperty(n.type)){return t[n.type](a,n)}return a};var i={ADD_COMMENT:(e,t)=>{e=e.mergeDeep(t.payload).set("id",e.id);const a=t.payload.getIn(["entities","replies","byId"]).first();if(a){e=e.updateIn(["entities","comments","byId",a.inReplyTo,"replies"],(e=>e.add(a.id)))}return e}};var o={ADD_EVENT:(e,t)=>M(e.mergeDeep(t.payload).set("id",e.id))};var r={DELETE_COMMENT_START:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"pending"],true):e.setIn(["entities","replies","byId",t.payload,"pending"],true),DELETE_COMMENT_ERROR:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"pending"],false):e.setIn(["entities","replies","byId",t.payload,"pending"],false),DELETE_COMMENT_SUCCESS:(e,t)=>{const a=(e,t,a)=>e.removeIn(["entities",t,"byId",a]).updateIn(["entities",t,"allIds"],(e=>e.delete(a)));const n=t=>{const n=e.getIn(["entities","comments","byId",t,"eventId"]);return a(n?s(e,n):e,"comments",t)};const s=(e,t)=>{const n=e.getIn(["entities","events","byId",t,"type"]);if(n==="move"){return e.setIn(["entities","events","byId",t,"data","commentId"],null)}return a(e,"events",t)};const i=t=>{const a=e.getIn(["entities","replies","byId",t,"inReplyTo"]);return e.removeIn(["entities","replies","byId",t]).updateIn(["entities","comments","byId",a,"replies"],(e=>e.delete(t)))};return e.hasIn(["entities","comments","byId",t.payload])?n(t.payload):i(t.payload)}};var l={DELETE_EVENT_START:(e,t)=>e.setIn(["entities","events","byId",t.payload,"pending"],true),DELETE_EVENT_ERROR:(e,t)=>e.setIn(["entities","events","byId",t.payload,"pending"],false),DELETE_EVENT_SUCCESS:(e,t)=>{const a=e.getIn(["entities","events","byId",t.payload]);const n=(e,t,a)=>e.removeIn(["entities",t,"byId",a]).updateIn(["entities",t,"allIds"],(e=>e.delete(a)));return n(a.getCommentId()?n(e,"comments",a.getCommentId()):e,"events",t.payload)}};var c={EDIT_COMMENT_START:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"pending"],true):e.setIn(["entities","replies","byId",t.payload,"pending"],true),EDIT_COMMENT_ERROR:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"pending"],false):e.setIn(["entities","replies","byId",t.payload,"pending"],false),EDIT_COMMENT_SUCCESS:(e,t)=>{const{id:a,feed:n}=t.payload;const s=e.hasIn(["entities","comments","allIds",a])?"comments":"replies";return e.mergeDeep(n).setIn(["entities",s,"byId",a,"files"],n.getIn(["entities",s,"byId",a,"files"])).set("id",e.id)}};var d={EDITING_BEGIN:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"editing"],true):e.setIn(["entities","replies","byId",t.payload,"editing"],true),EDITING_CANCEL:(e,t)=>e.hasIn(["entities","comments","byId",t.payload])?e.setIn(["entities","comments","byId",t.payload,"editing"],false):e.setIn(["entities","replies","byId",t.payload,"editing"],false)};var u=a(20711);var h=s(new u.ZM,{...i,...o,...r,...l,...c,...d});const p=n(h);var m=p;var f=a(90046);var g=a.n(f);var v=a(68283);var y=a(38962);var b=a(2011);var w=a(16415);var C=a(73641);function S(e){if(!f.Iterable.isIterable(e)){throw new Error("The data parameter must be an immutable data object.")}if(f.List.isList(e)){return f.List}else if(f.Stack.isStack(e)){return f.Stack}else if(f.OrderedMap.isOrderedMap(e)){return f.OrderedMap}else if(f.OrderedSet.isOrderedSet(e)){return f.OrderedSet}else if(f.Set.isSet(e)){return f.Set}return f.Map}function E(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;if(!f.Iterable.isIterable(e)){throw new Error("immutableData parameter must be an immutable data object.")}const s=k(e,a);const i=S(s);const o=s.reduce(((e,a,s)=>{if(n){s=parseInt(s)}return e.set(s,new t(a))}),new i);if(a){return e.setIn(a,o)}return o}function x(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let a=e;each(t,((e,t)=>{const n=t.replace(/\s+/g,"").split(",");const s=a.getIn(n);a=a.setIn(n,new e(s))}));return a}function T(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;let n=e;(0,C.each)(t,((e,t)=>{let s=t.replace(/\s+/g,"").split(",");n=E(n,e,s,a)}));return n}function k(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(t!==null){if(t!==""&&f.Iterable.isIterable(e.getIn(t))){return e.getIn(t)}throw new Error(`The immutable entry ${t} passed either doesn't exist or is malformed.`)}return e}const I=(0,w.Uo)({serialize:{immutable:g()}})((0,b.md)(v.Z));const A=e=>{let t=g().fromJS(e,((e,t)=>g().Iterable.isIndexed(t)?t.toOrderedSet():t.toMap()));if(t!==null&&t?.size>0){return T(t.update((e=>new u.ZM(e.updateIn(["entities"],(e=>new u.jQ(e.map((e=>new u.JH(e.updateIn(["byId"],(e=>new f.Map(e)))))))))))),y.hT)}return new u.ZM};const F=(e,t,a)=>e.getIn(["entities",t,"byId",a,"createdAt"]);const Z=e=>e.updateIn(["entities","comments","allIds"],(t=>t.sort(((t,a)=>F(e,"comments",t)-F(e,"comments",a)))));const M=e=>e.updateIn(["entities","events","allIds"],(t=>t.sort(((t,a)=>F(e,"events",a)-F(e,"events",t)))));const N=e=>e.updateIn(["entities","comments","byId"],(t=>t.map((t=>t.update("replies",(t=>t.sort(((t,a)=>F(e,"replies",t)-F(e,"replies",a)))))))));const D=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;const t=M(N(Z(A(e))));if(t!==null){return(0,b.MT)(m,t,I)}return(0,b.MT)(m,I)};var L=D},28727:(e,t,a)=>{"use strict";a.d(t,{GA:()=>r,Qj:()=>l,Uo:()=>s,_g:()=>i,hh:()=>o,zv:()=>n});const n=e=>e.id;const s=e=>{const t=e.getIn(["entities","comments","byId"]);return e.getIn(["entities","comments","allIds"]).filter((e=>!t.get(e).excludeFromComments))};const i=(e,t)=>e.getIn(["entities","comments","byId",t]);const o=(e,t)=>e.getIn(["entities","replies","byId",t]);const r=(e,t)=>e.getIn(["entities","users","byId",t]);const l=(e,t)=>{const a=e.getIn(["entities","comments","byId",t,"files"])||e.getIn(["entities","replies","byId",t,"files"]);return e.getIn(["entities","files","byId"]).filter(((e,t)=>a.has(t)))};const c=e=>e.getIn(["entities","events","allIds"]);const d=(e,t)=>e.getIn(["entities","events","byId",t]);const u=(e,t)=>{const a=e.getIn(["entities","events","byId"]).filter((e=>e.type===t));return a.reduce(((e,t)=>e.createdAt>t.createdAt?e:t))}},55572:(e,t,a)=>{"use strict";a.d(t,{Z:()=>le});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(14386);var r=a(619);var l=a(56445);var c=a(88604);var d=a(69677);var u=a(88638);var $=a(26570);const h=e=>{let{...t}=e;let a=null;if(t.editing){a=i().createElement(d.Z,(0,c.Z)({},t,{focusOnMount:true,onError:t.handleError,onReset:t.cancelEditing,onSubmit:t.beginSaving,onSuccess:t.handleSuccess,placeholder:t.config.replyPlaceholder}))}else{a=(0,n.Z)("button",{className:"fab-TextButton fab-TextButton--teenie fab-link FeedReplyCreator__button",onClick:t.beginEditing,type:"button"},void 0,(0,n.Z)("span",{className:"fab-TextButton__icon FeedReplyCreator__buttonIcon"},void 0,(0,l.ifFeature)("encore",(0,n.Z)(o.I,{color:"primary-medium",name:"reply-regular",size:16}),(0,n.Z)(r.I,{name:"fab-comment-bubble-plus-13x14"}))),$.__("Reply"))}return(0,n.Z)("div",{className:"FeedReplyCreator"},void 0,a)};var p=(0,u.Z)(h);var m=a(48037);var f=a(46676);var g=a(38962);var v=a(28727);const y=e=>({config:(0,g.iE)((0,v.zv)(e))});var b=(0,f.$j)(y,{addComment:m.addComment})(p);var w=a(44119);var C=a(41425);var S=a(98675);var E=a(26570);const x=E.__("Just Checking...");const T=(e,t)=>{const{item:a,actions:s,title:o,message:r,visible:d}=e;const u={type:"small",title:x,icon:(0,l.ifFeature)("encore","trash-can-regular","fab-trash-can-43x48"),iconColor:(0,l.ifFeature)("encore",undefined,"danger"),iconV2Color:(0,l.ifFeature)("encore","error-strong"),headline:o,onClose:()=>{t(false)},primaryAction:()=>{s.deleteComment(a.id)},primaryActionText:E.__("Yes, Delete Comment"),content:r};return(0,n.Z)("div",{},void 0,i().createElement(S.u_,(0,c.Z)({},u,{isOpen:d})))};var k=a(26570);const I=k.__("Delete Comment?");class A extends s.PureComponent{static get className(){return"ActionDropdown"}constructor(e){super(e);(0,w.Z)(this,0,void 0);(0,w.Z)(this,"_buildMenu",(e=>{const t={items:[]};const a={items:[{text:k.__("Edit Comment"),value:"edit"}],type:"group",key:`edit-${e.id}`};const n={items:[{text:k.__("Delete Comment"),value:"delete"}],type:"group",key:`delete-${e.id}`};if(e.canEdit){t.items.push(a)}if(e.canDelete){t.items.push(n)}return t}));(0,w.Z)(this,"_handleSelect",(e=>{if(window.GLOBAL_IS_ASSUMED_USER){return window.disabledForPermsTest()}const{item:t,actions:a}=this.state;switch(e){case"edit":a.beginEditing(t.id);break;case"delete":this.toggleModal(true);break;default:break}}));(0,w.Z)(this,"_handleOpen",(()=>{this.setState({dropdownState:"FeedActions--open"})}));(0,w.Z)(this,"_handleClose",(e=>{const{visible:t}=this.state;if(!t&&this._isMounted){this.setState({dropdownState:""})}}));(0,w.Z)(this,"toggleModal",(e=>{if(e){const{item:t}=this.state;this.setState({visible:e,title:Z(t),message:F(t),dropdownState:""})}else{this.setState({visible:e})}}));const{item:t,...a}=e;const n=this._buildMenu(t);this._isMounted=false;this.state={actions:a,item:t,menu:n,title:I,dropdownState:"",visible:false}}componentDidMount(){this._isMounted=true}componentWillUnmount(){this._isMounted=false}render(){const{dropdownState:e,menu:t,visible:a}=this.state;if(t.items.length){return(0,n.Z)(s.Fragment,{},void 0,(0,n.Z)("div",{className:`FeedActions ${e}`},void 0,(0,n.Z)(C.D,{buttonSettings:(0,l.ifFeature)("encore",{},{outline:true,secondary:true,size:"teenie"}),ButtonProps:(0,l.ifFeature)("encore",{outline:true,secondary:true,size:"small"}),items:t.items,onClose:this._handleClose,onOpen:this._handleOpen,onSelect:this._handleSelect,type:"icon"})),a?T({...this.state},this.toggleModal):null)}return null}}const F=e=>{const t=(0,g.iE)();return(0,n.Z)("div",{className:"FeedModalContent"},void 0,e.eventId?t.externalRenderByType(e,"delete"):(0,g.R)(e))};const Z=e=>{const t=(0,g.iE)();return e.eventId?t.externalRenderByType(e,"title"):I};var M=a(79673);var N=a(59786);const D=(e,t)=>({files:(0,v.Qj)(e,t.id).toList()});var L=(0,f.$j)(D,{removeOnClick:m.deleteFile})(N.Z);var P=a(82543);var O=a.n(P);var R=a(73641);var B=a(64265);var H=a(26570);const j=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!(0,R.isEmpty)(e?.user)&&!!e?.user?.timezone){return e.user}if(!(0,R.isEmpty)(e?.company)&&!!e?.company?.timezone){return e.company}try{const e=Intl.DateTimeFormat().resolvedOptions();if(!(0,R.isEmpty)(e)){return{locale:e.locale,timezone:e.timeZone}}return false}catch{return{locale:O().locale(),timezone:O().tz.guess()}}};const z=(e,t)=>{const a=e.createdDate||e.createdAt;const n=O()(a,O().ISO_8601,true).isValid();const s=!(0,R.isEmpty)(t)?j(t)?.timezone:"";if(n){const e=O()(a,"YYYY-MM-DD",true).isValid();if(e){return O()(a).format()}return s?O().utc(a).tz(s).calendar():O().utc(a).local().calendar()}return s?O().unix(a).tz(s).calendar():O().unix(e.createdAt).calendar()};const q=e=>{let{item:t,timezones:a}=e;return(0,n.Z)("div",{className:"FeedListItem__info"},void 0,(0,n.Z)("div",{className:"FeedListItem__userName"},void 0,(0,n.Z)(B.Z,{id:t.author})),t.categoryName&&(0,n.Z)("div",{className:"FeedListItem__category"},void 0,t.categoryName),(0,n.Z)("div",{className:"FeedListItem__timeStamp","data-date":t.createdAt},void 0,z(t,a),t.edited&&` - ${H.__("Edited")}`))};var W=q;var U=a(14384);const V=(e,t)=>{const a=(0,v.GA)(e,t.id)||{};return{src:a.avatar||null}};var G=(0,f.$j)(V,{})(U.Z);const Y=e=>{let{item:t,config:a,timezones:s,...o}=e;let r=null;if(t.editing){r=(0,n.Z)(M.Z,{config:a,defaultValue:t.text,editing:t.editing,focusOnMount:true,itemId:t.id,onReset:()=>o.cancelEditing(t.id),onSubmit:(e,a,n,s,i)=>{e.preventDefault();o.editComment(t.id,a,n.valueSeq().map((e=>e.remoteId)).toArray(),i.keySeq().toArray())},pending:t.pending,showEditText:true})}else{r=(0,n.Z)("div",{className:"FeedListItemWrapper"},void 0,(0,n.Z)(W,{item:t,timezones:s}),(0,n.Z)("div",{className:"FeedListItem__text"},void 0,t.text),(0,n.Z)(L,{id:t.id,showRemoveIcon:false}),!a.readOnly&&!t.pending&&i().createElement(A,(0,c.Z)({item:t},o)))}return(0,n.Z)("div",{className:"FeedListItemParent"},void 0,(0,n.Z)(G,{id:t.author}),r)};var K=Y;const X=e=>(0,n.Z)("li",{className:"FeedListItem FeedListItem--reply"},void 0,i().createElement(K,e));var J=X;const Q=(e,t)=>({item:(0,v.hh)(e,t.id),config:(0,g.iE)((0,v.zv)(e))});var ee=(0,f.$j)(Q,{beginEditing:m.beginEditing,cancelEditing:m.cancelEditing,deleteComment:m.deleteComment,editComment:m.editComment})(J);const te=e=>{let{ids:t,timezones:a}=e;return(0,n.Z)("ul",{className:"FeedListReplyList"},void 0,t.map((e=>(0,n.Z)(ee,{id:e,timezones:a},`reply${e}`))))};var ae=te;const ne=e=>(0,n.Z)("li",{className:`FeedListItem ${e.item.isPinned?"FeedListItem--pinned":""}`},void 0,e.item.isPinned&&(0,n.Z)("span",{className:"FeedListItem__pinnedIcon"},void 0,(0,l.ifFeature)("encore",(0,n.Z)(o.I,{name:"thumbtack-solid",size:16,color:"primary-strong"}),(0,n.Z)(r.I,{brand:true,name:"fab-thumbtack-16x24"})))&&console.warn("This feature requires UX review."),i().createElement(K,e),e.item.eventId&&e.config.externalRender(e.item.eventId),e.config.enableReply&&(0,n.Z)(ae,{ids:e.item.replies,timezones:e.timezones}),!e.config.readOnly&&e.config.enableReply&&(0,n.Z)(b,{inReplyTo:e.item.id}));var se=ne;const ie=(e,t)=>({item:(0,v._g)(e,t.id),config:(0,g.iE)((0,v.zv)(e))});var oe=(0,f.$j)(ie,{beginEditing:m.beginEditing,cancelEditing:m.cancelEditing,deleteComment:m.deleteComment,editComment:m.editComment})(se);const re=e=>{let{ids:t,timezones:a}=e;return(0,n.Z)("ul",{className:`feedListContainer ${(0,g.iE)().inputPosition==="bottom"?"feedListContainer--bottom":""}`},void 0,t.map((e=>(0,n.Z)(oe,{id:e,timezones:a},`comment${e}`))))};var le=re},88617:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(5288);var r=a(46676);var l=a(55572);var c=a(28727);const d=e=>({ids:(0,c.Uo)(e)});var u=(0,r.$j)(d,{})(l.Z);var h=a(38962);const p=e=>(0,n.Z)("div",{className:`feedOrder ${(0,h.iE)().inputPosition==="bottom"?"feedOrder--bottom":""}`},void 0,!(0,h.iE)(e?.feedId).readOnly&&(0,n.Z)(o.Z,{}),i().createElement(u,e));var m=p},79673:(e,t,a)=>{"use strict";a.d(t,{Z:()=>L});var n=a(89835);var s=a(44119);var i=a(23321);var o=a.n(i);var r=a(59786);var l=a(46676);var c=a(28727);const d=(e,t)=>{const a=(0,c.Qj)(e,t.id).toList().filterNot((e=>t.filesToDelete.has(e.get("id"))));return{files:a}};var u=(0,l.$j)(d)(r.Z);var h=a(60042);var p=a.n(h);var m=a(79340);var f=a(26242);var g=a(14386);var v=a(619);var y=a(56445);var b=a(88721);var w=a(51178);var C=a(90046);var S=a(73641);var E=a(69835);var x=a(77827);var $=a(26570);const T=4;const k=$.__("Error when uploading file, please try again. If the issue persists, please contact support.");const I=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:S.noop;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:S.noop;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:S.noop;let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:S.noop;let i;const o=new FormData;o.append("upload",e);const l=new XMLHttpRequest;l.addEventListener("loadstart",(e=>{t(l)}));l.upload.addEventListener("progress",(e=>{a(Math.round(e.loaded/e.total*100))}));l.upload.addEventListener("abort",(e=>{s()}));l.addEventListener("load",(0,y.ifFeature)("files_api_v2_enabled",(()=>{n((0,r.Y)({remoteId:i,name:e.name,progress:100}))}),(e=>{const t=JSON.parse(e.target.responseText);if(t.status==="ERROR"){window.setMessage(t.message,"error");s()}else{n((0,r.Y)({remoteId:t.fid,name:t.name,progress:100}))}})));if((0,y.ifFeature)("files_api_v2_enabled",true)){(0,x.eB)().then((t=>{i=t.fileId;t.uploadFile(e,{xhr:()=>l})}))}else{l.open("POST","/ajax/files/attachTemporary.php",true);l.send(o)}l.onerror=function(e){window.setMessage(k,"error");window.Rollbar.error("FEEDS: Error when uploading temporary file",e)}};const A=e=>{if(e.xhr&&e.xhr.readyState&&e.xhr.readyState!==T){e.xhr.abort()}else{const t=new XMLHttpRequest;t.open("POST",`/ajax/dialog/employee_files/delete_files.php?temporary=1&file_ids[]=${e.remoteId}&delete=1&showMessage=no`,true);t.setRequestHeader("X-CSRF-Token",window.CSRF_TOKEN);t.send()}};var F=a(38962);var Z=a(26570);const M=Z.__("Cancel");const N=function(e){e.preventDefault()};class D extends i.PureComponent{constructor(){var e;super(...arguments);e=this;(0,s.Z)(this,"_handleReset",(e=>{this.state.tempFiles.forEach((e=>this.deleteTempFile(e.id)));this.showErrorState(false);return this.props.onReset(e,this.getValue(),this.state.tempFiles)}));(0,s.Z)(this,"_handleSubmit",(e=>{e.preventDefault();if(this.isAssumedUser){return this.disabledForPermsTest()}if(this.getValue().trim().length===0){this.showErrorState(true,Z.__("Share what's on your mind! Make sure you add a comment."))}else{this.showErrorState(false);return this.props.onSubmit(e,this.getValue(),this.state.tempFiles,this.textArea.current,this.state.filesToDelete)}}));(0,s.Z)(this,"_handleAttach",(e=>{const t=e.target.files;if(t.length>=1){this.addTempFiles(t)}e.target.value=""}));(0,s.Z)(this,"_handleDrop",(e=>{const t=e.dataTransfer.files;if(t.length>=1){this.addTempFiles(t)}this.setState({dragging:false});e.preventDefault()}));(0,s.Z)(this,"_handleDrag",(e=>{e.preventDefault();const t=e.type==="dragenter"||false;this._handleFocus(e);this.setState({dragging:t})}));(0,s.Z)(this,"_handleFocus",(e=>this.props.onFocus(e,this.getValue(),this.state.tempFiles)));(0,s.Z)(this,"showErrorState",(function(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let a=arguments.length>1?arguments[1]:undefined;if(t&&a.length){window.setMessage(a,"error")}else{window.closeMessage()}e.setState({error:t})}));(0,s.Z)(this,"markFileForDeletion",(e=>{this.setState({filesToDelete:this.state.filesToDelete.set(e,e)})}));(0,s.Z)(this,"deleteTempFile",(e=>{A(this.state.tempFiles.get(e));this.setState((t=>({tempFiles:t.tempFiles.delete(e)})))}));(0,s.Z)(this,"addTempFiles",(e=>{const t=(0,S.debounce)((()=>this.setState({uploadPending:true})),500);t();Array.from(e).forEach((e=>{const a=(0,S.uniqueId)();this.setState((t=>({filesPending:t.filesPending+1,tempFiles:t.tempFiles.set(a,(0,r.Y)({id:a,name:e.name}))})));I(e,(e=>this.setState((t=>({tempFiles:t.tempFiles.setIn([a,"xhr"],e)})))),(e=>this.setState((t=>({tempFiles:t.tempFiles.setIn([a,"progress"],e)})))),(e=>{t.cancel();this.setState((t=>({uploadPending:t.filesPending!==1,filesPending:t.filesPending-1,tempFiles:t.tempFiles.update(a,(t=>t.mergeWith(((e,t)=>t||e),e)))})))}),(()=>{t.cancel();this.setState((e=>({uploadPending:e.filesPending!==1,filesPending:e.filesPending-1,tempFiles:e.tempFiles.remove(a)})))}))}))}));(0,s.Z)(this,"getValue",(()=>this.textArea.current.value));(0,s.Z)(this,"openFileSelector",(e=>{this._handleFocus(e);this.fileInput.click()}));(0,s.Z)(this,"textArea",(0,i.createRef)());(0,s.Z)(this,"attachIcon",(0,i.createRef)());(0,s.Z)(this,"state",{tempFiles:(0,C.OrderedMap)(),filesToDelete:(0,C.Map)(),error:false,uploadPending:false,filesPending:0,dragging:false});(0,s.Z)(this,"componentWillReceiveProps",(e=>{if(!e.editing){this.textArea.current.value="";this.setState({tempFiles:(0,C.Map)(),filesToDelete:(0,C.Map)()})}}));(0,s.Z)(this,"componentDidMount",(()=>{window.addEventListener("dragover",N);window.addEventListener("drop",N);if(this.props.focusOnMount){this.textArea.current.focus()}if(this.attachIcon.current){this.Tooltip=E.Z.create(this.attachIcon.current,{template:{name:"tooltip-standard",data:{content:Z.__("Drag and drop or click to browse files.")}},tailOnBalloon:15,delay:500})}}));(0,s.Z)(this,"componentWillUnmount",(()=>{window.removeEventListener("dragover",N);window.removeEventListener("drop",N);if(this.attachIcon.current){this.Tooltip.destroy()}}))}static get className(){return"Editor"}get isAssumedUser(){return window.GLOBAL_IS_ASSUMED_USER}get disabledForPermsTest(){return window.disabledForPermsTest}render(){const{itemId:e,config:t,showEditText:a,editing:s,pending:i,defaultValue:l}=this.props;const{error:c,dragging:d,uploadPending:h}=this.state;const C=p()({"fab-Textarea":true,"fab-Textarea--error":c,"fab-Textarea--width100":true,FeedInput__textarea:true,"FeedInput__textarea--dragging":d});return(0,n.Z)("div",{className:"FeedListItemEdit"},void 0,(0,n.Z)("form",{method:"post",onKeyDown:e=>{if(e.key==="Enter"&&(e.metaKey||e.ctrlKey)){this._handleSubmit(e)}},onReset:this._handleReset,onSubmit:this._handleSubmit},void 0,t.enableAttach?(0,n.Z)("div",{className:"FeedListItem__input",onDragEnter:this._handleDrag,onDragLeave:this._handleDrag,onDrop:this._handleDrop},void 0,o().createElement(m.T,{defaultValue:l,disabled:i,multiline:true,onFocus:this._handleFocus,placeholder:t.placeholder,ref:this.textArea,InputProps:{endAdornment:(0,n.Z)(f.L,{alignSelf:"start",paddingRight:(0,y.ifFeature)("encore",2,1),paddingY:(0,y.ifFeature)("encore",2,1),onClick:this.openFileSelector},void 0,o().createElement("span",{className:"FeedInput__attachIcon",ref:this.attachIcon},(0,y.ifFeature)("encore",(0,n.Z)(g.I,{color:"neutral-extra-strong",name:"link-regular",size:16}),(0,n.Z)(v.I,{name:"fab-paperclip-16x16"}))))}}),(0,n.Z)("span",{className:i?"hidden":"FeedInput__attach",onClick:this.openFileSelector},void 0,o().createElement("input",{accept:F.K8,"aria-label":"File upload",multiple:true,onChange:this._handleAttach,ref:e=>{this.fileInput=e},style:{display:"none"},type:"file"}))):(0,n.Z)("div",{className:"FeedListItem__input"},void 0,o().createElement(m.T,{defaultValue:l,disabled:i,multiline:true,onFocus:this._handleFocus,placeholder:t.placeholder,ref:this.textArea})),e&&(0,n.Z)(u,{filesToDelete:this.state.filesToDelete,id:e,removeOnClick:this.markFileForDeletion,showRemoveIcon:true}),(0,n.Z)(r.Z,{files:this.state.tempFiles,removeOnClick:this.deleteTempFile,showLoader:true,showRemoveIcon:!i}),s&&(0,n.Z)("div",{className:"FeedInput__actions"},void 0,(0,n.Z)(b.B,{isProcessing:i||h,text:a?t.submitEditText:t.submitNewText,type:"submit"}),(0,n.Z)(f.L,{paddingLeft:1},void 0,(0,n.Z)(w.T,{isDisabled:i,text:M,type:"reset"})))))}}(0,s.Z)(D,"defaultProps",{defaultValue:"",editing:false,focusOnMount:false,pending:false,placeholder:"",onFocus:S.noop,onReset:S.noop,onSubmit:S.noop,submitText:"",itemId:null,showEditText:false});var L=D},14384:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var n=a(89835);var s=a(23321);var i=a(81551);var o=a(56445);var r=a(14386);var l=a(619);const c=e=>{let{img:t,size:a="45x45"}=e;const[i,c]=(0,s.useState)(false);return(0,n.Z)(s.Fragment,{},void 0,t&&!i?(0,n.Z)("img",{alt:"Employee Avatar",className:"FeedListItemAvatar Avatar",onError:()=>c(true),src:t}):(0,n.Z)("span",{className:"FeedListItemAvatar Avatar"},void 0,(0,o.ifFeature)("encore",(0,n.Z)(r.I,{name:"user-solid",size:"20",color:"white"}),(0,n.Z)(l.I,{name:"fab-person-circle-45x45"}))))};const d=e=>{let{src:t,size:a}=e;return(0,n.Z)(i.Z,{},void 0,(0,n.Z)(c,{img:t,size:a}))};var u=d},81551:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(44119);var s=a(23321);var i=a.n(s);class o extends s.PureComponent{constructor(){super(...arguments);(0,n.Z)(this,"state",{error:null,info:null})}static get className(){return"ItemErrorBoundary"}componentDidCatch(e,t){this.setState({error:e,info:t});console.error(e)}render(){if(!this.state.error){return this.props.children}return null}}},5288:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var n=a(88604);var s=a(23321);var i=a.n(s);var o=a(69677);var r=a(88638);const l=e=>{let{...t}=e;return i().createElement(o.Z,(0,n.Z)({},t,{onError:t.handleError,onFocus:t.beginEditing,onReset:()=>{let e=new CustomEvent("feeds:cancelEditing",{bubbles:true,detail:t.config.parentId});t.cancelEditing();document.dispatchEvent(e)},onSubmit:t.beginSaving,onSuccess:()=>{let e=new CustomEvent("feeds:commentAdded",{bubbles:true,detail:t.config.parentId});t.handleSuccess();document.dispatchEvent(e)}}))};var c=(0,r.Z)(l);var d=a(48037);var u=a(38962);var h=a(28727);var p=a(46676);const m=e=>({config:(0,u.iE)((0,h.zv)(e))});var f=(0,p.$j)(m,{addComment:d.addComment})(c)},69677:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var n=a(89835);var s=a(44119);var i=a(23321);var o=a(14384);var r=a(79673);var l=a(73641);var c=a(56445);var $=a(26570);class d extends i.PureComponent{constructor(){super(...arguments);(0,s.Z)(this,"handleFocus",((e,t,a)=>this.props.onFocus(e,t,a)));(0,s.Z)(this,"handleReset",((e,t,a)=>this.props.onReset(e,t,a)));(0,s.Z)(this,"create",((e,t,a,n)=>{const{config:s,onSubmit:i,inReplyTo:o,addComment:r,onSuccess:l,onError:c}=this.props;e.preventDefault();i(e,t,a);$.post(`${s.rootCommentURL}/${s.parentType}/${s.parentId}`,{text:t,attachIds:a.valueSeq().map((e=>e.remoteId)).toArray(),inReplyTo:o}).then((s=>{r(s);l(e,t,a);n.value=""}),(()=>c(e,t,a)))}))}static get className(){return"ItemCreator"}render(){const e=window.SESSION_USER||{};return(0,n.Z)("div",{className:"FeedInput"},void 0,(0,n.Z)("div",{className:"FeedInput__flexwrap"},void 0,(0,n.Z)(o.Z,{size:(0,c.ifFeature)("encore","32x32","38x38"),src:e.avatarTiny}),(0,n.Z)(r.Z,{config:this.props.config,editing:this.props.editing,focusOnMount:this.props.focusOnMount,onFocus:this.handleFocus,onReset:this.handleReset,onSubmit:this.create,pending:this.props.pending})))}}(0,s.Z)(d,"defaultProps",{editing:false,config:l.noop,focusOnMount:false,pending:false,onFocus:l.noop,onReset:l.noop,onSubmit:l.noop,onError:l.noop,onSuccess:l.noop});var u=d;var h=a(46676);var p=a(38962);var m=a(28727);const f=e=>({config:(0,p.iE)((0,m.zv)(e))});var g=(0,h.$j)(f)(u)},64265:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var n=a(89835);var s=a(23321);var i=a(81551);const o=e=>{let{author:t}=e;return(0,n.Z)("div",{},void 0,t&&t.canView&&t.employeeId?(0,n.Z)("a",{href:`/employees/employee.php?id=${t.employeeId}`},void 0,t.name):t.name)};const r=e=>{let{user:t}=e;return(0,n.Z)(i.Z,{},void 0,(0,n.Z)(o,{author:t}))};var l=r;var c=a(46676);var d=a(28727);const u=(e,t)=>({user:(0,d.GA)(e,t.id)});var h=(0,c.$j)(u,{})(l)},88638:(e,t,a)=>{"use strict";var n=a(88604);var s=a(44119);var i=a(23321);var o=a.n(i);const r=e=>{var t;return t=class extends i.PureComponent{constructor(){super(...arguments);(0,s.Z)(this,"state",{editing:false,pending:false});(0,s.Z)(this,"actions",{beginEditing:()=>this.setState({editing:true}),cancelEditing:()=>this.setState({editing:false}),beginSaving:()=>this.setState({pending:true}),handleError:()=>this.setState({pending:false}),handleSuccess:()=>this.setState({editing:false,pending:false})})}render(){return o().createElement(e,(0,n.Z)({},this.state,this.props,this.actions))}},(0,s.Z)(t,"displayName",`creator(${e.displayName||e.name||"Component"})`),t};t["Z"]=r},59786:(e,t,a)=>{"use strict";a.d(t,{Y:()=>b,Z:()=>C});var n=a(89835);var s=a(44119);var i=a(23321);var o=a(58352);var r=a(619);var l=a(14386);var c=a(56445);var d=a(38592);var u=a(90046);var h=a(73641);var p=a(19711);const m=1e3;const f={transition:`opacity ${m}ms linear`,opacity:1};const g={exiting:{opacity:0}};const v=e=>{let{percent:t}=e;return(0,n.Z)(p.ZP,{in:t<100,timeout:m,unmountOnExit:true},void 0,(e=>(0,n.Z)("div",{className:"FileListItem__loader",style:{...f,...g[e]}},void 0,(0,n.Z)("div",{className:"ProgressBar ProgressBar--feeds"},void 0,(0,n.Z)("div",{className:"ProgressBar__bar baseColorBg",style:{width:`${t}%`}})))))};var $=a(26570);const y=$.__("Unable to preview the requested file. If the issue persists, please contact support.");const b=(0,u.Record)({id:null,name:null,progress:0,remoteId:null,xhr:null},"TemporaryFile");class w extends i.Component{static get className(){return"FileList"}render(){const e=this.props.files.valueSeq().map((e=>{let t="FileListItem js-fileListItem";if(this.props.showLoader&&this.isTemporary(e)&&e.progress<100){t+=" FileListItem--loading"}return(0,n.Z)("li",{className:t,id:e.id},e.id,(0,n.Z)("div",{className:"FileListItem__info FileListItem__info--widthAuto"},void 0,(0,n.Z)("div",{className:"FileListItem__icon"},void 0,(0,c.ifFeature)("encore",(0,n.Z)(o.F,{name:e.name,size:"teenie",type:(0,d.getFileTypeFromExt)(e.name)}),(0,n.Z)(r.I,{name:(0,d.getIconNameFromFileName)(e.name)}))),(0,n.Z)("span",{className:"FileListItem__name truncate"},void 0,this.getFileNameFromStatus(e)),(0,n.Z)("div",{className:this.props.showRemoveIcon?"FileListItem__remove":"hidden",onClick:()=>{this.props.removeOnClick(e.id)},role:"button",tabIndex:"0"},void 0,(0,c.ifFeature)("encore",(0,n.Z)(l.I,{name:"circle-xmark-solid",size:"16"}),(0,n.Z)(r.I,{name:"fab-circle-x-14x14"})))),(0,n.Z)(v,{percent:e.progress}))}));return this.props.files.size?(0,n.Z)("ul",{className:"FileList"},void 0,e):null}getFileNameFromStatus(e){if(!this.isTemporary(e)){return(0,n.Z)("a",{className:"js-FileListLink","data-file_id":e.id,"data-filemode":e.fileType,onClick:t=>this.previewFile(e)},void 0,e.name)}return e.name}isTemporary(e){return e._name&&e._name==="TemporaryFile"}previewFile(e){const{mostRecentEmployeeFileDataId:t,id:a,name:n}=e;try{window.previewFile(t,a,n,false,".js-FileListLink")}catch(t){window.setMessage(y,"error");window.Rollbar.error("previewFile errored when called.",{...e})}}}(0,s.Z)(w,"defaultProps",{files:(0,u.Map)(),removeOnClick:h.noop,showLoader:false,showRemoveIcon:true});var C=w},83943:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var n=a(88604);var s=a(89835);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(14386);var c=a(56921);var d=a(7167);var u=a(405);var h=a(619);var p=a(98675);var m=a(56445);var f=a.n(m);var $=a(26570);class g extends o.Component{static get className(){return"FilterDropdown"}constructor(e){super(e);(0,i.Z)(this,"_handleToggleModalOpen",(()=>{this.setState((e=>({showModal:!e.showModal})))}));this.state={showModal:false}}render(){const{filters:e,onFilterChange:t,selectedFilter:a,size:i,variant:f="single"}=this.props;const{showModal:g}=this.state;const v=e=>{switch(e){case"circle":return(0,m.ifFeature)("encore","circle-dashed-regular","fab-circle-dots-14x14");case"department":return(0,m.ifFeature)("encore","user-group-regular","fab-people-14x12");case"location":return(0,m.ifFeature)("encore","location-dot-regular","fab-location-11x14");case"division":return(0,m.ifFeature)("encore","sitemap-regular","fab-org-chart-12x13");case"all":return(0,m.ifFeature)("encore","buildings-regular","fab-company-12x14");case"custom":default:return(0,m.ifFeature)("encore","user-group-regular","fab-people-14x12")}};const y=e.map((e=>{let{description:t,displayText:a,value:n}=e;const i=v(n);return(0,m.ifFeature)("encore",{note:t,text:a,icon:(0,s.Z)(l.I,{name:i,size:16}),value:n},{description:t,text:a,iconName:i,value:n})}));const b=(0,m.ifFeature)("encore",{text:$.__("Custom Filter"),icon:(0,s.Z)(l.I,{name:v("custom"),size:16}),id:"custom",value:"custom"},{displayText:$.__("Custom Filter..."),text:$.__("Custom Filter..."),iconName:v("custom"),id:"custom",value:"custom"});y.push(b);const w=(e,a,n)=>{if(n.item.value===b.value){window.showFilterModal(n.item.text)}else{t(n.item.text,n.item.value)}};const C={isClearable:false,width:7,size:i,onSelect:w,items:y,selectedValues:[a.value],variant:f};return(0,s.Z)(o.Fragment,{},void 0,(0,s.Z)(c.F,{alignItems:"center",gap:1,width:"100%"},void 0,(0,s.Z)(d.B,{},void 0,$.__("Filter by")),(0,s.Z)(c.F,{flexGrow:1},void 0,y&&y.length>0&&(0,m.ifFeature)("encore",r().createElement(u.S,(0,n.Z)({},C,{renderToggleContent:e=>{const[t]=e;return(0,s.Z)(d.B,{icon:(0,s.Z)(l.I,{name:v(t.value),size:16})},void 0,t.text)},size:"medium",width:100})),r().createElement(u.S,(0,n.Z)({},C,{renderOptionContent:e=>(0,s.Z)("div",{className:"FilterDropdown__option"},void 0,(0,s.Z)("div",{className:"FilterDropdown__optionText"},void 0,e.iconName&&(0,s.Z)("span",{className:"FilterDropdown__optionIcon"},void 0,(0,s.Z)(h.I,{name:e.iconName})),(0,s.Z)("span",{},void 0,e.text)),(0,s.Z)("span",{className:"FilterDropdown__optionDescription"},void 0,e.description)),renderToggleContent:e=>{const[t]=e;return t?(0,s.Z)("div",{className:"FilterDropdown__toggle"},void 0,t.iconName&&(0,s.Z)("span",{className:"FilterDropdown__toggleIcon"},void 0,(0,s.Z)(h.I,{name:t.iconName})),(0,s.Z)("span",{},void 0,t.text)):null}}))))),(0,s.Z)(p.u_,{icon:"fab-employees-20x18",isOpen:g,onClose:this._handleToggleModalOpen,primaryAction:()=>{t(b.displayText,b.value);this._handleToggleModalOpen()},primaryActionText:$.__("Done"),title:$.__("Filter Options")},void 0,(0,s.Z)("div",{})))}}},74477:(e,t,a)=>{"use strict";a.d(t,{Nn:()=>d,tI:()=>c,mg:()=>w,N7:()=>y,nv:()=>g,cf:()=>q,jK:()=>z,bR:()=>B});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(60042);var r=a.n(o);var l=a(26136);let c=function(e){e["right"]="right";e["bottom"]="bottom";return e}({});const d=e=>{const{disabled:t,error:a,hasError:s,id:i,label:o,name:d,max:u,min:h,onChange:p,required:m,inputRef:f,value:g,warning:v,biId:y,errorPosition:b=c.right,width:w=4}=e;const C=e=>{if(e!==g){p(e)}};const S=`fab-TextInput--width${w}`;const E=s||Boolean(a);const x=!E&&Boolean(v);return(0,n.Z)("div",{className:"fab-FormColumn"},void 0,o&&(0,n.Z)("label",{className:r()("fab-Label",{"fab-Label--required":m},{"fab-Label--error":E},{"fab-Label--warning":x}),htmlFor:i},void 0,o),(0,n.Z)(l.Z,{biId:y,cssClasses:{single:r()(S,{"fab-TextInput--error":E},{"fab-TextInput--warning":x})},disabled:Boolean(t),id:i,inputRef:f,name:d,onChange:e=>C(e),onIncomplete:e=>C(e),required:m,settings:{start:g,max:u,min:h},type:"date"}),(a||x)&&(0,n.Z)("span",{className:r()("fab-FormNote",`DateField__note--${b}`,{"fab-FormNote--error":E},{"fab-FormNote--warning":x})},void 0,a||v))};var u=a(88604);var h=a(619);var p=a(17145);var m=a(56445);const f=e=>{const{autoComplete:t,autoFocus:a=false,disabled:s=false,error:o,hasError:l=false,id:c,inputMode:d="text",inputRef:u,label:f,maxLength:g,name:v,note:y="",onBlur:b,onChange:w,pattern:C,placeholder:S="",required:E=false,tooltip:x,type:T="text",value:k,width:I=9,biId:A}=e;const F=`fab-TextInput--width${I}`;const Z=l||Boolean(o);const M=T==="number";return(0,n.Z)("div",{className:"fab-FormColumn"},void 0,f&&(0,n.Z)("label",{className:r()("fab-Label",{"fab-Label--required":E},{"fab-Label--error":Z},(0,m.ifFeature)("encore",{"fab-marginBottom--4":true},{})),htmlFor:c},void 0,f,x&&(0,n.Z)(p.Z,{settings:{position:"right",content:x},wrapperClassName:"BaseInputField__tooltipIconWrapper"},void 0,(0,n.Z)(h.I,{name:"fab-question-14x14"}))),i().createElement("input",{ref:u,autoComplete:t,autoFocus:a,className:r()("fab-TextInput",F,{"fab-TextInput--error":Z},{NumberField__input:M}),"data-bi-id":A,"data-lpignore":"true",disabled:s,id:c,inputMode:d,maxLength:g,name:v,onBlur:b,onChange:w,pattern:C,placeholder:S,required:E,type:T,value:k}),y&&(0,n.Z)("span",{className:"fab-FormNote"},void 0,y),o&&(0,n.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,o))};const g=e=>i().createElement(f,(0,u.Z)({},e,{type:"text"}));const v=e=>React.createElement(BaseInputField,_extends({},e,{type:"number"}));const y=e=>{const{disabled:t=false,error:a,hasError:s=false,id:o,inputRef:l,label:c,maxLength:d,name:u,onChange:h,placeholder:p="",required:m=false,value:f,width:g=9,biId:v}=e;const y=`fab-Textarea--width${g}`;const b=s||Boolean(a);return(0,n.Z)("div",{className:"fab-FormColumn"},void 0,c&&(0,n.Z)("label",{className:r()("fab-Label",{"fab-Label--required":m},{"fab-Label--error":b}),htmlFor:o},void 0,c),i().createElement("textarea",{ref:l,"data-bi-id":v,disabled:t,className:r()("fab-Textarea",y,{"fab-Textarea--error":b}),id:o,maxLength:d,name:u,onChange:h,placeholder:p,required:m,value:f}),a&&(0,n.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,a))};var b=a(405);const w=e=>{const{disabled:t,error:a,hasError:s=false,id:i,inputRef:o,isClearable:l=false,items:c,label:d,menuWidth:u,name:h,note:p,onChange:m,onClose:f,renderOptionContent:g,required:v=false,selectedValues:y,showSearch:w="auto",width:C=9,biId:S}=e;const E=s||Boolean(a);return(0,n.Z)("div",{className:"fab-FormColumn"},void 0,d&&(0,n.Z)("label",{className:r()("fab-Label",{"fab-Label--required":v},{"fab-Label--error":E}),htmlFor:i},void 0,d),(0,n.Z)(b.S,{biId:S,condition:E?"error":null,id:i,inputRef:o,isClearable:l,isDisabled:Boolean(t),items:c,menuWidth:u,name:h,onChange:m,onClose:f,renderOptionContent:g,required:v,selectedValues:y,showSearch:w,width:C}),p&&(0,n.Z)("span",{className:"fab-FormNote"},void 0,p),a&&(0,n.Z)("span",{className:"fab-FormNote fab-FormNote--error"},void 0,a))};const C=e=>{const{createRef:t,id:a,biId:n,disabled:s,hasError:i,items:o,label:r,name:l,onChange:c,required:d,value:u}=e;const h=e=>`${a}_${e}`;const p=e=>{if(n){return`${n}_${e}`}return""};return _jsx("fieldset",{className:"fab-RadioGroup"},void 0,r&&_jsx("legend",{className:classNames("fab-RadioGroup__legend",{"fab-RadioGroup__legend--required":d},{"fab-RadioGroup__legend--error":i})},void 0,r),o.map(((e,a)=>_jsx("div",{className:"fab-Radio"},e.value,React.createElement("input",{ref:t?t():null,checked:e.value===u,className:"fab-Radio__input",disabled:s,id:h(a),"data-bi-id":p(a),name:l,onChange:c,type:"radio",value:e.value}),_jsx("label",{className:"fab-Radio__label",htmlFor:h(a)},void 0,e.text),e.note&&_jsx("div",{className:"fab-Radio__note"},void 0,e.note)))))};const S=e=>{const{id:t,disabled:a,items:n,label:s,name:i,onChange:o,required:r,values:l}=e;const c=e=>`${t}_${e}`;return _jsx("fieldset",{className:"fab-CheckboxGroup"},void 0,s&&_jsx("legend",{className:classNames("fab-CheckboxGroup__legend",{"fab-CheckboxGroup__legend--required":r})},void 0,s),n.map(((e,t)=>_jsx("div",{className:"fab-Checkbox"},e.value,_jsx("input",{checked:l.some((t=>t===e.value)),className:"fab-Checkbox__input",disabled:a,id:c(t),name:i,onChange:o,type:"checkbox",value:e.value}),_jsx("label",{className:"fab-Checkbox__label",htmlFor:c(t)},void 0,e.text),e.note&&_jsx("div",{className:"fab-Checkbox__note"},void 0,e.note)))))};function E(e){const{children:t,note:a}=e;return _jsx("div",{className:"fieldDiv"},void 0,_jsx("div",{className:"fab-InputWrapper"},void 0,t),a&&_jsx("span",{className:"fab-FormNote"},void 0,a))}function x(e){const{name:t,onAmountChange:a,onAmountBlur:n,value:s,inputProps:i={}}=e;const o={paddingRight:"45px"};return React.createElement("input",_extends({className:"required requiredWhenVisible CurrencyPicker__input fab-TextInput fab-TextInput--width4",name:t,onBlur:n,onChange:a,style:o,type:"text"},i,{value:s}))}function T(e){let t=e%100;if(t<10){t="0"+t}return t}function k(e,t){for(let a=0;a<Math.floor((e.length-(1+a))/3);a++){e=e.substring(0,e.length-(4*a+3))+t+e.substring(e.length-(4*a+3))}return e}function I(e,t,a,n){if(!a){a=","}if(!n){n="."}function s(e){const s=new RegExp("[^-0-9.,]+","gi");let i="";if(a!==""){i=new RegExp("\\"+a,"gi")}e=e.replace(t.symbol,"").replace(s,"").replace(i,"");if(n===e[0]){e="0"+e}return Number(e.replace(",",".").replace(/^(-?)([^0-9-]+)/,"$1"))}if(e===""){return e}e=s(e);if(isNaN(e)){e="0"}const i=e==(e=Math.abs(e));e=Math.floor(e*100+.50000000001);const o=T(e);e=Math.floor(e/100).toString();e=k(e,a);const r=t.symbolPosition?(i?"":"-")+e+n+o+t.symbol:(i?"":"-")+t.symbol+e+n+o;return r}function A(e){const t=useRef();useEffect((()=>{t.current=e}));return t.current}var F=a(73641);function Z(e){const{defaultValue:t,name:a,selectedCurrencyItem:n,handleValueChange:s=noop,inputProps:i={}}=e;const[o,r]=useState(t?formatAmountWithCurrency(t,n,window.GLOBAL_THOUSANDS_SEPARATOR,window.GLOBAL_DECIMAL_CHAR):"");const l=usePrevious(n);const c=e=>{if(s&&typeof s==="function"){s(e)}};const d=useCallback(((e,t)=>{const a=formatAmountWithCurrency(e,t,window.GLOBAL_THOUSANDS_SEPARATOR,window.GLOBAL_DECIMAL_CHAR);r(a);c(a)}),[]);const u=e=>{d(e.target.value,n)};const h=e=>{r(e.target.value)};useEffect((()=>{if(l&&l.code!==n.code){d(o,n)}}),[n,l,o,d]);return _jsx(ControlledAmountInput,{inputProps:i,name:a,onAmountBlur:u,onAmountChange:h,value:o})}function M(e){const{currencyCollection:t,disabled:a,name:n,onCurrencyCodeSelect:s,value:i,onMenuOpen:o=noop,onMenuClose:r=noop,renderToggle:l}=e;const[c,d]=useState(false);const u=()=>{d(true);if(o&&typeof o==="function"){o.call()}};const h=()=>{d(false);if(r&&typeof r==="function"){r.call()}};const p=(e,t)=>{let{isFocused:n}=e;if(l&&typeof l==="function"){return l({isFocused:n},t)}return React.createElement("button",_extends({},t,{className:classNames("fab-TextInput__button fab-TextInput__button--text fab-TextInput__button--right",{"fab-TextInput__button--focused":n}),disabled:a,tabIndex:"-1",type:"button"}),i)};const m=4;const f=useMemo((()=>{if(!c){return[]}const e=[{items:[],type:"group",key:"most_common"},{items:[],type:"group",key:"rest"}];t.forEach(((t,a)=>{const n=a<m?0:1;e[n].items.push({key:t.code,text:t.text||`${t.code} - ${t.name}`,value:t.code,isDisabled:t.isDisabled||false,data:t})}));return e}),[t,c]);return _jsx(Fragment,{},void 0,_jsx("div",{className:"ControlledCurrency__Menu--wrapper","data-currency-code":i},void 0,_jsx(Menu,{isDisabled:a,isOpen:c,items:f,onClose:h,onOpen:u,onSelect:s,placement:{align:"start",side:"bottom"},renderToggle:p,showSearch:"never"})),n&&_jsx("input",{className:"currencyType js-currency-picker-type",name:n,type:"hidden",value:i}))}function N(e){const{currencyCollection:t,inputNames:a,note:n,defaultValues:s}=e;const[i,o]=useState({code:s.currencyCode||"",symbol:s.currencySymbol||"",symbolPosition:0});const r=e=>{const a=t.find((t=>t.code===e.value));if(a){o(a)}};return _jsx(CurrencyPickerWrapper,{note:n},void 0,_jsx(AmountInput,{defaultValue:s.amount,name:a.amount,selectedCurrencyItem:i}),_jsx(ControlledCurrencyPickerMenu,{currencyCollection:t,name:a.currency,onCurrencyCodeSelect:r,value:i.code}))}const D=window.GLOBAL_THOUSANDS_SEPARATOR?window.GLOBAL_THOUSANDS_SEPARATOR:",";const L=window.GLOBAL_DECIMAL_CHAR?window.GLOBAL_DECIMAL_CHAR:".";const P=e=>{const t=e%100;if(t<10){return`0${t}`}return String(t)};const O=e=>{for(let t=0;t<Math.floor((e.length-(1+t))/3);t++){e=e.substring(0,e.length-(4*t+3))+D+e.substring(e.length-(4*t+3))}return e};const R=(e,t,a)=>{const n=e===(e=Math.abs(e));e=Math.floor(e*100+.50000000001);const s=P(e);e=Math.floor(e/100);let i=e.toString();i=O(i);return a?(n?"":"-")+i+L+s+t:(n?"":"-")+t+i+L+s};const B=(e,t,a)=>{if(e===null){return""}return R(e,t,a)};const H=(e,t)=>{if(t){e=e.replace(t,"")}if(e===""){return null}const a=new RegExp("[^-0-9.,]+","gi");e=e.replace(a,"");const n=new RegExp(`\\${D}`,"gi");e=e.replace(n,"");if(L===e[0]){e=`0${e}`}let s=Number(e.replace(",",".").replace(/^(-?)([^0-9-]+)/,"$1"));if(isNaN(s)){s=0}return s};const j=(e,t,a)=>{if(e===""){return""}const n=H(e,t);return B(n,t,a)};const z=(e,t)=>{let a="";const n=e.find((e=>e.code===t));if(n){a=n.symbol}return a};const q=(e,t)=>{let a=0;const n=e.find((e=>e.code===t));if(n){a=n.symbolPosition}return a};const W=e=>{const{amount:t,currencyCode:a,currencies:n,currencyEditingDisabled:s,currencyWarning:i=false,inputDisabled:o,error:r,handleAmountReformat:l,handleCurrencyCodeChange:c,hasError:d,id:u,inputRef:h,name:p,text:m,required:f}=e;const g=getCurrencySymbol(n,a);const v=getCurrencyPosition(n,a);const[y,b]=useState(t===null?"":getFormattedAmountFromNumber(t,g,v));useEffect((()=>{b(getFormattedAmountFromNumber(t,g,v))}),[g,t,v]);const w=e=>{c(e.value)};const C=e=>{const a=getFormattedAmountFromString(e.target.value,g,v);const n=convertStringToNumber(a,g);b(a);if(t!==n){l(a,n)}};const S=e=>{b(e.target.value)};let E;if(i){E="warning"}if(d||Boolean(r)){E="error"}return _jsx("div",{className:"CurrencySelectorField"},void 0,_jsx("div",{className:"fab-FormField"},void 0,React.createElement(TextField,{disabled:o,id:u,inputProps:{name:p},onBlur:C,onChange:S,ref:h,required:f,size:"medium",status:E,value:y,width:4}),_jsx(ControlledCurrencyPickerMenu,{currencyCollection:n,disabled:s,onCurrencyCodeSelect:w,value:a})),m&&_jsx("div",{className:"fab-FormField"},void 0,m),r&&_jsx("span",{className:"fab-FormNote fab-FormNote--error"},void 0,r))}},37935:(e,t,a)=>{"use strict";a.d(t,{h:()=>w,O:()=>C});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(53534);var r=a(70004);var l=a(88604);var c=a(44119);var d=a(73641);var u=a(98675);var h=a(84479);var p=a(78144);const m=(0,h.createLogger)("GlobalModal");const f=()=>({autoClose:true,mergeModalProps:false,mergeSheetProps:true});const g=()=>({isOpen:false,isProcessing:false});u.u_.setAppElement(document.querySelector(".BhrPage-wrap"));class v extends s.Component{static get className(){return"GlobalModal"}constructor(e){super(e);(0,c.Z)(this,"_isOpen",(()=>{const{modalProps:{isOpen:e}}=this.state;return e}));(0,c.Z)(this,"_isProcessing",(()=>{const{modalProps:{isProcessing:e}}=this.state;return e}));const{namespace:t="Modal"}=e;this.namespace=t;this.state={modalOptions:f(),modalProps:g()};this._handleClose=this._handleClose.bind(this);window.BambooHR=window.BambooHR||{};window.BambooHR[t]={setState:this._setState.bind(this),isOpen:this._isOpen,isProcessing:this._isProcessing}}_handleClose(){const{modalOptions:e,modalProps:t}=this.state;const{autoClose:a}=e;const{onClose:n}=t;if(a&&this.namespace!=="LockModal"){this._setState({isOpen:false},true)}if(typeof n==="function"){n()}}_handleOpen(e){const{modalProps:t}=this.state;if(t.isOpen&&e.isOpen){m.warn("window.BambooHR.Modal seems to have been toggled to open while already open! Please ensure your logic is correct, and that the page is not trying to open two modals at the same time.")}}_setState(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:()=>{};const{modalOptions:n,modalProps:s}=this.state;if(typeof a!=="function"){console.warn("Global Modal react.js -> You didn't pass a function for callback");a=()=>{}}let i=t;if(typeof t==="object"){i=Object.assign(f(),t)}const{mergeModalProps:o=false,mergeSheetProps:r=true}=i;const l=t===true||o;const c=s.sheetProps||null;const u=e.sheetProps||null;if(typeof e==="object"){this._handleOpen(e);const i={modalOptions:(0,d.merge)({},n,t),modalProps:(0,d.merge)({},l&&s,e)};if(r&&u){i.modalProps.sheetProps=(0,d.merge)({},c,u)}else{i.modalProps.sheetProps=u}if(s.isOpen&&!i.modalProps.isOpen){this.setState({modalProps:{...s,isOpen:false}});window.setTimeout((()=>{this.setState(i,a)}),250)}else{this.setState(i,a)}}else{m.warn(`window.BambooHR.Modal.setState not called with an object. Got ${typeof e} instead.`)}}render(){const{modalProps:e}=this.state;if(typeof e.title==="string"){e.title=(0,p.Jk)(e.title)}return i().createElement(u.u_,(0,l.Z)({},e,{onClose:this._handleClose}))}}var y=a(56445);class b extends s.Component{static get className(){return"GlobalModalErrorBoundary"}componentDidCatch(e,t){Rollbar.error("Global Modal",{error:e,info:t})}render(){return i().createElement(v,this.props)}}function w(){const e=document.createElement("div");if((0,y.ifFeature)("REACT_18_GLOBAL_MODAL",true)){(0,r.sY)({children:(0,n.Z)(b,{}),attachedElement:e})}else{(0,o.s)((0,n.Z)(b,{}),e)}}function C(){const e=document.createElement("div");if((0,y.ifFeature)("REACT_18_GLOBAL_MODAL",true)){(0,r.sY)({children:(0,n.Z)(b,{namespace:"LockModal"}),attachedElement:e})}else{(0,o.s)((0,n.Z)(b,{namespace:"LockModal"}),e)}}},19161:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(89835);var s=a(23321);function i(e){return(0,n.Z)("div",{className:`dotLoader${e?` ${e}__progress`:""}`},void 0,(0,n.Z)("div",{className:"bounce1"}),(0,n.Z)("div",{className:"bounce2"}),(0,n.Z)("div",{className:"bounce3"}))}function o(e){return(0,n.Z)("div",{className:`circleDotLoader${e?` ${e}__loader`:""}`},void 0,(0,n.Z)("span",{className:"loaderCircle1 loaderCircle"}),(0,n.Z)("span",{className:"loaderCircle2 loaderCircle"}),(0,n.Z)("span",{className:"loaderCircle3 loaderCircle"}),(0,n.Z)("span",{className:"loaderCircle4 loaderCircle"}),(0,n.Z)("span",{className:"loaderCircle5 loaderCircle"}),(0,n.Z)("span",{className:"loaderCircle6 loaderCircle"}),(0,n.Z)("span",{className:"loaderCircle7 loaderCircle"}),(0,n.Z)("span",{className:"loaderCircle8 loaderCircle"}),(0,n.Z)("span",{className:"loaderCircle9 loaderCircle"}))}function r(e){let{blockName:t,type:a}=e;switch(a){case"dot":return i(t);default:return o(t)}}},33743:(e,t,a)=>{"use strict";a.d(t,{D:()=>i});var n=a(23321);var s=a.n(n);function i(e){const{markers:t,height:a,width:i}=e;let{zoom:o}=e;const r=(0,n.useRef)(null);if(t.length===1&&!o){o=17}(0,n.useEffect)((()=>{let e=[];let a=[];let n=null;let s=null;let i=null;const l=document.createElement("script");l.src=`https://maps.googleapis.com/maps/api/js?key=${window.GOOGLE_MAPS_API_KEY}`;window.document.head.appendChild(l);const c=l.addEventListener("load",(()=>{n=new window.google.maps.Map(r.current,{disableDefaultUI:true});s={path:"M9.001 0C3 0 0 4.5 0 9s9.001 15 9.001 15S18 13.5 18 9s-3-9-8.999-9zM9 12.857c-1.808 0-3.273-1.535-3.273-3.428C5.727 7.535 7.192 6 9 6s3.273 1.535 3.273 3.429c0 1.893-1.465 3.428-3.273 3.428z",anchor:new window.google.maps.Point(8,11),fillColor:"#EA4336",fillOpacity:1,strokeColor:"#EA4336",strokeWeight:1,labelOrigin:new window.google.maps.Point(43,12)};i=new window.google.maps.LatLngBounds;for(const o of t){if(o.coordinates.lat&&o.coordinates.lng){const t=new window.google.maps.Marker({position:o.coordinates,map:n,icon:s,label:{text:o.label,color:"#D1502A",fontSize:"8px"}});e.push(t);const r=new window.google.maps.Circle({strokeColor:"#EA4336",strokeOpacity:0,strokeWeight:0,fillColor:"#EA4336",fillOpacity:.2,map:n,center:o.coordinates,radius:o.accuracy});a.push(r);i.extend(t.position)}}n.fitBounds(i);window.google.maps.event.addListenerOnce(n,"bounds_changed",(()=>{if(o){n.setZoom(o)}}))}));return()=>{for(const t in e){delete e[t]}for(const e in a){delete a[e]}e=null;a=null;s=null;i=null;n=null;window.google=null;l.removeEventListener("load",c);window.document.head.removeChild(l);const t=document.querySelectorAll(`script[src*='maps.googleapis.com']`);for(let e=0;e<t.length;e++){t[e].parentNode.removeChild(t[e])}}}),[]);return s().createElement("div",{className:"Map",ref:r,id:"map",style:{width:i,height:a}})}},40724:(e,t,a)=>{"use strict";a.d(t,{Wn:()=>xe,vy:()=>me,x5:()=>Ee});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(23615);var r=a.n(o);var l=a(85642);function c(){return(0,n.Z)("svg",{height:"16",width:"12.444",xmlns:"http://www.w3.org/2000/svg"},void 0,(0,n.Z)("path",{d:"M12.149 4.834L6.47.093a.395.395 0 00-.509 0L.284 4.833A.789.789 0 000 5.435v6.62c0 .165.106.312.26.371l4.184 1.5v1.292c0 .436.347.783.779.783.384 0 .698-.4.698-.783V9.716a.196.196 0 00-.196-.194h-.189c-.603 0-1.088.836-1.088 2.261l-.004.5c-.2-.064-.38-.117-.528-.17-1.077-.353-2.13-1.23-2.13-2.485 0-2.933 3.194-6.249 4.164-7.185a.398.398 0 01.55 0c.97.936 4.164 4.252 4.164 7.185 0 1.254-1.053 2.132-2.13 2.485-.218.07-.839.253-1.147.353l.012.819c0 .406.408.689.793.554l3.992-1.42a.388.388 0 00.26-.37V5.433a.842.842 0 00-.295-.6z"}))}const d=(0,s.memo)((()=>(0,n.Z)("svg",{height:"14.028",width:"16",xmlns:"http://www.w3.org/2000/svg"},void 0,(0,n.Z)("path",{d:"M9.101 8.05h-2.21a.532.532 0 00-.444.827l1.105 1.666c.047.07.11.127.182.167v.989a1.295 1.295 0 01-.676-.352.266.266 0 00-.376.376c.352.352.82.546 1.318.546.498 0 .966-.194 1.318-.546a.266.266 0 00-.376-.376 1.294 1.294 0 01-.677.352v-.994a.533.533 0 00.174-.163l1.106-1.665A.532.532 0 009.1 8.05z"}),(0,n.Z)("path",{d:"M14.877.396c-1.024-.647-2.289-.484-2.824.364a1.534 1.534 0 00-.199.527C10.742.507 9.43.015 8 .015c-1.429 0-2.742.493-3.855 1.272A1.519 1.519 0 003.947.76C3.411-.088 2.147-.25 1.123.396c-1.024.647-1.42 1.86-.884 2.707.32.506.9.761 1.531.754C1.072 5.025.667 6.323.667 7.553c0 3.57 3.29 6.475 7.333 6.475s7.333-2.904 7.333-6.475c0-1.23-.405-2.528-1.103-3.696.632.008 1.212-.248 1.531-.754.536-.848.14-2.06-.884-2.707zm-.608 7.157c0 2.984-2.812 5.411-6.27 5.411-3.456 0-6.27-2.427-6.27-5.41C1.73 4.62 4.528 1.078 8 1.078c3.474 0 6.27 3.541 6.27 6.474z"}),(0,n.Z)("path",{d:"M6.817 7.176a1.314 1.314 0 00-.16-1.142L5.463 4.269a1.311 1.311 0 00-2.392.86l.203 2.121a1.313 1.313 0 001.75 1.11l.99-.357c.381-.137.678-.442.803-.827zm-1.18.214a.586.586 0 110-1.171.586.586 0 010 1.171zM10.519 4.27L9.325 6.033a1.312 1.312 0 00.643 1.969l.99.356a1.313 1.313 0 001.75-1.109l.203-2.12a1.311 1.311 0 00-2.392-.86zm-.156 3.12a.586.586 0 110-1.171.586.586 0 010 1.171z"}))));var u=a(44119);var h=a(52764);var p=a(1765);var m=a(73276);var f={view:{fontFamily:'"Lato", sans-serif',display:"flex",marginTop:"200px",flexDirection:"column",alignItems:"center",fontSize:`${m.iH.bH.d}px`,lineHeight:`${m.iH.bH.j}px`,color:p.colors.gray8,textAlign:"center"},image:{marginBottom:"16px"}};const g=e=>{let{customMessage:t,style:a}=e;return(0,n.Z)("div",{style:{...f.view,...a}},void 0,(0,n.Z)("span",{style:{...f.image}},void 0,(0,n.Z)("img",{src:"/images/explorer-pudgy-232x270.png"})),(0,n.Z)("div",{},void 0,(0,n.Z)(h.InPageMessaging,{body:"We tried to get that for you, but couldn't find it. Maybe try refreshing the page?",header:"Oh snap!",error:true}),t&&(0,n.Z)("div",{style:{marginTop:"16px"}},void 0,t)))};g.defaultProps={customMessage:"",style:{}};var v=g;var y=a(73641);var b=a(86347);const w=e=>e.replace(/\/[^/]*$/,"");const C=(e,t,a)=>{window[`__staticResourceUrl${(0,y.startCase)(e)}`]=w((0,b.j)(t,a))};const S={};function E(e,t){if(S[e]&&t.retry!==true){return S[e]}const{host:a,name:n,noLoadJSFromManifest:s,loadScript:i}=t;S[e]=fetch(e).then((e=>e.json())).then((e=>{if(e){C(n,a,e["main.js"]);Object.keys(e).filter((e=>e.endsWith(".css"))).forEach((t=>{const s=document.createElement("link");s.rel="stylesheet";s.href=e[t].startsWith("http")?e[t]:(0,b.j)(a,e[t]);s.dataset.microfrontend=n;document.head.appendChild(s)}));const t=Object.keys(e).filter((e=>e.endsWith(".js"))).filter((e=>!s.includes(e))).map((t=>i(e[t],t)));return t}}));return S[e]}class x extends i().Component{static get className(){return"MicroFrontend"}constructor(e){super(e);(0,u.Z)(this,"_renderMicroFrontend",(()=>{const{name:e,payload:t}=this.props;const{containerId:a}=this.state;window[`render_${e}`]?.(a,{...t})}));this.state={error:false,containerId:(0,y.uniqueId)("micro-container")}}_loadResource(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const{host:t,manifest:a,name:n,noLoadJSFromManifest:s}=this.props;const i=(e,a)=>new Promise((a=>{const s=document.createElement("script");s.src=e.startsWith("http")?e:(0,b.j)(t,e);s.async=true;s.onload=()=>a();s.dataset.microfrontend=n;document.head.appendChild(s)}));const o=`${t}/${a}`;const r=E(o,{host:t,manifest:a,name:n,noLoadJSFromManifest:s,loadScript:i,retry:e});this._processManifestPromise(r,e)}_processManifestPromise(e,t){const a=1e3;e.then((e=>{Promise.all(e).then((()=>this._renderMicroFrontend()))})).catch((e=>{if(t){this.setState({error:true});console.warn(e)}else{setTimeout((()=>{this._loadResource(true)}),a)}}))}_unmountMicroFrontend(){const{host:e,manifest:t,name:a}=this.props;const{containerId:n}=this.state;const s=`${e}/${t}`;const i=window[`unmount_${a}`];if(typeof i==="function"){i(n)}else{console.error(`No function exists to unmount "${a}" micro front-end!`)}document.querySelectorAll(`[data-microfrontend="${a}"]`).forEach((e=>{e.parentNode.removeChild(e)}));delete S[s]}componentDidMount(){this._loadResource()}componentDidUpdate(e){const{host:t}=this.props;if(e.host&&e.host!==t){this._unmountMicroFrontend();this._loadResource()}else{this._renderMicroFrontend()}}componentWillUnmount(){this._unmountMicroFrontend()}render(){const{className:e,customErrorMessage:t}=this.props;const{error:a,containerId:s}=this.state;if(a){return(0,n.Z)(v,{customMessage:t})}return(0,n.Z)("main",{className:e,id:s,"aria-label":s,style:{height:"100%",width:"100%"}})}}x.defaultProps={customErrorMessage:"",payload:{},host:"",name:"",resourceType:"",window,noLoadJSFromManifest:[]};var T=a(61808);function k(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const a={greenhouse:"3000",po:"3010",developerportal:"3030"};e=e.toLowerCase();return n=>{let{type:s,version:i}=n;if(t[s]){return t[s]}if(s==="odi"){return`https://staticfe.ci.pandasandbox.com/${e}/${i}`}if(s==="committed"){return(0,T.g)(e)}if(s==="development"){return window.location.host.includes(".bamboolocal.com")?`https://staticfe.bamboolocal.com:${a[e]}`:`https://resources.local.bamboohr.com/js/${e}`}if(s==="custom"){return(0,T.g)(e,i)}return i}}var I=a(39030);var A=a(619);var F=a(14386);var Z=a(67856);var M=a(56445);var N=a(60042);var D=a.n(N);var L=a(72956);var P=a(88721);var O=a(51178);var R=a(56921);var B=a(77343);var H=a(33832);var j=a(59592);var z=a(31868);var q=a(643);var W=a(26023);const U=(0,s.forwardRef)(((e,t)=>{let{errors:a,name:o,onChange:r,value:l}=e;const c=(0,y.uniqueId)("production-version-picker");return(0,n.Z)(s.Fragment,{},void 0,(0,n.Z)("label",{className:D()("fab-Label","fab-Label--required",{"fab-Label--error":a.customVersion}),htmlFor:c},void 0,"Paste a production version of ",(0,y.startCase)(o)),i().createElement("input",{ref:t,className:D()("fab-TextInput","fab-TextInput--width8",{"fab-TextInput--error":a.customVersion}),id:c,name:"customVersion",onChange:e=>r(e.currentTarget.value),required:true,type:"text",value:l}))}));var V=a(20797);var G=a(58365);const Y=(0,I.m)((e=>{let{palette:t,typography:a}=e;return{root:{display:"grid",gap:15,gridColumnTemplate:"1fr",marginTop:10},label:{color:t.grey[800],display:"block",fontSize:a.fabricFontSize("large")},infoText:{color:t.grey[800],fontSize:a.fabricFontSize("small"),marginTop:5},resourceTypePicker:{marginBottom:10}}}));const K=e=>{let{getUrl:t,isOpen:a,onCancel:o,onSave:r,value:l}=e;const c=Y();const{errors:d,register:u,validate:h}=(0,H.useValidation)();const[p,m]=(0,G.y)(l?.name);const[f,g]=(0,s.useState)();const[v,b]=(0,s.useState)();const[w,C]=(0,s.useState)(l?.sessionOnly);const S=()=>{g(undefined);b(undefined)};const E=f||v;const x=l?.name;const T=f||l?.type;const k=f&&f!=="committed"||v?v:l?.version;const I=t({type:T,version:k});const A=T==="committed"||T==="development"||k&&(T==="custom"||T==="odi");const F=async()=>{const e=h();if(e){const e=await(0,q.t)(`${I}/manifest.json`);if(e){r({...l,type:T,version:k,url:I,sessionOnly:w});S()}else{(0,j.f)("The selected version does not exist.","error")}}};const Z=()=>{S();o()};return(0,n.Z)(L.S,{isLoading:m,isOpen:a,onRequestClose:Z},void 0,(0,n.Z)(L.S.Body,{renderFooter:(0,n.Z)(L.S.Footer,{actions:[(0,n.Z)(P.B,{ariaLabel:"save version",disabled:!E&&w===l.sessionOnly,onClick:F},"saveButton","Save"),(0,n.Z)(O.T,{ariaLabel:"cancel version picker",onClick:Z},"cancelButton","Cancel")]},void 0,(0,n.Z)(R.F,{alignItems:"end",justifyContent:"end",width:"100%"},void 0,(0,n.Z)(B.C,{checked:w,onChange:(e,t)=>{C(t.target.checked)},label:"Save version for this tab only"}))),renderHeader:(0,n.Z)(L.S.Header,{title:`Change the version of ${(0,y.startCase)(x)}`}),size:L.S.Body.Size.MEDIUM},void 0,(0,n.Z)(L.S.Constraint,{},void 0,(0,n.Z)("form",{className:D()(c.root)},void 0,(0,n.Z)("span",{className:c.label},void 0,"Which version of code should we use?"),(0,n.Z)("div",{classes:{root:c.resourceTypePicker}},void 0,(0,n.Z)(V.i,{disabledTypes:p?.length?["development"]:["odi"],onChange:e=>{g(e);if(e==="committed"){b(z.Z.versions[x])}else{b(undefined)}},value:T})),T==="odi"||T==="custom"?(0,n.Z)("div",{},void 0,T==="odi"?i().createElement(W.w,{ref:u({required:true}),errors:d,name:x,odiResources:p,onChange:e=>b(e),value:k}):null,T==="custom"?i().createElement(U,{ref:u({required:true}),errors:d,name:x,onChange:e=>b(e),value:k||""}):null):null,A?(0,n.Z)("div",{className:c.infoText},void 0,"Resources will be loaded from:",(0,n.Z)("a",{href:I,rel:"noopener noreferrer",target:"_blank"},void 0,I)):null))))};const X=(0,I.m)((e=>{let{zIndex:t,palette:a}=e;return{root:{position:"fixed",bottom:0,right:0,zIndex:t.snackbar,width:40,height:40,overflow:"hidden","&:hover $icon":{fill:a.primary.main},"&:hover $nameIcon":{display:"inline-block"},"&:hover $typeIcon":{display:"none"},"&:hover $bubble":{borderColor:a.primary.main,boxShadow:"0 0 0px 2px white"}},bubble:{position:"absolute",backgroundColor:a.common.white,border:`1px solid ${a.grey[200]}`,borderRadius:"50% 50% 0 0",cursor:"pointer",height:75,left:0,outline:"none",top:0,width:75},icon:{display:"flex",bottom:8,height:16,justifyContent:"center",lineHeight:0,pointerEvents:"none",position:"absolute",right:8,width:16},nameIcon:{display:"none",fill:a.primary.main},pulse:{"&:not(:hover)":{animation:`$pulse 1500ms infinite alternate`}},typeIcon:{fill:a.grey[600]},"@keyframes pulse":{"0%":{opacity:1},"100%":{opacity:.25}}}}));const J={committed:"fab-check-circle-outline-16x16",development:"fab-wrench-16x16",odi:"fab-clock-14x14",custom:"fab-pencil-16x16"};const Q={committed:"circle-check-regular",development:"wrench-regular",odi:"clock-regular",custom:"pen-regular"};function ee(e){const{getUrl:t,icon:a,onChange:i,initialResource:o}=e;const r=X(e);const[l,c]=(0,s.useState)(false);const[d,u]=(0,s.useState)(o);const{name:h,type:p,version:m}=d;const f=(0,n.Z)(A.I,{name:J[p]});const g=(0,n.Z)(F.I,{name:Q[p],size:16});return(0,n.Z)("div",{className:r.root},void 0,(0,n.Z)(Z.T,{content:m,title:`Using the ${p} version of ${(0,y.upperFirst)(h)}.`},void 0,(0,n.Z)("button",{"aria-label":"version picker",className:r.bubble,onClick:()=>c(true),type:"button"})),(0,n.Z)("span",{className:D()(r.icon,{[r.pulse]:p!=="committed"})},void 0,(0,n.Z)("span",{className:r.typeIcon},void 0,(0,M.ifFeature)("encore",g,f)),(0,n.Z)("span",{className:r.nameIcon},void 0,a||(0,M.ifFeature)("encore",g,f))),(0,n.Z)(K,{getUrl:t||k(h),isOpen:l,onCancel:()=>c(false),onSave:e=>{c(false);u(e);document.dispatchEvent(new CustomEvent("ResourcePicker:change",{detail:e}));if(typeof i==="function"){i(e)}},value:d}))}var te=a(70004);var ae=a(37634);function ne(e){const t=document.createElement("div");t.id=e;return t}function se(e){return`js-${e}MicroFrontendResourcePicker`}let ie;function oe(e){const t=(0,s.useRef)(null);t.current=e;(0,s.useEffect)((()=>{const{env:e,getUrl:a,icon:s,onChange:i,initialResource:o}=t.current;const{name:r}=o;const l=se(r);if(e!=="dev"){return}if(!document.getElementById(l)){const e=ne(l);document.body.appendChild(e);ie||=(0,ae.s)(e);(0,te.sY)({children:(0,n.Z)(ee,{getUrl:a,icon:s,initialResource:o}),root:ie})}const c=e=>{if(typeof i==="function"){i(e.detail)}};document.addEventListener("ResourcePicker:change",c);return()=>{document.removeEventListener("ResourcePicker:change",c)}}),[])}var re=a(23211);var le=a(26242);const ce=e=>{const{children:t,getUrl:a,icon:s,initialResource:i,onChange:o}=e;const r=window.ENV;oe({env:r,getUrl:a,icon:s,initialResource:i,onChange:o});return r==="dev"?(0,n.Z)(le.L,{height:"100%",width:"100%"},void 0,t):t};var de=a(38592);const ue=JSON.parse(window.localStorage.getItem("bhr_greenhouse_dev"))||false;const he=ue?(0,n.Z)("span",{},void 0,"Please make sure you've cloned the"," ",(0,n.Z)("a",{href:"https://github.com/BambooHR/fe-greenhouse",rel:"noopener noreferrer"},void 0,"fe-greenhouse")," ","repository and run the build."):"If the problem persists, please contact the Internal Affairs development team.";const pe=(0,de.getJsonScriptVar)("config","pusher");const me=e=>{let{route:t}=e;const a="greenhouse";const[s,i]=(0,re.W)(a);const{mode:o,themeName:r}=(0,l.Y)();const d={fabricMode:o,fabricThemeName:r,globals:{PUSHER_AUTH_KEY:pe.PUSHER_AUTH_KEY,PUSHER_CLUSTER:pe.PUSHER_CLUSTER},route:t};return(0,n.Z)(ce,{icon:(0,n.Z)(c,{}),initialResource:s,onChange:i},void 0,(0,n.Z)(x,{body:he,header:ue?"Local Dev Tip":"We can help!",host:s?.url,manifest:"manifest.json",name:a,payload:d}))};me.propTypes={route:r().string};me.defaultProps={route:undefined};var fe=a(69853);var ge=a(71141);var ve=a(92102);var _e=a(12382);var ye=a(47380);const be=(0,s.lazy)((()=>a.e(6146).then(a.bind(a,72826))));function we(e){const{route:t}=e;return(0,n.Z)(ye.VA,{initialEntries:[t],initialIndex:0},void 0,(0,n.Z)(s.Suspense,{fallback:null},void 0,(0,n.Z)(ye.rs,{},void 0,(0,n.Z)(ye.AW,{path:"payroll",render:()=>i().createElement(be,e)}))))}var Ce=a(10189);const Se=["pdf.worker.js","salesforce-chat.js","e-signature.mobile.js","enrollment.mobile.js"];const Ee=e=>{let{customClassNamePrefix:t,route:i,...o}=e;const r="po";const[c,u]=(0,re.W)(r);const h=(0,fe.useRecoilBridgeAcrossReactRoots_UNSTABLE)();const{mode:p,themeName:m}=(0,l.Y)();const f={customClassNamePrefix:(0,s.useRef)((0,y.uniqueId)(t&&`${t}-`)).current,fabricMode:p,fabricThemeName:m,globals:{assumedUser:window.ASSUMED_USER,company:{...window.SESSION_COMPANY,globalCompanyCountryId:window.GLOBAL_COMPANY_COUNTRY_ID,isTrial:a.g.GLOBAL_IS_TRIAL==="true"},user:window.SESSION_USER,defaultCurrencyCode:window.GLOBAL_CURRENCY_CODE,defaultCurrencySymbol:window.GLOBAL_CURRENCY_SYMBOL,csrfToken:window.CSRF_TOKEN,Files:{deleteEmployeeFile:window.deleteEmployeeFile,shareEmployeeFile:window.shareEmployeeFile,emailFile:window.emailFile},getCsrfToken:()=>window.CSRF_TOKEN,showHelpWidget:window.showHelpWidget,isFeatureEnabled:ge.isEnabled,getSnapEngageClient:ve.uu,dateFnsDefaultFormat:window.dateFnsDefaultFormat,datePickerProviderFormatType:(0,_e.u)(),datePickerProviderLocale:(0,_e.K)(),MainTechnicalDebt:we,decimalChar:window.GLOBAL_DECIMAL_CHAR,thousandsSeparator:window.GLOBAL_THOUSANDS_SEPARATOR,isSupportAdmin:window.IS_SUPPORT_ADMIN,hasTrax:!!window.companyHasTrax||!!window.hasTrax||false,isPayrollSynced:window.Employee&&window.Employee.payrollSynced,isAssumedUser:window.GLOBAL_IS_ASSUMED_USER,numberRegex:window.GLOBAL_NUMBER_REGEX,host:c?.url,clearDemoData:Ce.J7},route:i,RecoilBridge:h,updateEmployeeInformation:window.BambooHR.HistoryTable?.updateEmployeeInformation,updateEmployeeGearMenu:window.BambooHR.HistoryTable?.updateEmployeeGearMenu,openMissingLocationInformation:window.BambooHR.HistoryTable?.openMissingLocationInformation,updateHireDates:window.updateHireDates,registerRateChange:window.registerRateChange,...o};return(0,n.Z)(ce,{icon:(0,n.Z)(d,{}),initialResource:c,onChange:u},void 0,(0,n.Z)(x,{host:c?.url,manifest:"manifest.json",name:r,noLoadJSFromManifest:Se,payload:f}))};Ee.propTypes={route:r().string};Ee.defaultProps={route:undefined};const xe=()=>{const e="developerportal";const[t,a]=(0,re.W)(e);const s={globals:{environment:window.ENV}};return(0,n.Z)(ce,{icon:(0,n.Z)(c,{}),initialResource:t,onChange:a},void 0,(0,n.Z)(x,{host:t?.url,manifest:"manifest.json",name:e,payload:s}))}},61808:(e,t,a)=>{"use strict";a.d(t,{g:()=>i});var n=a(31868);const s=e=>e==="dev"?"prod":e;const i=(e,t)=>{if(t&&t.startsWith("https://")){return t}const a=t||n.Z.versions[e]||"";return`${n.Z.url}/${e}/${s(a)}`}},58365:(e,t,a)=>{"use strict";a.d(t,{y:()=>c});var n=a(17842);var s=a.n(n);var i=a(23321);var o=a.n(i);var r=a(31868);var l=a(59592);const c=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";const[t,a]=(0,i.useState)([]);const[n,o]=(0,i.useState)(true);(0,i.useEffect)((()=>{const n=r.Z?.odiManifestEndpoints[e];o(true);if(!n){if(t){a([])}o(false);return}s().get(n).then((function(){let{data:e=[]}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};a(e);o(false)}),(()=>{(0,l.f)("Something went wrong loading ODI resources.","error");o(false)}))}),[e]);return[t,n]}},23211:(e,t,a)=>{"use strict";a.d(t,{W:()=>u,y:()=>c});var n=a(23321);var s=a.n(n);var i=a(31868);var o=a(61808);const r=e=>{if(!e)return e;if(typeof e==="string")return e;return JSON.stringify(e)};const l=e=>{if(e&&typeof e==="string"){return JSON.parse(e)}return e};const c=()=>{const e="po";const t=`${e.toLowerCase()}_micro_frontend_resource`;const a={url:(0,o.g)(e)};const n=l(window.localStorage.getItem(t));const s=l(window.sessionStorage.getItem(t));return(s||n||a).url};const d=(e,t)=>{let{defaultValue:a}=t;const s=l(window.localStorage.getItem(e));const i=l(window.sessionStorage.getItem(e));const o=i||s||a;const[c,d]=(0,n.useState)(o);const u=t=>{if(t&&t.sessionOnly){window.sessionStorage.setItem(e,r(t));d(t)}else{window.localStorage.setItem(e,r(t));sessionStorage.removeItem(e);d(t)}};(0,n.useEffect)((()=>{const t=t=>{if(e===t.key){if(t.newValue){d(l(t.newValue))}}};window.addEventListener("storage",t);return()=>{if(t){window.removeEventListener("storage",t)}}}),[u]);return[c||a,u]};const u=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";const t=i.Z.versions[e];const a={name:e,type:"committed",url:(0,o.g)(e),version:t,sessionOnly:false};return d(`${e.toLowerCase()}_micro_frontend_resource`,{defaultValue:a})}},86347:(e,t,a)=>{"use strict";a.d(t,{j:()=>o});const n=e=>e.includes("staticfe.ci.pandasandbox.com");const s=e=>e.replace(/^\/|\/$/g,"");const i=e=>s(e).replace(/\/[^/]+$/,"");const o=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";const a=new URL(e);const o=n(a.host)?a.pathname:i(a.pathname);return`${a.protocol}//${a.host}/${[s(o),s(t)].filter(Boolean).join("/")}`}},643:(e,t,a)=>{"use strict";a.d(t,{t:()=>i,L:()=>o});var n=a(17842);var s=a.n(n);function i(e){return s().get(e).then((()=>true),(()=>false))}function o(e){let{branch:t,commit:a,version:n}=e;return{note:a||n,text:t||"<unknown>",value:n}}},26023:(e,t,a)=>{"use strict";a.d(t,{w:()=>h});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(405);var r=a(73641);var l=a.n(r);var c=a(60042);var d=a.n(c);var u=a(643);const h=(0,s.forwardRef)(((e,t)=>{let{errors:a,name:i,odiResources:l,onChange:c,value:h}=e;return(0,n.Z)(s.Fragment,{},void 0,(0,n.Z)("label",{className:d()("fab-Label","fab-Label--required",{"fab-Label--error":a?.odiVersion})},void 0,"Select an ODI version of ",(0,r.startCase)(i)),(0,n.Z)(o.S,{condition:a?.odiVersion?"error":"default",inputRef:t,items:l.map(u.L),name:"odiVersion",onChange:e=>c(e[0]),selectedValues:h?[h]:[],width:"9"}))}))},20797:(e,t,a)=>{"use strict";a.d(t,{i:()=>m});var n=a(89835);var s=a(88604);var i=a(39030);var o=a(22635);var r=a(86319);var l=a(67856);var c=a(56445);var d=a.n(c);var u=a(23321);var h=a.n(u);const p=(0,i.m)((()=>({boxes:{display:"grid",gap:10,gridTemplateColumns:"repeat(auto-fill, minmax(280px, max-content))"}})));function m(e){let{disabledTypes:t=[],onChange:a,value:i}=e;const d=p();const u=(e,t)=>a(t);const m=e=>({boxWidth:280,inputId:`version-${e}`,isChecked:i===e,isDisabled:t.includes(e),name:"resource",onChange:u,value:e});return(0,n.Z)(o.S,{type:"radio"},void 0,(0,n.Z)("div",{className:d.boxes},void 0,(0,n.Z)("div",{className:d.box},void 0,h().createElement(r.S,(0,s.Z)({},m("committed"),{description:"Use version defined in this branch.",icon:(0,c.ifFeature)("encore","circle-check-regular","fab-check-circle-outline-20x20"),title:"Committed"}))),(0,n.Z)(l.T,{content:"This option is only available when used outside of an ODI",open:t.includes("development")?undefined:false},void 0,(0,n.Z)("div",{className:d.box},void 0,h().createElement(r.S,(0,s.Z)({},m("development"),{description:"Use a version from your machine.",icon:(0,c.ifFeature)("encore","wrench-regular","fab-wrench-20x20"),title:"Development"})))),(0,n.Z)(l.T,{content:"This option is only available when using an ODI",open:t.includes("odi")?undefined:false},void 0,(0,n.Z)("div",{className:d.box},void 0,h().createElement(r.S,(0,s.Z)({},m("odi"),{description:"Use an ODI version.",icon:(0,c.ifFeature)("encore","clock-regular","fab-clock-20x20"),title:"ODI"})))),(0,n.Z)("div",{className:d.box},void 0,h().createElement(r.S,(0,s.Z)({},m("custom"),{description:"Use a specific production version.",icon:(0,c.ifFeature)("encore","pen-regular","fab-pencil-20x20"),title:"Custom"})))))}},98675:(e,t,a)=>{"use strict";a.d(t,{u_:()=>te,yI:()=>E});var n=a(88604);var s=a(44119);var i=a(89835);var o=a(84479);var r=a(21198);var l=a(60042);var c=a.n(l);var d=a(21936);var u=a(23321);var h=a.n(u);var p=a(61403);var m=a.n(p);var f=a(56445);var g=JSON.parse('{"zQ":["text","filled","stacked"],"Pt":250,"vK":["aggressiveConfirmation","custom","fullScreen","medium","small","largeSheet","mediumSheet","smallSheet"]}');var v=a(619);const y={ADD_ATTR:["brand","name","esig","size","encore-color","encore-class","encore-name","encore-size"]};const b='input:not([type="hidden"]), textarea, .fab-Select, select';function w(e){return(0,r.sanitize)(e,y)}function C(e,t){if(!e||!(e instanceof HTMLElement)){return false}return e.querySelectorAll(String(t)).length===1}function S(e){if(!e||!(e instanceof HTMLElement)){return false}return C(e,b)}function E(){document.body.style.position="";document.body.style.top="";window.scrollTo(0,scrollY)}const x=function e(t){const{children:a,content:n,dangerousContent:s,handleClose:o,hasCloseButton:r,isLoading:l,isOpen:u,isProcessing:p,reactModalProps:f}=t;const g=a?a:n;return h().createElement(m(),f,u&&l&&(0,i.Z)("div",{className:"legacyModal__modalLoader"},void 0,(0,i.Z)(d.L,{})),(0,i.Z)("div",{className:c()("legacyModal__main","js-fabric-modal-main"),dangerouslySetInnerHTML:s?{__html:w(s)}:null,id:"fabricModalContent",role:"main"},void 0,s?null:g),r&&!p&&(0,i.Z)("button",{className:"legacyModal__closeButton",onClick:o,type:"button"},void 0,(0,i.Z)(v.I,{name:"fab-x-16x16"})))};var T=a(13354);var k=a(33042);var I=a(79128);var A=a(56921);var F=a(71229);var Z=a(14386);const M=function e(t){const{header:a,headerType:n,headline:s,iconColor:o,iconName:r,isMobileFriendly:l=false,mobileFriendlyHeader:d="",type:u,iconV2Color:p=null}=t;const m=a||s;const g=c()("legacyModal__header",{[`legacyModal__header--${n}`]:!!n});const y=c()("legacyModal__headerContent",{[`legacyModal__header--${u}--mobileHide`]:!!n&&!!l});const b=c()("legacyModal__headerContent",{[`legacyModal__header--${u}--mobileShow`]:!!n&&!!l});const w=c()("legacyModal__headerIcon",{[`legacyModal__headerIcon--${o}`]:!!o,[`legacyModal__headerIcon--${u}--mobileHide`]:!!n&&!!l});if(n==="filled"){return(0,i.Z)("div",{className:g},void 0,(0,i.Z)("div",{className:"legacyModal__headerBox"},void 0,m))}const C=n==="stacked"?"small":"medium";const S=m?h().createElement(T.H,{id:"fabricModalHeadline",size:u==="fullScreen"?"large":C,color:n==="stacked"&&u!=="fullScreen"?"neutral-strong":"primary"},m):null;const E=m?h().createElement(u==="fullScreen"?"h2":"h4",{className:y,id:"fabricModalHeadline"},m):null;const x=()=>h().createElement(h().Fragment,null,r&&(n==="text"?(0,i.Z)(k.S,{marginBottom:"8px"},void 0,(0,i.Z)(I.B,{icon:r,title:m})):h().createElement(h().Fragment,null,(0,i.Z)(A.F,{alignItems:"center",justifyContent:"center"},void 0,(0,i.Z)(k.S,{marginBottom:"24px"},void 0,(0,i.Z)(F.I,{icon:(0,i.Z)(Z.I,{color:p,name:r,size:32}),size:64}))),S)));const M=()=>h().createElement(h().Fragment,null,r&&(0,i.Z)("div",{className:w},void 0,(0,i.Z)(v.I,{name:r})),E);if(r||m&&typeof m==="string"||d&&typeof d==="string"){return(0,i.Z)("div",{className:g,role:"banner"},void 0,(0,f.ifFeature)("encore",x(),M()),l&&d&&u!=="fullScreen"&&(0,i.Z)("h2",{className:b,id:"fabricModalHeadlineMobile"},void 0,d))}return m};const N=function e(t){const{aggressiveConfirmationText:a,dangerousContent:n,handleAggressiveConfirmationInput:s,normalizedContent:o}=t;return(0,i.Z)(u.Fragment,{},void 0,(n||o)&&(0,i.Z)("div",{className:"legacyModal__note",dangerouslySetInnerHTML:n?{__html:w(n)}:null},void 0,o&&!n?o:null),(0,i.Z)("div",{className:"legacyModal__delete",dangerouslySetInnerHTML:typeof a==="string"?{__html:a}:null},void 0,typeof a==="string"?null:a),(0,i.Z)("input",{className:"fab-TextInput fab-TextInput--width4",onChange:s}))};const D=function e(t){const{aggressiveConfirmationText:a,normalizedContent:n,contentHasMaxHeight:s,contentHasPadding:o,dangerousContent:r,handleAggressiveConfirmationInput:l,isConfirmation:d}=t;const u=function e(){if(d){return h().createElement(N,{aggressiveConfirmationText:a,dangerousContent:r,handleAggressiveConfirmationInput:l,normalizedContent:n})}else if(!r){return n}return null};return(0,i.Z)("div",{className:c()("legacyModal__content",{"legacyModal__content--noPadding":!o,"legacyModal__content--noMaxHeight":!s}),dangerouslySetInnerHTML:!d&&r?{__html:w(r)}:null,id:"fabricModalContent"},void 0,u())};var L=a(88721);var P=a(51178);const O=Function.prototype;const R=function e(t){const{actionNote:a,additionalAction:n,additionalActionButtonType:s,additionalActionText:o,alternativeAction:r,alternativeActionText:l,biId:d,hideActions:u,isAggressivelyConfirmed:p,isConfirmation:m,isLoading:g,isMobileFriendly:y=false,isProcessing:b,isSheet:w,onClose:C,primaryAction:S,primaryActionText:E,secondaryAction:x,secondaryActionText:T,type:k}=t;const I=(0,f.ifFeature)("encore",true,false);const A=m&&!p?null:S;const F=(0,i.Z)(L.B,{clickAction:typeof A==="function"?A:null,"data-bi-id":d?`${d}-modal-action-primary`:null,isDisabled:!A,isProcessing:b,size:(0,f.ifFeature)("encore",undefined,"large"),text:E,type:"button"});const Z=c()("legacyModal__actions",{[`legacyModal__actions--${k}--mobileShow`]:!!y,[`legacyModal__actions--mobileShow`]:!!y});const M=c()("legacyModal__actions",{[`legacyModal__actions--mobileHide`]:!!y});const N=(0,f.ifFeature)("encore",c()("legacyModal__actionsContainer",{"legacyModal__actionsContainer--hidden":g}),"");function D(){return F}function R(){return typeof x==="function"?(0,i.Z)(L.B,{clickAction:x,"data-bi-id":d?`${d}-modal-action-secondary`:null,isProcessing:b,outline:k==="fullScreen",secondary:true,size:(0,f.ifFeature)("encore",undefined,"large"),text:T,type:"button"}):null}function B(){return typeof r==="function"?(0,i.Z)(P.T,{clickAction:r===O?C:r,"data-bi-id":d?`${d}-modal-action-alternative`:null,isDisabled:b,size:(0,f.ifFeature)("encore",undefined,"large"),text:l,type:"button"}):null}function H(){return a?(0,i.Z)("div",{className:"actionNote"},void 0,a):null}function j(){return typeof n==="function"?(0,i.Z)("div",{className:"legacyModal__additionalAction"},void 0,h().createElement(s==="text"?P.T:L.B,{clickAction:n,"data-bi-id":d?`${d}-modal-action-additional`:null,secondary:true,text:o,type:"button"})):null}const z=[D,R,B,H,j];function q(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(e){return z.reduceRight(((e,t)=>{e.push(t());return e}),[])}return z.map((e=>e()))}return!u&&(0,i.Z)("div",{className:N},void 0,y&&w&&(0,i.Z)("div",{className:Z},void 0,F),(0,i.Z)("div",{className:M},void 0,(0,f.ifFeature)("encore",q(k!=="fullScreen"),q(false)),k==="fullScreen"&&!I&&!y&&(0,i.Z)("div",{className:"legacyModal__logo"},void 0,(0,i.Z)(v.I,{name:"fab-bamboohr-logo-113x18"}))))};const B=function e(t){const{actionNote:a,additionalAction:n,additionalActionButtonType:s,additionalActionText:o,aggressiveConfirmationText:r,alternativeAction:l,alternativeActionText:d,biId:u,children:p,content:m,contentHasMaxHeight:g,contentHasPadding:v,dangerousContent:y,footer:b,handleAggressiveConfirmationInput:w,header:C,headerType:S,headline:E,hideActions:x,iconColor:T,iconV2Color:k,iconName:I,isAggressivelyConfirmed:A,isConfirmation:F,isLoading:Z,isMobileFriendly:N=false,isProcessing:L,isSheet:P,onClose:O,mobileFriendlyHeader:B,primaryAction:H,primaryActionText:j,secondaryAction:z,secondaryActionText:q,type:W}=t;const U=h().createElement(R,{actionNote:a,additionalAction:n,additionalActionButtonType:s,additionalActionText:o,alternativeAction:l,alternativeActionText:d,biId:u,hideActions:x,isAggressivelyConfirmed:A,isConfirmation:F,isLoading:Z,isMobileFriendly:N,isProcessing:L,isSheet:P,onClose:O,primaryAction:H,primaryActionText:j,secondaryAction:z,secondaryActionText:q,type:W});return h().createElement(h().Fragment,null,(0,i.Z)("div",{className:c()("legacyModal__main","js-fabric-modal-main",Z&&"legacyModal__main--hidden")},void 0,h().createElement(M,{header:C,headerType:S,headline:E,iconColor:T,iconV2Color:k,iconName:I,isMobileFriendly:N,mobileFriendlyHeader:B,type:W}),h().createElement(D,{aggressiveConfirmationText:r,normalizedContent:p?p:m,contentHasMaxHeight:g,contentHasPadding:v,dangerousContent:y,handleAggressiveConfirmationInput:w,isConfirmation:F}),b&&(0,i.Z)("div",{className:"legacyModal__footer"},void 0,b),(0,f.ifFeature)("encore",null,U)),(0,f.ifFeature)("encore",U,null))};var H=a(40957);var j=a(86930);var $=a(26570);const z=function e(t){const{handleClose:a,hasCloseButton:n,isHeadless:s,isLoading:o,isMobileFriendly:r=false,isMobileFriendlySheetFullScreen:l=false,isProcessing:d,isSheet:p,title:m,type:g}=t;const v=(0,i.Z)("div",{className:c()("legacyModal__titleGrid",{"legacyModal__titleGrid--noTitle":s||!m,"legacyModal__titleGrid--fullScreen":g==="fullScreen","legacyModal__titleGrid--hidden":o})},void 0,!s&&g!=="fullScreen"&&h().createElement(p?"h4":"h3",{className:c()("legacyModal__title",{"legacyModal__title--hidden":o,"legacyModal__title--hasCloseButton":n&&!d,[`legacyModal__title--${g}--mobileHide`]:r&&!p||l&&p}),id:"fabricModalTitle"},m),n&&!d&&(0,i.Z)("div",{className:"legacyModal__titleCloseButton"},void 0,(0,i.Z)(j.I,{"aria-label":$.__("close modal"),icon:"xmark-solid",onClick:a,size:g==="fullscreen"?"medium":"small",type:"button",variant:"outlined"})));const y=(0,i.Z)(u.Fragment,{},void 0,!s&&g!=="fullScreen"&&h().createElement(p?"h4":"h3",{className:c()("legacyModal__title",{"legacyModal__title--hidden":o,"legacyModal__title--hasCloseButton":n&&!d,[`legacyModal__title--${g}--mobileHide`]:r&&!p||l&&p}),id:"fabricModalTitle"},m),n&&!d&&(0,i.Z)(j.I,{"aria-label":$.__("Close Modal"),className:c()("legacyModal__closeButton",o&&"legacyModal__closeButton--hidden"),icon:(0,i.Z)(H.Z,{}),noBoundingBox:true,onClick:a,type:"button"}));return(0,f.ifFeature)("encore",v,y)};var q=a(26570);var W=a(26570);const U=(0,o.createLogger)("<Modal>");const V=Function.prototype;const G="Delete";let{scrollY:Y}=window;const K=[];function X(e){return Boolean(K[0]&&K[0]!==e)}function J(e){if(e.props.type.indexOf("Sheet")>-1||K[1]===e){K.length=1}else if(K[0]===e){K.length=0}}function Q(){if(!K[0]){E()}}const ee={actionNote:"",additionalAction:null,additionalActionButtonType:"text",additionalActionText:"",aggressiveConfirmationPassphrase:G,aggressiveConfirmationText:q?W.__('Type "%1$s%2$s%3$s" to continue',`<span class="legacyModal__bold">`,G,"</span>"):(0,i.Z)(u.Fragment,{},void 0,"Type ",(0,i.Z)("span",{className:"legacyModal__bold"},void 0,G)," to continue"),alternativeAction:V,alternativeActionText:q?W.__("Cancel"):"Cancel",biId:"",content:"",contentHasMaxHeight:true,contentHasPadding:true,dangerousContent:"",footer:"",hasCloseButton:true,header:"",headerType:"stacked",headline:"",hideActions:false,icon:"",iconColor:"theme",iconV2Color:null,isHeadless:false,isLoading:false,isMobileFriendly:false,isMobileFriendlySheetFullScreen:false,isOpen:false,isProcessing:false,onClose:V,onOpen:V,onlyPrintModal:false,overrides:{},primaryAction:V,primaryActionText:q?W.__("OK"):"OK",primaryActionKey:"",secondaryAction:null,secondaryActionText:"",sheetProps:null,title:"",type:"small"};class te extends u.PureComponent{constructor(){super(...arguments);(0,s.Z)(this,"_handleClose",(()=>{const{onClose:e,onlyPrintModal:t}=this.props;this._removeEventListeners();if(t){this._removePrintStylesForBackground()}if(typeof e==="function"){e()}}));(0,s.Z)(this,"_handleOpen",(()=>{const{onOpen:e,onlyPrintModal:t}=this.props;this._addEventListeners();if(t){this._hideBackgroundForPrint()}document.body.style.position="fixed";document.body.style.top=`-${Y}px`;setTimeout((()=>{this._focusInput();if(typeof e==="function"){e()}}),(0,f.ifFeature)("REACT_18_BA_DROPDOWN_AND_SELECT",100))}));(0,s.Z)(this,"_handleFormSubmit",(e=>{e.preventDefault()}));(0,s.Z)(this,"_handleKeyDown",(e=>{const{primaryAction:t,primaryActionKey:a,type:n}=this.props;const{isAggressivelyConfirmed:s}=this.state;if(typeof t!=="function"){return}if(e.key===a&&n!=="aggressiveConfirmation"){t()}else if(e.key==="Enter"&&(e.target.nodeName==="INPUT"||e.target.nodeName==="SELECT")){if(S(this._contentRef)){if(n!=="aggressiveConfirmation"){t()}else if(s){t()}}}}));(0,s.Z)(this,"_handleAggressiveConfirmationInput",(e=>{const{aggressiveConfirmationPassphrase:t}=this.props;const a=e.target.value.toLowerCase();const n=String(t).toLowerCase();this.setState((()=>({isAggressivelyConfirmed:a===n})))}));(0,s.Z)(this,"_hideBackgroundForPrint",(()=>{const e=document.createElement("style");e.id="hideBackgroundForPrint";e.innerHTML=`@media print { body:has([role="dialog"]) > * { display: none; } body > div:has([role="dialog"]) { display: block; } }`;document.head.appendChild(e)}));(0,s.Z)(this,"_removePrintStylesForBackground",(()=>{const e=document.getElementById("hideBackgroundForPrint");if(e){e.remove()}}));(0,s.Z)(this,"_focusInput",(()=>{const{overrides:e}=this.props;if(e.shouldFocusAfterRender===false){return}const t=this._contentRef?.querySelector('input:not([type="hidden"]), textarea, .fab-Select [role="button"], select');if(t){t.focus()}}));(0,s.Z)(this,"_addEventListeners",(()=>{if(this._contentRef){this._contentRef.addEventListener("submit",this._handleFormSubmit);this._contentRef.addEventListener("keydown",this._handleKeyDown)}}));(0,s.Z)(this,"_removeEventListeners",(()=>{if(this._contentRef){this._contentRef.removeEventListener("submit",this._handleFormSubmit);this._contentRef.removeEventListener("keydown",this._handleKeyDown)}}));(0,s.Z)(this,"state",{isAggressivelyConfirmed:false});(0,s.Z)(this,"_contentRef",null)}static get className(){return"Modal"}static setAppElement(e){if(e){m().setAppElement(e)}}static getDerivedStateFromProps(e,t){if(!e.isOpen&&t.isAggressivelyConfirmed){return{isAggressivelyConfirmed:false}}return null}componentDidMount(){const{headerType:e,type:t}=this.props;if(g.zQ.indexOf(e)===-1){U.warn("Supplied header type is not recognized!")}if(g.vK.indexOf(t)===-1){U.warn("Supplied modal type is not recognized!")}}getSnapshotBeforeUpdate(){const{isOpen:e}=this.props;if(e){if(!K[0]){K[0]=this}else if(K[0]!==this&&!K[1]){K[1]=this}}return null}componentDidUpdate(e){const{isOpen:t,type:a}=this.props;if(!e.isOpen&&t){const e=a.indexOf("Sheet")>-1||X(this);if(!e){({scrollY:Y}=window)}}if(e.isOpen&&!t){J(this);Q()}}componentWillUnmount(){J(this);Q();this._removeEventListeners()}render(){const{actionNote:e,additionalAction:t,additionalActionButtonType:a,additionalActionText:s,aggressiveConfirmationText:o,alternativeAction:l,alternativeActionText:u,biId:p,children:v,content:y,contentHasMaxHeight:b,contentHasPadding:w,dangerousContent:C,footer:S,hasCloseButton:E,header:T,headerType:k,headline:I,hideActions:A,icon:F,iconColor:Z,iconV2Color:M,isHeadless:N,isLoading:D,isMobileFriendly:L,isMobileFriendlySheetFullScreen:P,isOpen:O,isProcessing:R,onClose:H,overrides:j,primaryAction:q,primaryActionText:W,secondaryAction:U,secondaryActionText:V,sheetProps:G,title:Y}=this.props;const{mobileFriendlyHeader:K=(L||P?Y:null)}=this.props;let{type:J}=this.props;const{isAggressivelyConfirmed:Q}=this.state;const ee=J==="aggressiveConfirmation";let ae=J.indexOf("Sheet")>-1;if(!ae&&X(this)){ae=true;J="smallSheet"}const ne=T||I;const se=ee&&!F?(0,f.ifFeature)("encore","trash-can-regular","fab-trash-can-43x48"):F;const ie=Boolean(O);this.currentZIndex=!this.isCurrentlyOpen&&ie?(0,r.getMaxZIndex)()+10:this.currentZIndex;this.isCurrentlyOpen=ie;const oe={aria:{labelledby:ne&&typeof ne!=="object"?"fabricModalHeadline":"fabricModalTitle",describedby:"fabricModalContent"},ariaHideApp:true,bodyOpenClassName:"fabricModalOpen",className:c()("legacyModal__modal",{[`legacyModal__modal--${J}`]:!!J,[`legacyModal__modal--${J}--mobileFriendly`]:!!J&&!!L,[`legacyModal__modal--${J}--mobileFriendlyFullScreen`]:!!J&&!!L&&!!P,[`legacyModal__modal--aggressiveConfirmation`]:ee,[`legacyModal__modal--headless`]:N,[`legacyModal__modal--loading`]:D,[`legacyModal__modal--sheet`]:ae}),closeTimeoutMS:g.Pt,contentRef:e=>{this._contentRef=e},htmlOpenClassName:"fabricModalOpen",isOpen:ie,onAfterOpen:this._handleOpen,onRequestClose:this._handleClose,overlayClassName:c()("legacyModal__overlay",ae&&"legacyModal__overlay--sheet"),portalClassName:"legacyModal__portal",shouldCloseOnOverlayClick:false,shouldCloseOnEsc:!R,style:{overlay:{zIndex:this.currentZIndex}},...j};if(J==="custom"){return h().createElement(x,{content:y,dangerousContent:C,handleClose:this._handleClose,hasCloseButton:E,isLoading:D,isOpen:O,isProcessing:R,reactModalProps:oe},v)}return h().createElement(m(),oe,O&&D&&(0,i.Z)("div",{className:"legacyModal__modalLoader"},void 0,(0,i.Z)(d.L,{})),h().createElement(z,{handleClose:this._handleClose,hasCloseButton:E,isHeadless:N,isLoading:D,isMobileFriendly:L,isMobileFriendlySheetFullScreen:P,isProcessing:R,isSheet:ae,title:Y,type:J}),h().createElement(B,{actionNote:e,additionalAction:t,additionalActionButtonType:a,additionalActionText:s,aggressiveConfirmationText:o,alternativeAction:l,alternativeActionText:u,biId:p,content:y,contentHasMaxHeight:b,contentHasPadding:w,dangerousContent:C,footer:S,handleAggressiveConfirmationInput:this._handleAggressiveConfirmationInput,header:T,headerType:k,headline:I,hideActions:A,iconColor:Z,iconV2Color:M,iconName:se,isAggressivelyConfirmed:Q,isConfirmation:ee,isLoading:D,isMobileFriendly:L,isProcessing:R,isSheet:ae,mobileFriendlyHeader:K,onClose:H,primaryAction:q,primaryActionText:W,secondaryAction:U,secondaryActionText:V,type:J},v),!ae&&G&&h().createElement(te,(0,n.Z)({},G,{sheetProps:null,type:G.type||"smallSheet"})))}}(0,s.Z)(te,"defaultProps",ee);const ae={defaultProps:ee,ModalMain:B,ModalTitle:z}},87094:(e,t,a)=>{"use strict";a.d(t,{u:()=>u});var n=a(89835);var s=a(44119);var i=a(23321);var o=a.n(i);var r=a(98853);var l=a.n(r);var c=a(34825);var d=a(76725);class u extends i.Component{constructor(){super(...arguments);(0,s.Z)(this,"_bodyElm",document.createElement("div"));(0,s.Z)(this,"_footerElm",document.createElement("div"));(0,s.Z)(this,"_titleElm",document.createElement("div"));(0,s.Z)(this,"_modalInstance",null);(0,s.Z)(this,"_bodyElement",(()=>{this._bodyElm.classList.add("js-react-modal-body-wrapper");return this._bodyElm}));(0,s.Z)(this,"_footerElement",(()=>{this._footerElm.classList.add("js-react-modal-footer-wrapper");return this._footerElm}));(0,s.Z)(this,"_titleElement",(()=>{this._titleElm.classList.add("js-react-modal-title-wrapper");return this._titleElm}))}static get className(){return"Modal"}_configureOptions(){const{options:e={},onClose:t,onCloseBefore:a,onOpen:n,onOpenBefore:s,onAction:i,handleData:o,footer:r,title:l}=this.props;const u=r?{show:true,custom:{html:this._footerElement()}}:e.footer||{};if(!r&&i){u.buttons=u.buttons||{};u.buttons.primary=u.buttons.primary||{};u.buttons.primary.action=i}e.title=l?this._titleElement().textContent:e.title;const h={...e,callbacks:{close:{after:()=>{if(t){t()}},before:()=>{if(a){return a()}return true}},open:{after:()=>{c.ZP.setPosition();if(n){n()}},before:()=>{if(s){return s()}return true}}},html:this._bodyElement(),responseToHTML:e=>{const t=(0,d.L)(e);if(o){o(t);return this._bodyElement()}},footer:u};return h}_open(){const e=this._configureOptions();this._modalInstance=c.ZP.openModal(e)}_close(){const{selector:e}=this._modalInstance||{};if(e&&document.querySelector(e)){c.ZP.closeModal()}}componentDidMount(){const{visible:e}=this.props;if(e){this._open()}}componentDidUpdate(e){const{visible:t}=this.props;const a=c.ZP.getTopModalSelector();if(a){c.ZP.setPosition()}if(!!t===!!e.visible){return}if(t){this._open()}else if(a){this._close()}}componentWillUnmount(){this._close()}render(){const{children:e,destroyOnHide:t,visible:a}=this.props;let s=e;if(t){s=a?e:null}return(0,n.Z)(i.Fragment,{},void 0,(0,r.createPortal)(s,this._bodyElement()),this.props.footer&&(0,r.createPortal)(this.props.footer(),this._footerElement()),this.props.title&&(0,r.createPortal)(this.props.title(),this._titleElement()))}}(0,s.Z)(u,"defaultProps",{destroyOnHide:false})},71779:(e,t,a)=>{"use strict";a.d(t,{n:()=>S});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(73641);var r=a(21198);const l=6;const c=30;const d=10;const u=50;const h=d+u;const p="oneTimeCode";const m=2;const f=c-d;const g="otc-mask";const v=e=>Math.max(0,Math.floor(e/2)-1);const y=(e,t,a)=>{const n=a&&t>e?f:0;const s=t*h+n;return s};const b=new r.BEM("OneTimeCodeIndicator");function w(e){const{count:t,currentIndex:a,isInvalid:i,shouldChunk:r}=e;const l=(0,s.useRef)(v(t));const[c,p]=(0,s.useState)(0);(0,s.useEffect)((()=>{const e=y(l.current,a,r);p(e)}),[a]);const f=(0,s.useMemo)((()=>{const e=(0,o.times)(t,(e=>y(l.current,e,r)));const a=r&&t>1?d:-d;return{masks:e,viewBoxWidth:h*t+a}}),[]);return(0,n.Z)("div",{className:b.elem("wrapper",{error:i})},void 0,(0,n.Z)("svg",{viewBox:`0 0 ${f.viewBoxWidth} ${m}`},void 0,(0,n.Z)("mask",{id:g},void 0,(0,o.times)(t,(e=>(0,n.Z)("rect",{fill:"white",height:m,width:u,x:f.masks[e],y:"0"},`otc-marker-${e}`)))),(0,n.Z)("g",{mask:`url(#${g})`},void 0,(0,n.Z)("rect",{className:b.elem("markerBg"),height:m,width:"100%",x:"0",y:"0"}),(0,n.Z)("rect",{className:b.elem("caret"),height:m,width:u,x:c,y:"0"}))))}const C=new r.BEM("OneTimeCode");function S(e){const{digitLength:t=l,isInvalid:a,shouldChunk:r=true,shouldAutoFocus:c=true,onChange:d}=e;const u=(0,s.useRef)();const[h,m]=(0,s.useState)("");(0,s.useEffect)((()=>{if(c){document.addEventListener("keydown",g)}return()=>{document.removeEventListener("keydown",g)}}),[c]);(0,s.useEffect)((()=>{if(d){d(h)}}),[h]);const f=()=>{u.current.focus()};const g=e=>{const{key:t,keyCode:a}=e;let n=false;if(t){n=t.length===1&&t!==" "||t==="Backspace"||t==="Delete"}else if(a){n=a>=48&&a<=90||a===8||a===46}if(n){f()}};const v=e=>{const t=e.target.value;const a=/\d+/g;const n=t.match(a)?.join("")||"";m(n)};return(0,n.Z)("div",{className:C.elem("wrapper")},void 0,i().createElement("input",{autoCapitalize:"off",autoCorrect:"off",autoFocus:"autofocus",className:C.elem("input"),inputMode:"numeric","aria-label":"one-time-code",maxLength:t,name:p,onChange:v,onKeyDown:e=>{const{key:t,keyCode:a}=e;if(t&&t!=="Enter"||a&&a!==13){return}if(d){d(h)}},ref:u,spellCheck:"false",type:"text",value:h}),(0,n.Z)("div",{className:C.elem("codeWrapper"),onClick:f},void 0,(0,n.Z)("div",{className:C.elem("code",{error:a})},void 0,(0,o.times)(t,(e=>{const a=`otc-digit-${e}`;const s=r&&e+1===Math.floor(t/2);return(0,n.Z)("div",{className:C.elem("digit",{chunkMargin:s})},a,(0,n.Z)("span",{},void 0,h.charAt(e)))}))),(0,n.Z)(w,{count:t,currentIndex:h.length,isInvalid:a,shouldChunk:r})))}},38929:(e,t,a)=>{"use strict";a.d(t,{T:()=>h});var n=a(89835);var s=a(23321);var i=a(98853);var o=a(14386);const r=document.createElement("div");const l=["SiteFooter","SiteFooter--dark-theme","SiteFooter--large-theme"];const c=()=>window.location.pathname.indexOf("/greenhouse")>-1?"greenhouse":"main";const d=300;const u={greenhouse:{alt:"BambooHR Greenhouse",href:"/greenhouse",iconName:"fab-greenhouse-logo-150x28",size:28},main:{alt:"BambooHR",href:"https://www.bamboohr.com",iconName:"fab-bamboohr-logo-115x17",size:16}};const h=e=>{let{children:t,isOpen:a=false,right:h}=e;const p=c();const m=u[p];let f=document.querySelector("footer");(0,s.useEffect)((()=>{if(!f){f=document.createElement("footer");f.classList.add(...l);document.body.appendChild(f)}f.appendChild(r);return()=>{if(f&&f.contains(r)){f.removeChild(r)}}}),[f]);const g=(0,s.useCallback)((()=>{if(f){f.classList.toggle("SiteFooter--open",!!a)}}),[a,f]);const v=(0,s.useCallback)((()=>new Promise((e=>{setTimeout((()=>{g();e()}),0)}))),[g]);(0,s.useEffect)((()=>{const e=document.getElementById("encore-action-footer-js");if(e){e.style.display="none"}return()=>{if(e){e.style.display=""}}}),[]);const y=(0,s.useCallback)((()=>{if(f){Array.from(f.children).forEach((e=>{if(e!==r){if(e.classList.contains("SiteFooter__container--actions")){e.classList.toggle("hidden",true)}else{e.classList.toggle("hidden",!!a)}}}))}}),[a,f]);(0,s.useEffect)((()=>{if(a){v().then((()=>{setTimeout(y,d)}))}else{g();setTimeout(y,d)}}),[a,v,g,y]);if(!a){return null}return(0,i.createPortal)((0,n.Z)("div",{className:"SiteFooter__container SiteFooter__container--actions PageCapsule__footer--borderTop",id:"encore-page-actions-js"},void 0,(0,n.Z)("div",{className:"SiteFooter__wrapper SiteFooter__wrapper--outerReverse SiteContent"},void 0,(0,n.Z)("div",{className:"SiteFooter__wrapper SiteFooter__wrapper--left"},void 0,t),(0,n.Z)("div",{className:"SiteFooter__wrapper SiteFooter__wrapper--right"},void 0,h||(0,n.Z)("a",{className:"SiteFooter__link SiteFooter__link--logo",href:m.href,rel:"noopener external nofollow noreferrer",target:"_blank"},void 0,(0,n.Z)("span",{className:"SiteFooter__logo"},void 0,(0,n.Z)(o.I,{ariaLabel:m.alt,name:m.iconName,size:m.size})))))),r)}},7125:(e,t,a)=>{"use strict";a.d(t,{W:()=>o});var n=a(89835);var s=a(23321);var i=a(38929);function o(e){const{left:t,right:a}=e;return(0,n.Z)(i.T,{isOpen:true,right:a},void 0,t)}},11595:(e,t,a)=>{"use strict";a.d(t,{X:()=>l});var n=a(89835);var s=a(23321);var i=a(58126);var o=a(17842);var r=a.n(o);var $=a(26570);function l(e){let{biId:t,closeModal:a,deleteUrl:o,employeeId:l,getUrl:c,imageAlt:d,postUrl:u,open:h,updateDisplayedPhoto:p}=e;const[m,f]=(0,s.useState)(true);const[g,v]=(0,s.useState)(false);const[y,b]=(0,s.useState)();const[w,C]=(0,s.useState)();(0,s.useEffect)((()=>{if(h){r().get(c).then((e=>{let{data:t}=e;if(t.dimensions){C({height:t.dimensions.h,width:t.dimensions.w,x:t.dimensions.x,y:t.dimensions.y})}if(t.data){b(`data:image/png;base64,${t.data}`)}f(false)})).catch((()=>{window.setMessage($.__("Oops! There was a problem getting the profile photo"),"error")}))}else{f(true);v(false);b(undefined);C(undefined)}}),[h]);const S=(0,s.useCallback)(((e,t)=>{v(true);const n=new FormData;n.append("employeeid",l);n.append("method","uploadImage");n.append("dimensions[]",`${t.x}`);n.append("dimensions[]",`${t.y}`);n.append("dimensions[]",`${t.x+t.width}`);n.append("dimensions[]",`${t.y+t.height}`);n.append("dimensions[]",`${t.width}`);n.append("dimensions[]",`${t.height}`);n.append("data",e.slice(e.indexOf(";base64,")+8));r().post(u,n).then((e=>{let{data:t}=e;a();p(`data:image/png;base64,${t.data}`,true);window.setMessage($.__("The profile photo has been saved."),"success")})).catch((()=>{v(false);window.setMessage($.__("There was a problem saving the profile image"),"error")}))}),[u]);const E=(0,s.useCallback)((()=>{v(true);const e=new FormData;e.append("id",l);e.append("action","delete");r().post(o,e).then((e=>{let{data:t}=e;a();p(t.placeholder,false);window.setMessage($.__("The profile photo has been successfully deleted."),"success")})).catch((()=>{v(false);window.setMessage($.__("There was a problem deleting the profile image"),"error")}))}),[o]);return(0,n.Z)(i.P,{biId:t,imageAlt:d,imageSrc:y,initialCropBoxCoords:w,loading:m,onCancel:a,onDelete:E,onSave:S,open:h,processing:g})}},41878:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var n=a(44119);var s=a(23321);var i=a.n(s);var o=a(73641);var r=a(34387);class l extends s.Component{constructor(){super(...arguments);(0,n.Z)(this,"_createPopover",(()=>{this._popover=r.Z.create(this._popoverElement.current,this.props.settings)}));(0,n.Z)(this,"_popoverElement",(0,s.createRef)())}static get className(){return"Popover"}componentDidUpdate(e){if(!(0,o.isEqual)(e.settings,this.props.settings)){this._popover.destroy();this._createPopover()}}componentDidMount(){this._createPopover()}componentWillUnmount(){this._popover.destroy()}render(){const{children:e,wrapperClassName:t}=this.props;return i().createElement("span",{className:t,ref:this._popoverElement},e)}}},63838:(e,t,a)=>{"use strict";a.d(t,{_:()=>l});var n=a(89835);var s=a(44119);var i=a(23321);var o=a(73641);const r=800;class l extends i.Component{static get className(){return"ScreenSize"}constructor(e){super(e);(0,s.Z)(this,"_throttleHandleWindowResize",(()=>{this.setState({isSmallScreen:window.innerWidth<=this._getSmallScreenSize()})}));(0,s.Z)(this,"_handleWindowResize",(0,o.throttle)((()=>{this._throttleHandleWindowResize()}),200));this.state={isSmallScreen:window.innerWidth<=this._getSmallScreenSize()}}_getSmallScreenSize(){const{smallScreenSize:e}=this.props;return e?e:r}componentDidMount(){window.addEventListener("resize",this._handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this._handleWindowResize)}render(){const{render:e}=this.props;return(0,n.Z)(i.Fragment,{},void 0,e(this.state))}}},44816:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>f});var n=a(88604);var s=a(44119);var i=a(23321);var o=a.n(i);var r=a(77285);var l=a(19489);var c=a(405);var d=a(81924);var u=a(73641);function h(e){if(!e||!e.items){return null}return e.items.reduce(((e,t)=>{if(t.anchor||e){return e}if(t.items){return h(t)}if(t.selected===true){return t}}),null)}function p(e){if(!e||!e.items){return null}return e.items.reduce(((e,t,a)=>{if(t.anchor||e){return e}if(t.items){return p(t)}if(a===0){return t}}),null)}class m extends i.Component{constructor(){var e;super(...arguments);e=this;(0,s.Z)(this,"_convertOldProps",(()=>{const t={disabled:"isDisabled",multiselect:"canSelectMultiple",notClearable:{name:"isClearable",convert:e=>!e},required:"isRequired",data:{name:"items",convert:e=>e.items.filter((e=>e)).map(d.r9)},onChange:{name:"onChange",convert:e=>(t,a)=>{const{data:n}=this.props;try{const t=a.length?(0,d.dq)(a[0]):undefined;return e(t,{parentItem:l.i.getParent(n.items.map(d.r9),(0,d.r9)(a[0]))})}catch(e){console.log(e)}}},optionContentCallback:{name:"renderOptionContent",convert:e=>t=>e((0,d.dq)(t))},toggleContentCallback:{name:"renderToggleContent",convert:e=>t=>{const{data:a}=this.props;const n=l.i.getParent(a.items.map(d.r9),t[0]);const s=n?[(0,d.dq)(n)]:t.map(d.dq);return e(s)}},onShow:"onOpen",onHide:"onClose"};let a=(0,d.Pb)(this.props,t);const{settings:n}=a;if(n){a={...a,settings:null,...this._convertOldSettings(n)}}const{canSelectMultiple:s}=a;const i=e=>e.reduce(((e,t)=>{let a=e;if(t.items){a=[...e,i(t.items)]}else if(t.selected){a=[...e,t]}return a}),[]);if(s){const t=function(t){let a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const{item:s,parentItem:o}=n;const{data:r,onChange:l}=e.props;const{items:c}=r;if(l){const e=t?(0,d.dq)(s):undefined;const n=o?(0,d.dq)(o):o;const r=a.includes(t);const u=i(c);const h=r?[...u,e]:u.filter((t=>e&&e.value!==t.value));l(e,{parentItem:n,selectedItems:h,selected:r})}};a.onChange=undefined;a.onSelect=t;a.onDeselect=t;a.onClear=t}return a}));(0,s.Z)(this,"_convertNewSettings",(e=>{const t={canSelectMultiple:"multiselect",isClearable:{name:"notClearable",convert:e=>!e},placeholder:"placeholder",required:"required"};const a=Object.keys(e);const n={};a.forEach((a=>{if(t[a]){n[a]=e[a]}}));return(0,d.Pb)(n,t)}));(0,s.Z)(this,"_convertNewProps",(()=>{const{fabricSettings:e}=this.props;const t={canSelectMultiple:"multiselect",isClearable:{name:"notClearable",convert:e=>!e},isDisabled:"disabled",items:{name:"data",convert:e=>({items:e.filter((e=>e)).map(d.dq)})},placement:{name:"listPosition",convert:e=>(0,d.Wf)(e)},renderOptionContent:{name:"optionContentCallback",convert:e=>t=>e((0,d.r9)(t))}};const a=this._convertNewSettings(e);const n=(0,d.Pb)(e,t);return{...n,settings:a}}))}static get className(){return"Select"}_convertOldSettings(e){const t={disabled:"isDisabled",multiselect:"canSelectMultiple",notClearable:{name:"isClearable",convert:e=>!e},listPosition:{name:"placement",convert:e=>(0,d.hb)(e)}};return(0,d.Pb)(e,t)}render(){const{fabricSettings:e}=this.props;const t=e?e:this._convertOldProps();return t.label?o().createElement(r.S,(0,n.Z)({},t,{listenToItemsOnChange:true,onChange:e=>{let{target:{value:a}}=e;return t.onChange(null,Array.isArray(a)?a:[a])}})):o().createElement(c.S,t)}}var f=m},72595:(e,t,a)=>{"use strict";a.d(t,{V:()=>M,u:()=>Z});var n=a(89835);var s=a(44119);var i=a(23321);var o=a.n(i);var r=a(73641);var l=a(98675);var c=a(13354);var d=a(26242);var u=a(62794);var h=a(619);var p=a(13999);var m=a(79128);var f=a(56445);var g=a(37194);var v=a(13394);var y=a(86930);var b=a(60042);var w=a.n(b);var $=a(26570);function C(e){const{data:t,isProcessing:a,onClick:s,onRemove:i,renderBottomSlot:o,renderRightSlot:r,settings:l,subTitle:h}=e;const p=[];t.filter((e=>{if(!p.some((t=>Number(t.id)===Number(e.id)))){p.push(e)}}));const m=(0,f.ifFeature)("encore",(()=>(0,n.Z)(c.H,{size:"extra-small",color:"neutral-medium"},void 0,h||$.__("Who has access"))),(()=>(0,n.Z)("h4",{},void 0,h||$.__("Who has access"))));return(0,n.Z)("section",{className:"AccessList"},void 0,m(),(0,n.Z)("div",{className:"AccessList__body"},void 0,(0,f.ifFeature)("encore",p.length>0?p.map((e=>T(e,l,a,i,s,o,r))):(0,n.Z)(d.L,{marginTop:3},void 0,(0,n.Z)(u.B,{title:$.__("No one has access yet."),icon:"bs-tumbleweed",level:"page"})),p.map((e=>T(e,l,a,i,s,o,r))))))}const S=e=>{const{interval:t,timePeriod:a,daysOfWeek:s}=e;if(a&&Array.isArray(a)){const e=t>1?"s":"";if(a.includes("week")&&s&&Array.isArray(s)){return(0,n.Z)(g.Message,{params:[t,a[0],e,s[0]],text:$._("Emailed every {1} {2}{3} on {4}")})}return(0,n.Z)(g.Message,{params:[t,a[0],e],text:$._("Emailed every {1} {2}{3}")})}};const E=(e,t,a)=>{if(t){return(0,n.Z)("span",{className:"AccessList__type"},void 0,S(t))}if(e){return(0,n.Z)("span",{className:"AccessList__type"},void 0,e)}if(a){return(0,n.Z)("span",{className:"AccessList__type"},void 0,a)}};const x=(e,t)=>{const{showRemoveButton:a=true,hideRemoveButtonForOwner:n=false,hideRemoveButtonForSelf:s=false}=t;const{owner:i=false,rowRemoveButton:o=true,self:r=false}=e;if(a){if(o&&!(i&&n||r&&s)){return true}return false}};function T(e,t,a,s,i,r,l){const{ownerText:c=$.__("Owner")}=t;const{image:d,name:u,type:g,reportScheduler:v,owner:y,self:b}=e;const C=()=>(0,n.Z)("span",{className:"AccessList__avatar Avatar"},void 0,(0,n.Z)(h.I,{brand:true,name:"fab-people-circle-30x30"}));const S=()=>{let e;if(d){e=(0,n.Z)(p.A,{size:44,src:d})}else{e="users-regular"}return(0,f.ifFeature)("encore",o().createElement(o().Fragment,null,(0,n.Z)(m.B,{icon:e,size:"small",title:u,subtitle:y?c:E(r,v,g)})),o().createElement(o().Fragment,null,d?(0,n.Z)("img",{alt:"employee",className:"AccessList__avatar Avatar",src:d}):C(),(0,n.Z)("div",{className:w()("AccessList__rowRow",{AccessList__rowColumn:g})},void 0,(0,n.Z)("span",{className:w()("AccessList__name",{"AccessList__name--owner":y||b})},void 0,BambooHR.Utils.htmldecode(u),y&&(0,n.Z)("span",{className:"AccessList__name--subtext"},void 0,"(",c,")")),E(r,v,g))))};const x=t=>{if(i&&!y&&!b){return(0,n.Z)("button",{className:"AccessList__clickableContainer",onClick:()=>i(e),type:"button"},void 0,t)}return t};return(0,n.Z)("div",{className:"AccessList__row"},u,x(S()),(0,n.Z)("div",{className:"AccessList__rowRight"},void 0,l&&l(e),k(e,s,t,a)))}function k(e,t,a,s){const i=x(e,a);let o;if(i){o=(0,n.Z)("span",{className:"AccessList__rowRight__icon"},void 0,(0,n.Z)(v.F,{clickAction:()=>t(e),hasBounding:false,icon:"fab-x-14x14",isDisabled:s,secondary:true}))}else{o=(0,n.Z)("span",{className:"AccessList__rowRight--spacer"})}return(0,f.ifFeature)("encore",(0,n.Z)("span",{className:w()("AccessList__rowRight__icon",{"AccessList__rowRight--hidden":!i})},void 0,(0,n.Z)(y.I,{"aria-label":$.__("Remove Access"),icon:"xmark-solid",onClick:()=>t(e),size:"small",type:"button",variant:"outlined"})),o)}var I=a(26570);class A extends i.Component{constructor(){var e;super(...arguments);e=this;(0,s.Z)(this,"inputHasFocus",(function(t){let a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:()=>{};const{updateFocus:n}=e.props;n(t,a)}));(0,s.Z)(this,"_handleNotify",(()=>{const{updateNotify:e}=this.props;const{notify:t}=this.state;this.setState((()=>({notify:!t})));if(e){e(!t)}}));(0,s.Z)(this,"handleSubmit",(e=>{const{onSubmit:t}=this.props;const{notify:a,shareList:n}=this.state;return t({...Z(n),notify:a},e)}));(0,s.Z)(this,"state",{notify:true,shareList:[]})}static get className(){return"PeopleSelector"}set shareListData(e){this.setState((()=>({shareList:e})))}set shareListAddition(e){const{updateList:t}=this.props;const{shareList:a}=this.state;const n=a.concat(e);this.shareListData=n;t(n)}set shareListSubtraction(e){const{updateList:t}=this.props;const{shareList:a}=this.state;const n=a.filter((t=>!(0,r.isEqual)(t,e)));this.shareListData=n;t(n)}_clean(e){return BambooHR.Utils.htmlentities(e)}_prepareUserData(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const[t,_,a,n]=e;return{image:n,id:Number(a),name:this._clean(t)}}_setupInputs(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{quickSearchDescription:a=(0,f.ifFeature)("encore",I.__("Enter names or groups"),I.__("Enter names or groups...")),quickSearchEndpoint:n="/quicksearch/share"}=t;const{updateList:s}=this.props;const i=this;const o=I(e.current);const r=o.find(".ac_input");const l=o.find(".input-list");const c=o.find(".PeopleSelector__autocomplete");const d=()=>{c.hide().next(".inputs").show();l.addClass("shown");r.focus();const e=()=>{l.deactivate();o.find(".description").show();this.shareListData=[];s(this.shareListData)};i.inputHasFocus(true,e);l.removeClass("shown");c.show().next(".inputs").hide();l.activate()};c.bind("click.autoInit.bhr",d);l.click((function e(){r.focus()}));l.autoInputList({autocompleteOptions:{highlight:BambooHR.Utils.highlightTermInMarkup,parse:e=>{const{ownerId:t}=this.props;const a=[];const n=e.split("\n");for(let e=0;e<n.length;e+=1){let s=I.trim(n[e]);if(s){s=s.split("|");const e=!t||t&&s[2]!==t;if(e){s[0]=BambooHR.Utils.htmldecode(s[0]);a[a.length]={data:s,value:s[0],result:s[0]}}}}return a}},autocompleteUrl:n,description:a,formatAutoItem:qsWithPhoto,isShareModal:true,formatTagItem(e,t){if(t){const e=e=>BambooHR.Utils.htmlentities(e);const a={user_group:e(t[1]),user:e(t[2]),userData:i._prepareUserData(t)};const n=I(`.item input[value="${e(t[2])}"]`);if(n.length){const e=n[0].closest(".item");const t=I(e).find(".remove");t.click()}if(t[1]&&t[1]!=="empty"){i.shareListAddition=a;I(`\n\t\t\t\t\t\t\t<span class="item itemId${e(t[2])}">\n\t\t\t\t\t\t\t\t${e(t[0])}\n\t\t\t\t\t\t\t\t<input type="hidden" name="ids[${e(t[1])}][]" value="${e(t[2])}" data-user="${e(t)}"/>\n\t\t\t\t\t\t\t\t<ba-icon class="remove" name="fab-x-8x8" encore-class="remove" encore-name="circle-x-solid" encore-size="12"></ba-icon>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t`).insertBefore(".PeopleSelector__form .input-list span.input")}I(this).val("");I(".item .remove").on("click",(function e(){if(I(this).parent().hasClass(`itemId${t[2]}`)){i.shareListSubtraction=a}I(this).closest("span.item").remove();r.focus();return false}))}}}).focus((function e(){l.addClass("focus")})).blur((function e(){l.removeClass("focus")}))}componentDidMount(){const{formRef:e,settings:t}=this.props;setTimeout((()=>{this._setupInputs(e,t)}))}render(){const{data:e,formRef:t,renderBottomSlot:a,renderNotifyBottomSlot:s,renderNotifySiblingSlot:i,renderTopSlot:r,settings:{showNotify:l=true}}=this.props;const{notify:c,shareList:d}=this.state;return(0,n.Z)("div",{className:"PeopleSelector typeahead"},void 0,r&&r(e),o().createElement("form",{ref:t,className:"PeopleSelector__form shareForm",name:"peopleSelector"},(0,n.Z)("label",{className:"fab-Label",htmlFor:"add"},void 0,I.__("Add People")),(0,n.Z)("div",{className:"PeopleSelector__autocomplete input-list inputField fab-Textarea fab-Textarea--width100"}),(0,f.ifFeature)("encore",(0,n.Z)("div",{className:"PeopleSelector__notify"},void 0,l&&d.length>0&&(0,n.Z)("div",{className:"PeopleSelector__notify__item"},void 0,(0,n.Z)("input",{checked:c?"checked":"",className:"fab-Checkbox__input",id:"notify",name:"notify",onChange:this._handleNotify,type:"checkbox",value:"true"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"notify"},void 0,I.__("Notify people via email"))),i&&d.length>0&&(0,n.Z)("div",{className:"PeopleSelector__notify__item"},void 0,i(c))),(0,n.Z)("div",{className:"PeopleSelector__notify"},void 0,(0,n.Z)("div",{className:"fab-FormRow"},void 0,l&&d.length>0&&(0,n.Z)("span",{className:"fab-FormField"},void 0,(0,n.Z)("div",{className:"fab-Checkbox"},void 0,(0,n.Z)("input",{checked:c?"checked":"",className:"fab-Checkbox__input",id:"notify",name:"notify",onChange:this._handleNotify,type:"checkbox",value:"true"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"notify"},void 0,I.__("Notify people via email")))),i&&(0,n.Z)("span",{className:"fab-FormField"},void 0,i(c))),s&&c&&(0,n.Z)("div",{},void 0," ",s," ")))),a&&a(e,c))}}var F=a(26570);const Z=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const t=e.filter((e=>e.user_group==="user")).map((e=>e.user));const a=e.filter((e=>e.user_group==="user_group")).map((e=>e.user));const n=e.map((e=>e.userData));return{ids:{user:t,user_group:a},userData:n}};class M extends i.Component{constructor(){var e;super(...arguments);e=this;(0,s.Z)(this,"_handleRemove",(e=>{const{onRemove:t}=this.props;this.isProcessing=true;return t(e).then((()=>{this.accessListSubtraction=e;this.isProcessing=false}),(e=>{window.setMessage(e,"info");console.error(e);this.isProcessing=false;return Promise.reject("Failed to submit")}))}));(0,s.Z)(this,"_handleSubmit",((e,t)=>{if(t){t.preventDefault()}const{onSubmit:a,onUpdate:n,settings:{showMessage:s=true,successMessage:i=F.__("You have successfully shared this page!")}}=this.props;return a(e).then((e=>{n().then((e=>{if(e.data){this.accessListData=e.data.data.accessList}}),(e=>{window.setMessage(e,"info");console.error(e);return Promise.reject("Failed to get shareModal data")}));if(s){const t=e&&e.data&&e.data.msg?e.data.msg:i;window.setMessage(t,"success")}}),(e=>{window.setMessage(e,"info");console.error(e);return Promise.reject("Failed to submit")}))}));(0,s.Z)(this,"_handleAlternativeAction",(()=>{const{onCancel:e}=this.props;const{onCloseCallback:t}=this.state;if(typeof e==="function"){e()}t();F(".PeopleSelector__autocomplete .item").remove();F(".input-list").addClass("inactive").blur();this._handleUpdateFocus(false)}));(0,s.Z)(this,"_handleUpdateFocus",(function(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:()=>{};e.setState({hasFocus:t,onCloseCallback:a})}));(0,s.Z)(this,"_handleUpdateList",(function(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const{onRawListChange:a,setShareList:n}=e.props;if(n){n(t)}if(a){a(t)}e.setState({rawAccessList:t,hasChanges:t.length>0})}));(0,s.Z)(this,"_handleUpdateNotify",(e=>{this.setState({notify:e})}));(0,s.Z)(this,"_findOwnerId",(()=>{const{accessList:e}=this.state;const t=e&&e.find((e=>e.type==="Owner"));return t&&t.id}));(0,s.Z)(this,"_renderWarning",(()=>{const{renderWarning:e}=this.props;if(e){return e()}}));(0,s.Z)(this,"_formRef",(0,i.createRef)());(0,s.Z)(this,"state",{accessList:this.accessListData,hasFocus:false,hasChanges:false,isOpen:this.isOpen,notify:true,isProcessing:this.isProcessing})}static get className(){return"ShareModal"}get accessListData(){const{data:{accessList:e}}=this.props;return e}get isOpen(){const{visible:e}=this.props;return e}get isProcessing(){const{isProcessing:e}=this.props;return e}set accessListData(e){const{onAccessListUpdate:t}=this.props;if(t){t(e)}this.setState((()=>({accessList:e})))}set isOpen(e){this.setState((()=>({isOpen:e})))}set isProcessing(e){this.setState((()=>({isProcessing:e})))}set accessListAddition(e){const{accessList:t}=this.state;this.accessListData=t.concat(e)}set accessListSubtraction(e){const{accessList:t}=this.state;this.accessListData=t.filter((t=>!(0,r.isEqual)(t,e)))}_getModalConfig(e){let{classes:t,visible:a,title:n,onClose:s}=e;return{onClose:s,options:{classes:t,footer:{buttons:{cancel:{show:false},primary:{text:F.__("Done")}}},preventSubmit:true,title:n},visible:a}}_getPrimaryAction(){const{onClose:e,settings:t}=this.props;const{hasChanges:a,notify:n,rawAccessList:s}=this.state;const{closeModalAfterSubmit:i=true,remainOpenOnError:o=false}=t;if(a){if(s){this.isProcessing=true;this._handleSubmit({...Z(s),notify:n}).then((()=>{this.isProcessing=false;this.setState({hasFocus:false});this._handleAlternativeAction();const t=false;if(i||o&&t){e()}})).catch((()=>{this.isProcessing=false}))}else{return this._handleUpdateFocus(false)}return}return e()}_getPrimaryActionText(){const{settings:e}=this.props;const{hasChanges:t}=this.state;const{shareButtonText:a=F.__("Share")}=e;if(t){return a}return F.__("Done")}componentDidUpdate(e,t){const{data:{accessList:a},visible:n}=this.props;if(!(0,r.isEqual)(n,e.visible)){this.isOpen=n}if(!(0,r.isEqual)(a,e.data.accessList)){this.accessListData=a}}render(){var e=this;const{biId:t,data:{filters:a},isLoading:s,onClose:i,onAccessListClick:r,renderAccessListBottomSlot:c,renderAccessListRightSlot:d,renderPeopleSelectorBottomSlot:u,renderPeopleSelectorNotifyBottomSlot:h,renderPeopleSelectorNotifySiblingSlot:p,renderPeopleSelectorTopSlot:m,renderWarning:g,settings:v,sheetProps:y,subTitle:b,title:w,includeOwner:S}=this.props;const{accessList:E,hasFocus:x,hasChanges:T,isOpen:k,isProcessing:I}=this.state;const F=!S&&this._findOwnerId();const Z=(0,n.Z)("div",{className:"ShareModal"},void 0,(0,n.Z)(C,{data:E,isProcessing:I,onClick:r,onRemove:this._handleRemove,renderBottomSlot:c,renderRightSlot:d,settings:v,subTitle:b}),this._renderWarning(),(0,n.Z)(A,{data:a,formRef:this._formRef,onSubmit:this._handleSubmit,ownerId:F,renderBottomSlot:u,renderNotifyBottomSlot:h,renderNotifySiblingSlot:p,renderTopSlot:m,settings:v,updateFocus:function(t){let a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:()=>{};return e._handleUpdateFocus(t,a)},updateList:e=>this._handleUpdateList(e),updateNotify:e=>this._handleUpdateNotify(e)}));const M={alternativeAction:T?this._handleAlternativeAction:null,biId:`${t?`${t}-`:""}share-modal-${T?"add":"done"}`,content:Z,isLoading:s,isOpen:k,isProcessing:I,onClose:i,sheetProps:y,contentHasPadding:(0,f.ifFeature)("encore",true,false),primaryAction:e=>this._getPrimaryAction(e),primaryActionText:this._getPrimaryActionText(),title:w,type:(0,f.ifFeature)("encore","medium",undefined)};return o().createElement(l.u_,M)}}},81924:(e,t,a)=>{"use strict";a.d(t,{Pb:()=>i,Wf:()=>c,dq:()=>r,hb:()=>l,r9:()=>o});var n=a(40861);var s=a.n(n);function i(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const a={};Object.keys(e).forEach((n=>{if(t[n]){if(s()(t[n])){const{name:s,convert:i}=t[n];a[s]=i(e[n])}else{a[t[n]]=e[n]}}else{a[n]=e[n]}}));return a}function o(e){const t={actionOnly:"isActionOnly",displayText:"text",selected:"isSelected",disabled:"isDisabled",items:{name:"items",convert:e=>e.filter((e=>e)).map(o)}};return i(e,t)}function r(e){const t={text:"displayText",isSelected:"selected",isActionOnly:"actionOnly",isDisabled:"disabled",items:{name:"items",convert:e=>e.filter((e=>e)).map(r)}};return i(e,t)}function l(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";const t=e.split(" ");let a="end";let n=t[0]?t[0]:"bottom";switch(t[1]){case"right":case"bottom":a="start";break;case"left":case"top":a="end";break}return{align:a,side:n}}function c(e){const t=e&&e.side?e.side:"bottom";let a="right";if(e&&e.align&&e.align==="end"){a="left"}return`${t} ${a}`}},26113:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var n=a(23321);var s=a.n(n);var i=a(73641);var o=a.n(i);var r=a(21198);var l=a.n(r);var c=a(84479);var d=a.n(c);const{warn:u}=(0,c.createLogger)("static-html.react");function h(e){let{html:t,dangerous:a=false,sanitizeOptions:o={},onRender:l}=e;const c=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(!(c.current instanceof HTMLDivElement)||typeof t!=="string"||t.trim()===""){return}const e=document.createRange().createContextualFragment(a?t:(0,r.sanitize)(t,o));if(c.current.innerHTML.trim()!==""){u("DOM will be replaced")}c.current.innerHTML="";c.current.appendChild(e);if((0,i.isFunction)(l)){l(c.current)}}),[t,c]);(0,n.useEffect)((()=>{if(a){u(`DANGEROUS: HTML will NOT be sanitized! BE CAREFUL!!!`)}}),[]);return s().createElement("div",{ref:c})}},31112:(e,t,a)=>{"use strict";a.d(t,{O:()=>p});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(23615);var r=a.n(o);var l=a(73641);var c=a.n(l);var d=a(96247);var u=a.n(d);var $=a(26570);const h=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return u().createClassName("StepIndicator",...t)};function p(e){const{currentStep:t,hasSeparator:a=true,totalStepCount:s}=e;if(t>s){console.warn("The current step must be less than the total step count")}return(0,n.Z)("div",{className:h("wrapper",{hasSeparator:a})},void 0,(0,n.Z)("span",{className:h("message")},void 0,$.__("Step %1 of %2",t,s)),(0,n.Z)("div",{className:h("stepWrapper")},void 0,(0,l.range)(1,s+1).map((e=>(0,n.Z)("span",{className:h("step",{active:e===t})},e)))))}p.propTypes={currentStep:r().number.isRequired,totalStepCount:r().number.isRequired}},67251:(e,t,a)=>{"use strict";a.d(t,{g:()=>h});var n=a(89835);var s=a(23321);var i=a(56445);var o=a(14386);var r=a(619);var l=a(60042);var c=a.n(l);function d(e){const{activeIndex:t,tabs:a}=e;return(0,n.Z)("div",{className:"TabNav"},void 0,a.map(((e,a)=>(0,n.Z)("a",{className:c()("TabNav__item",{"TabNav__item--active":t===a}),"data-bi-id":`employees-${e.key}`,href:e.url},e.key,e.iconName&&(0,n.Z)("span",{className:c()("TabNav__itemIcon",{"TabNav__item--active":t===a})},void 0,(0,i.ifFeature)("encore",(0,n.Z)(o.I,{name:e.iconName,size:20}),(0,n.Z)(r.I,{name:e.iconName}))),(0,n.Z)("span",{className:"TabNav__itemLabel"},void 0,e.label)))))}var $=a(26570);function u(e,t,a){let n=[];if(t){n.push({iconName:(0,i.ifFeature)("encore","table-list-regular","fab-lines-15x14"),key:"employee-list",label:$.__("List"),url:"/employees/index.php?pin"})}if(e){n.push({iconName:(0,i.ifFeature)("encore","address-book-regular","fab-person-on-book-16x16"),key:"employee-directory",label:$.__("Directory"),url:"/employees/directory.php?pin"})}if(a){n.push({iconName:(0,i.ifFeature)("encore","sitemap-regular","fab-org-chart-16x15"),key:"employee-org-chart",label:$.__("Org Chart"),url:"/employees/orgchart.php?pin"})}return n}function h(e){const{activeKey:t,seeDirectory:a,seeList:i,seeOrgChart:o}=e;const r=u(a,i,o);const l=r.findIndex((e=>e.key===t));return(0,n.Z)(s.Fragment,{},void 0,r&&r.length>0?(0,n.Z)("div",{className:"EmployeeTabNav"},void 0,(0,n.Z)("div",{className:"EmployeeTabNav__tabs"},void 0,(0,n.Z)(d,{activeIndex:l,tabs:r}))):null)}},17145:(e,t,a)=>{"use strict";var n=a(23321);var s=a.n(n);var i=a(73641);var o=a.n(i);var r=a(69835);class l extends n.Component{static get className(){return"Tooltip"}componentDidUpdate(e){if(!(0,i.isEqual)(e.settings,this.props.settings)){this._tooltip.destroy();this._createTooltip()}}componentDidMount(){this._createTooltip()}componentWillUnmount(){this._tooltip.destroy()}render(){const{children:e,wrapperClassName:t}=this.props;return s().createElement("span",{className:t,ref:e=>{this._tooltipElement=e}},e)}_createTooltip(){if(this.props.settings.content||this.props.settings.title){this._tooltip=r.Z.createStandard(this._tooltipElement,this.props.settings)}else{const e=Object.assign({template:{name:"tooltip-standard"}},this.props.settings);this._tooltip=r.Z.create(this._tooltipElement,e)}}}t["Z"]=l},55298:(e,t,a)=>{"use strict";a.d(t,{G:()=>G});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(56921);var r=a(26242);var l=a(37091);var c=a(7167);var d=a(81709);var u=a(56445);var h=a(73641);var p=a(74477);var m=a(79340);var $=a(26570);function f(e){return e==="collection"?"other":"otherNoBank"}function g(e,t){if(e&&e.length){return"bank"}return f(t)}function v(e){const{accountNumber:t,accountNumberError:a,accountType:n,accountTypeError:s,bankId:i,routingNumber:o,routingNumberError:r,type:l}=e;const c={bankType:l};c.errors=y({accountNumberError:a,accountTypeError:s,routingNumberError:r,type:l});if(l==="bank"){c.bankId=i}else if(l==="other"){c.accountNumber=t;c.accountType=n;c.routingNumber=o}return c}function y(e){const{accountNumberError:t,accountTypeError:a,routingNumberError:n,type:s}=e;let i=null;if(s==="other"){if(t||a||n){i={};if(t){i.accountNumber=t}if(a){i.accountType=a}if(n){i.routingNumber=n}}}return i}function b(){return window.location.pathname.split("/")[1]==="greenhouse"}function w(e){return/^\d+?$/.test(e)}function C(){return $.__("You commit to wiring the above amount within 2-3 business days. Our wire information will be provided after your approval.")}function S(e){try{if(!e.trim()){throw new Error("Required")}if(!w(e)){throw new Error("Can only contain numbers")}if(e.length>17){throw new Error("Too many digits")}return null}catch(e){return e.message}}var E=a(26570);function x(e){const{isDisabled:t,onChange:a=h.noop}=e;const[i,o]=(0,s.useState)("");const[r,l]=(0,s.useState)("Required");const[c,d]=(0,s.useState)(false);(0,s.useEffect)((()=>{a(i,r)}),[i,r]);const f=c&&!!r;return(0,u.ifFeature)("encore",(0,n.Z)(m.T,{disabled:t,id:"collections-and-refunds-account-number-input-field",label:E.__("Account Number"),note:f&&r,onBlur:()=>d(true),onChange:e=>{o(e.target.value);l(S(e.target.value));d(true)},required:true,status:f?"error":undefined,value:i,width:8}),(0,n.Z)(p.nv,{autoComplete:"disable-auto-complete",disabled:t,error:f&&r,hasError:f,id:"collections-and-refunds-account-number-input-field",label:E.__("Account Number"),onBlur:()=>d(true),onChange:e=>{o(e.target.value);l(S(e.target.value));d(true)},required:true,value:i,width:8}))}var T=a(77285);const k=[{text:"Checking",value:"checking"},{text:"Savings",value:"savings"}];function I(e){try{if(!e.length){throw new Error("Required")}return null}catch(e){return e.message}}var A=a(26570);function F(e){const{isDisabled:t,onChange:a=h.noop}=e;const[i,o]=(0,s.useState)([]);const[r,l]=(0,s.useState)("Required");const[c,d]=(0,s.useState)(false);(0,s.useEffect)((()=>{const e=i.length?i[0]:null;a(e,r)}),[i,r]);const m=c&&!!r;return(0,u.ifFeature)("encore",(0,n.Z)(T.S,{disabled:t,id:"collections-and-refunds-account-type-input-field",items:k,label:A.__("Account Type"),note:m&&r,onChange:e=>{const t=e.target.value;o(t);l(I(t));d(true)},onClose:()=>d(true),required:true,status:m?"error":undefined,value:i,width:8}),(0,n.Z)(p.mg,{disabled:t,error:m&&r,hasError:m,id:"collections-and-refunds-account-type-input-field",items:k,label:A.__("Account Type"),onChange:e=>{o(e);l(I(e));d(true)},onClose:()=>d(true),required:true,selectedValues:i,width:8}))}function Z(e){const{handleChange:t,id:a,isChecked:s,isDisabled:i,label:o,name:r,value:l}=e;return(0,n.Z)("div",{className:"fab-Radio"},void 0,(0,n.Z)("input",{checked:s,className:"fab-Radio__input",disabled:i,id:a,name:r,onChange:t,type:"radio",value:l}),(0,n.Z)("label",{className:"fab-Radio__label",htmlFor:a},void 0,o))}var M=a(60042);function N(e){const{error:t,handleBlur:a=noop,handleChange:n=noop,id:s,isDisabled:i,isRequired:o,label:r,note:l,placeholder:c,size:d="medium",value:u,width:h}=e;return _jsx("div",{},void 0,!!r&&_jsx("label",{className:classNames("fab-Label",{"fab-Label--error":t,"fab-Label--required":o}),htmlFor:s},void 0,r),_jsx("div",{className:"fab-InputWrapper"},void 0,_jsx("input",{className:classNames("fab-TextInput",{"fab-Label--error":t,[`fab-TextInput--${d}`]:d!=="medium",[`fab-TextInput--${h}`]:!!h}),disabled:i,id:s,onBlur:a,onChange:n,placeholder:c,type:"text",value:u})),!!l&&_jsx("span",{className:"fab-FormNote"},void 0,l))}function D(e){try{if(!e.trim()){throw new Error("Required")}if(!w(e)){throw new Error("Can only contain numbers")}if(e.length!==9){throw new Error("Must be 9 digits long")}return null}catch(e){return e.message}}function L(e,t){if(e==="processing"){return"Validating..."}if(e==="success"){return t}return""}var P=a(31919);var O=a(17842);function R(e){return e.data}const B=O.ajax.create("client-routing-ajax",{baseURL:"/payroll/direct_deposit/routing/validate"});const H=O.ajax.create("gh-routing-ajax",{baseURL:"/greenhouse/bamboohr_payroll/banking/ajax/routing_number/validate"});function j(e){return(b()?H:B).request({method:"get",url:`/${e}`}).then(R)}function z(e){if(e.current){clearTimeout(e.current);e.current=null}}function q(){const e=(0,s.useRef)(null);const t=(0,s.useRef)(null);const[a,n]=(0,s.useState)(null);const[i,o]=(0,s.useState)(false);(0,s.useLayoutEffect)((()=>()=>{z(e)}),[]);const{data:r,error:l,isError:c,isComplete:d,isProcessing:u,isSuccess:p}=(0,P.y)((()=>{if(a){const{routingNumber:e}=a;o(false);if(t.current!==e){t.current=e;const a=D(e);if(a){return Promise.reject(a)}return j(e)}}}),[a]);const m={};if(r){m.bankName=r.name}let f=null;if(!i&&d){if(l){f="Error";if((0,h.isString)(l)){f=l}else if(l.response.status===400){f="Invalid"}}}else{f="Required"}let g="initial";if(i){g="pending"}else if(u){g="processing"}else if(c){g="error"}else if(p){g="success"}return{data:m,error:f,status:g,validateRoutingNumber:v};function v(t){let a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;o(true);z(e);if(a<=0){n({routingNumber:t})}else{e.current=setTimeout((()=>{n({routingNumber:t})}),a)}}}var W=a(26570);function U(e){const{isDisabled:t,onChange:a=h.noop}=e;const[i,o]=(0,s.useState)("");const[r,l]=(0,s.useState)(false);const{data:c,error:d,status:f,validateRoutingNumber:g}=q();(0,s.useEffect)((()=>{a(i,d)}),[i,d]);const v=f==="error"||f==="success";const y=v&&r&&!!d;return(0,u.ifFeature)("encore",(0,n.Z)(m.T,{disabled:t,id:"collections-and-refunds-routing-number-input-field",label:W.__("Routing Number"),note:y&&d?d:L(f,c.bankName),onBlur:e=>{g(e.target.value);l(true)},onChange:e=>{o(e.target.value);g(e.target.value,1e3);l(true)},required:true,status:y?"error":undefined,value:i,width:8}),(0,n.Z)(p.nv,{autoComplete:"disable-auto-complete",disabled:t,error:y&&d,hasError:y,id:"collections-and-refunds-routing-number-input-field",label:W.__("Routing Number"),note:L(f,c.bankName),onBlur:e=>{g(e.target.value);l(true)},onChange:e=>{o(e.target.value);g(e.target.value,1e3);l(true)},required:true,value:i,width:8}))}var V=a(26570);function G(e){const{banksOnFile:t=[],collectionRefundType:a,handleChange:h,hasApprovalDetails:p=true,isDisabled:m,renderWireInformation:y=C}=e;const[b,w]=(0,s.useState)((()=>g(t,a)));const[S,E]=(0,s.useState)(t&&t.length?t[0].bankId:null);const[T,k]=(0,s.useState)("");const[I,A]=(0,s.useState)("Required");const[M,N]=(0,s.useState)("");const[D,L]=(0,s.useState)("Required");const[P,O]=(0,s.useState)(null);const[R,B]=(0,s.useState)("Required");const H=b==="bank";const j=b==="other"||b==="otherNoBank";const z=b==="wire";(0,s.useEffect)((()=>{const e=v({accountNumber:M,accountNumberError:D,accountType:P,accountTypeError:R,bankId:S,routingNumber:T,routingNumberError:I,type:b});h(e)}),[M,D,P,R,S,h,T,I,b]);return(0,u.ifFeature)("encore",(0,n.Z)("div",{className:"TransactionMethodSelector"},void 0,(0,n.Z)("form",{autoComplete:"off"},void 0,(0,n.Z)(o.F,{flexDirection:"column"},void 0,(0,n.Z)(r.L,{paddingBottom:1},void 0,(0,n.Z)(l.L,{},void 0,(0,n.Z)(c.B,{size:"small"},void 0,a==="refund"?V.__("Select Refund Method"):V.__("Select Collection Method")))),p&&t.map((e=>(0,n.Z)(d.a,{checked:H&&S===e.bankId,disabled:m,id:`transaction-method-selector-radio-bank-${e.bankId}`,label:`${e.bankName} ${e.maskedAccountNumber}`,name:"transactionMethod",onChange:()=>{w("bank");E(e.bankId)},value:e.bankId},e.bankId))),!p&&(0,n.Z)(c.B,{size:"small"},void 0,"Failed to load Bank details. Please try again soon."),(0,n.Z)(d.a,{checked:j,disabled:m,id:"transaction-method-selector-radio-other-bank",label:V.__("Use Different Bank Account"),name:"transactionMethod",onChange:()=>w(f(a)),value:"otherBank"}),j&&(0,n.Z)(r.L,{marginLeft:3},void 0,a==="refund"?(0,n.Z)(r.L,{marginBottom:1},void 0,(0,n.Z)(c.B,{size:"small"},void 0,V.__("Once the refund has been accepted, our tax admin team will reach out to you to collect your bank account information."))):i().createElement(i().Fragment,null,(0,n.Z)(r.L,{marginBottom:1},void 0,(0,n.Z)(U,{isDisabled:m,onChange:(e,t)=>{k(e);A(t)}})),(0,n.Z)(r.L,{marginBottom:1},void 0,(0,n.Z)(x,{isDisabled:m,onChange:(e,t)=>{N(e);L(t)}})),(0,n.Z)(r.L,{marginBottom:1},void 0,(0,n.Z)(F,{isDisabled:m,onChange:(e,t)=>{O(e);B(t)}})))),a==="collection"&&i().createElement(i().Fragment,null,(0,n.Z)(d.a,{checked:z,disabled:m,id:"transaction-method-selector-radio-wire-transfer",label:V.__("Wire Transfer"),name:"transactionMethod",onChange:()=>w("wire"),value:"wire"}),z&&(0,n.Z)(r.L,{marginLeft:3},void 0,y()))))),(0,n.Z)("div",{className:"TransactionMethodSelector"},void 0,(0,n.Z)("form",{autoComplete:"off"},void 0,(0,n.Z)("fieldset",{className:"fab-RadioGroup"},void 0,(0,n.Z)("legend",{className:"fab-Label TransactionMethodSelector__groupLabel"},void 0,a==="refund"?V.__("Select Refund Method"):V.__("Select Collection Method")),p&&t.map((e=>(0,n.Z)(Z,{handleChange:t=>{w("bank");E(e.bankId)},id:`transaction-method-selector-radio-bank-${e.bankId}`,isChecked:H&&S===e.bankId,isDisabled:m,label:`${e.bankName} ${e.maskedAccountNumber}`,name:"transactionMethod"},e.bankId))),!p&&"Failed to load Bank details. Please try again soon.",(0,n.Z)(Z,{handleChange:()=>w(f(a)),id:"transaction-method-selector-radio-other-bank",isChecked:j,isDisabled:m,label:V.__("Use Different Bank Account"),name:"transactionMethod"}),j&&(0,n.Z)("div",{className:"TransactionMethodSelector__otherBank"},void 0,a==="refund"?(0,n.Z)("div",{},void 0,V.__("Once the refund has been accepted, our tax admin team will reach out to you to collect your bank account information.")):i().createElement(i().Fragment,null,(0,n.Z)("div",{className:"TransactionMethodSelector__otherBankInputField"},void 0,(0,n.Z)(U,{isDisabled:m,onChange:(e,t)=>{k(e);A(t)}})),(0,n.Z)("div",{className:"TransactionMethodSelector__otherBankInputField"},void 0,(0,n.Z)(x,{isDisabled:m,onChange:(e,t)=>{N(e);L(t)}})),(0,n.Z)("div",{className:"TransactionMethodSelector__otherBankInputField"},void 0,(0,n.Z)(F,{isDisabled:m,onChange:(e,t)=>{O(e);B(t)}})))),a==="collection"&&i().createElement(i().Fragment,null,(0,n.Z)(Z,{handleChange:e=>w(e.target.value),id:"transaction-method-selector-radio-wire-transfer",isChecked:z,isDisabled:m,label:V.__("Wire Transfer"),name:"transactionMethod",value:"wire"}),z&&(0,n.Z)("div",{className:"TransactionMethodSelector__wireTransferMessage"},void 0,y()))))))}},24787:(e,t,a)=>{"use strict";var n=a(89835);var s=a(44119);var i=a(23321);var o=a.n(i);var r=a(56921);var l=a(56445);var c=a.n(l);var $=a(26570);class d extends i.Component{constructor(){super(...arguments);(0,s.Z)(this,"_formRef",(0,i.createRef)());(0,s.Z)(this,"state",{isValid:true})}static get className(){return"Validator"}componentDidMount(){this._validator=$(this._formRef.current).bhrValidate()}render(){return o().createElement(o().Fragment,null,(0,l.ifFeature)("encore",o().createElement("form",{ref:this._formRef},(0,n.Z)(r.F,{alignItems:"center",flexWrap:"wrap"},void 0,this.props.render({isValid:this.state.isValid,reset:this._reset.bind(this),validate:this._validate.bind(this)}))),o().createElement("form",{ref:this._formRef},this.props.render({isValid:this.state.isValid,reset:this._reset.bind(this),validate:this._validate.bind(this)}))))}_validate(){const e=this._validator.form();this.setState({isValid:e});return e}_reset(){this._validator.resetForm()}}t["Z"]=d},34675:(e,t,a)=>{"use strict";a.d(t,{M:()=>o});var n=a(89835);var s=a(23321);var i=a(37194);var $=a(26570);function o(){return(0,n.Z)("table",{className:"WireTransferInfo"},void 0,(0,n.Z)("tbody",{},void 0,(0,n.Z)("tr",{},void 0,(0,n.Z)("td",{},void 0,$.__("Bank:")),(0,n.Z)("td",{},void 0,"Wells Fargo")),(0,n.Z)("tr",{},void 0,(0,n.Z)("td",{},void 0,$.__("Routing Number:")),(0,n.Z)("td",{},void 0,"121000248")),(0,n.Z)("tr",{},void 0,(0,n.Z)("td",{},void 0,$.__("Account Number:")),(0,n.Z)("td",{},void 0,"3711853659")),(0,n.Z)("tr",{},void 0,(0,n.Z)("td",{},void 0,$.__("Bank Address:")),(0,n.Z)("td",{},void 0,"420 Montgomery, San Francisco, CA 94104")),(0,n.Z)("tr",{},void 0,(0,n.Z)("td",{},void 0,$.__("Beneficiary Name:")),(0,n.Z)("td",{},void 0,"BambooHR Payroll")),(0,n.Z)("tr",{},void 0,(0,n.Z)("td",{},void 0,$.__("Beneficiary Address:")),(0,n.Z)("td",{},void 0,"740 Alfred Nobel Dr., Hercules, CA 94547")),(0,n.Z)("tr",{},void 0,(0,n.Z)("td",{},void 0,(0,n.Z)(i.Message,{params:["CHIPS"],text:$._("{1} Participant ID:")})),(0,n.Z)("td",{},void 0,"ABA 0509"))))}},80544:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});function n(e){let{children:t,condition:a,wrap:n}=e;return a?n(t):t}},31868:(e,t)=>{"use strict";t["Z"]={url:"https://staticfe.bamboohr.com",versions:{greenhouse:window.ENV,po:window.ENV,developerportal:window.ENV},odiManifestEndpoints:{greenhouse:"/greenhouse/api/manifests",po:"/dev/micro-fe/manifests/po",feMain:"/dev/micro-fe/manifests/fe-main"}}},39680:(e,t,a)=>{"use strict";a.d(t,{Yi:()=>s,fA:()=>n});a.p=window.__staticResourceUrlFeMain||"/js/";const n=a.p;const s=i(n);function i(e){if(!e){return""}if(e==="/js/"){return e}if(e.includes("fe-main")){e=e.replace(/fe-main\/[^/]+\/js\/?$/,"fe-main")}return e.replace(/\/js\/?$/,"")}},54752:(e,t,a)=>{"use strict";a.d(t,{Um:()=>s.Um,Y5:()=>s.Y5,ZG:()=>s.ZG,ZP:()=>r,k5:()=>s.k5,on:()=>s.on});var n=a(38592);var s=a(77457);var i=a(73641);var o=a.n(i);var $=a(26570);function r(e){return function(t){let a;let o;let r={};if((0,i.isElement)(e)||(0,n.isJqueryElement)(e)){a=$(e)}else{let t=(0,n.getCurrentScript)();r=(0,i.mapKeys)((0,n.getAttrs)(t,"^data-"),((e,t)=>(0,i.camelCase)(t.replace(/^data-/,""))));o=r.elemId;a=$($(`#${o}`)[0]||t.siblings(e)[0]||$(e)[0]||t.prev(e||"div")[0])}if(a.length===0){return}o=o||a.attr("id")||(0,i.camelCase)(a.selector);t.prototype.$elem=a;delete r.elemId;t.prototype.compConfig=r;var l=new t(a,o);a.data(t.className,l);s.sc.call(l,`Comp__${o}`,a);return l}}},77457:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>ve,on:()=>u,BR:()=>G,Gd:()=>q,Zl:()=>W,Y5:()=>h,z2:()=>p,nx:()=>m,st:()=>K,ZG:()=>y,dv:()=>Y,Km:()=>H,YH:()=>j,X4:()=>z,f5:()=>w,Yh:()=>C,u1:()=>S,nq:()=>A,bh:()=>V,Um:()=>N,k5:()=>L,Wo:()=>X,Bm:()=>U,MI:()=>R,sc:()=>de});var n=a(10405);var s=a.n(n);var i=a(73641);var o=a(94771);var r=a(71141);var l=a(38592);var $=a(26570);const c=(0,l.makeUid)();const d=(0,l.makeUid)();function u(e,t,a){return oe(e,t,a)}function h(e,t){return oe("blur",e,t)}function p(e,t){return oe("change",e,t)}function m(e,t){return oe("click",e,t)}function f(e,t){return oe("copy",e,t)}function g(e,t){return oe("cut",e,t)}function v(e,t){return oe("dblclick",e,t)}function y(e,t){return oe("focus",e,t)}function b(e,t){return oe("input",e,t)}function w(e,t){return oe("keydown",e,t)}function C(e,t){return oe("keypress",e,t)}function S(e,t){return oe("keyup",e,t)}function E(e,t){return oe("mousedown",e,t)}function x(e,t){return oe("mouseenter",e,t)}function T(e,t){return oe("mouseleave",e,t)}function k(e,t){return oe("mousemove",e,t)}function I(e,t){return oe("mouseout",e,t)}function A(e,t){return oe("mouseover",e,t)}function F(e,t){return oe("mouseup",e,t)}function Z(e,t){return oe("mousewheel",e,t)}function M(e,t){return oe("paste",e,t)}function N(){return oe("ready",null,document)}function D(){return oe("resize",null,window)}function L(){return oe(c)}function P(){return oe("orientationchange",null,window)}function O(e,t){return oe("scroll",e,t)}function R(e,t){return oe("submit",e,t)}function B(e,t){return oe("wheel",e,t)}function H(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:".btnAction";return oe("click","#footer-buttons "+e)}function j(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:".footerCancel";return oe("click","#footer-buttons "+e)}function z(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"form.BhrForms";let t=arguments.length>1?arguments[1]:undefined;return oe("invalid-form",e,t)}function q(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"form.BhrForms[data-ajax-method]";let t=arguments.length>1?arguments[1]:undefined;return oe("ajaxSubmit",e,t)}function W(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"form.BhrForms[data-ajax-method]";let t=arguments.length>1?arguments[1]:undefined;return oe("ajaxSubmitFail",e,t)}function U(){return oe("pushState replaceState popState refreshState",null,window)}function V(){return oe("pjax:end",null,document)}const G=(e,t)=>oe(d,`\n\t\t[data-action="${e}"],\n\t\t[data-action^="${e}:"]\n\t`,t);const Y=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}if(t.length>0){if((0,i.isNumber)(t[0])){if(t[0]==0){t.unshift("primary")}else{t.unshift("secondary")}}t=(0,i.compact)(t)}return G(["SiteFooterAction",...t].join(":"),"footer.SiteFooter")};const K=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"ba-dropdown";let t=arguments.length>1?arguments[1]:undefined;return oe("ba:dropdownSelect",e,t)};const X=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"ba-select";let t=arguments.length>1?arguments[1]:undefined;return oe("ba:selectChange",e,t)};const J=new WeakMap;function Q(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return function(a,n){const s=a[n];J.set(s,{...J.get(s),[e]:t})}}const ee=e=>Q(e,true);const te=e=>Q(e,false);const ae=()=>ee("jade");const ne=()=>te("jade");function se(e){const t=J.get(e);return!t||!Object.entries(t).some((e=>{let[t,a]=e;return a&&!(0,r.isEnabled)(t)||!a&&(0,r.isEnabled)(t)}))}const ie=new WeakMap;function oe(e,t,a){return function(n,s){const i=n[s];const o=n.constructor;const r=ie.get(o)||[];let l=e.split(" ");let c=i;if(e===d){l=["click"];c=function(){let[e,...t]=this.dataset.action.split(":");t=t.map((e=>isNaN(e)?e:parseFloat(e)));return n[s](...arguments,...t)}}l.forEach((e=>{r.push({event:e,selector:t,context:a,handler:c,func:i})}));ie.set(o,r)}}let re=new WeakMap;function le(){var e=this;if(e.constructor!==Function){e=e.constructor}return re.get(e)||$(e.context)[0]||document}function ce(e,t,a){if(t.originalEvent instanceof CustomEvent&&(0,i.isPlainObject)(t.originalEvent.detail)){t.detail=t.originalEvent.detail}for(var n=arguments.length,s=new Array(n>3?n-3:0),o=3;o<n;o++){s[o-3]=arguments[o]}return e.call(this,t,a,...s)}function de(e,t){var a=this;var n=a.constructor;if(n===Function){console.error("::setupEvents() must be called on a class instance, not the class itself")}var s=ie.get(n);if(!Array.isArray(s)){return}t=$(t)[0]||le.call(n);re.set(n,t);if(typeof s!=="undefined"){s.forEach((n=>{let{context:s,event:i,func:o,handler:r,selector:l}=n;if(!se(o)){return}let d=$(s||t);if(l){d.on(`${i}.${e}`,l,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++){n[s-1]=arguments[s]}return ce.call(this,r,e,a,...n)}));return}let u;switch(i){case c:$(window).on(`resize.${e}`,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++){n[s-1]=arguments[s]}clearTimeout(u);u=setTimeout((()=>ce.call(this,r,e,a,...n)),100)}));break;default:d.on(`${i}.${e}`,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++){n[s-1]=arguments[s]}return ce.call(this,r,e,a,...n)}));break}}))}}function ue(e){var t;var a=this;if(a.constructor!==Function){a=a.constructor}var n=(t=a,le).call(t);var s=(0,i.uniq)((ie.get(a)||[]).map((e=>$(e.context||n)[0])).filter((e=>(0,i.isElement)(e)||e===document||e===window)).concat([window,document,n]));if(s.length>0){$(s).off(`.${e}`)}}var he=a(26570);const pe={};const me={};const fe=new WeakMap;const _=(0,o.createPrivateContext)();function ge(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var a=(0,i.camelCase)(e);const n=n=>{if(!n.hasOwnProperty("ID")){Object.defineProperty(n,"ID",{value:n.className.replace(/Ctrl$/,"")})}if(!n.hasOwnProperty("getJsonScriptVar")){const e=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"data";let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:n.ID;const a=(0,l.getJsonScriptVar)(e,t);if(a&&a!==_(n)[e]){_(n)[e]=a}return _(n)[e]};Object.defineProperty(n,"getJsonScriptVar",{value:e})}function o(o){var r=[];var c=s()(e,r).exec(window.location.pathname);var d=(0,l.queryStringToObject)();var u=n.className;var h=function(){var e=true;(0,i.each)(t,((t,a)=>{e=e&&d[a]==t}));return e}();var p;if(c&&h){const e=r.reduce(((e,t,a)=>{let{name:n}=t;return{...e,[n]:c[a+1]}}),{});if((0,i.isUndefined)(me[u])){Object.assign(n.prototype,{_params:e});if(!n.prototype.hasOwnProperty("_data")){Object.defineProperty(n.prototype,"_data",{get:()=>n.getJsonScriptVar()})}if(!n.prototype.hasOwnProperty("_wrapper")){Object.defineProperty(n.prototype,"_wrapper",{get:()=>document.getElementById(n.ID)})}p=new n;pe[u]=n;n.active=true;me[u]=p;fe.set(n,p);de.call(p,a);(n.setup||i.noop)(p)}else{p=me[u];Object.assign(p,{_params:e});if(o&&o.type=="refreshState"){(n.teardown||i.noop)(p);(n.setup||i.noop)(p)}}}else if(n.active){(n.teardown||i.noop)(me[u]);n.active=false;delete me[u];ue.call(n,a)}}he(window).on("pushState replaceState popState refreshState",o);o()};return n}ge.getCtrl=function e(t){if((0,i.isString)(t)){return me[t]}if(!t){return}return fe.get(t)};ge.refresh=function e(){Ce("refresh")};ge.Feature=function e(t,a){if(a&&!(0,r.isEnabled)(t)||!a&&(0,r.isEnabled)(t)){return i.noop}for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++){s[o-2]=arguments[o]}return ge(...s)};ge.FeatureOn=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}return ge.Feature(e,true,...a)};ge.FeatureOff=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}return ge.Feature(e,false,...a)};ge.Jade=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return ge.FeatureOn("jade",...t)};ge.Legacy=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return ge.FeatureOff("jade",...t)};var ve=Object.freeze(ge);const _e=ge.Jade;const ye=ge.Legacy;function be(){return window.location.pathname+window.location.search}var we=be();function Ce(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}const[s,i]=a;const o=be();if(we!==o||e=="refresh"){he(window).trigger(`${e}State`,[we,o,s,i]);we=o}}var Se=window.history.pushState;window.history.pushState=function e(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++){a[n]=arguments[n]}Se.call(window.history,...a);Ce("push",...a)};var Ee=window.history.replaceState;window.history.replaceState=function e(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++){a[n]=arguments[n]}Ee.call(window.history,...a);Ce("replace",...a)};he(window).on("popstate",(function(e){Ce("pop",e.state,document.title)}))},7949:(e,t,a)=>{"use strict";a.d(t,{Y:()=>o});var n=a(23321);var s=a(73641);function i(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"id";const[a,i]=(0,n.useState)(e);const[o,r]=(0,n.useState)();const l=e=>a.find((a=>a[t].toString()===e.toString()));const c=(e,t)=>{r(l(t));e.dataTransfer.effectAllowed="move";try{e.dataTransfer.dropEffect="move"}catch(e){}};const d=(e,n,r)=>{e.preventDefault();if(o){const e=l(n);const c=a.findIndex((e=>e[t].toString()===n.toString()));if(o[t]===e[t]){return}const d=a.filter((e=>e[t]!==o[t]));d.splice(c,0,o);if(r&&typeof r==="function"){r((0,s.cloneDeep)(d),(0,s.cloneDeep)(e))}else{i(d)}}};const u=()=>{r(undefined)};return[a,i,o,{handleDragStart:c,handleDragOver:d,handleDragEnd:u}]}var o=i},31919:(e,t,a)=>{"use strict";a.d(t,{y:()=>c});var n=a(73641);var s=a.n(n);var i=a(23321);var o=a.n(i);const r={data:null,error:null,isComplete:false,isError:false,isProcessing:false,isSuccess:false};function l(e,t){const{payload:a,type:n}=t;switch(n){case"async_begin":return{...r,isProcessing:true};case"async_error":return{...e,error:a,isComplete:true,isError:true,isProcessing:false};case"async_success":return{...e,data:a,isComplete:true,isProcessing:false,isSuccess:true};default:return e}}function c(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!e){throw new Error(`useCancellableAsyncMethod 'asyncMethod' is required.`)}if(typeof e!=="function"){throw new Error(`useCancellableAsyncMethod 'asyncMethod' must be a function.`)}if(!t){throw new Error(`useCancellableAsyncMethod 'asyncMethodDeps' is required.`)}if(!Array.isArray(t)){throw new Error(`useCancellableAsyncMethod 'asyncMethodDeps' must be an array.`)}if(typeof a!=="object"){throw new Error(`useCancellableAsyncMethod 'options' must be an object.`)}const s=(0,i.useRef)(null);const o=(0,i.useRef)({onError:undefined,onSuccess:undefined});o.current.onError=a.onError||n.noop;o.current.onSuccess=a.onSuccess||n.noop;if(typeof o.current.onError!=="function"){throw new Error(`useCancellableAsyncMethod 'onError' must be a function.`)}if(typeof o.current.onSuccess!=="function"){throw new Error(`useCancellableAsyncMethod 'onSuccess' must be a function.`)}const c=(0,i.useRef)(false);const d=(0,i.useCallback)((()=>e()),t);const[u,h]=(0,i.useReducer)(l,r);(0,i.useLayoutEffect)((()=>()=>{c.current=true}),[]);(0,i.useLayoutEffect)((()=>{const e=d();if(e){s.current=e;h({type:"async_begin"});e.then((t=>{if(!c.current){if(e===s.current){o.current.onSuccess(t);h({type:"async_success",payload:t})}}})).catch((t=>{if(!c.current){if(e===s.current){o.current.onError(t);h({type:"async_error",payload:t})}}}))}}),[d]);return u}},20894:(e,t,a)=>{"use strict";a.d(t,{z:()=>r});var n=a(14206);var s=a.n(n);const i=async()=>{try{const e=await s().get("/settings/account/installed_apps");return e.data.installedApps}catch(e){console.error("Error fetching installed apps:",e);return[]}};var o=a(23321);const r=e=>{const[t,a]=(0,o.useState)(false);const[n,s]=(0,o.useState)(true);(0,o.useEffect)((()=>{const t=async()=>{const t=await i();const n=Array.isArray(e);if(n){a(e.some((e=>t.includes(e))))}else{a(t.includes(e))}s(false)};t()}),[e]);return{isInstalled:t,isProcessingRequest:n}}},65659:(e,t,a)=>{"use strict";a.d(t,{I:()=>i});var n=a(84073);const s=Object.freeze({children:e=>e.children,nodeSize:e=>e.data.size,spacing:0});function i(e){const t=Object.assign({},s,e);function a(e){const a=t[e];return typeof a==="function"?a:()=>a}function i(e){const t=d(c(),e,(e=>e.children));t.update();return t.data}function l(){const e=a("nodeSize");const t=a("spacing");return class a extends n.bT.prototype.constructor{static get className(){return"FlexNode"}constructor(e){super(e)}copy(){const e=d(this.constructor,this,(e=>e.children));e.each((e=>e.data=e.data.data));return e}get size(){return e(this)}spacing(e){return t(this,e)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const e=this.ancestors();return e[e.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return this.children===null}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce(((e,t)=>a.maxExtents(e,t.extents)),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(e,t){return{top:Math.min(e.top,t.top),bottom:Math.max(e.bottom,t.bottom),left:Math.min(e.left,t.left),right:Math.max(e.right,t.right)}}}}function c(){const e=l();const t=a("nodeSize");const n=a("spacing");return class extends e{constructor(e){super(e);Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return t(this.data)}spacing(e){return n(this.data,e.data)}get x(){return this.data.x}set x(e){this.data.x=e}get y(){return this.data.y}set y(e){this.data.y=e}update(){o(this);r(this);return this}}}function d(e,t,a){const n=(t,s)=>{const i=new e(t);Object.assign(i,{parent:s,depth:s===null?0:s.depth+1,height:0,length:1});const o=a(t)||[];i.children=o.length===0?null:o.map((e=>n(e,i)));if(i.children){Object.assign(i,i.children.reduce(((e,t)=>({height:Math.max(e.height,t.height+1),length:e.length+t.length})),i))}return i};return n(t,null)}Object.assign(i,{nodeSize(e){return arguments.length?(t.nodeSize=e,i):t.nodeSize},spacing(e){return arguments.length?(t.spacing=e,i):t.spacing},children(e){return arguments.length?(t.children=e,i):t.children},hierarchy(e,a){const n=typeof a==="undefined"?t.children:a;return d(l(),e,n)},dump(e){const t=a("nodeSize");const n=e=>a=>{const s=e+"  ";const i=e+"    ";const{x:o,y:r}=a;const l=t(a);const c=a.children||[];const d=c.length===0?" ":`,${s}children: [${i}${c.map(n(i)).join(i)}${s}],${e}`;return`{ size: [${l.join(", ")}],${s}x: ${o}, y: ${r}${d}},`};return n("\n")(e)}});return i}i.version="2.1.1";const o=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;e.y=t;(e.children||[]).reduce(((t,a)=>{const[n,s]=t;o(a,e.y+e.ySize);const i=(n===0?a.lExt:a.rExt).bottom;if(n!==0)c(e,n,s);const r=v(i,n,s);return[n+1,r]}),[0,null]);l(e);g(e);return e};const r=(e,t,a)=>{if(typeof t==="undefined"){t=-e.relX-e.prelim;a=0}const n=t+e.relX;e.relX=n+e.prelim-a;e.prelim=0;e.x=a+e.relX;(e.children||[]).forEach((t=>r(t,n,e.x)));return e};const l=e=>{(e.children||[]).reduce(((e,t)=>{const[a,n]=e;const s=a+t.shift;const i=n+s+t.change;t.relX+=i;return[s,i]}),[0,0])};const c=(e,t,a)=>{const n=e.children[t-1];const s=e.children[t];let i=n;let o=n.relX;let r=s;let l=s.relX;let c=true;while(i&&r){if(i.bottom>a.lowY)a=a.next;const n=o+i.prelim-(l+r.prelim)+i.xSize/2+r.xSize/2+i.spacing(r);if(n>0||n<0&&c){l+=n;d(s,n);u(e,t,a.index,n)}c=false;const m=i.bottom;const f=r.bottom;if(m<=f){i=p(i);if(i)o+=i.relX}if(m>=f){r=h(r);if(r)l+=r.relX}}if(!i&&r)m(e,t,r,l);else if(i&&!r)f(e,t,i,o)};const d=(e,t)=>{e.relX+=t;e.lExtRelX+=t;e.rExtRelX+=t};const u=(e,t,a,n)=>{const s=e.children[t];const i=t-a;if(i>1){const t=n/i;e.children[a+1].shift+=t;s.shift-=t;s.change-=n-t}};const h=e=>e.hasChildren?e.firstChild:e.lThr;const p=e=>e.hasChildren?e.lastChild:e.rThr;const m=(e,t,a,n)=>{const s=e.firstChild;const i=s.lExt;const o=e.children[t];i.lThr=a;const r=n-a.relX-s.lExtRelX;i.relX+=r;i.prelim-=r;s.lExt=o.lExt;s.lExtRelX=o.lExtRelX};const f=(e,t,a,n)=>{const s=e.children[t];const i=s.rExt;const o=e.children[t-1];i.rThr=a;const r=n-a.relX-s.rExtRelX;i.relX+=r;i.prelim-=r;s.rExt=o.rExt;s.rExtRelX=o.rExtRelX};const g=e=>{if(e.hasChildren){const t=e.firstChild;const a=e.lastChild;const n=(t.prelim+t.relX-t.xSize/2+a.relX+a.prelim+a.xSize/2)/2;Object.assign(e,{prelim:n,lExt:t.lExt,lExtRelX:t.lExtRelX,rExt:a.rExt,rExtRelX:a.rExtRelX})}};const v=(e,t,a)=>{while(a!==null&&e>=a.lowY)a=a.next;return{lowY:e,index:t,next:a}}},71865:(e,t,a)=>{var jQuery=a(26570);(function($){$.fn.extend({autocomplete:function(e,t){var a=typeof e=="string";t=$.extend({},$.Autocompleter.defaults,{url:a?e:null,data:a?null:e,delay:a?$.Autocompleter.defaults.delay:10,max:t&&!t.scroll?10:150},t);t.highlight=t.highlight||function(e){return e};t.formatMatch=t.formatMatch||t.formatItem;return this.each((function(){new $.Autocompleter(this,t)}))},result:function(e){return this.bind("result",e)},search:function(e){return this.trigger("search",[e])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(e){return this.trigger("setOptions",[e])},unautocomplete:function(){return this.trigger("unautocomplete")}});$.Autocompleter=function(e,t){var a={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var n=$(e).attr("autocomplete","off").addClass(t.inputClass);var s;var i="";var o=$.Autocompleter.Cache(t);var r=0;var l;var c={mouseDownOnSelect:false};var d=$.Autocompleter.Select(t,e,h,c);var u;n.bind("keydown.autocomplete",(function(e){r=1;l=e.keyCode;switch(e.keyCode){case a.UP:e.preventDefault();if(d.visible()){d.prev()}else{p(0,true)}break;case a.DOWN:e.preventDefault();if(d.visible()){d.next()}else{p(0,true)}break;case a.PAGEUP:e.preventDefault();if(d.visible()){d.pageUp()}else{p(0,true)}break;case a.PAGEDOWN:e.preventDefault();if(d.visible()){d.pageDown()}else{p(0,true)}break;case t.multiple&&$.trim(t.multipleSeparator)==","&&a.COMMA:case a.TAB:case a.RETURN:if(h()){e.preventDefault();u=true;return false}break;case a.ESC:d.hide();break;default:clearTimeout(s);s=setTimeout(p,t.delay);break}})).focus((function(){r++})).blur((function(){r=0;if(!c.mouseDownOnSelect){v()}})).click((function(){if(r++>1&&!d.visible()){p(0,true)}})).bind("search",(function(){var e=arguments.length>1?arguments[1]:null;function t(t,a){var s;if(a&&a.length){for(var i=0;i<a.length;i++){if(a[i].result.toLowerCase()==t.toLowerCase()){s=a[i];break}}}if(typeof e=="function")e(s);else n.trigger("result",s&&[s.data,s.value])}$.each(m(n.val()),(function(e,a){w(a,t,t)}))})).bind("flushCache",(function(){o.flush()})).bind("setOptions",(function(){$.extend(t,arguments[1]);if("data"in arguments[1])o.populate()})).bind("unautocomplete",(function(){d.unbind();n.unbind();$(e.form).unbind(".autocomplete")}));function h(){var a=d.selected();if(!a)return false;var s=a.result;i=s;if(t.multiple){var o=m(n.val());if(o.length>1){var r=t.multipleSeparator.length;var l=$(e).selection().start;var c,u=0;$.each(o,(function(e,t){u+=t.length;if(l<=u){c=e;return false}u+=r}));o[c]=s;s=o.join(t.multipleSeparator)}s+=t.multipleSeparator}n.val(s);y();n.trigger("result",[a.data,a.value]);return true}function p(e,s){if(l==a.DEL){d.hide();return}var o=n.val();if(!s&&o==i)return;i=o;o=f(o);if(o.length>=t.minChars){n.addClass(t.loadingClass);if(!t.matchCase)o=o.toLowerCase();w(o,b,y)}else{S();d.hide()}}function m(e){if(!e)return[""];if(!t.multiple)return[$.trim(e)];return $.map(e.split(t.multipleSeparator),(function(t){return $.trim(e).length?$.trim(t):null}))}function f(a){if(!t.multiple)return a;var n=m(a);if(n.length==1)return n[0];var s=$(e).selection().start;if(s==a.length){n=m(a)}else{n=m(a.replace(a.substring(s),""))}return n[n.length-1]}function g(s,o){if(t.autoFill&&f(n.val()).toLowerCase()==s.toLowerCase()&&l!=a.BACKSPACE){n.val(n.val()+o.substring(f(i).length));$(e).selection(i.length,i.length+o.length)}}function v(){clearTimeout(s);s=setTimeout(y,200)}function y(){var e=d.visible();d.hide();clearTimeout(s);S();if(t.mustMatch){n.search((function(e){if(!e){if(t.multiple){var a=m(n.val()).slice(0,-1);n.val(a.join(t.multipleSeparator)+(a.length?t.multipleSeparator:""))}else{n.val("");n.trigger("result",null)}}}))}}function b(e,t){if(t&&t.length&&r){S();d.display(t,e);g(e,t[0].value);d.show()}else{y()}}function w(a,n,s){if(!t.matchCase)a=a.toLowerCase();var i=o.load(a);if(i&&i.length){n(a,i)}else if(typeof t.url=="string"&&t.url.length>0){var r={timestamp:+new Date};$.each(t.extraParams,(function(e,t){r[e]=typeof t=="function"?t():t}));var l="GET";if(typeof t.method!="undefined"&&t.method=="POST"){l="POST"}$.ajax({type:l,mode:"abort",port:"autocomplete"+e.name,dataType:t.dataType,url:t.url,data:$.extend({q:f(a),limit:t.max},r),success:function(e){var s=t.parse&&t.parse(e)||C(e);o.add(a,s);n(a,s)}})}else{d.emptyList();s(a)}}function C(e){var a=[];var n=e.split("\n");for(var s=0;s<n.length;s++){var i=$.trim(n[s]);if(i){i=i.split("|");a[a.length]={data:i,value:i[0],result:t.formatResult&&t.formatResult(i,i[0])||i[0]}}}return a}function S(){n.removeClass(t.loadingClass)}};$.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(e){return e[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:true,scrollHeight:180};$.Autocompleter.Cache=function(e){var t={};var a=0;function n(t,a){if(!e.matchCase)t=t.toLowerCase();var n=t.indexOf(a);if(e.matchContains=="word"){n=t.toLowerCase().search("\\b"+a.toLowerCase())}if(n==-1)return false;return n==0||e.matchContains}function s(n,s){if(a>e.cacheLength){o()}if(!t[n]){a++}t[n]=s}function i(){if(!e.data)return false;var t={},a=0;if(!e.url)e.cacheLength=1;t[""]=[];for(var n=0,i=e.data.length;n<i;n++){var o=e.data[n];o=typeof o=="string"?[o]:o;var r=e.formatMatch(o,n+1,e.data.length);if(r===false)continue;var l=r.charAt(0).toLowerCase();if(!t[l])t[l]=[];var c={value:r,data:o,result:e.formatResult&&e.formatResult(o)||r};t[l].push(c);if(a++<e.max){t[""].push(c)}}$.each(t,(function(t,a){e.cacheLength++;s(t,a)}))}setTimeout(i,25);function o(){t={};a=0}return{flush:o,add:s,populate:i,load:function(s){if(!e.cacheLength||!a)return null;if(!e.url&&e.matchContains){var i=[];for(var o in t){if(o.length>0){var r=t[o];$.each(r,(function(e,t){if(n(t.value,s)){i.push(t)}}))}}return i}else if(t[s]){return t[s]}else if(e.matchSubset){for(var l=s.length-1;l>=e.minChars;l--){var r=t[s.substr(0,l)];if(r){var i=[];$.each(r,(function(e,t){if(n(t.value,s)){i[i.length]=t}}));return i}}}return null}}};$.Autocompleter.Select=function(e,t,a,n){var s={ACTIVE:"ac_over"};var i,o=-1,r,l="",c=true,d,u;function h(){if(!c)return;d=$("<div/>").hide().addClass(e.resultsClass).css("position","absolute").appendTo(document.body);u=$("<ul/>").appendTo(d).mouseover((function(e){if(p(e).nodeName&&p(e).nodeName.toUpperCase()=="LI"){o=$("li",u).removeClass(s.ACTIVE).index(p(e));$(p(e)).addClass(s.ACTIVE)}})).click((function(e){$(p(e)).addClass(s.ACTIVE);a();t.click();return false})).mousedown((function(){n.mouseDownOnSelect=true})).mouseup((function(){n.mouseDownOnSelect=false}));if(e.width>0)d.css("width",e.width);c=false}function p(e){var t=e.target;while(t&&t.tagName!="LI")t=t.parentNode;if(!t)return[];return t}function m(t){i.slice(o,o+1).removeClass(s.ACTIVE);f(t);var a=i.slice(o,o+1).addClass(s.ACTIVE);if(e.scroll){var n=0;i.slice(0,o).each((function(){n+=this.offsetHeight}));if(n+a[0].offsetHeight-u.scrollTop()>u[0].clientHeight){u.scrollTop(n+a[0].offsetHeight-u.innerHeight())}else if(n<u.scrollTop()){u.scrollTop(n)}}}function f(e){o+=e;if(o<0){o=i.size()-1}else if(o>=i.size()){o=0}}function g(t){return e.max&&e.max<t?e.max:t}function v(){u.empty();var t=g(r.length);for(var a=0;a<t;a++){if(!r[a])continue;var n=e.formatItem(r[a].data,a+1,t,r[a].value,l);if(n===false)continue;var c=$("<li/>").html(e.highlight(n,l)).addClass(a%2==0?"ac_even":"ac_odd").addClass(r[0].data[1]).appendTo(u)[0];$.data(c,"ac_data",r[a])}i=u.find("li");if(e.selectFirst){i.slice(0,1).addClass(s.ACTIVE);o=0}if($.fn.bgiframe)u.bgiframe()}return{display:function(e,t){h();r=e;l=t;v()},next:function(){m(1)},prev:function(){m(-1)},pageUp:function(){if(o!=0&&o-8<0){m(-o)}else{m(-8)}},pageDown:function(){if(o!=i.size()-1&&o+8>i.size()){m(i.size()-1-o)}else{m(8)}},hide:function(){d&&d.hide();i&&i.removeClass(s.ACTIVE);o=-1},visible:function(){return d&&d.is(":visible")},current:function(){return this.visible()&&(i.filter("."+s.ACTIVE)[0]||e.selectFirst&&i[0])},show:function(){var a=$(t).offset();d.css({width:typeof e.width=="string"||e.width>0?e.width:$(t).width(),top:a.top+t.offsetHeight,left:a.left}).show();if(e.scroll){u.scrollTop(0);u.css({maxHeight:e.scrollHeight,overflow:"auto"})}},selected:function(){var e=i&&i.filter("."+s.ACTIVE).removeClass(s.ACTIVE);return e&&e.length&&$.data(e[0],"ac_data")},emptyList:function(){u&&u.empty()},unbind:function(){d&&d.remove()}}};$.fn.selection=function(e,t){if(e!==undefined){return this.each((function(){if(this.createTextRange){var a=this.createTextRange();if(t===undefined||e==t){a.move("character",e);a.select()}else{a.collapse(true);a.moveStart("character",e);a.moveEnd("character",t);a.select()}}else if(this.setSelectionRange){this.setSelectionRange(e,t)}else if(this.selectionStart){this.selectionStart=e;this.selectionEnd=t}}))}var a=this[0];if(a.createTextRange){var n=document.selection.createRange(),s=a.value,i="<->",o=n.text.length;n.text=i;var r=a.value.indexOf(i);a.value=s;this.selection(r,r+o);return{start:r,end:r+o}}else if(a.selectionStart!==undefined){return{start:a.selectionStart,end:a.selectionEnd}}}})(jQuery)},49608:(e,t,a)=>{var jQuery=a(26570);var $=a(26570);(function(){function e(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-]*/g,"")}jQuery.validator.addMethod("maxWords",(function(t,a,n){return this.optional(a)||e(t).match(/\b\w+\b/g).length<=n}),jQuery.validator.format("Please enter {0} words or less."));jQuery.validator.addMethod("minWords",(function(t,a,n){return this.optional(a)||e(t).match(/\b\w+\b/g).length>=n}),jQuery.validator.format("Please enter at least {0} words."));jQuery.validator.addMethod("rangeWords",(function(t,a,n){var s=e(t),i=/\b\w+\b/g;return this.optional(a)||s.match(i).length>=n[0]&&s.match(i).length<=n[1]}),jQuery.validator.format("Please enter between {0} and {1} words."))})();jQuery.validator.addMethod("accept",(function(e,t,a){var n=typeof a==="string"?a.replace(/\s/g,"").replace(/,/g,"|"):"image/*",s=this.optional(t),i,o;if(s){return s}if(jQuery(t).attr("type")==="file"){n=n.replace(/\*/g,".*");if(t.files&&t.files.length){for(i=0;i<t.files.length;i++){o=t.files[i];if(!o.type.match(new RegExp(".?("+n+")$","i"))){return false}}}}return true}),jQuery.validator.format("Please enter a value with a valid mimetype."));jQuery.validator.addMethod("alphanumeric",(function(e,t){return this.optional(t)||/^\w+$/i.test(e)}),"Letters, numbers, and underscores only please");jQuery.validator.addMethod("bankaccountNL",(function(e,t){if(this.optional(t)){return true}if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e)){return false}var a=e.replace(/ /g,""),n=0,s=a.length,i,o,r;for(i=0;i<s;i++){o=s-i;r=a.substring(i,i+1);n=n+o*r}return n%11===0}),"Please specify a valid bank account number");jQuery.validator.addMethod("bankorgiroaccountNL",(function(e,t){return this.optional(t)||$.validator.methods.bankaccountNL.call(this,e,t)||$.validator.methods.giroaccountNL.call(this,e,t)}),"Please specify a valid bank or giro account number");jQuery.validator.addMethod("bic",(function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-2])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e)}),"Please specify a valid BIC code");jQuery.validator.addMethod("cifES",(function(e){"use strict";var t=[],a,n,s,i,o,r;e=e.toUpperCase();if(!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}for(s=0;s<9;s++){t[s]=parseInt(e.charAt(s),10)}n=t[2]+t[4]+t[6];for(i=1;i<8;i+=2){o=(2*t[i]).toString();r=o.charAt(1);n+=parseInt(o.charAt(0),10)+(r===""?0:parseInt(r,10))}if(/^[ABCDEFGHJNPQRSUVW]{1}/.test(e)){n+="";a=10-parseInt(n.charAt(n.length-1),10);e+=a;return t[8].toString()===String.fromCharCode(64+a)||t[8].toString()===e.charAt(e.length-1)}return false}),"Please specify a valid CIF number.");jQuery.validator.addMethod("creditcardtypes",(function(e,t,a){if(/[^0-9\-]+/.test(e)){return false}e=e.replace(/\D/g,"");var n=0;if(a.mastercard){n|=1}if(a.visa){n|=2}if(a.amex){n|=4}if(a.dinersclub){n|=8}if(a.enroute){n|=16}if(a.discover){n|=32}if(a.jcb){n|=64}if(a.unknown){n|=128}if(a.all){n=1|2|4|8|16|32|64|128}if(n&1&&/^(5[12345])/.test(e)){return e.length===16}if(n&2&&/^(4)/.test(e)){return e.length===16}if(n&4&&/^(3[47])/.test(e)){return e.length===15}if(n&8&&/^(3(0[012345]|[68]))/.test(e)){return e.length===14}if(n&16&&/^(2(014|149))/.test(e)){return e.length===15}if(n&32&&/^(6011)/.test(e)){return e.length===16}if(n&64&&/^(3)/.test(e)){return e.length===16}if(n&64&&/^(2131|1800)/.test(e)){return e.length===15}if(n&128){return true}return false}),"Please enter a valid credit card number.");jQuery.validator.addMethod("currency",(function(e,t,a){var n=typeof a==="string",s=n?a:a[0],i=n?true:a[1],o;s=s.replace(/,/g,"");s=i?s+"]":s+"]?";o="^["+s+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$";o=new RegExp(o);return this.optional(t)||o.test(e)}),"Please specify a valid currency");jQuery.validator.addMethod("dateITA",(function(e,t){var a=false,n=/^\d{1,2}\/\d{1,2}\/\d{4}$/,s,i,o,r,l;if(n.test(e)){s=e.split("/");i=parseInt(s[0],10);o=parseInt(s[1],10);r=parseInt(s[2],10);l=new Date(r,o-1,i,12,0,0,0);if(l.getFullYear()===r&&l.getMonth()===o-1&&l.getDate()===i){a=true}else{a=false}}else{a=false}return this.optional(t)||a}),"Please enter a correct date");jQuery.validator.addMethod("dateNL",(function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)}),"Please enter a correct date");jQuery.validator.addMethod("extension",(function(e,t,a){a=typeof a==="string"?a.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(t)||e.match(new RegExp(".("+a+")$","i"))}),jQuery.validator.format("Please enter a value with a valid extension."));jQuery.validator.addMethod("giroaccountNL",(function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)}),"Please specify a valid giro account number");jQuery.validator.addMethod("iban",(function(e,t){if(this.optional(t)){return true}var a=e.replace(/ /g,"").toUpperCase(),n="",s=true,i="",o="",r,l,c,d,u,h,p,m,f;if(!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(a)){return false}r=a.substring(0,2);h={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"};u=h[r];if(typeof u!=="undefined"){p=new RegExp("^[A-Z]{2}\\d{2}"+u+"$","");if(!p.test(a)){return false}}l=a.substring(4,a.length)+a.substring(0,4);for(m=0;m<l.length;m++){c=l.charAt(m);if(c!=="0"){s=false}if(!s){n+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(c)}}for(f=0;f<n.length;f++){d=n.charAt(f);o=""+i+""+d;i=o%97}return i===1}),"Please specify a valid IBAN");jQuery.validator.addMethod("integer",(function(e,t){return this.optional(t)||/^-?\d+$/.test(e)}),"A positive or negative non-decimal number please");jQuery.validator.addMethod("ipv4",(function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)}),"Please enter a valid IP v4 address.");jQuery.validator.addMethod("ipv6",(function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)}),"Please enter a valid IP v6 address.");jQuery.validator.addMethod("lettersonly",(function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)}),"Letters only please");jQuery.validator.addMethod("letterswithbasicpunc",(function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)}),"Letters or punctuation only please");jQuery.validator.addMethod("mobileNL",(function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)}),"Please specify a valid mobile number");jQuery.validator.addMethod("mobileUK",(function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)}),"Please specify a valid mobile number");jQuery.validator.addMethod("nieES",(function(e){"use strict";e=e.toUpperCase();if(!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}if(/^[T]{1}/.test(e)){return e[8]===/^[T]{1}[A-Z0-9]{8}$/.test(e)}if(/^[XYZ]{1}/.test(e)){return e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23)}return false}),"Please specify a valid NIE number.");jQuery.validator.addMethod("nifES",(function(e){"use strict";e=e.toUpperCase();if(!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")){return false}if(/^[0-9]{8}[A-Z]{1}$/.test(e)){return"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8)}if(/^[KLM]{1}/.test(e)){return e[8]===String.fromCharCode(64)}return false}),"Please specify a valid NIF number.");jQuery.validator.addMethod("nowhitespace",(function(e,t){return this.optional(t)||/^\S+$/i.test(e)}),"No white space please");jQuery.validator.addMethod("pattern",(function(e,t,a){if(this.optional(t)){return true}if(typeof a==="string"){a=new RegExp(a)}return a.test(e)}),"Invalid format.");jQuery.validator.addMethod("phoneNL",(function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)}),"Please specify a valid phone number.");jQuery.validator.addMethod("phoneUK",(function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)}),"Please specify a valid phone number");jQuery.validator.addMethod("phoneUS",(function(e,t){e=e.replace(/\s+/g,"");return this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)}),"Please specify a valid phone number");jQuery.validator.addMethod("phonesUK",(function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)}),"Please specify a valid uk phone number");jQuery.validator.addMethod("postalcodeNL",(function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)}),"Please specify a valid postal code");jQuery.validator.addMethod("postcodeUK",(function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)}),"Please specify a valid UK postcode");jQuery.validator.addMethod("require_from_group",(function(e,t,a){var n=$(a[1],t.form),s=n.eq(0),i=s.data("valid_req_grp")?s.data("valid_req_grp"):$.extend({},this),o=n.filter((function(){if($(this).is(":checkbox"))return $(this).is(":checked");return i.elementValue(this)})).length>=a[0];s.data("valid_req_grp",i);if(!$(t).data("being_validated")){n.data("being_validated",true);n.each((function(){i.element(this)}));n.data("being_validated",false)}return o}),jQuery.validator.format("Please fill at least {0} of these fields."));jQuery.validator.addMethod("skip_or_fill_minimum",(function(e,t,a){var n=$(a[1],t.form),s=n.eq(0),i=s.data("valid_skip")?s.data("valid_skip"):$.extend({},this),o=n.filter((function(){return i.elementValue(this)})).length,r=o===0||o>=a[0];s.data("valid_skip",i);if(!$(t).data("being_validated")){n.data("being_validated",true);n.each((function(){i.element(this)}));n.data("being_validated",false)}return r}),jQuery.validator.format("Please either skip these fields or fill at least {0} of them."));jQuery.validator.addMethod("strippedminlength",(function(e,t,a){return jQuery(e).text().length>=a}),jQuery.validator.format("Please enter at least {0} characters"));jQuery.validator.addMethod("time",(function(e,t){return this.optional(t)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(e)}),"Please enter a valid time, between 00:00 and 23:59");jQuery.validator.addMethod("time12h",(function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)}),"Please enter a valid time in 12-hour am/pm format");jQuery.validator.addMethod("url2",(function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}),jQuery.validator.messages.url);jQuery.validator.addMethod("vinUS",(function(e){if(e.length!==17){return false}var t=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],a=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],n=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],s=0,i,o,r,l,c,d;for(i=0;i<17;i++){l=n[i];r=e.slice(i,i+1);if(i===8){d=r}if(!isNaN(r)){r*=l}else{for(o=0;o<t.length;o++){if(r.toUpperCase()===t[o]){r=a[o];r*=l;if(isNaN(d)&&o===8){d=t[o]}break}}}s+=r}c=s%11;if(c===10){c="X"}if(c===d){return true}return false}),"The specified vehicle identification number (VIN) is invalid.");jQuery.validator.addMethod("zipcodeUS",(function(e,t){return this.optional(t)||/^\d{5}-\d{4}$|^\d{5}$/.test(e)}),"The specified US ZIP Code is invalid");jQuery.validator.addMethod("ziprange",(function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)}),"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx")},77825:(e,t,a)=>{"use strict";var n=a(53509);var s=a(49608);var i=a(17842);var o=a.n(i);var r=a(71141);var l=a(78144);var c=a(38592);var d=a(67572);var u=a(73641);var h=a(82543);var p=a.n(h);var m=a(34825);var f=a(80962);function g(e){if(typeof e!=="number"){return false}if(Number.isNaN(e)){return false}if(e<=0){return false}if(e>168){return false}return true}var v=a(55482);function y(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e===""){return t}const a=(0,v.J)(e);return g(a)}var b=a(18075);var $=a(26570);var _=a(73641);var jQuery=a(26570);const w=["input","select","textarea"];const C=(0,r.isEnabled)("jade");if(!C){w.push("ba-select")}var S=$.__("Whoops... No worries. Please fix any missing or incorrect information and try again.");function E(){const e=x();return e===""?"/ajax/employee_emails.php":e}function x(){if(typeof window.SESSION_USER==="undefined"){return""}else if(window.isOnboardingUser||window.SESSION_USER&&window.SESSION_USER.isOnboardingUser){return"/self_onboarding/packet/validate"}return"/employees/validate"}$.fn.isFieldRequired=function(){return!!$(this).rules().required};$.fn.syncingPayScheduleSelected=function(){const e=$(this).closest("form").find("ba-select.js-paySchedule");const t=e.length>0?e.find("ba-option:selected"):[];if(t.length>0){return Z(e,t[0].value)}return $(this).hasClass("syncingScheduleSelected")||false};$.fn.toggleRequired=function(e){$(this).each((function(){var t=$(this);var a=t.closest(".fieldBox");var n=!!t.rules().required;if(_.isUndefined(e)){e=!n}a.toggleClass("required",e);if(!e){a.removeAttr("aria-required").removeClass("error");t.rules("remove","required")}else{a.attr("aria-required","true");if(!_.isPlainObject(e)){e={required:e}}if(_.isUndefined(e.required)){e.required=true}t.rules("add",e)}}))};$.fn.setTraxRequired=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;$(this).each((function(){if(!(0,c.hasTrax)()){console.warn("Cannot set fields required when company isn't Trax");return}const t=this.tagName==="SELECT"?$(this).closest("ba-select"):$(this);const a=t.closest(".fieldBox,.fab-FormRow");if(e){a.attr("aria-required",e);t.attr("aria-required",e)}else{a.removeAttr("aria-required");t.removeAttr("aria-required")}a.toggleClass("required",e);a.find("label").toggleClass("fab-Label--required",e);t.toggleClass("requiredWhenTraxSyncing",e).find("select").toggleClass("requiredWhenTraxSyncing",e);t.removeClass("requiredWhenVisible").find("select").removeClass("requiredWhenVisible").closest(".fieldBox").removeClass("requiredWhenVisible");const n=t[0].tagName==="BA-SELECT"?t.find("select"):t;if(!e){if(n[0]&&n[0].form){n.valid()}}}))};$.fn.forceValidateField=function(){const e=$(this);const t=e.is(":visible")||e.closest("ba-select").is(":visible");if(e.length!==1){console.warn("Invalid data for forcing validation check -> Must match element & Must not match multiple elements");return false}else if(e.closest("form").attr("bhrvalidate-initiated")!="true"){console.warn("forceValidateField can only be used on initiated bhrValidate form");return false}else if(e.is("[readonly]")||e.is(":disabled")){console.warn("forceValidateField cannot validate readonly or disabled field");return false}else if(!t){return false}e.valid()};$.fn.initialTraxValidation=function(){if(!(0,c.hasTrax)()||window.currentlyEditingEmployeeId===0){return false}const e=$(this);if(e.get(0).hasSSNBeenValidatedInitially){return false}else{e.get(0).hasSSNBeenValidatedInitially=true}if(!e.is("form")){console.warn("initialTraxValidation can only be called on a form element");return false}const t=e.find(".primary-ssn-field");if(t.length===1){t.data("isInitialValidation",true);t.forceValidateField()}const a=e.find("ba-select.js-paySchedule");if(a.length===1){M(a,null)}};function T(){if(!this.form){this.form=$(this).closest("form")[0]}}function k(e){const t=$(e).data("employeeid");const a=t!="data-employeeid"&&t!=undefined;const n=window.currentlyEditingEmployeeId||"0";return a?t:n}function I(e,t,a,n,s){if(!a.settings.messages[e.name]){a.settings.messages[e.name]={}}a.settings.messages[e.name].remote=n.originalMessage;if(s){let t=a.formSubmitted;a.prepareElement(e);a.formSubmitted=t;a.successList.push(e);delete a.invalid[e.name];a.showErrors();a.settings.unhighlight.call(a,e)}else{let s=a.errorMap||{};let i=a.defaultMessage(e,"remote");s[e.name]=n.message=$.isFunction(i)?i(t):i;a.invalid[e.name]=true;a.showErrors(s);a.settings.highlight.call(a,e)}n.valid=s;a.stopRequest(e,s)}function A(e,t,a,n){let s=F(e,t);if(s&&s.length===1){let e=s.get(0);I(e,e.value,a,a.previousValue(e),n)}}function F(e,t){let a=$(e).closest("form").find(t);let n=a.is(":visible")||a.closest("ba-select").is(":visible");return n?a:false}function Z(e,t){const a=F(e,"select.js-paySchedule");if(a){const n=t||a.val();const s=a[0].tagName==="SELECT"?a.closest("ba-select").data("payScheduleIds"):a.data("payScheduleIds");if(s){return s&&n.length&&String(s).includes(n)}else{return $(e).closest("ba-select").find("ba-option:selected").data("syncing-pay-schedule")===true}}return false}function M(e,t){const a=$(e).closest("form");if(Z(e,t)){$(".trax-required",a).not(".requiredWhenTraxSyncing, .workflow-additional-field-required, .requiredWhenVisible").setTraxRequired(true)}else{$(".trax-required.requiredWhenTraxSyncing, .trax-required.workflow-additional-field",a).not(".workflow-additional-field-required").setTraxRequired(false)}}$((function(){jQuery.validator.addClassRules({requiredWhenVisible:{required:function(e){const t=$(e);switch(true){case!C&&t.is("select"):return t.next(".chzn-container").is(":visible");case!C&&$(e).hasClass("chzn-container"):return false;case C&&t.is("select:not(visible)"):return t.closest(".fab-Select").is(":visible");default:return $(e).is(":visible")}}},requiredWhenTraxSyncing:{required:function(e){const t=$(e);if(t.is("select:not(visible)")){return t.closest(".fab-Select").is(":visible")}return $(e).is(":visible")}},validateUrl:{urlHttpOptional:true},"validateUrl-http":{url:true},"validateUrl-https":{urlHttpsRequired:true},validateNumber:{number:true},validateEmployeeNumber:{employeeNumber:true},validatePayrollEmployeeNumber:{digits:true,maxLengthDigits:6,noLeadingZeros:true},creditCardLast4Digits:{digits:true,maxLengthDigits:4},checkEmailExists:{bambooEmailValidator:true,check_email_exists:{url:E(),data:{id:k(this),userId:$(this).data("userid")}}},validateEmail:{bambooEmailValidator:true},"ssn-field":{regex:"^[0-9]{3}-[0-9]{2}-[0-9]{4}$"},"primary-ssn-field":{check_ssn:{url:x(),data:{id:k(this),check_field:"ssn",check_action:"checkSSN"}}},"sin-field":{regex:"^[0-9]{3}-[0-9]{3}-[0-9]{3}$"},"primary-sin-field":{check_sin_exists:{url:x(),data:{id:k(this),check_field:"sin",check_action:"checkSIN"}}},"js-validate-nin":{regex:/^([0-9a-z]{2}\s?){4}\s?[0-9a-z]{1}$/i},"js-validate-overtimeRate-trax":{valueGreaterThanZeroTrax:true,currencyTypeMatchTrax:"USD"},"js-validate-primary-nin":{check_nin_exists:{url:x(),data:{id:k(this),check_field:"nin",check_action:"checkNIN"}}},"js-validate-national-id":{regex:/^[0-9a-z]{6,16}$/i},"js-validate-primary-national-id":{check_national_id_exists:{url:x(),data:{id:k(this),check_field:"national_id",friendly_name:"National ID",check_action:"checkNationalID"}}},"js-validate-passport-number":{regex:/^[A-Z0-9]{1,20}$/i,maxlength:20},essRequiredFields:{essRequiredFields:true},"js-validate-inlineEdit":{validateInlineEdit:true},"js-validate-ccNumber":{minlength:13,maxlength:16},"js-validate-todayAndFuture":{todayAndFuture:true},"js-multiSelect-quantityCheck":{multiSelectQuantityCheck:true},"js-validate-ss-required":{validateSelfServiceEmailRequired:true,validateTraxEmailRequired:true},"js-validate-date-field":{validateDateField:true},"js-validate-to-date":{validateDateFrom_to:true},"js-validate-mindate":{validateMinDate:true},"js-validate-maxdate":{validateMaxDate:true},"js-validate-hire-date":{validateDateBetween:{from:"1900-01-01",to:p()().add(3,"y")}},"js-validate-birth-date":{validateDateBetween:{from:"1900-01-01",to:p()()}},"js-validate-smalldate":{validateDateBetween:{from:"1900-01-01",to:"2079-06-06"}},"js-ToggleButton__validate":{validateToggleButton:true},"js-validate-payRate":{validatePayRate:true},"js-validate-payRate-trax":{currencyTypeMatchTrax:"USD"},"js-validate-noEmptyWhitespace":{trimIsNotEmpty:true},"js-validate-directDeposit":{directDepositValidator:true,directDeposit100Validator:true},"js-validate-range-1-5":{smartRange:[1,5]},"js-validate-range-0-24":{smartRange:[0,24]},"js-paySchedule":{check_pay_schedule:{url:x(),data:{action:"checkPayScheduleForEmployee"}}},"js-validate-zip-trax":{validateUSZipTrax:true},"js-validate-salaried-hours-per-week":{validateSalariedHoursPerWeek:true}});$('form.BhrForms:not([bhrvalidate-initiated=true]):not(".js-noValidate"):not(".dynamic-form")').each((function(){$(this).bhrValidate({})}))}));(function(jQuery){const e=jQuery.validator.prototype.resetForm;var $=jQuery;jQuery.fn.bhrValidOnClick=function(){if($(this).valid()&&!$("#footer-buttons .btn").hasClass("disabled")){if(C){document.dispatchEvent(new CustomEvent("SiteFooterActions:toggleProcessing"))}else{$("#footer-buttons .btn").addClass("disabled processing")}$(this).submit()}};jQuery.validator.prototype.resetForm=function(){e.call(this);this.elements().each(((e,t)=>{jQuery.validator.prototype.resetElement.call(this,t)}))};jQuery.validator.prototype.elements=function(){var e=this,t={};return $(this.currentForm).find(w.join(", ")).not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter((function(){if(!this.name&&e.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in t||!e.objectLength($(this).rules())){return false}t[this.name]=true;return true})).each(T)};jQuery.fn.bhrValidate=function(e,t){var a,n;if(t==undefined){t=S}if($(this).attr("bhrvalidate-initiated")!="true"){$(this).attr("bhrvalidate-initiated","true")}else{$(this).each(((t,a)=>{if(window.BambooHR.env.dev&&a instanceof HTMLFormElement){console.warn(".bhrValidate() called multiple times",e)}}))}if(e==undefined){e={}}$(this).find(".requiredWhenVisible").find(":input:not(.notRequired), ba-select:not(.notRequired)").addClass("requiredWhenVisible");const s=Object.keys($.validator.classRuleSettings)||[];$(this).find("ba-select").each((function(){if(C){const e=Array.from(this.classList);const t=s.filter((t=>e.includes(t)));if(t.length){const e=this.querySelector("select");if(e){e.classList.add(...t)}}}T.call(this)}));if(typeof e.customMessages=="undefined"){n={}}else{n=e.customMessages}$(this).find(".checkEmailExists").each((function(){n[$(this).attr("name")]={remote:$.__("This email is already being used.")}}));$(this).find(".ssn-field").each((function(){n[$(this).attr("name")]={remote:jQuery.validator.messages.check_ssn};$(this).attr("data-errorclass","ssn-field--error")}));$(this).find(".sin-field").each((function(){n[$(this).attr("name")]={remote:$.__("There is already an employee with this SIN in the system.")}}));$(this).find(".creditCardLast4Digits").each((function(){n[$(this).attr("name")]={remote:$.__("The field has too many characters.")}}));a={ignore:".ignore",messages:n,errorPlacement:function(e,t){if(C){(0,b.wn)(e,t);return}var a;var n=t.attr("type")=="email"||t.hasClass("validateEmail");var s=t.hasClass("inline-error")||$('label[for="'+t.attr("id")+'"]').hasClass("inline-error");if((n||s)&&e.html()!=jQuery.validator.messages.required){if(t.closest("form").hasClass("newFormDesign")){if(t.siblings(".fieldInfo").length>0){t.siblings(".fieldInfo").addClass("error").html(e.html())}else{t.closest(".fieldDiv").append('<span class="fieldInfo error">'+e.html()+"</span>")}}else if(t.closest("form").hasClass("BhrForms")){a=null;if(t.closest(".fieldRow").find(".fieldBox:visible").length>1){a=t.closest(".fieldRow").find(".fieldBox:last-child")}else{a=t.closest(".fieldBox:visible")}if(a.find(".formNote").length>0){a.find(".formNote").text(e.html()).addClass("error")}else if(a.length===1){a.append('<span class="formNote error">'+e.html()+"</span>")}}}},highlight:function(e){if(e){e.dispatchEvent(new CustomEvent("validation",{bubbles:true,cancelable:true,detail:{isValid:false}}))}if(C){(0,b.s7)(e);return}var t=$(e);var a=t.closest(".fieldBox");var n=t.closest("form");var s=t.closest(".mceWrapper--editor");if(e&&e.matches("ba-select[error]")){e.removeAttribute("error","")}if(s.length==1){s.addClass("mceWrapper--error")}else{a.addClass("error");t.closest(".fieldGroup").addClass("validate-group-error");if(t.hasClass("inline-error")||$('label[for="'+t.attr("id")+'"]').hasClass("inline-error")){var i=t.attr("data-error-msg")==undefined?$('label[for="'+t.attr("id")+'"]').attr("data-error-msg"):t.attr("data-error-msg");if(i==undefined){return}if(n.hasClass("newFormDesign")){if(a.find(".fieldInfo").length>0){a.find(".fieldInfo").text(i).addClass("error")}else if(t.closest(".fieldDiv").length==1){t.closest(".fieldDiv").append('<span class="fieldInfo error">'+i+"</span>")}else{a.append('<div class="fieldDiv"><span class="fieldInfo error">'+i+"</span></div>")}}else if(n.hasClass("BhrForms")){if(a.find(".formNote").length>0){a.find(".formNote").text(i).addClass("error")}else if(a.length==1){a.append('<span class="formNote error">'+i+"</span>")}}}}},unhighlight:function(e){if(e){e.dispatchEvent(new CustomEvent("validation",{bubbles:true,cancelable:true,detail:{isValid:true}}))}if(C){(0,b.qZ)(e);return}var t=$(e);var a=t.closest(".fieldBox");var n=t.closest(".fieldRow");var s=t.closest(".mceWrapper--editor");if(e&&e.matches("ba-select[error]")){e.removeAttribute("error","")}if(s.length==1){s.removeClass("mceWrapper--error")}else{a.removeClass("error");if(n.find(".fieldBox.error").length==0){n.find(".fieldInfo.error").removeClass("error").empty();n.find(".fieldBox:last-child .formNote.error").removeClass("error").empty();a.find(".formNote.error").removeClass("error").empty()}if(t.closest(".fieldGroup.validate-group-error").find(".error").length==0){t.closest(".fieldGroup").removeClass("validate-group-error")}}},invalidHandler:function(a,n){let s=n.errorList;let i=n.errorMap;if(e.debug){console.log(s)}if(s.length>0){const a=typeof t==="function"?t(s,S):t;let o=$("<div></div>");if(e.debug){console.log(i);s.forEach((e=>console.log(e)))}o.html(a);setMessage(o.html(),"error");n.errorList[0].element.focus();$(".btn.processing").toggleProcessing(false)}},focusInvalid:false,onkeyup:function(e){var t=$(e).attr("id");var a=$(e).attr("name");var n=this.settings.rules[t]==undefined?this.settings.rules[a]:this.settings.rules[t];if(n!=undefined&&n.onkeyup!==false){$.validator.defaults.onkeyup.apply(this,arguments)}},submitHandler:function(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++){n[s-1]=arguments[s]}if((0,u.isFunction)(e.submitHandler)&&e.submitHandler(t,...n)===false){return}const{ajaxMethod:i}=t.dataset;const r=$(t);const l=r.find(".btn.btnAction");l.toggleProcessing(true);o().request({url:t.action,method:i,data:r.serialize()}).then((e=>{const{success:a,successMessage:n}=e.data||{};if(!a){throw o().createError(e)}const s=!t.dispatchEvent(new CustomEvent("ajaxSubmit",{bubbles:true,cancelable:true,detail:e}));if(s){return}l.toggleProcessing(false);if((0,u.isString)(n)){setMessage(n,"success")}})).catch((e=>{const a=!t.dispatchEvent(new CustomEvent("ajaxSubmitFail",{bubbles:true,cancelable:true,detail:e.response}));if(a){return}let{error:n,errorMessage:s,validationErrors:i}=e.response.data;n=n||e.message||e.response.statusText;console.error(n,e);s=e.response.errorMessage||s||S;if((0,u.isString)(s)){setMessage(s,"error")}l.toggleProcessing(false);if((0,u.isPlainObject)(i)){this.showErrors(i)}}))}};$(this).closest("form").on("submit",(function(){$(this).data("validation-submitting",true)}));let i;$(this).each(((t,n)=>{const s=$(n);let o=s.attr("data-ajax-method");i=s.validate({...a,...e,submitHandler:o?a.submitHandler:e.submitHandler||false})}));$(".required :input:not(.requiredWhenVisible), .required ba-select:not(.requiredWhenVisible)",$(this)).each((function(){$(this).rules("add",{required:true})}));$(".required select:not(.requiredWhenVisible)",$(this)).each((function(){$(this).rules("add",{excludeZero:true})}));$(".required.noZeroAllowed input",$(this)).each((function(){$(this).rules("add",{excludeZero:true})}));$("input[name=uploadValidatorHiddenInput]",$(this)).each((function(){$(this).rules("add",{fileUploader:true})}));$(".visuallyRequired.multipleCheckbox",$(this)).each((function(){var e=$(this).find("input[type=checkbox]").attr("data-checkbox_id")||false;if(e){$("."+e).each((function(){$(this).rules("add",{require_from_group_when_visible:[1,"."+e]})}))}}));$("select.conditionallyRequired, input.conditionallyRequired",$(this)).each((function(){let e=$(this);let t=this.name;let a=$(e.data("conditionally-required-selector"));e.rules("add",{conditionallyRequired:true});a.change((function(){L($('[name="'+t+'"]'),$(this))}));L(e,a)}));$("ba-select.conditionallyRequired",$(this)).each((function(){let e=$(this);let t=this.getAttribute("name");let a=$(this.dataset.conditionallyRequiredSelector);let n=e.find(`select[name='${t}']`);n.rules("add",{conditionallyRequired:true});L(e,a)}));if($(".primaryContact:checked.requiredWhenVisible").length>0){const e=$(".primaryContact:checked.requiredWhenVisible");$(".primaryContact").removeClass("requiredWhenVisible");e.addClass("requiredWhenVisible")}if(!$(this).hasClass("BhrForms--view")){setTimeout((()=>{$(this).initialTraxValidation()}))}$(this).on("change keyup paste",".checkEmailExists",(0,u.debounce)((function(){$(this).valid()}),600)).on("change",".required .chzn-done:not(.customOnChange),.required select[multiple], .required textarea, :input:not(.custom-mce-validation), ba-select:not(.custom-mce-validation)",(function(e){if(!$(this).is("ba-select")){$(this).valid()}})).on("ba:selectChange",(function(e){if(C){const t=e.target.querySelector("select");if(t){window.setTimeout((()=>{$(t).valid()}))}return}window.setTimeout((()=>{$(e.target).valid()}))})).on("invalid-form.bhrValidate",(function(){$(document).trigger(...arguments)}));return i}})(jQuery);jQuery.extend(jQuery.validator.messages,{required:$.__("This field is required."),remote:$.__("Please fix this field."),email:$.__("Invalid email address."),url:$.__("Please enter a valid URL."),urlHttpsRequired:$.__("Please enter a valid HTTPS URL."),date:$.__("Please enter a valid date."),dateField:$.__("Please enter a valid date."),dateISO:$.__("Please enter a valid date (ISO)."),number:$.__("Please enter a valid number or remove any leading zeros."),employeeNumber:$.__("Please enter a valid number."),noLeadingZeros:$.__("Value must not start with a 0."),digits:$.__("Please enter only digits."),creditcard:$.__("Please enter a valid credit card number."),equalTo:$.__("Please enter the same value again."),accept:$.__("Please enter a value with a valid extension."),textOnly:$.__("Please enter a value with only alphabetic characters."),maxLengthDigits:jQuery.validator.format($.__("Please enter no more than %1 digits.","{0}")),maxlength:jQuery.validator.format($.__("Please enter no more than %1 characters.","{0}")),minlength:jQuery.validator.format($.__("Please enter at least %1 characters.","{0}")),rangelength:jQuery.validator.format($.__("Value must be between %1 and %2 characters long.","{0}","{1}")),range:jQuery.validator.format($.__("Value must be between %1 and %2.","{0}","{1}")),max:jQuery.validator.format($.__("Value must be less than or equal to %1.","{0}")),min:jQuery.validator.format($.__("Value must be greater than or equal to %1.","{0}")),require_from_group:jQuery.validator.format($.__("At least %1 of these fields is required.","{0}")),require_from_group_when_visible:jQuery.validator.format($.__("At least %1 of these fields is required.","{0}")),check_email_exists:jQuery.validator.format($.__("This email is already being used.")),check_ssn:jQuery.validator.format(window.SESSION_USER&&window.SESSION_USER.isAdmin?$.__("Oops, this is not a valid SSN or it is a duplicate of another SSN in your account."):$.__("Oops! Double check the numbers you entered. If everything is correct please contact your administrator.")),check_ssn_exists:jQuery.validator.format($.__("This SSN is already being used.")),check_sin_exists:jQuery.validator.format($.__("This SIN is already being used.")),check_nin_exists:jQuery.validator.format($.__("This NIN is already being used.")),check_national_id_exists:jQuery.validator.format($.__("This National ID is already being used.")),greaterThan:jQuery.validator.format($.__("Value must be greater than %1.","{0}")),valueGreaterThanZero:jQuery.validator.format($.__("Value must be greater than 0")),currencyTypeMatch:jQuery.validator.format($.__("Currency must be %1","{0}")),lessThan:jQuery.validator.format($.__("Value must be less than %1.","{0}")),regex:jQuery.validator.format($.__("This value is not valid.")),sameSiblingValue:jQuery.validator.format($.__("These two values cannot be the same.")),sameRowValue:jQuery.validator.format($.__("These values cannot be the same.")),futureDate:jQuery.validator.format($.__("This must be a future date.")),todayAndFuture:jQuery.validator.format($.__("This must be today or a future date.")),fromToDatesOrder:jQuery.validator.format($.__("Beginning date must be before end date.")),minDate:jQuery.validator.format($.__("Please enter a valid date.")),maxDate:jQuery.validator.format($.__("Please enter a valid date.")),isCurrency:jQuery.validator.format($.__("This currency must be %1.","{0}")),isCountryCode:jQuery.validator.format($.__("Only US employees can be included in payroll.","{0}")),isPayType:jQuery.validator.format($.__("Pay type must be hourly or salary to include this employee in payroll.")),USZip:jQuery.validator.format($.__("Please enter a valid US Zip code."))});jQuery.validator.addMethod("bambooEmailValidator",(function(e,t){return this.optional(t)||BambooHR.Utils.validateEmail(e)}),jQuery.validator.messages.email);jQuery.validator.addMethod("check_email_exists",(function(e,t,a){if(e==""){return true}if($(t).hasClass("requiredWhenVisible")&&!$(t).is(":visible")){return true}a.data.id=k(t);a.data.userId=$(t).data("userid");a.data.email=e;a.data.action="checkUserEmail";a.data.validate=true;a.type="POST";return jQuery.validator.methods.remote.call(this,e,t,a)}));jQuery.validator.addMethod("check_ssn",(function(e,t,a){if(e==""){return true}if($(t).hasClass("requiredWhenVisible")&&!$(t).is(":visible")){return true}let n=this;if(this.settings.ignoreSSNField){return true}let s={},i=F(t,"select.js-paySchedule");s.url=x();s.data={};s.data.id=k(t);s.data[a.data.check_field]=e;s.data.action=a.data.check_action;s.type="POST";s.data.validate=true;if(i){s.data.payScheduleListValueId=i.val();t.defaultValue=`nomatch-${window.BambooHR.Utils.makeUid()}`}s.complete=function(a){const s=$(t).data("isInitialValidation");$(t).removeData("isInitialValidation");if(!s&&e==="001-00-0000"&&!n.settings.isNHPPage&&e!==t.defaultValue){(0,f.Ix)()}if((0,c.hasTrax)()&&Z(t)){const e=a.responseText==true||a.responseText==="true";A(t,"select.js-paySchedule",n,e)}};return jQuery.validator.methods.remote.call(this,e,t,s)}),jQuery.validator.messages.check_ssn);jQuery.validator.addMethod("check_ssn_exists",(function(e,t,a){if(e==""||e==t.defaultValue){return true}if($(t).hasClass("requiredWhenVisible")&&!$(t).is(":visible")){return true}let n=this.previousValue(t),s=this;if(this.settings.ignoreField){return true}let i={};i.url=a.url||x();i.data={};i.data.id=$(t).data("employeeid");i.data[a.data.check_field]=e;i.data.action=a.data.check_action;i.data.validate=true;i.type="POST";i.complete=function(){if(s.invalid[t.name]){s.startRequest(t);let e=(a.data.friendly_name||a.data.check_field).toUpperCase();let i=$.__("There is already an employee with this %1 in the system. Are you sure you want to create another one?",e);if(C){const a=window.BambooHR.Modal.isOpen();let o={};let r={dangerousContent:`<div className="ValidationModal">\n\t\t\t\t\t\t\t<span className="ValidationModal__alertIcon">\n\t\t\t\t\t\t\t\t<ba-icon name="triangle-exclamation-12x11"></ba-icon>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<p className="ValidationModal__message">\n\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>`,primaryAction:()=>{let e=s.formSubmitted;s.prepareElement(t);s.formSubmitted=e;s.successList.push(t);delete s.invalid[t.name];n.valid=true;s.showErrors();s.hideErrors();s.settings.unhighlight.call(s,t,s.settings.errorClass,s.settings.validClass);s.stopRequest(t,true);if(a){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("Yes"),isOpen:true,title:$.__("Duplicate %1",e)};if(a){o={isOpen:true,sheetProps:r}}else{o=r}window.BambooHR.Modal.setState(o,a)}else{m.ZP.openModal({footer:{buttons:{primary:{action:function(){let e=s.formSubmitted;s.prepareElement(t);s.formSubmitted=e;s.successList.push(t);delete s.invalid[t.name];n.valid=true;s.showErrors();s.hideErrors();s.settings.unhighlight.call(s,t,s.settings.errorClass,s.settings.validClass);s.stopRequest(t,true);m.ZP.closeModal()},text:$.__("Yes")}},nostack:false,show:true},html:`\n\t\t\t\t\t\t<div class="ValidationModal">\n\t\t\t\t\t\t\t<span class="ValidationModal__alertIcon">\n\t\t\t\t\t\t\t\t<ba-icon name="triangle-exclamation-12x11"></ba-icon>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<p class="ValidationModal__message">\n\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t`,title:$.__("Duplicate %1",e)})}}};return jQuery.validator.methods.remote.call(this,e,t,i)}));let N=false;jQuery.validator.addMethod("check_pay_schedule",(function(e,t,a){M(t,e);const n=$(".js-validate-payRate-trax, .js-validate-overtimeRate-trax");if(Z(t,e)&&n.length>0){n.addClass("syncingScheduleSelected");if(!N){N=true;n.valid()}}else{n.removeClass("syncingScheduleSelected");if(N){n.valid()}N=false}if((0,c.hasTrax)()){if(window.currentlyEditingEmployeeId===0){return true}if(e==""){return true}if($(t).hasClass("requiredWhenVisible")&&!$(t).parents("ba-select").is(":visible")){return true}let n=this.previousValue(t),s=this,i=F(t,".primary-ssn-field");if(i){a.data.ssn=i.val()}a.data.payScheduleId=null;a.data.payScheduleListValueId=e;a.data.id=k(t);a.data.userId=k(t);a.data.validate=true;a.type="POST";a.complete=function(a){const i=a.responseText==true||a.responseText==="true";setTimeout((()=>{I(t,e,s,n,i)}),10);if(!i){const e=$(t).parents("ba-select").find("ba-option[selected]").text();(0,f.lF)(e)}A(t,".primary-ssn-field",s,i)};return jQuery.validator.methods.remote.call(this,e,t,a)}return true}));jQuery.validator.addMethod("check_sin_exists",(function(e,t,a){return jQuery.validator.methods.check_ssn_exists.call(this,e,t,a)}));jQuery.validator.addMethod("check_nin_exists",(function(e,t,a){return jQuery.validator.methods.check_ssn_exists.call(this,e,t,a)}));jQuery.validator.addMethod("check_national_id_exists",(function(e,t,a){return jQuery.validator.methods.check_ssn_exists.call(this,e,t,a)}));if(C){jQuery.validator.addMethod("bambooRichText",(function(e,t){const a=$(t).closest(".js-bamboo-rich-text").find(".js-bamboo-rich-text-editor");if(a[0]){const e=window.tinyMCE.get(a.attr("id"));if(e){return!!e.getContent()}}}),jQuery.validator.messages.required)}else{jQuery.validator.addMethod("mceEditor",(function(e,t,a){if(a&&typeof tinyMCE!="undefined"&&$(t).attr("id")&&tinyMCE.get($(t).attr("id"))){return tinyMCE.get($(t).attr("id")).getContent()!=""}}),jQuery.validator.messages.required)}jQuery.validator.addMethod("maxLengthDigits",(function(e,t,a){return e.length<=a}),jQuery.validator.messages.maxLengthDigits);jQuery.validator.addMethod("textOnly",(function(e,t,a){return e.match(/^[A-Za-z .]+$/)}),jQuery.validator.messages.textOnly);jQuery.validator.addMethod("validateUSZip",(function(e,t,a){return(0,l.wU)(e)}),jQuery.validator.messages.USZip);jQuery.validator.addMethod("validateUSZipTrax",(function(e,t,a){const n=this;if(!(0,c.hasTrax)()||t.classList.contains("contact_zip")||!$(t).is(":visible")){return true}const s=$(t).closest("form").find("ba-select.js-paySchedule");const i=s.length>0?s[0].value:null;if(s.length>0){return Z(s,i)?jQuery.validator.methods.validateUSZip.call(n,e,t,a):true}if(window.Employee&&window.Employee.payrollSynced){return jQuery.validator.methods.validateUSZip.call(n,e,t,a)}return true}),jQuery.validator.messages.USZip);jQuery.validator.addMethod("currencyTypeMatchTrax",(function(e,t,a){if($(t).syncingPayScheduleSelected()&&(0,c.hasTrax)()){return jQuery.validator.methods.currencyTypeMatch.call(this,e,t,a)}return true}),jQuery.validator.messages.currencyTypeMatch);jQuery.validator.addMethod("currencyTypeMatch",(function(e,t,a){if(!$(t).is(":visible")){return true}let n=$(t).siblings("input.currencyType");if(n.length===0){n=$(t).closest(".fieldRow, .fab-FormRow").find(".js-CurrencyPicker ").find("input.currencyType")}const s=n.length>0?n.val():"";const i=s===a;const{Employee:o={}}=window;const r=o.firstName||"an employee";if(!i){window.setMessage($.__("Oops, please make sure the pay rate is in %1 before adding %2 to a pay schedule that syncs with BambooHR Payroll.",a,r),"error")}return i}),jQuery.validator.messages.currencyTypeMatch);jQuery.validator.addMethod("valueGreaterThanZeroTrax",(function(e,t,a){if($(t).syncingPayScheduleSelected()&&(0,c.hasTrax)()){return jQuery.validator.methods.valueGreaterThanZero.call(this,e,t,a)}return true}),jQuery.validator.messages.valueGreaterThanZero);jQuery.validator.addMethod("valueGreaterThanZero",(function(e,t,a){if(!$(t).is(":visible")){return true}return(0,d.w)(e)>0}),jQuery.validator.messages.valueGreaterThanZero);jQuery.validator.addMethod("noLeadingZeros",(function(e,t,a){return e==""||e.charAt(0)!=0}),jQuery.validator.messages.noLeadingZeros);jQuery.validator.addMethod("fileUploader",(function(e,t,a){return $(t).closest(".attach-wrapper").siblings(".files").find(".file-wrapper.uploadDone").length>0}),$.__("Please upload a file."));jQuery.validator.addMethod("passwordValidate",(function(e,t,a){return t.value.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/)}));jQuery.validator.addMethod("excludeZero",(function(e,t,a){return t.value!=0}));jQuery.validator.addMethod("greaterThan",(function(e,t,a){return t.value>a}),jQuery.validator.messages.greaterThan);jQuery.validator.addMethod("lessThan",(function(e,t,a){return t.value<a}),jQuery.validator.messages.lessThan);jQuery.validator.addMethod("regex",(function(e,t,a){var n=new RegExp(a);return this.optional(t)||n.test(e)}),jQuery.validator.messages.regex);jQuery.validator.addMethod("number",(function(e,t,a){var n=new RegExp(GLOBAL_NUMBER_REGEX);return this.optional(t)||n.test(e)}),jQuery.validator.messages.number);var D=GLOBAL_NUMBER_REGEX.replace("(?!0[0-9])","");jQuery.validator.addMethod("employeeNumber",(function(e,t,a){return this.optional(t)||new RegExp(D).test(e)}),jQuery.validator.messages.employeeNumber);jQuery.validator.addMethod("min",(function(e,t,a){return this.optional(t)||getFloatFromStringJS(e)>=a}),jQuery.validator.messages.min);jQuery.validator.addMethod("max",(function(e,t,a){return this.optional(t)||getFloatFromStringJS(e)<=a}),jQuery.validator.messages.max);jQuery.validator.addMethod("urlHttpOptional",(function(e,t,a){return this.optional(t)||/^((https?|s?ftp):\/\/)?(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}),jQuery.validator.messages.url);jQuery.validator.addMethod("urlHttpsRequired",(function(e,t,a){return this.optional(t)||/^((https):\/\/)(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}),jQuery.validator.messages.urlHttpsRequired);jQuery.validator.addMethod("essRequiredFields",(function(e,t,a){var n=false;if($(".checkEmailExists").length>0){$(".checkEmailExists").each((function(e,t){if($(t).val()!==""&&validateEmail($(t).val())){n=true}}))}var s;if(typeof s=="undefined"){s="Active"}var i=$(".employee-status-field").val()||s;return n&&i==="Active"||!t.checked}));jQuery.validator.addMethod("sameSiblingValue",(function(e,t,a){let n=$(t);let s=n.siblings(a);if(n.closest(".fieldBox").is(":hidden")&&s.closest(".fieldBox").is(":hidden")){return true}let i=s.val();return e!==i}),jQuery.validator.messages.sameSiblingValue);jQuery.validator.addMethod("sameRowValue",(function(e,t,a){const n=".formRow, .fab-FormRow";const s=".fieldBox, fab-FormField";const i=$(t);const o=i.closest(n);const r=o.find(a);if(i.closest(s).is(":hidden")&&r.closest(s).is(":hidden")){return true}return i.val()!==r.val()}),jQuery.validator.messages.sameRowValue);function L(e,t){if(t[0]&&t[0].tagName==="BA-SELECT"){const a=e[0];const n=a.querySelector("select");const s=n?n.value:"";const i=t[0].querySelector("select").value;const o=e.data("conditionally-required-values")?e.data("conditionally-required-values").split(",").indexOf(i)>=0:false;return!e.is(":visible")||!o||s.length>0}let a=e.closest(".fieldBox");let n=e.data("conditionally-required-values")?e.data("conditionally-required-values").split(",").indexOf(t.val())>=0:false;a.removeClass("error");if(n){a.addClass("required")}else{a.removeClass("required")}return!a.is(":visible")||!n||e.val().length>0}jQuery.validator.addMethod("conditionallyRequired",(function(e,t){const a=C&&t.tagName==="SELECT"?$(t).closest("ba-select"):$(t);return L(a,$(a.data("conditionally-required-selector")))}));jQuery.validator.addMethod("futureDate",(function(e,t,a){if(!$(t).is(":visible")){return true}var n=new Date;var s=n.getFullYear();var i=$(a.monthSelector).val();var o=$(a.yearSelector).val();var r=i>=1&&i<=12&&o>=s&&o<s+20&&(o==s?i>=n.getMonth()+1:true);if(r){}return r}),jQuery.validator.messages.futureDate);jQuery.validator.addMethod("todayAndFuture",(function(e,t,a){if(e==$(t).attr("placeholder")){return true}var n=new Date;var s=new Date($(t).val());n.setHours(0,0,0,0);return this.optional(t)||s>=n}),jQuery.validator.messages.todayAndFuture);jQuery.validator.addMethod("multiSelectQuantityCheck",(function(e,t,a){return e.length>=$(t).attr("data-quantity-required")}));jQuery.validator.addMethod("validateSelfServiceEmailRequired",(function(e,t,a){var n=$(".ess-field").length>=1&&$(".ess-field:checked").val()=="enabled";if(n){var s=0;$(".js-validate-ss-required").each((function(e,t){if(t.value!=""){s++}}));return s>0}return true}),"");jQuery.validator.addMethod("validateTraxEmailRequired",(function(e,t,a){var n=(0,c.hasTrax)();if(n){var s=0;$(".js-validate-ss-required").each((function(e,t){if(t.value!=""){s++}}));return s>0}return true}),"");jQuery.validator.addMethod("validateDateFrom_to",(function(e,t){var a=$(t);if(a.val()===""){return true}var n=p().$(a),s=p().$("input.js-validate-from-date[data-calendar-id="+a.data("calendarId")+"]");return n.isValid()&&s.isValid()&&n.isAfter(s,"day")}),jQuery.validator.messages.fromToDatesOrder);jQuery.validator.addMethod("validateToggleButton",(function(e,t){var a=$(t).closest(".fieldDiv");if(a.find(".currency-field").val()==""&&a.find(".percent-field").val()==""){return false}return true}));jQuery.validator.addMethod("validateInlineEdit",(function(e,t){if(!$(t).closest('[saving-inline="true"]').length){return false}return jQuery.validator.methods.required.apply(this,arguments)}));jQuery.validator.addMethod("validateDateField",(function(e,t,a){return e===""||p().$(t).isValid()}),jQuery.validator.messages.dateField);jQuery.validator.addMethod("validateMinDate",(function(e,t){var a=$(t),n=p().$(t),s=p()(a.data("mindate")||a.datepicker("option","minDate"));return n.isValid()&&n.isSameOrAfter(s,"day")}),jQuery.validator.messages.minDate);jQuery.validator.addMethod("validateMaxDate",(function(e,t){var a=$(t),n=p().$(t),s=p()(a.data("maxdate")||a.datepicker("option","maxDate"));return n.isValid()&&n.isSameOrBefore(s,"day")}),jQuery.validator.messages.maxDate);jQuery.validator.addMethod("validateDateBetween",(function(e,t,a){return this.optional(t)||p().$(t).isBetween(a.from,a.to,null,"[]")}));jQuery.validator.addMethod("validateCalendarPicker",(function(e,t){var a=$(this.currentForm);var n=$(t);var s;var i=true;var o=n.closest("[calendar-picker]").data("calendarPicker");if(!o||!(n.is(o.$start)||n.is(o.$end))){throw new Error("You're trying to validate an input that is not part of a Calendar Picker")}if(!n.val().trim()&&!o.isValid()&&(o.isDirty()||a.data("validation-submitting"))){i=false}i=i&&o.isValid(t);n.data("cp-invalid",!i);s=n.is(o.$start)?o.$end:o.$start;if(i&&s&&s.data("cp-invalid")){setTimeout(function(){this.element(s)}.bind(this))}return i}),(function(e,t){var a=$(t);var n=a.closest("[calendar-picker]").data("calendarPicker");var s=n.validate(t)[0];var i="";if(!s){return}switch(s.code){case"BEFORE_MIN":i=$.__("%s is before the earliest allowed date",t.value);break;case"AFTER_MAX":i=$.__("%s is after the last allowed date",t.value);break;case"OUT_OF_BOUNDS":i=$.__("%s is outside of the allowed date range",t.value);break}if(!s.code&&n.isDirty()&&!a.val().trim()){i=$.__("A calendar field is missing")}return i}));jQuery.validator.addMethod("require_from_group_when_visible",(function(e,t,a){var n=$(t).closest(a[2])[0]||t;return!$(n).is(":visible")||jQuery.validator.methods.require_from_group.call(this,e,t,a)}),jQuery.validator.messages.require_from_group);jQuery.validator.addMethod("Compensation_TraxConditionalRequire",(function(e,t,a){var n=$(t).closest("form");var s=["rate[0]","paidPer","payGroup","payPeriod","payType","exempt"];var i=s.map((function(e){return'[name="'+e+'"]'}));var o=false;n.find(i.join(", ")).each((function(e,t){if($(t).val()){o=true}}));return!!e||!o}),jQuery.validator.messages.require_from_group);jQuery.validator.addMethod("validatePayRate",(function(e,t,a){var n=$(t).closest("form");var s=n.find('[name="rate[0]"]').val();var i=n.find('[name="paidPer"]').val();return e||!s&&!i}),jQuery.validator.messages.require_from_group);jQuery.validator.addMethod("isCurrency",(function(e,t,a){var n=$(t).closest(".CurrencyPicker").find("input.js-currency-picker-type");if(_.isString(a)){a=[a]}return _.includes(a,n.val())}),jQuery.validator.messages.isCurrency);jQuery.validator.addMethod("isPayType",(function(e,t){var a=$(t);return a.val()=="Hourly"||a.val()=="Salary"}),jQuery.validator.messages.isPayType);jQuery.validator.addMethod("isCountryCode",(function(e,t,a){var n=$(t);if(_.isString(a)){a=[a]}return _.includes(a,n.val())}),jQuery.validator.messages.isCountryCode);jQuery.validator.addMethod("trimIsNotEmpty",(function(e){if(e.length>0){return e.trim().length!==0}return true}),jQuery.validator.messages.remote);jQuery.validator.addMethod("smartRange",(function(e,t,a){const[n,s]=a;const i=window.getFloatFromStringJS(e);return i>=n&&i<=s}),jQuery.validator.messages.range);jQuery.validator.addMethod("directDepositValidator",(function(e,t,a){if(e.indexOf("%")>=0&&e.match(/\d+/)[0]>=100){return $(t).closest(".js-DirectDepositCard").is(":last-child")}return true}));jQuery.validator.addMethod("directDeposit100Validator",(function(e,t,a){return!(e.indexOf("%")>=0&&e.match(/\d+/)[0]>100)}));jQuery.validator.addMethod("timeOffTypeNameValidator",(function(e,t,a){return!a.error}));jQuery.validator.addMethod("validateSalariedHoursPerWeek",((e,t)=>{const a=t.dataset.validationAllowEmpty==="true";return y(e,a)}))},18075:(e,t,a)=>{"use strict";a.d(t,{qZ:()=>p,s7:()=>h,wn:()=>c});var $=a(26570);var jQuery=a(26570);const n=`fab-Label--error`;const s=`fab-CheckboxGroup__legend--error`;const i=`fab-RadioGroup__legend--error`;const o='[class*="fab-FormNote--"]:not(.js-fab-FormNote-ignore)';const r=".js-fab-FormNote-toggle";const l=["input","textarea","ba-select"];const c=(e,t)=>{const a=t[0];const n=t.attr("type")=="email"||t.hasClass("validateEmail");const s=t.hasClass("inline-error")||$('label[for="'+t.attr("id")+'"]').hasClass("inline-error");if((n||s)&&e.html()!=jQuery.validator.messages.required){if(t.closest("form").hasClass("BhrForms")){const n=b(a).parentNode;let s=n.querySelector(o);if(!s){s=document.createElement("span");s.innerText=e.html();n.insertAdjacentElement("beforeend",s)}s.className="fab-FormNote fab-FormNote--error "+(t.attr("data-errorclass")||"");s.innerHTML=e.html()}}};const d=e=>e.classList.contains("js-checkbox-required-single");const u=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t){return e.classList.add("fab-Checkbox__input--error")}return e.classList.remove("fab-Checkbox__input--error")};const h=e=>{switch(e.nodeName){case"INPUT":if(w(e)){if(d(e)){u(e,true)}break}else if(e.classList.contains("js-rich-text-hidden-input")){const t=e.closest(".BambooRichText");if(t){t.classList.add("BambooRichText--error")}}else if(e.classList.contains("js-validate-ss-required")&&$(e).closest(".fieldGroup").hasClass("oneEmailRequired")){$(e).closest(".fieldGroup").addClass("oneEmailRequired--error")}else if($(e).closest(".fabInternal-DatePickerInput").length>0){const t=e.getAttribute("id");window.dispatchEvent(new CustomEvent("updateDatePickerStatus",{detail:{status:"error",id:t}}))}else{e.classList.add("fab-TextInput--error")}break;case"TEXTAREA":e.classList.add("fab-Textarea--error");break;case"BA-SELECT":return false;default:}f(e,true);m(e)};const p=e=>{switch(e.nodeName){case"INPUT":if(w(e)){if(d(e)){u(e,false)}break}else if(e.classList.contains("js-rich-text-hidden-input")){const t=e.closest(".BambooRichText");if(t){t.classList.remove("BambooRichText--error")}}else if(e.classList.contains("js-validate-ss-required")&&$(e).closest(".fieldGroup").hasClass("oneEmailRequired")){$(e).closest(".fieldGroup").removeClass("oneEmailRequired--error")}else if($(e).closest(".fabInternal-DatePickerInput").length>0){const t=e.getAttribute("id");window.dispatchEvent(new CustomEvent("updateDatePickerStatus",{detail:{status:"",id:t}}))}else{e.classList.remove("fab-TextInput--error")}break;case"TEXTAREA":e.classList.remove("fab-Textarea--error");break;default:}f(e,false);m(e,true);const t=e.closest(".fieldRow")||e.closest(".fab-FormRow");let a;if(t){a=t.querySelector(o)}if(a){a.parentNode.removeChild(a)}};const m=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=g(e);if(a){if(t){return v(a)}y(a)}};const f=(e,t)=>{const a=e.closest(".fieldRow")||e.closest(".fab-FormRow");let n;if(a){n=a.querySelector(r)}if(n){if(t){n.style.display="none"}else{n.style.display=""}}};const g=e=>{if(e.classList.contains("no-facade-component")){return}if(w(e)){const t=e.closest(".fab-CheckboxGroup")||e.closest(".fab-RadioGroup");if(t){const e=t.querySelector("legend");if(e){return e}}}if(e.id){const t=document.querySelector(`.fab-Label[for="${e.id}"]`);if(t){return t}}const t=e.closest(".fieldBox")||e.closest(".fab-FormColumn");if(t){return t.querySelector(".fab-Label")}return e.parentNode.querySelector(".fab-Label")};const v=e=>{if(e){e.classList.remove(C(e))}};const y=e=>{if(e){e.classList.add(C(e))}};const b=e=>{const t=e.closest(".fieldRow")||e.closest(".fab-FormRow");const a=t.querySelectorAll(l.join());let n=a[a.length-1];if(n&&n.parentNode.classList.contains("fab-InputWrapper")){n=n.parentNode}if(n.className.includes("masked")){n=t.children[0]}return n};function w(e){let{type:t}=e;return t==="checkbox"||t==="radio"}function C(e){if(e.classList.contains("fab-CheckboxGroup__legend")){return s}else if(e.classList.contains("fab-RadioGroup__legend")){return i}return n}},53509:(e,t,a)=>{var jQuery=a(26570);(function($){$.extend($.fn,{validate:function(e){if(!this.length){if(e&&e.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var t=$.data(this[0],"validator");if(t){return t}this.attr("novalidate","novalidate");t=new $.validator(e,this[0]);$.data(this[0],"validator",t);if(t.settings.onsubmit){this.validateDelegate(":submit","click",(function(e){if(t.settings.submitHandler){t.submitButton=e.target}if($(e.target).hasClass("cancel")){t.cancelSubmit=true}if($(e.target).attr("formnovalidate")!==undefined){t.cancelSubmit=true}}));this.submit((function(e){if(t.settings.debug){e.preventDefault()}function a(){var a;if(t.settings.submitHandler){if(t.submitButton){a=$("<input type='hidden'/>").attr("name",t.submitButton.name).val($(t.submitButton).val()).appendTo(t.currentForm)}t.settings.submitHandler.call(t,t.currentForm,e);if(t.submitButton){a.remove()}return false}return true}if(t.cancelSubmit){t.cancelSubmit=false;return a()}if(t.form()){if(t.pendingRequest){t.formSubmitted=true;return false}return a()}else{t.focusInvalid();return false}}))}return t},valid:function(){var e,t;if($(this[0]).is("form")){e=this.validate().form()}else{e=true;t=$(this[0].form).validate();this.each((function(){e=t.element(this)&&e}))}return e},removeAttrs:function(e){var t={},a=this;$.each(e.split(/\s/),(function(e,n){t[n]=a.attr(n);a.removeAttr(n)}));return t},rules:function(e,t){var a=this[0],n,s,i,o,r,l;if(e){n=$.data(a.form,"validator").settings;s=n.rules;i=$.validator.staticRules(a);switch(e){case"add":$.extend(i,$.validator.normalizeRule(t));delete i.messages;s[a.name]=i;if(t.messages){n.messages[a.name]=$.extend(n.messages[a.name],t.messages)}break;case"remove":if(!t){delete s[a.name];return i}l={};$.each(t.split(/\s/),(function(e,t){l[t]=i[t];delete i[t];if(t==="required"){$(a).removeAttr("aria-required")}}));return l}}o=$.validator.normalizeRules($.extend({},$.validator.classRules(a),$.validator.attributeRules(a),$.validator.dataRules(a),$.validator.staticRules(a)),a);if(o.required){r=o.required;delete o.required;o=$.extend({required:r},o);$(a).not("[data-no-jquery-aria-required]").attr("aria-required","true")}if(o.remote){r=o.remote;delete o.remote;o=$.extend(o,{remote:r})}return o}});$.extend($.expr[":"],{blank:function(e){return!$.trim(""+$(e).val())},filled:function(e){return!!$.trim(""+$(e).val())},unchecked:function(e){return!$(e).prop("checked")}});$.validator=function(e,t){this.settings=$.extend(true,{},$.validator.defaults,e);this.currentForm=t;this.init()};$.validator.format=function(e,t){if(arguments.length===1){return function(){var t=$.makeArray(arguments);t.unshift(e);return $.validator.format.apply(this,t)}}if(arguments.length>2&&t.constructor!==Array){t=$.makeArray(arguments).slice(1)}if(t.constructor!==Array){t=[t]}$.each(t,(function(t,a){e=e.replace(new RegExp("\\{"+t+"\\}","g"),(function(){return a}))}));return e};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(e){this.lastActive=e;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass)}this.addWrapper(this.errorsFor(e)).hide()}},onfocusout:function(e){if(!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))){this.element(e)}},onkeyup:function(e,t){if(t.which===9&&this.elementValue(e)===""){return}else if(e.name in this.submitted||e===this.lastElement){this.element(e)}},onclick:function(e){if(e.name in this.submitted){this.element(e)}else if(e.parentNode.name in this.submitted){this.element(e.parentNode)}},highlight:function(e,t,a){if(e.type==="radio"){this.findByName(e.name).addClass(t).removeClass(a)}else{$(e).addClass(t).removeClass(a)}},unhighlight:function(e,t,a){if(e.type==="radio"){this.findByName(e.name).removeClass(t).addClass(a)}else{$(e).removeClass(t).addClass(a)}}},setDefaults:function(e){$.extend($.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var e=this.groups={},t;$.each(this.settings.groups,(function(t,a){if(typeof a==="string"){a=a.split(/\s/)}$.each(a,(function(a,n){e[n]=t}))}));t=this.settings.rules;$.each(t,(function(e,a){t[e]=$.validator.normalizeRule(a)}));function a(e){if(t){var t=$.data(this[0].form,"validator"),a="on"+e.type.replace(/^validate/,""),n=t.settings;if(n[a]&&!this.is(n.ignore)){n[a].call(t,this[0],e)}}}$(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, "+"[type='number'], [type='search'] ,[type='tel'], [type='url'], "+"[type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], "+"[type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",a);if(this.settings.invalidHandler){$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}$(this.currentForm).find("[required], [data-rule-required], .required").not("[data-no-jquery-aria-required]").attr("aria-required","true")},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++){this.check(t[e])}return this.valid()},element:function(e){var t=this.clean(e),a=this.validationTargetFor(t),n=true;this.lastElement=a;if(a===undefined){delete this.invalid[t.name]}else{this.prepareElement(a);this.currentElements=$(a);n=this.check(a)!==false;if(n){delete this.invalid[a.name]}else{this.invalid[a.name]=true}}$(e).attr("aria-invalid",!n);if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return n},showErrors:function(e){if(e){$.extend(this.errorMap,e);this.errorList=[];for(var t in e){this.errorList.push({message:e[t],element:this.findByName(t)[0]})}this.successList=$.grep(this.successList,(function(t){return!(t.name in e)}))}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},resetElement:function(e){this.errorList=this.errorList.filter((t=>t.element!==e));delete this.errorMap[e.name];delete this.submitted[e.name];this.settings.unhighlight(e)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0,a;for(a in e){t++}return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}}},findLastActive:function(){var e=this.lastActive;return e&&$.grep(this.errorList,(function(t){return t.element.name===e.name})).length===1&&e},elements:function(){var e=this,t={};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter((function(){if(!this.name&&e.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in t||!e.objectLength($(this).rules())){return false}t[this.name]=true;return true}))},clean:function(e){return $(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset();this.toHide=this.errorsFor(e)},elementValue:function(e){var t,a=$(e),n=a.attr("type");if(n==="radio"||n==="checkbox"){return $("input[name='"+a.attr("name")+"']:checked").val()}t=a.val();if(typeof t==="string"){return t.replace(/\r/g,"")}return t},check:function(e){e=this.validationTargetFor(this.clean(e));var t=$(e).rules(),a=$.map(t,(function(e,t){return t})).length,n=false,s=this.elementValue(e),i,o,r;for(o in t){r={method:o,parameters:t[o]};try{i=$.validator.methods[o].call(this,s,e,r.parameters);if(i==="dependency-mismatch"&&a===1){n=true;continue}n=false;if(i==="pending"){this.toHide=this.toHide.not(this.errorsFor(e));return}if(!i){this.formatAndAdd(e,r);return false}}catch(t){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",t)}throw t}}if(n){return}if(this.objectLength(t)){this.successList.push(e)}return true},customDataMessage:function(e,t){return $(e).data("msg"+t[0].toUpperCase()+t.substring(1).toLowerCase())||$(e).data("msg")},customMessage:function(e,t){var a=this.settings.messages[e];return a&&(a.constructor===String?a:a[t])},findDefined:function(){for(var e=0;e<arguments.length;e++){if(arguments[e]!==undefined){return arguments[e]}}return undefined},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||undefined,$.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var a=this.defaultMessage(e,t.method),n=/\$?\{(\d+)\}/g;if(typeof a==="function"){a=a.call(this,t.parameters,e)}else if(n.test(a)){a=$.validator.format(a.replace(n,"{$1}"),t.parameters)}this.errorList.push({message:a,element:e,method:t.method});this.errorMap[e.name]=a;this.submitted[e.name]=a},addWrapper:function(e){if(this.settings.wrapper){e=e.add(e.parent(this.settings.wrapper))}return e},defaultShowErrors:function(){var e,t,a;for(e=0;this.errorList[e];e++){a=this.errorList[e];if(this.settings.highlight){this.settings.highlight.call(this,a.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(a.element,a.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(e=0;this.successList[e];e++){this.showLabel(this.successList[e])}}if(this.settings.unhighlight){for(e=0,t=this.validElements();t[e];e++){this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map((function(){return this.element}))},showLabel:function(e,t){var a=this.errorsFor(e);if(a.length){a.removeClass(this.settings.validClass).addClass(this.settings.errorClass);a.html(t)}else{a=$("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(t||"");if(this.settings.wrapper){a=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(a).length){if(this.settings.errorPlacement){this.settings.errorPlacement(a,$(e))}else{a.insertAfter(e)}}}if(!t&&this.settings.success){a.text("");if(typeof this.settings.success==="string"){a.addClass(this.settings.success)}else{this.settings.success(a,e)}}this.toShow=this.toShow.add(a)},errorsFor:function(e){var t=this.idOrName(e);return this.errors().filter((function(){return $(this).attr("for")===t}))},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){if(this.checkable(e)){e=this.findByName(e.name).not(this.settings.ignore)[0]}return e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return $(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return $("option:selected",t).length;case"input":if(this.checkable(t)){return this.findByName(t.name).filter(":checked").length}}return e.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):true},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!$(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!$.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){if(!this.pending[e.name]){this.pendingRequest++;this.pending[e.name]=true}},stopRequest:function(e,t){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[e.name];if(t&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false}else if(!t&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(e){return $.data(e,"previousValue")||$.data(e,"previousValue",{old:null,valid:true,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(e,t){if(e.constructor===String){this.classRuleSettings[e]=t}else{$.extend(this.classRuleSettings,e)}},classRules:function(e){var t={},a=$(e).attr("class");if(a){$.each(a.split(" "),(function(){if(this in $.validator.classRuleSettings){$.extend(t,$.validator.classRuleSettings[this])}}))}return t},attributeRules:function(e){var t={},a=$(e),n=e.getAttribute("type"),s,i;for(s in $.validator.methods){if(s==="required"){i=e.getAttribute(s);if(i===""){i=true}i=!!i}else{i=a.attr(s)}if(/min|max/.test(s)&&(n===null||/number|range|text/.test(n))){i=Number(i)}if(i||i===0){t[s]=i}else if(n===s&&n!=="range"){t[s]=true}}if(t.maxlength&&/-1|2147483647|524288/.test(t.maxlength)){delete t.maxlength}return t},dataRules:function(e){var t,a,n={},s=$(e);for(t in $.validator.methods){a=s.data("rule"+t[0].toUpperCase()+t.substring(1).toLowerCase());if(a!==undefined){n[t]=a}}return n},staticRules:function(e){var t={},a=$.data(e.form,"validator");if(a.settings.rules){t=$.validator.normalizeRule(a.settings.rules[e.name])||{}}return t},normalizeRules:function(e,t){$.each(e,(function(a,n){if(n===false){delete e[a];return}if(n.param||n.depends){var s=true;switch(typeof n.depends){case"string":s=!!$(n.depends,t.form).length;break;case"function":s=n.depends.call(t,t);break}if(s){e[a]=n.param!==undefined?n.param:true}else{delete e[a]}}}));$.each(e,(function(a,n){e[a]=$.isFunction(n)?n(t):n}));$.each(["minlength","maxlength"],(function(){if(e[this]){e[this]=Number(e[this])}}));$.each(["rangelength","range"],(function(){var t;if(e[this]){if($.isArray(e[this])){e[this]=[Number(e[this][0]),Number(e[this][1])]}else if(typeof e[this]==="string"){t=e[this].split(/[\s,]+/);e[this]=[Number(t[0]),Number(t[1])]}}}));if($.validator.autoCreateRanges){if(e.min&&e.max){e.range=[e.min,e.max];delete e.min;delete e.max}if(e.minlength&&e.maxlength){e.rangelength=[e.minlength,e.maxlength];delete e.minlength;delete e.maxlength}}return e},normalizeRule:function(e){if(typeof e==="string"){var t={};$.each(e.split(/\s/),(function(){t[this]=true}));e=t}return e},addMethod:function(e,t,a){$.validator.methods[e]=t;$.validator.messages[e]=a!==undefined?a:$.validator.messages[e];if(t.length<3){$.validator.addClassRules(e,$.validator.normalizeRule(e))}},methods:{required:function(e,t,a){if(!this.depend(a,t)){return"dependency-mismatch"}if(t.nodeName.toLowerCase()==="select"){var n=$(t).val();if(t.hasAttribute("data-has-default-value")){return false}return n&&n.length>0}if(this.checkable(t)){return this.getLength(e,t)>0}return $.trim(e).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(e)){return false}var a=0,n=0,s=false,i,o;e=e.replace(/\D/g,"");if(e.length<13||e.length>19){return false}for(i=e.length-1;i>=0;i--){o=e.charAt(i);n=parseInt(o,10);if(s){if((n*=2)>9){n-=9}}a+=n;s=!s}return a%10===0},minlength:function(e,t,a){var n=$.isArray(e)?e.length:this.getLength($.trim(e),t);return this.optional(t)||n>=a},maxlength:function(e,t,a){var n=$.isArray(e)?e.length:this.getLength($.trim(e),t);return this.optional(t)||n<=a},rangelength:function(e,t,a){var n=$.isArray(e)?e.length:this.getLength($.trim(e),t);return this.optional(t)||n>=a[0]&&n<=a[1]},min:function(e,t,a){return this.optional(t)||e>=a},max:function(e,t,a){return this.optional(t)||e<=a},range:function(e,t,a){return this.optional(t)||e>=a[0]&&e<=a[1]},equalTo:function(e,t,a){var n=$(a);if(this.settings.onfocusout){n.unbind(".validate-equalTo").bind("blur.validate-equalTo",(function(){$(t).valid()}))}return e===n.val()},remote:function(e,t,a){if(this.optional(t)){return"dependency-mismatch"}var n=this.previousValue(t),s,i;if(!this.settings.messages[t.name]){this.settings.messages[t.name]={}}n.originalMessage=this.settings.messages[t.name].remote;this.settings.messages[t.name].remote=n.message;a=typeof a==="string"&&{url:a}||a;if(n.old===e){return n.valid}n.old=e;s=this;this.startRequest(t);i={};i[t.name]=e;$.ajax($.extend(true,{url:a,mode:"abort",port:"validate"+t.name,dataType:"json",data:i,context:s.currentForm,success:function(i){var o=i===true||i==="true",r,l,c;if(i===null&&a?.data?.action!==undefined){window.Rollbar.info("EE Validation: limit has been met!",{action:a?.data?.action})}s.settings.messages[t.name].remote=n.originalMessage;if(o){c=s.formSubmitted;s.prepareElement(t);s.formSubmitted=c;s.successList.push(t);delete s.invalid[t.name];s.showErrors()}else{r={};l=i||s.defaultMessage(t,"remote");r[t.name]=n.message=$.isFunction(l)?l(e):l;s.invalid[t.name]=true;s.showErrors(r)}n.valid=o;s.stopRequest(t,o)}},a));return"pending"}}});$.format=function e(){throw"$.format has been deprecated. Please use $.validator.format instead."}})(jQuery);(function($){var e={},t;if($.ajaxPrefilter){$.ajaxPrefilter((function(t,_,a){var n=t.port;if(t.mode==="abort"){if(e[n]){e[n].abort()}e[n]=a}}))}else{t=$.ajax;$.ajax=function(a){var n=("mode"in a?a:$.ajaxSettings).mode,s=("port"in a?a:$.ajaxSettings).port;if(n==="abort"){if(e[s]){e[s].abort()}e[s]=t.apply(this,arguments);return e[s]}return t.apply(this,arguments)}}})(jQuery);(function($){$.extend($.fn,{validateDelegate:function(e,t,a){return this.bind(t,(function(t){var n=$(t.target);if(n.is(e)){return a.apply(n,arguments)}}))}})})(jQuery)},68183:function(e,t){var a,n,s;(function(i,o){if(true){!(n=[],a=o,s=typeof a==="function"?a.apply(t,n):a,s!==undefined&&(e.exports=s))}else{}})(this,(function(){var e={};function t(t){var a=e[t];if(!a){var n="var p=[],print=function(){p.push.apply(p,arguments);};"+"with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").replace(/\\(?=[^\*]*\*!)/g,"\t").split("\\").join("\\\\").split("\t").join("\\").replace(/'(?=[^\*]*\*!)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/!\*=raw *(.+?);* *\*!/g,"',$1,'").replace(/!\*=html *(.+?);* *\*!/g,"',window.BambooHR.Utils.sanitizeHtml($1),'").replace(/!\*= *(.+?);* *\*!/g,"',window.microTemplate.encodeHtml($1),'").split("!*").join("');").split("*!").join("\np.push('")+"');}return p.join('');";a=new Function("obj","microTemplate",n);e[t]=a}return a}function a(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof e==="function"){return e(n,a)}return t(e)(n,a)}a.encodeHtml=function(e){if(/[<>'"&]/.test(e)){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return e};a.decodeHtml=function(e){var t=document.createElement("div");t.innerHTML=String(e);var a=t.childNodes[0];return a?a.nodeValue:""};a.escapeQuotes=function(e){return String(e).replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")};a.compiler=t;return a}))},51341:(e,t,a)=>{"use strict";var n=a(82543);var s=a.n(n);var i=a(58098);var $=a(26570);var o=s().localeData(),r=o._calendar.nextWeek,l=o._longDateFormat.LL;if(!window.BambooHR.env.dev){s().suppressDeprecationWarnings=true}function c(e){return!!(e&&e.constructor&&e.call&&e.apply)}function d(e){var t,a=r,n=l;if(c(a)){a=a.apply(this,arguments)}if(c(n)){n=n.apply(this,arguments)}t=n.replace(/M+/,"MMM");if(this.isSame(e,"year")){t=t.replace(/[^MD]+Y+[^MD]+/,"")}return a.replace(/^[^d]*d+/,t)}s().locale(o._abbr,{calendar:$.extend(o._calendar,{lastWeek:d,nextWeek:d,sameElse:d})});$("[ba-date]").observe((function(){var e=$(this),t=e.text().trim(),a=e.attr("ba-date"),n=e.attr("ba-date-format-type"),i=e.attr("ba-date-tz"),o=e.data("ba-date")||s().utc(t),r;o=i&&i.toLowerCase()=="utc"?o.utc():o.local();if(a&&n){Object.keys(s().convert).some((function(e){if(e.toLowerCase()===n.toLowerCase()){a=s().convert[e](a);return true}}))}r=a?o.format(a):o.calendar();e.text(r).data("ba-date",o).addClass("ba-date-loaded")}));s().fn.isWeekend=function(){return this.isoWeekday()>=6};s().convert={};(function(){var e={jQuery:{dd:"DD",d:"D",oo:"DDDD",o:"DDD",DD:"dddd",D:"ddd",mm:"MM",m:"M",MMM:"MMM",MM:"MMMM",M:"MMM",yyyy:"YYYY",yy:"YYYY",y:"YY","@":"X","!":"[!]"},PHP:{d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:function(){return"["+this.format("Do").replace(/\d*/g,"")+"]"},w:"d",z:function(){return this.format("DDD")-1},W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:function(){return this.daysInMonth()},L:function(){return this.isLeapYear()?1:0},o:"GGGG",Y:"YYYY",y:"YY",a:"a",A:"A",B:function(){var e=this.clone().utc(),t=(e.hours()+1)%24+e.minutes()/60+e.seconds()/3600;return Math.floor(t*1e3/24)},g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"[u]",e:"[e]",I:function(){return this.isDST()?1:0},O:"ZZ",P:"Z",T:"[T]",Z:function(){return parseInt(this.format("ZZ"),10)*36},c:"YYYY-MM-DD[T]HH:mm:ssZ",r:"ddd, DD MMM YYYY HH:mm:ss ZZ",U:"X"}};Object.keys(e).forEach((function(t){var a=new RegExp(Object.keys(e[t]).join("|"),"g");s().convert[t]=function(n){var s=this;return(n||"").replace(a,(function(a){return typeof e[t][a]==="function"?e[t][a].call(s):e[t][a]}))}}))})();s().defaultFormat=s().convert.jQuery(window.GLOBAL_DATEPICKER_MASK)||"MM/DD/YYYY";function u(e){switch(e){case"DD MMM YYYY":return"DD MMM";case"YYYY-MM-DD":return"MM-DD";case"DD/MM/YYYY":return"DD/MM";case"MM/DD/YYYY":default:return"MM/DD"}}s().shortFormat=u(s().defaultFormat);s().$=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;e=$(e).first();const a=e.datepicker("option","dateFormat");const n=a?s().convert.jQuery(a):s().defaultFormat;return s()(e.val(),n,t)};s().momentProperties.push("_z");s().momentProperties.push("_a");function h(e){var t=e._f==="X"||e._f==="x";return!!(e._a&&e._tzm===undefined&&!t)}s().fn.tz=function e(t){const a=this;a._timeZone||={};a._timeZone.name||=t;if(t){const e=(0,i.IH)(t,a.toDate());a.utcOffset(e);return a}return a._timeZone.name};s().tz=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}const n=t.slice(0,-1);const o=t.slice(-1)[0];const r=s().utc(...n);const l=h(r);const c=l?new i.N9(r.year(),r.month(),r.date(),r.hours(),r.minutes(),r.seconds(),r.milliseconds(),o):new i.N9(r.toDate(),o);const d=s()(c);d.tz(o);return d};s().tz.zone=function(e){return{abbr:function(t){const a=navigator?.language||navigator?.languages?.[0]||"en-US";return new Intl.DateTimeFormat(a,{timeZone:e,timeZoneName:"short"}).formatToParts(new Date(t)).find((e=>e.type==="timeZoneName")).value}}};s().tz.guess=()=>Intl.DateTimeFormat().resolvedOptions().timeZone;t["Z"]=s()},28294:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var $=a(26570);function n(e,t,n){return Promise.all([new Promise(((t,a)=>{$.get(e).then(t,a)})),a.e(8509).then(a.bind(a,31230))]).then((e=>{let[a,s]=e;const{bambooHRPdfViewer:i}=s;if(!window.PDFViewer){window.PDFViewer=new i}window.PDFViewer._initialize(a,t,n)}))}},71588:(e,t,a)=>{"use strict";a.d(t,{g:()=>i});var n=a(55410);var s=a.n(n);function i(e){e=e.replace(/(%\d+)(\$\w)?/g,"$1$s");for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}return s().process(e,e,{sprintf:a})}window.sprintf=i},76046:(e,t,a)=>{"use strict";var n=a(14186);var s=a.n(n);var i=a(20982);var o=a.n(i)},14186:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{var jQuery=__webpack_require__(26570);var moment=__webpack_require__(82543);var $=__webpack_require__(26570);(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"sort-descending",cssDesc:"sort-ascending",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};var sortWrapper;function benchmark(e,t){log(e+","+((new Date).getTime()-t.getTime())+"ms")}this.benchmark=benchmark;function log(e){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(e)}else{alert(e)}}function buildParserCache(e,t){if(e.config.debug){var a=""}if(e.tBodies.length==0)return;var n=e.tBodies[0].rows;if(n[0]){var s=[],i=n[0].cells,o=i.length;for(var r=0;r<o;r++){var l=false;if($.metadata&&$(t[r]).metadata()&&$(t[r]).metadata().sorter){l=getParserById($(t[r]).metadata().sorter)}else if(e.config.headers[r]&&e.config.headers[r].sorter){l=getParserById(e.config.headers[r].sorter)}if(!l){l=detectParserForColumn(e,n,-1,r)}if(e.config.debug){a+="column:"+r+" parser:"+l.id+"\n"}s.push(l)}}if(e.config.debug){log(a)}return s}function detectParserForColumn(e,t,a,n){var s=parsers.length,i=false,o=false,r=true;while(o==""&&r){a++;if(t[a]){i=getNodeFromRowAndCellIndex(t,a,n);o=trimAndGetNodeText(e.config,i);if(e.config.debug){log("Checking if value was empty on row:"+a)}}else{r=false}}for(var l=1;l<s;l++){if(parsers[l].is(o,e,i)){return parsers[l]}}return parsers[0]}function getNodeFromRowAndCellIndex(e,t,a){return e[t].cells[a]}function trimAndGetNodeText(e,t){return $.trim(getElementText(e,t))}function getParserById(e){var t=parsers.length;for(var a=0;a<t;a++){if(parsers[a].id.toLowerCase()==e.toLowerCase()){return parsers[a]}}return false}function buildCache(e){if(e.config.debug){var t=new Date}var a=e.tBodies[0]&&e.tBodies[0].rows.length||0,n=e.tBodies[0].rows[0]&&e.tBodies[0].rows[0].cells.length||0,s=e.config.parsers,i={row:[],normalized:[]};for(var o=0;o<a;++o){var r=$(e.tBodies[0].rows[o]),l=[];if(r.hasClass(e.config.cssChildRow)){i.row[i.row.length-1]=i.row[i.row.length-1].add(r);continue}i.row.push(r);for(var c=0;c<n;++c){l.push(s[c].format(getElementText(e.config,r[0].cells[c]),e,r[0].cells[c]))}l.push(i.normalized.length);i.normalized.push(l);l=null}if(e.config.debug){benchmark("Building cache for "+a+" rows:",t)}return i}function getElementText(e,t){var a="";if(!t)return"";if(!e.supportsTextContent)e.supportsTextContent=t.textContent||false;if(e.textExtraction=="simple"){if(e.supportsTextContent){a=t.textContent}else{if(t.childNodes[0]&&t.childNodes[0].hasChildNodes()){a=t.childNodes[0].innerHTML}else{a=t.innerHTML}}}else{if(typeof e.textExtraction=="function"){a=e.textExtraction(t)}else{a=$(t).text()}}return a}function appendToTable(e,t){if(e.config.debug){var a=new Date}var n=t,s=n.row,i=n.normalized,o=i.length,r=i[0].length-1,l=$(e.tBodies[0]),c=[];for(var d=0;d<o;d++){var u=i[d][r];c.push(s[u]);if(!e.config.appender){var h=s[u].length;for(var p=0;p<h;p++){l[0].appendChild(s[u][p])}}}if(e.config.appender){e.config.appender(e,c)}c=null;if(e.config.debug){benchmark("Rebuilt table:",a)}applyWidget(e);setTimeout((function(){$(e).trigger("sortEnd")}),0)}function buildHeaders(e){if(e.config.debug){var t=new Date}var a=$.metadata?true:false;var n=computeTableHeaderCellIndexes(e);var s=$(e.config.selectorHeaders,e).each((function(t){this.column=n[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(e.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(e,t))this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(e,t))this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(e,t);if(!this.sortDisabled){var a=$(this).addClass(e.config.cssHeader);if(e.config.onRenderHeader)e.config.onRenderHeader.apply(a)}e.config.headerList[t]=this}));if(e.config.debug){benchmark("Built headers:",t);log(s)}return s}function computeTableHeaderCellIndexes(e){var t=[];var a={};var n=e.getElementsByTagName("THEAD")[0];var s=n.getElementsByTagName("TR");for(var i=0;i<s.length;i++){var o=s[i].cells;for(var r=0;r<o.length;r++){var l=o[r];var c=l.parentNode.rowIndex;var d=c+"-"+l.cellIndex;var u=l.rowSpan||1;var h=l.colSpan||1;var p;if(typeof t[c]=="undefined"){t[c]=[]}for(var m=0;m<t[c].length+1;m++){if(typeof t[c][m]=="undefined"){p=m;break}}a[d]=p;for(var m=c;m<c+u;m++){if(typeof t[m]=="undefined"){t[m]=[]}var f=t[m];for(var g=p;g<p+h;g++){f[g]="x"}}}}return a}function checkCellColSpan(e,t,a){var n=[],s=e.tHead.rows,i=s[a].cells;for(var o=0;o<i.length;o++){var r=i[o];if(r.colSpan>1){n=n.concat(checkCellColSpan(e,headerArr,a++))}else{if(e.tHead.length==1||r.rowSpan>1||!s[a+1]){n.push(r)}}}return n}function checkHeaderMetadata(e){if($.metadata&&$(e).metadata().sorter===false){return true}return false}function checkHeaderOptions(e,t){if(e.config.headers[t]&&e.config.headers[t].sorter===false){return true}return false}function checkHeaderOptionsSortingLocked(e,t){if(e.config.headers[t]&&e.config.headers[t].lockedOrder)return e.config.headers[t].lockedOrder;return false}function applyWidget(e){var t=e.config.widgets;var a=t.length;for(var n=0;n<a;n++){getWidgetById(t[n]).format(e)}}function getWidgetById(e){var t=widgets.length;for(var a=0;a<t;a++){if(widgets[a].id.toLowerCase()==e.toLowerCase()){return widgets[a]}}}function formatSortingOrder(e){if(typeof e!="Number"){return e.toLowerCase()=="desc"?1:0}else{return e==1?1:0}}function isValueInArray(e,t){var a=t.length;for(var n=0;n<a;n++){if(t[n][0]==e){return true}}return false}function setHeadersCss(e,t,a,n){t.removeClass(n[0]).removeClass(n[1]);var s=[];t.each((function(e){if(!this.sortDisabled){s[this.column]=$(this)}}));var i=a.length;for(var o=0;o<i;o++){if(s[a[o][0]]!==undefined){s[a[o][0]].addClass(n[a[o][1]])}}}function fixColumnWidth(e,t){var a=e.config;if(a.widthFixed){var n=$("<colgroup>");$("tr:first td",e.tBodies[0]).each((function(){n.append($("<col>").css("width",$(this).width()))}));$(e).prepend(n)}}function updateHeaderSortCount(e,t){var a=e.config,n=t.length;for(var s=0;s<n;s++){var i=t[s],o=a.headerList[i[0]];o.count=i[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date}var dynamicExp="sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];if(table.config.parsers[c]==undefined){return cache}var s=table.config.parsers[c].type=="text"?order==0?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):order==0?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c);var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; "}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date)}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}return cache}function makeSortFunction(e,t,a){var n="a["+a+"]",s="b["+a+"]";if(e=="text"&&t=="asc"){return"("+n+" == "+s+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+s+" === null ? Number.NEGATIVE_INFINITY : ("+n+" < "+s+") ? -1 : 1 )));"}else if(e=="text"&&t=="desc"){return"("+n+" == "+s+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+s+" === null ? Number.NEGATIVE_INFINITY : ("+s+" < "+n+") ? -1 : 1 )));"}else if(e=="numeric"&&t=="asc"){return"("+n+" === null && "+s+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+s+" === null ? Number.NEGATIVE_INFINITY : "+n+" - "+s+"));"}else if(e=="numeric"&&t=="desc"){return"("+n+" === null && "+s+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+s+" === null ? Number.NEGATIVE_INFINITY : "+s+" - "+n+"));"}}function makeSortText(e){return"((a["+e+"] < b["+e+"]) ? -1 : ((a["+e+"] > b["+e+"]) ? 1 : 0));"}function makeSortTextDesc(e){return"((b["+e+"] < a["+e+"]) ? -1 : ((b["+e+"] > a["+e+"]) ? 1 : 0));"}function makeSortNumeric(e){return"a["+e+"]-b["+e+"];"}function makeSortNumericDesc(e){return"b["+e+"]-a["+e+"];"}function sortText(e,t){if(table.config.sortLocaleCompare)return e.localeCompare(t);return e<t?-1:e>t?1:0}function sortTextDesc(e,t){if(table.config.sortLocaleCompare)return t.localeCompare(e);return t<e?-1:t>e?1:0}function sortNumeric(e,t){return e-t}function sortNumericDesc(e,t){return t-e}function getCachedSortType(e,t){return e[t].type}this.construct=function(e){return this.each((function(){if(!this.tHead||!this.tBodies||this.hasInitialized===true)return;var t,a,n,s,i,o=0,r;this.config={};this.hasInitialized=true;i=$.extend(this.config,$.tablesorter.defaults,e);t=$(this);$.data(this,"tablesorter",i);n=buildHeaders(this);this.config.parsers=buildParserCache(this,n);s=buildCache(this);var l=[i.cssDesc,i.cssAsc];fixColumnWidth(this);n.click((function(e){var a=t[0].tBodies[0]&&t[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&a>0){t.trigger("sortStart");var o=$(this);var r=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(!e[i.sortMultiSortKey]){i.sortList=[];i.sortList.push([r,this.order]);var c=i.sortList.slice(0);if(i.sortForce!=null){var d=i.sortForce;for(var u=0;u<d.length;u++){if(d[u][0]!=r){i.sortList.push(d[u])}}}}else{if(isValueInArray(r,i.sortList)){for(var u=0;u<i.sortList.length;u++){var h=i.sortList[u],p=i.headerList[h[0]];if(h[0]==r){p.count=h[1];p.count++;h[1]=p.count%2}}}else{i.sortList.push([r,this.order])}var c=i.sortList.slice(0)}setTimeout((function(){setHeadersCss(t[0],n,c,l);appendToTable(t[0],multisort(t[0],i.sortList,s))}),1);e.preventDefault();return true}})).mousedown((function(){if(i.cancelSelection){this.onselectstart=function(){return false};return false}}));t.bind("update",(function(e,t){var a=this;setTimeout((function(){a.config.parsers=buildParserCache(a,n);s=buildCache(a);if(t&&t.resort){updateHeaderSortCount(a,a.config.sortList);appendToTable(a,multisort(a,a.config.sortList,s))}}),1)})).bind("updateCell",(function(e,t){var a=this.config;var n=[t.parentNode.rowIndex-1,t.cellIndex];s.normalized[n[0]][n[1]]=a.parsers[n[1]].format(getElementText(a,t),t)})).bind("sorton",(function(e,t){$(this).trigger("sortStart");i.sortList=t;var a=i.sortList;updateHeaderSortCount(this,a);setHeadersCss(this,n,a,l);appendToTable(this,multisort(this,a,s))})).bind("appendCache",(function(){appendToTable(this,s)})).bind("applyWidgetId",(function(e,t){getWidgetById(t).format(this)})).bind("applyWidgets",(function(){applyWidget(this)}));if($.metadata&&$(this).metadata()&&$(this).metadata().sortlist){i.sortList=$(this).metadata().sortlist}if(i.sortList.length>0||i.sortForce!=null&&i.sortForce.length>0){var c=i.sortList.slice(0);if(i.sortForce!=null){var d=i.sortForce;for(var u=0;u<d.length;u++){if(!isValueInArray(d[u][0],i.sortList)){i.sortList.push(d[u])}}}t.trigger("sorton",[i.sortList]);setHeadersCss(this,n,c,l)}applyWidget(this)}))};this.addParser=function(e){var t=parsers.length,a=true;for(var n=0;n<t;n++){if(parsers[n].id.toLowerCase()==e.id.toLowerCase()){a=false}}if(a){parsers.push(e)}};this.addWidget=function(e){widgets.push(e)};this.formatFloat=function(e){var t=parseFloat(e);return isNaN(t)?0:t};this.formatInt=function(e){var t=parseInt(e);return isNaN(t)?0:t};this.isDigit=function(e,t){return/^[-+]?\d*$/.test($.trim(e.replace(/[,.']/g,"")))};this.clearTableBody=function(e){function t(){while(this.firstChild)this.removeChild(this.firstChild)}t.apply(e.tBodies[0])}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(e){return true},format:function(e){return $.trim(e.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(e,t){var a=t.config;return $.tablesorter.isDigit(e,a)},format:function(e){return $.tablesorter.formatFloat(e)},type:"numeric"});ts.addParser({id:"currency",is:function(e){return/^[$?.]/.test(e)},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/[$]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(e){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(e)},format:function(e){var t=e.split("."),a="",n=t.length;for(var s=0;s<n;s++){var i=t[s];if(i.length==2){a+="0"+i}else{a+=i}}return $.tablesorter.formatFloat(a)},type:"numeric"});ts.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\/$/.test(e)},format:function(e){return jQuery.trim(e.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},format:function(e){return $.tablesorter.formatFloat(e!=""?new Date(e.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"date",is:function(e){return moment(new Date(e)).isValid()},format:function(e){return $.tablesorter.formatFloat(moment(new Date(e||0)).unix())},type:"numeric"});ts.addParser({id:"percent",is:function(e){return/\%$/.test($.trim(e))},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(e){return e.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(e){return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(e){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(e)},format:function(e,t){var a=t.config;e=e.replace(/\-/g,"/");if(a.dateFormat=="us"){e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else if(a.dateFormat=="uk"){e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else if(a.dateFormat=="dd/mm/yy"||a.dateFormat=="dd-mm-yy"){e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(e){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(e)},format:function(e){return $.tablesorter.formatFloat(new Date("2000/01/01 "+e).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(e){return false},format:function(e,t,a){var n=t.config,s=!n.parserMetadataName?"sortValue":n.parserMetadataName;return $(a).metadata()[s]},type:"numeric"});ts.addWidget({id:"UpdatebaIconforIE",is:function(e){return false},format:function(e){if(IS_IE_OR_EDGE){let t=e.getElementsByTagName("use");if(t.length){$.each(t,(function(e,t){if(t.href&&t.href.baseVal){t.href.baseVal=t.href.baseVal}}))}}}});ts.addWidget({id:"zebra",format:function(e){if(e.config.debug){var t=new Date}var a,n=-1,s;$("tr:visible",e.tBodies[0]).each((function(t){a=$(this);if(!a.hasClass(e.config.cssChildRow))n++;s=n%2==0;a.removeClass(e.config.widgetZebra.css[s?0:1]).addClass(e.config.widgetZebra.css[s?1:0])}));if(e.config.debug){$.tablesorter.benchmark("Applying Zebra widget",t)}}})})(jQuery);window.TSextractHiddenInput=function(e){var t=$(e);var a=t.children('input[type="hidden"]');return a.val()||t.text()};window.TSextractDataAttr=function(e){var t=$(e);return t.attr("data-sort-value")||t.text()}},20982:(e,t,a)=>{var jQuery=a(26570);(function($){$.extend({tablesorterPager:new function(){function e(e){var t=$(e.cssPageDisplay,e.container).val(e.page+1+e.seperator+e.totalPages).trigger("change");d(e)}function t(e,t){var n=e.config;n.size=t;n.totalPages=Math.ceil(n.totalRows/n.size);n.pagerPositionSet=false;r(e);a(e)}function a(e){var t=e.config;var a;if(!t.pagerPositionSet&&t.positionFixed){t=e.config;a=$(e);if(a.offset){t.container.css({top:a.offset().top+a.height()+"px"})}t.pagerPositionSet=true}}function n(e){var t=e.config;t.page=0;r(e)}function s(e){var t=e.config;t.page=t.totalPages-1;r(e)}function i(e){var t=e.config;t.page++;if(t.page>=t.totalPages-1){t.page=t.totalPages-1}r(e)}function o(e){var t=e.config;t.page--;if(t.page<=0){t.page=0}r(e)}function r(e){var t=e.config;if(t.page<0||t.page>t.totalPages-1){t.page=0}l(e,t.rowsCopy)}function l(t,n){var i=t.config;var o=n.length;var r=i.page*i.size;var l=r+i.size;if(l>n.length){l=n.length}var c=$(t.tBodies[0]);$.tablesorter.clearTableBody(t);for(var d=r;d<l;d++){var u=n[d];var o=u.length;for(var h=0;h<o;h++){c[0].appendChild(u[h])}}a(t,c);$(t).trigger("applyWidgets");if(i.page>=i.totalPages){s(t)}$(".prev,.next",i.container).removeClass("inactive");if(i.page==0){$(".prev",i.container).addClass("inactive")}if(i.page==i.totalPages-1){$(".next",i.container).addClass("inactive")}e(i)}function c(e){var t=$(".pagedisplay",e.container).val();var a=e.page;$("a.pagenumber",e.container).removeClass("selected");$('a.pagenumber[data-page-number="'+a+'"]',e.container).addClass("selected");var n=parseInt(t.substring(t.indexOf("/")+1));var s=e.size;var i=a*s;var o=e.totalRows;$(".pagedesc",e.container).html(i+1+" - "+(i+s>o?o:i+s)+" of "+o)}function d(e){var t=$(".pagedisplay",e.container).val();if(t){var a=parseInt(t.substring(t.indexOf("/")+1));$(".pages",e.container).remove();if(a>1){$(".prev",e.container).before('<span class="pages">&nbsp;&nbsp;</span>');for(var n=0;n<a;n++){var s=$('<a href="#" class="pagenumber" data-page-number="'+n+'">'+(n+1)+"</a>");$(".pages",e.container).append(s);$(".pages",e.container).append("&nbsp;&nbsp;")}}else{$(".prev, .next, .pipe",e.container).hide()}c(e);$(".pagedisplay",e.container).change((function(){c(e)}))}}this.appendFunc=function(e,t){var a=e.config;a.rowsCopy=t;a.totalRows=t.length;a.totalPages=Math.ceil(a.totalRows/a.size);l(e,t)};this.defaults={size:10,offset:0,page:0,totalRows:0,totalPages:0,container:null,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssPageNumber:".pagenumber",dataPageNumber:"data-page-number",seperator:"/",positionFixed:true,appender:this.appendFunc};this.construct=function(e){return this.each((function(){let a=$.extend(this.config,$.tablesorterPager.defaults,e);a.size=parseInt($(".pagesize",d).val());var c=this,d=a.container;$(this).trigger("appendCache");$(a.cssFirst,d).click((function(){n(c);return false}));$(a.cssNext,d).click((function(){i(c);return false}));$(a.cssPrev,d).click((function(){o(c);return false}));$(a.cssLast,d).click((function(){s(c);return false}));$(d).on("click",a.cssPageNumber,(function(){c.config.page=parseInt($(this).attr(a.dataPageNumber));r(c);return false}));$(a.cssPageSize,d).change((function(){t(c,parseInt($(this).val()));return false}));$(c).bind("removeRow",(function(e,t){let a;for(a in c.config.rowsCopy){if($(t).is(c.config.rowsCopy[a])){c.config.rowsCopy.splice(a,1)}}$(t).remove();c.config.totalRows=c.config.rowsCopy.length;c.config.totalPages=Math.ceil(c.config.totalRows/c.config.size);l(c,c.config.rowsCopy)}));$.tablesorterPager.config=a}))}}});$.fn.extend({tablesorterPager:$.tablesorterPager.construct})})(jQuery)},59592:(e,t,a)=>{"use strict";a.d(t,{f:()=>C});var n=a(76725);var s=a(84479);var i=a(21198);var o=a(89100);var $=a(26570);const r=()=>{const e=new URL(window.location.href);let t;let a;let n;if((0,o.canUseLocalStorage)()){t=localStorage.getItem("__message__");a=localStorage.getItem("__messageType__");n=parseInt(localStorage.getItem("__messageTimeout__")||null);localStorage.removeItem("__message__");localStorage.removeItem("__messageType__");localStorage.removeItem("__messageTimeout__")}let s=e.searchParams.get("__message__")||t;if(s){const t=e.searchParams.get("__messageType__")||a;const o=parseInt(e.searchParams.get("__messageTimeout__")||n);e.searchParams.delete("__message__");e.searchParams.delete("__messageType__");e.searchParams.delete("__messageTimeout__");window.history.replaceState({},"",e.href);window.setTimeout((()=>{s=(0,i.sanitize)(s,{ALLOWED_ATTR:[],ALLOWED_TAGS:[]});window.setMessage(s,t);if(!isNaN(o)){window.sessionMessageTimeout=window.setTimeout((()=>{window.closeMessage()}),o)}}),0)}$(document).on("click",".messageCloseWrapper",(function(e){e.preventDefault();window.closeMessage()}))};var l=a(89835);var c=a(23321);var d=a.n(c);var u=a(37634);var h=a(70004);var p=a(26267);var m=a(56445);let f;const g=()=>{const e=(0,c.useRef)(null);(0,c.useEffect)((()=>{if(e.current){window.bambooAlert=e.current;window.closeMessage=e.current.hideAlert;if(window._queuedAlerts&&window._queuedAlerts.length){window._queuedAlerts.forEach((e=>{window.bambooAlert.setAlert(...e)}));window._queuedAlerts=[]}}}),[]);return d().createElement(p.B,{ref:t=>{e.current=t},showOnMount:false})};const v=()=>{const e=document.getElementById((0,m.ifFeature)("encore","js-sessionMessage","sessionMessage"))||document.getElementById("sessionMessage");if(e){f||=(0,u.s)(e);window._queuedAlerts||=[];(0,h.sY)({children:(0,l.Z)(g,{}),root:f});window.setMessage=function(){const t=(0,i.getMaxZIndex)();if(e.style.zIndex!==`${t}`){e.style.zIndex=t+10}for(var a=arguments.length,n=new Array(a),s=0;s<a;s++){n[s]=arguments[s]}if(window.bambooAlert){window.bambooAlert.setAlert(...n)}else{window._queuedAlerts.push(n)}}}};const y=e=>{if(e&&e.text){window.setTimeout((()=>window.setMessage(e.text,e.type)),0)}};const b=(0,s.createLogger)("Alerts.mod");const w="See Alerts.mod/index.js for more info.";window.setMessage=()=>b.warn(`setMessage was called before it was initialized. ${w}`);window.closeMessage=()=>b.warn(`closeMessage was called before it was initialized. ${w}`);document.addEventListener("DOMContentLoaded",(()=>{const e=(0,n.V)("#sessionMessageJSON",true);v();y(e);r()}));function C(){window.setMessage(...arguments)}function S(){window.closeMessage(...arguments)}},48853:(e,t,a)=>{"use strict";a.d(t,{Z:()=>x});var n=a(44119);var s=a(73641);var i=a(56445);var o=a(21198);var r=a(38592);const l=22;function c(){const e=(0,r.getRelativePosition)(this.anchor,undefined,this.settings.correctBodyPosition);const t=this.balloonElement.getBoundingClientRect();const a=(0,o.isElementInViewport)(this.anchor);const n=!(0,s.isEmpty)(this._positionLock);const l=n?this._positionLock.position:this.settings.position;const c=l==="top"||l==="bottom";const h=c?d:u;const p=h.call(this,l,e,t,a,this._positionLock,n);if(!n){this._positionLock=Object.assign({},p);this.anchor.setAttribute("balloon-position",p.position);this.balloonElement.setAttribute("position",p.position);const e=c?"left":"top";if(!(0,i.isEnabled)("encore")){this.balloonElement.querySelector(".js-balloon-tail").style[e]=p.tail+"px"}Object.assign(this.balloonElement.style,{top:p.top+"px",left:p.left+"px"})}if(p.top!==this._positionLock.top||p.left!==this._positionLock.left){this._positionLock.top=p.top;this._positionLock.left=p.left;Object.assign(this.balloonElement.style,{top:p.top+"px",left:p.left+"px"})}}function d(e,t,a,n,i,o){let{tailOnAnchor:r,flipTailOnAnchor:c,tailOnBalloon:d,flipTailOnBalloon:u,minTailOnBalloon:p,invertOnCollision:m}=this.settings;c=o?i.flipTailOnAnchor:c;u=o?i.flipTailOnBalloon:u;const f=t.top-a.height-this.settings.push;const g=t.bottom+this.settings.push;const v=f<window.pageYOffset;const y=g+a.height>window.innerHeight+window.pageYOffset;const b=h(t.width,r,c);const w=h(a.width,d,u);let C=o?i.tail:(0,s.clamp)(w,p,a.width-p);let S=t.left+b-C;let E=o?i.inverted:false;if(!o&&n){const n=S-(l+window.pageXOffset);const i=window.innerWidth+window.pageXOffset-l-(S+a.width);if(n<0||i<0){if(m){E=true;c=!c;u=!u;const e=h(t.width,r,c);const n=h(a.width,d,u);C=(0,s.clamp)(n,p,a.width-p);S=t.left+e-C}else{const e=Math.min(i,Math.abs(n));C=(0,s.clamp)(C-e,p,a.width-p);S=t.left+b-C}}if(e==="top"&&v&&!y){e="bottom"}if(e==="bottom"&&y&&!v){e="top"}}return{position:e,inverted:E,top:e==="top"?f:g,left:S,tail:C,flipTailOnAnchor:c,flipTailOnBalloon:u}}function u(e,t,a,n,i,o){let{tailOnAnchor:r,flipTailOnAnchor:c,tailOnBalloon:d,flipTailOnBalloon:u,minTailOnBalloon:p,invertOnCollision:m}=this.settings;c=o?i.flipTailOnAnchor:c;u=o?i.flipTailOnBalloon:u;const f=t.left-a.width-this.settings.push;const g=t.right+this.settings.push;const v=f<window.pageXOffset;const y=g+a.width>window.innerWidth+window.pageXOffset;const b=h(t.height,r,c);const w=h(a.height,d,u);let C=o?i.tail:(0,s.clamp)(w,p,a.height-p);let S=t.top+b-C;let E=o?i.inverted:false;if(!o&&n){const n=S-(l+window.pageYOffset);const i=window.innerHeight+window.pageYOffset-l-(S+a.height);if(n<0||i<0){if(m){E=true;c=!c;u=!u;const e=h(t.height,r,c);const n=h(a.height,d,u);C=(0,s.clamp)(n,p,a.height-p);S=t.top+e-C}else{const e=Math.min(i,Math.abs(n));C=(0,s.clamp)(C-e,p,a.height-p);S=t.top+b-C}}if(e==="left"&&v&&!y){e="right"}if(e==="right"&&y&&!v){e="left"}}return{position:e,inverted:E,top:S,left:e==="left"?f:g,tail:C,flipTailOnAnchor:c,flipTailOnBalloon:u}}function h(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let n=0;if(!isNaN(t)){n=Number(t)}else if(t.indexOf("px")>0){n=parseInt(t)}else if(/^[0-9]+$/.test(t)){n=Number(t)}else if(t.indexOf("%")>0){const a=parseInt(t);n=e*(a/100)}if(a){n=e-n}return n}var p='<div class="Balloon js-balloon">\n\n\t\x3c!-- Close Icon --\x3e\n\t<div class="Balloon__closeX js-balloon-close-x">\n\t\t<ba-icon class="Balloon__closeSVG js-balloon-close-icon" name="fab-x-12x12" />\n\t</div>\n\n\t\x3c!-- Border --\x3e\n\t<div class="Balloon__border"></div>\n\n\t\x3c!-- "Tail" --\x3e\n\t<div class="Balloon__tail js-balloon-tail"></div>\n\n\t\x3c!-- Content gets placed here --\x3e\n\t<div class="Balloon__content js-balloon-content"></div>\n\n</div>\n';var m='<div class="Balloon js-balloon">\n\n\t\x3c!-- Border --\x3e\n\t<div class="Balloon__border"></div>\n\n\t\x3c!-- Content gets placed here --\x3e\n\t<div class="Balloon__content js-balloon-content">\n\t\t\x3c!-- Close Icon --\x3e\n\t\t<button class=\'fab-FloatingIconButton fab-FloatingIconButton--small fab-FloatingIconButton--secondary Balloon__closeX js-balloon-close-x\'>\n\t\t\t<ba-icon encore-name="xmark-solid" encore-size="12" />\n\t\t</button>\n\t</div>\n\n</div>\n';var f=a(7581);let g=[];let v=false;function y(){const e=g.filter((e=>e.showing));if(e.length&&!v){b()}else if(!e.length&&v){w()}}function b(){window.addEventListener("click",C);v=true}function w(){window.removeEventListener("click",C);v=false}function C(e){x.each((t=>{if(document.body.contains(e.target)&&!t.destroyed&&!t.balloonElement.contains(e.target)&&!t.anchor.contains(e.target)&&!t.settings.persistent){t.hide()}}))}function S(e){if(e.destroyed){throw new Error("This balloon has already been destroyed.")}}function E(e){const t=e.nodeType&&e.nodeType===1?e:document.querySelector(e);if(!t){throw new TypeError("A DOM element, or valid selector must be used as the anchor for a Balloon")}return t}class x{static get className(){return"Balloon"}constructor(e,t){(0,n.Z)(this,"_handleOnClose",(()=>{this.hide();this.eventCallbacks.close.forEach((e=>e(this)))}));this.anchor=e;this.settings=(0,s.extend)({afterCreation:s.noop,afterDestroy:s.noop,closeX:false,correctBodyPosition:true,delay:0,fadeIn:200,fadeOut:200,html:null,invertOnCollision:false,onClose:s.noop,onHide:s.noop,onShow:s.noop,persistent:false,position:"top",push:0,showImmediately:false,state:{},suppressed:false,tail:false,tailSize:0,tailBackground:null,tailBorder:null,tailOnAnchor:"50%",flipTailOnAnchor:false,tailOnBalloon:"50%",minTailOnBalloon:0,flipTailOnBalloon:false,template:null,themeClass:"Balloon",toggleOnClick:true,triggerEvent:"click",noPadding:false},t);this.eventCallbacks={afterCreation:this.settings.afterCreation,afterDestroy:this.settings.afterDestroy,close:[this.settings.onClose],hide:[this.settings.onHide],show:[this.settings.onShow]};this._boundClickEventHandler=this._clickEventHandler.bind(this);this._boundMouseEnterEventHandler=this._mouseEnterEventHandler.bind(this);this._boundMouseLeaveEventHandler=this._mouseLeaveEventHandler.bind(this);this.create()}create(){g.push(this);this.state=this.settings.state;this.balloonElement=null;this.created=false;this.destroyed=false;this.showing=false;this._showTimer=null;this._positionLock={};this._createBalloon();if(this.settings.showImmediately){this.show()}this._setAnchorElementEvents();return this}show(){S(this);if(this.showing){return this}if(!this.created){this._setupCloseButton();if(!(0,i.isEnabled)("encore")){this._setTailStyles()}document.body.appendChild(this.balloonElement);this.created=true;this.eventCallbacks.afterCreation(this);this.anchor.dispatchEvent(new CustomEvent("ba:balloonAfterCreation",{bubbles:true}))}if(!this.destroyed){this.balloonElement.style.display="block";Object.assign(this.balloonElement.style,{transitionDuration:`${this.settings.fadeIn}ms`,transitionDelay:`${this.settings.delay}ms`,zIndex:(0,o.getMaxZIndex)()+10,opacity:"1"});this.showing=true;this._position();this.eventCallbacks.show.forEach((e=>e(this)));this.anchor.dispatchEvent(new CustomEvent("ba:balloonShow",{bubbles:true}));y()}return this}hide(){S(this);if(!this.showing){return this}const e=window.getComputedStyle(this.balloonElement).opacity;if(this.settings.fadeOut&&e!=="0"){Object.assign(this.balloonElement.style,{opacity:"0",transitionDuration:`${this.settings.fadeOut}ms`,transitionDelay:"",zIndex:"auto"})}else{Object.assign(this.balloonElement.style,{opacity:"0",display:""});this._unPosition()}this.showing=false;this.eventCallbacks.hide.forEach((e=>e(this)));this.anchor.dispatchEvent(new CustomEvent("ba:balloonHide",{bubbles:true}));y();return this}toggleBalloon(){if(this.showing){this.hide()}else{this.show()}return this}position(){window.Rollbar.info("The deprecated Balloon position() method was called.");return this}resetPositionLock(){this._positionLock={};return this}destroy(){S(this);if(this.created&&!this.destroyed){this.destroyed=true;this.balloonElement.parentNode.removeChild(this.balloonElement);this.balloonElement=null;this.eventCallbacks.afterDestroy(this);this.anchor.dispatchEvent(new CustomEvent("ba:balloonAfterDestroy",{bubbles:true}))}this._removeAnchorElementEvents();g=g.filter((e=>e!==this));y()}suppress(){this.hide();this.settings.suppressed=true;return this}release(){this.settings.suppressed=false;return this}onShow(e){this._addEventCallback("show",e);return this}offShow(e){this._removeEventCallback("show",e);return this}onHide(e){this._addEventCallback("hide",e);return this}offHide(e){this._removeEventCallback("hide",e);return this}onClose(e){this._addEventCallback("close",e);return this}offClose(e){this._removeEventCallback("close",e);return this}setAnchor(e){this._removeAnchorElementEvents();this.anchor=E(e);this._setAnchorElementEvents();return this}setTailColors(e){if(typeof e==="string"){this.settings.tailBackground=e;this.settings.tailBorder=e}else if(typeof e==="object"){this.settings.tailBackground=e.tailBackground||this.settings.tailBackground;this.settings.tailBorder=e.tailBorder||this.settings.tailBorder}if(!(0,i.isEnabled)("encore")){this._setTailStyles()}return this}_position(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;S(this);if(this.created&&this.showing){if(e){this._positionLock={}}c.call(this);window.requestAnimationFrame((()=>{if(!this.destroyed){this._position(false)}}))}}_unPosition(){this.balloonElement.style.top="";this.balloonElement.style.left=""}_setAnchorElementEvents(){if(this.settings.triggerEvent==="none"){return}if(this.settings.triggerEvent==="hover"){this.anchor.addEventListener("mouseenter",this._boundMouseEnterEventHandler);this.anchor.addEventListener("mouseleave",this._boundMouseLeaveEventHandler)}else{this.anchor.addEventListener("click",this._boundClickEventHandler)}}_removeAnchorElementEvents(){if(this.settings.triggerEvent==="none"){return}if(this.settings.triggerEvent==="hover"){this.anchor.removeEventListener("mouseenter",this._boundMouseEnterEventHandler);this.anchor.removeEventListener("mouseleave",this._boundMouseLeaveEventHandler)}else{this.anchor.removeEventListener("click",this._boundClickEventHandler)}}_mouseEnterEventHandler(){if(!this.settings.suppressed){this.show()}}_mouseLeaveEventHandler(){this.hide()}_clickEventHandler(){if(this.settings.suppressed){return}if(this.settings.toggleOnClick){this.toggleBalloon()}else{this.show()}}_createBalloon(){this.balloonElement=(0,o.fragFromHtml)((0,i.ifFeature)("encore",m,p),{ADD_ATTR:["encore-class","encore-name","encore-size"]}).querySelector(".js-balloon");let e="";let t;if(this.settings.html){e=this.settings.html}else if(this.settings.template){t=f.Z[this.settings.template.name];e=t(this.settings.template.data)}else{throw new Error("HTML, or a template must be used as content.")}this.balloonElement.style.transitionDuration=`${this.settings.fadeIn}ms`;this.balloonElement.addEventListener("transitionend",(e=>{if(e.target===this.balloonElement&&!this.showing){this.balloonElement.style.display="";this._unPosition()}}));this.balloonElement.classList.add(this.settings.themeClass);this.balloonContentElement=this.balloonElement.querySelector(".js-balloon-content");if(this.settings.noPadding){this.balloonContentElement.classList.add("Balloon__content--noPadding")}this.balloonContentElement.appendChild((0,o.fragFromHtml)(e))}_setupCloseButton(){const e=this.balloonElement.querySelector(".js-balloon-close-x");if(this.settings.closeX){e.addEventListener("click",(()=>{this._handleOnClose()}))}else{e.style.display="none"}}_setTailStyles(){const e=this.balloonElement.querySelector(".js-balloon-tail");const t={};const a=Math.pow(this.settings.tailSize,2);const n=t.width=Math.floor(Math.sqrt(a+a));t.height=t.width=`${n+1}px`;t.display=this.settings.tail?"":"none";if(this.settings.tailBackground){t.backgroundColor=this.settings.tailBackground}if(this.settings.tailBorder){t.borderColor=this.settings.tailBorder}Object.assign(e.style,t)}_addEventCallback(e,t){if((0,s.isFunction)(t)){this.eventCallbacks[e].push(t)}}_removeEventCallback(e,t){this.eventCallbacks[e]=this.eventCallbacks[e].filter((e=>e!==t))}static create(e,t){const a=E(e);return new this(a,t)}static each(e){var t=this;g.forEach((function(a){if(a instanceof t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++){s[i-1]=arguments[i]}e(a,...s)}}))}static hasInstance(e){return g.some((t=>t instanceof this&&e===t.anchor))}static getInstance(e){return g.slice().reverse().find((t=>t instanceof this&&(t.balloonElement.contains(e)||t.anchor.contains(e))))}}},7581:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(73641);function s(e){return Object.keys(e).map((t=>`${(0,n.kebabCase)(t)}: ${e[t]}`)).join("; ")}var i={convertObjectIntoInlineStylesString:s};var o=a(98580);var r=a.n(o);const l={content:null,contentClass:null,contentCssOverride:{},popoverClass:null,title:null,titleClass:null,titleCssOverride:{},rawContent:false};function c(e){if(!e.content){throw new Error('Content is required to make a "standard" popover')}e=(0,n.extend)({},l,e);e.titleCssOverride=s(e.titleCssOverride);e.contentCssOverride=s(e.contentCssOverride);return window.microTemplate(r(),e)}var d=a(52075);var u=a.n(d);const h={title:null,content:null,textAlign:"left"};function p(e){if(!e.content){throw new Error('Content is required to make a "standard" tooltip')}e=(0,n.extend)({},h,e);return window.microTemplate(u(),e)}var m={"popover-standard":c,"tooltip-standard":p}},76793:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var n=a(51341);var s=a(73641);var i=a.n(s);const o={saturday:"bhr-grid-start-saturday",sunday:"bhr-grid-start-sunday",monday:"bhr-grid-start-monday"};let r=n.Z.locale();n.Z.defineLocale(o.saturday,{parentLocale:r,week:{dow:6}});n.Z.defineLocale(o.sunday,{parentLocale:r,week:{dow:0}});n.Z.defineLocale(o.monday,{parentLocale:r,week:{dow:1}});n.Z.locale(r);const l={trail:true,groupByWeek:true,view:"month",startOfWeek:null,showWeekends:true,smartWeekView:true,smartMonthView:false};class c{static get className(){return"CalendarGrid"}constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._options=(0,s.extend)({},l,e);this._now=(0,n.Z)().startOf("day");this._setLocaleOnMomentDate(this._now);this._rangeStart=null;this._rangeEnd=null;this._marker=this._now.clone();this._setupMarker();this._setRange()}grid(){let e=this.constructor.buildRange(this._rangeStart,this._rangeEnd);if(!this._options.showWeekends){e=e.filter((e=>[0,6].indexOf(e.day())===-1))}if(this._options.groupByWeek){e=this.constructor.groupRangeByWeek(e)}return e}isTodayInRange(){return this.constructor.isBetweenInclusive(this._now,this._rangeStart,this._rangeEnd)}momentRange(){return{start:this._rangeStart.clone(),end:this._rangeEnd.clone()}}formattedRange(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:n.Z.defaultFormat;return{start:this._rangeStart.format(e),end:this._rangeEnd.format(e)}}setView(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._options.view;this._options.view=e;if(this._options.view==="month"){this._marker.endOf("week")}if(this._options.view==="1week"||this._options.view==="2weeks"){if(this._options.smartWeekView&&this.constructor.isBetweenInclusive(this._now,this._rangeStart,this._rangeEnd)){this._marker=this._now.clone().startOf("week")}else{this._marker.startOf("week")}}return this.jumpTo(this._marker)}today(){return this.jumpTo(this._now)}jumpTo(e){e=e.clone();this._setLocaleOnMomentDate(e);this._marker=e;this._setupMarker();this._setRange();return this}next(){switch(this._options.view){case"month":this._marker.add("1","month");break;case"2weeks":this._marker.add("2","weeks");break;case"1week":this._marker.add("1","week");break}this._setRange();return this}prev(){switch(this._options.view){case"month":this._marker.subtract("1","month");break;case"2weeks":this._marker.subtract("2","weeks");break;case"1week":this._marker.subtract("1","weeks");break}this._setRange();return this}toggleWeekends(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!this._options.showWeekends;this._options.showWeekends=!!e;return this}clone(){return(0,s.cloneDeep)(this)}_setupMarker(){if(!this._marker){this._marker=this._now.clone()}switch(this._options.view){case"month":if(this._options.smartMonthView){this._marker.endOf("week")}this._marker.startOf("month");break;case"2weeks":case"1week":this._marker.startOf("week");break}}_setRange(){switch(this._options.view){case"month":this._rangeStart=this._marker.clone();this._rangeEnd=this._marker.clone().endOf("month");if(this._options.trail){this._rangeStart.startOf("week");this._rangeEnd.endOf("week")}break;case"2weeks":this._rangeStart=this._marker.clone().startOf("week");this._rangeEnd=this._rangeStart.clone().add("13","days");break;case"1week":this._rangeStart=this._marker.clone().startOf("week");this._rangeEnd=this._rangeStart.clone().add("6","days");break}}_setLocaleOnMomentDate(e){if(this._options.startOfWeek){let t=o[this._options.startOfWeek.toLowerCase()];if(t){e.locale(t)}}}static buildRange(e,t){const[a,s,i]=e.toArray();const[o,r,l]=t.toArray();const c=[];const d=n.Z.utc([a,s,i]);const u=n.Z.utc([o,r,l]);while(d.isSameOrBefore(u,"day")){const[e,t,a]=d.toArray();c.push((0,n.Z)([e,t,a]));d.add(1,"d")}return c}static groupRangeByWeek(e){if(e.length===0){return[]}const t=e.length>0&&e.some((e=>e.day()===0||e.day()===6))===false;const a=t?5:7;const n=[];for(let t=0;t<e.length;t+=a){const s=e.slice(t,t+a);n.push(s)}return n}static isBetweenInclusive(e,t,a){return e.isBetween(t,a,null,"[]")}}},54706:(e,t,a)=>{"use strict";a.d(t,{R:()=>I});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(21198);var r=a(53534);var l=a(37803);var c=a(34914);var d=a(56445);var u=a(12382);var h=a(71141);var p=a(38592);var $=a(26570);var moment=a(82543);(function($,moment){const e=(0,h.isEnabled)("jade");var t={isInRange:function(e,t,a,n){if(t&&e.isBefore(t,n)||a&&e.isAfter(a,n)){return false}return true},isEqual:function(e,t){return JSON.stringify(e)===JSON.stringify(t)},kebabToCamel:function(e){return e.split("-").reduce((function(e,t){if(!t.length){return e}return!e.length?t:e+t[0].toUpperCase()+t.substr(1)}),"")},createYearDropdown:function(e,t,a){var n="<select>";var s=[];var i;var o=moment(e);if(a){o=o.month(a.month());if(e.isAfter(o,"month")){o=o.add(1,"years")}}while(o.isSameOrBefore(t,"month")){i=['value="'+o.year()+'"'];if(a&&o.year()===a.year()){i.push("selected")}s.push("<option "+i.join(" ")+">"+o.year()+"</option>");o=o.add(1,"years")}n+=s.join("");n+="</select>";return $(n)},createMonthDropdown:function(e,t,a){var n=moment.monthsShort();var s="<select>";var i=[];var o;var r=moment(a).startOf("year");var l=moment(a).endOf("year");for(var c=0;c<n.length;c++){r=r.month(c);if(r.isBefore(e,"month")||r.isAfter(l,"month")||r.isAfter(t,"month")){continue}o=['value="'+c+'"'];if(c===a.month()){o.push("selected")}i.push("<option "+o.join(" ")+">"+n[c]+"</option>")}s+=i.join("");s+="</select>";return $(s)},debounce:function(e,t){return function(){var a=arguments;var n;if(n){window.clearTimeout(n)}setTimeout((function(){e.apply(null,a)}),t)}},isWeekend:function(e){const t=e.day();return t===0||t===6},waitForRender(){return new Promise((e=>{window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e()}))}))}))}};function a(){this.eventHandlers={}}a.prototype={on:function(e,t){if(!this.eventHandlers[e]){this.eventHandlers[e]=[]}this.eventHandlers[e].push(t)},off:function(e,t){var a=this.eventHandlers[e];if(!a||!a.length){return}var n=a.indexOf(t);if(n>-1){a.splice(n,1)}},trigger:function(e){var t=this.eventHandlers[e];if(!t||!t.length){return}var a=Array.prototype.slice.call(arguments,1);t.forEach(function(e){e.apply(this,a)}.bind(this))}};$.fn.calendarPicker=function(e){return this.each((function(){var t=$(this);if(t.data("calendarPicker")||this.__calendarPicker){return}var a=new m(this,e);t.data("calendarPicker",a);this.__calendarPicker=a}))};var n={DATE:"date",DATE_RANGE:"date-range",MONTH:"month",MONTH_RANGE:"month-range"};var s={SINGLE:"single",RANGE:"range"};var i={START:"start",END:"end"};var o={DAY:"day",MONTH:"month"};var r="YYYY-MM-DD";var l=["format","max","min","start","end","future-only","now-and-future-only","past-only","now-and-past-only","toggle-on-focus","quick-nav"];var c="CalendarPicker__input--focus";var u={dualGrid:false,max:moment().add(50,"years"),min:moment().subtract(100,"years"),noFacade:false,period:o.DAY,quickNav:(0,d.ifFeature)("encore","enabled","auto"),selectionMode:s.SINGLE,toggleOnFocus:false,disableWeekends:false,disableDays:[]};function m(e,t){this.$anchor=$(e).addClass("CalendarPicker");this.toggleButtons=[];this.isMobileDevice=(0,p.isWidthBelowSupportedMinWidth)();this._wireOptions(t);if(!this.options.noFacade){this._wireHiddenInputs()}if(this.options.toggleButton){this._addToggleButtons()}this._wireInternalEvents();this._wireExternalEvents();this._originalStart=this.options.start;this._originalEnd=this.options.end;this._popoverVisible=false;this.setRange(this._originalStart,this._originalEnd);this.enableDisableButtons()}m.prototype.setOptions=function(e){this._wireOptions(e);this._originalStart=this.options.start;this._originalEnd=this.options.end;if(this.gridManager){this.gridManager.setOptions(this._getGridManagerOptions())}this._updateGridManager();this.setRange(this._originalStart,this._originalEnd);this.enableDisableButtons()};m.prototype.enableDisableButtons=function(){const{disabled:e=false}=this.options;if((0,d.ifFeature)("encore",true)){if(this.$start){this.$start.siblings().children("button").prop("disabled",this.$start.prop("disabled"))}if(this.$end){this.$end.siblings().children("button").prop("disabled",this.$end.prop("disabled"))}}else{if(this.$start){this.$start.siblings("button").attr("disabled",e)}if(this.$end){this.$end.siblings("button").attr("disabled",e)}}};m.prototype._wireOptions=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.options=this.options||{};this.options=$.extend(true,{},u,this.options,e,{});this.options=$.extend(true,{},this.options,this._getOptionsFromPresets(this.$anchor),this._getOptionsFromAttributes(this.$anchor));this.options.format=this.options.format||moment.defaultFormat;if(this.options.min){this.options.min=this._normalizeToTick(this.options.min)}if(this.options.max){this.options.max=this._normalizeToTick(this.options.max)}this._setInputs(this.options.startInput,this.options.endInput);if(this.options.noFacade){this.options.start=this._getTickFromInput(this.$start);if(s.RANGE===this.options.selectionMode){this.options.end=this._getTickFromInput(this.$end)}}return e};m.prototype._getOptionsFromPresets=function(e){var t={};var a=e.attr("calendar-picker");if(n.DATE_RANGE===a||n.MONTH_RANGE===a){t.selectionMode=s.RANGE;t.dualGrid=true}if(n.DATE_RANGE===a){t.period=o.DAY}else if(n.MONTH_RANGE===a||n.MONTH===a){t.period=o.MONTH;t.format="MMM YYYY";(0,d.ifFeature)("encore",(()=>t.quickNav="disabled"),(()=>{}))()}return t};m.prototype._getOptionsFromAttributes=function(e){var a={};var n=e.attr("calendar-picker-options");l.forEach((function(n){var s=null;var i=null;var o=false;if(e[0].hasAttribute(n)){s=e[0].getAttribute(n);i=t.kebabToCamel(n);o=s==="true"||s==="false";if(s&&!o){a[i]=s}else if(s&&o){a[i]=s==="true"}else{a[i]=true}}}));if(n){n=n.replace(/\'/g,'"');a=$.extend(true,{},a,JSON.parse(n))}if(a.futureOnly){a.min=moment().add(1,this.options.period)}if(a.nowAndFutureOnly){a.min=moment()}if(a.pastOnly){a.max=moment().subtract(1,this.options.period)}if(a.nowAndPastOnly){a.max=moment()}return a};m.prototype._setInputs=function(e,t){if(s.RANGE===this.options.selectionMode){this.$start=$(e);this.$end=$(t);if(!this.$start.length&&this.$anchor.find("[range-start]").length){this.$start=this.$anchor.find("[range-start]")}if(!this.$end.length&&this.$anchor.find("[range-end]").length){this.$end=this.$anchor.find("[range-end]")}else{throw new Error("Could not find end input for CalendarPicker")}}else if(this.$anchor.is(":input")||this.$anchor.is("ba-select")){this.$start=this.$anchor}if(!this.$start||!this.$start.length){throw new Error("Could not find input for CalendarPicker")}this._getInputs().addClass("CalendarPicker__input")};m.prototype._getInputs=function(){var e=$().add(this.$start);if(s.RANGE===this.options.selectionMode){e=e.add(this.$end)}return e};m.prototype._wireHiddenInputs=function(){var e="__cpFacade";var t,a;t=this.$start.attr("name");this.$hiddenStart=$('<input type="hidden">').attr("name",this.$start.attr("name")).insertAfter(this.$start);this.$start.attr("name",t+e);if(s.RANGE===this.options.selectionMode){a=this.$end.attr("name");this.$hiddenEnd=$('<input type="hidden">').attr("name",a).insertAfter(this.$end);this.$end.attr("name",a+e)}};m.prototype._addToggleButtons=function(){var e=this.options.toggleButton;var t=typeof e==="boolean"?$('<button type="button">'):$(e);t.addClass("CalendarPicker__toggleButton js-CalendarPicker__toggleButton").attr("tabindex","-1").attr("data-no-jquery-aria-required",true).attr("aria-label",$.__("Open Calendar Picker"));this._addToggleButton(this.$start,t);if(s.RANGE===this.options.selectionMode){this._addToggleButton(this.$end,t)}};m.prototype._addToggleButton=function(t,a){if(!e){t.wrap('<div class="CalendarPicker__inputWrapper js-CalendarPicker__inputWrapper">')}const n=a.clone();this.toggleButtons=[...this.toggleButtons,n[0]];n.appendTo(t.parent()).on("click.calendarPicker",function(e){if(t.is(":disabled")){return}if(!this.options.toggleOnFocus){this._activatePopover(t).then((()=>t.focus()))}else{t.focus()}}.bind(this))};m.prototype._wireExternalEvents=function(){this.events=new a;if(this.options.events){Object.keys(this.options.events).forEach(function(e){this.events.on(e,this.options.events[e])}.bind(this))}};m.prototype._wireInternalEvents=function(){var e=$().add(this.$start);if(s.RANGE===this.options.selectionMode){e=e.add(this.$end)}e.on("input.calendarPicker",this._handleInput.bind(this));e.on("focus.calendarPicker",function(e){var t=$(e.currentTarget);if(this._hidePopoverTimeout){window.clearTimeout(this._hidePopoverTimeout);delete this._hidePopoverTimeout}if(this.options.toggleOnFocus){this._activatePopover(t)}else{this._setSelectingFromInput(t);if(this.$popover&&this.$popover.is(":visible")){this._positionPopover(this._popoverVisible)}}}.bind(this)).on("keydown.calendarPicker",function(e){if(e.which===27||e.which===9){this._hidePopover()}}.bind(this));$((0,d.ifFeature)("encore","#js-GlobalScrollContainer",window)).on("resize.calendarPicker, scroll.calendarPicker",function(){if(this.$popover&&this.$popover.is(":visible")){this._positionPopover()}}.bind(this));if($("#fabricModalContent").length){$("#fabricModalContent").on("resize.calendarPicker, scroll.calendarPicker",function(){if(this.$popover&&this.$popover.is(":visible")){this._positionPopover()}}.bind(this))}$(window).on("resize",function(){if(this.$popover&&(0,p.isWidthBelowSupportedMinWidth)()){this.isMobileDevice=true;this.$popover.css({position:"absolute",left:`${this._horizontalPopoverPosition().left}px`,top:`${this.$anchor.offset().top+this.$anchor[0].getBoundingClientRect().height}px`,transform:""})}else if(this.$popover){this.isMobileDevice=false;this.$popover.css({position:"fixed",left:`0`,top:`0`});this._positionPopover()}}.bind(this))};m.prototype._documentClickHandler=function(e){const t=e.target;const a=this.$popover&&this.$popover[0];const n=this.toggleButtons.some((e=>e===t||$.contains(e,t)));const s=a&&$.contains(a,t);const i=this.$start&&this.$start[0]===t||this.$end&&this.$end[0]===t;const o=$.contains(document,t);if(i||n||s||!o){return}this._hidePopover()};m.prototype._handleInput=function(e){var t=$(e.currentTarget);var a=this._getTickFromInput(t);var n=t.is(this.$start)?a:this.start;var s=t.is(this.$end)?a:this.end;if(a&&a.isValid()){this._setRange(n,s)}this._validateRange(n,s)};m.prototype._normalizeToTick=function(e,t){if(!e){return null}var a=moment.isMoment(e)?e:moment(e,this.options.format,true);if(!a.isValid()&&typeof e==="string"){a=moment(e,moment.ISO_8601,true).startOf("day")}if(!a.isValid()&&!t){console.error("An invalid date was supplied to CalendarPicker");a=null}return a};m.prototype._createPopover=function(t){this.$popover=$('<div class="CalendarPicker__popover js-CalendarPicker__popover">');this.$popover.css({left:0,position:"fixed",top:0,visibility:"hidden","z-index":1e4});this.$caret=$('<div class="CalendarPicker__caret">').appendTo(this.$popover);if(e){this.$caret[0].innerHTML=`\n\t\t\t\t<svg width="26" height="15" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 15">\n\t\t\t\t\t<path d="M 0 12 L 12 0 L 24 12 Z" fill="currentColor" stroke="none"/>\n\t\t\t\t\t<path d="M 1 15 L 12 4 L 23 15 Z" stroke="none"/>\n\t\t\t\t\t<path d="M 1 15 L 12 4.5 L 23 15" fill="none"/>\n\t\t\t\t</svg>\n\t\t\t`}this.gridManager=this._createGridManager();this.gridManager.$element.appendTo(this.$popover);if(this.isMobileDevice){this.$popover.css({position:"absolute",left:`${t[0].getBoundingClientRect().left}px`,top:`${t.offset().top+t[0].getBoundingClientRect().height}px`})}this.$popover.appendTo(document.body);this._positionPopover()};m.prototype._activatePopover=function(e){if(!this.$popover){this._createPopover(e)}this._setSelectingFromInput(e);if(!this._popoverVisible){return this._showPopover()}else{return t.waitForRender().then((()=>this._positionPopover()))}};m.prototype._showPopover=function(){this.events.trigger("onBeforeShow",this);this.$popover.show();this._getCurrentlySelectingInput().addClass(c);this._boundDocumentClickHandler=this._documentClickHandler.bind(this);$(document).on("click.calendarPicker",this._boundDocumentClickHandler);return t.waitForRender().then((()=>{this._positionPopover();this._popoverVisible=true;this.$popover.css("visibility","visible");this.events.trigger("onAfterShow",this)}))};m.prototype._hidePopover=function(){this._hidePopoverTimeout=setTimeout(this._hidePopoverImmediately.bind(this),150)};m.prototype._hidePopoverImmediately=function(){this.events.trigger("onBeforeHide");if(this.$popover){this.$popover.css("visibility","hidden").hide()}this._popoverVisible=false;this.$start.removeClass(c);if(s.RANGE===this.options.selectionMode){this.$end.removeClass(c)}$(document).off("click.calendarPicker",this._boundDocumentClickHandler);this.events.trigger("onAfterHide")};m.prototype._getPopoverOffsets=function(){const e=(0,d.ifFeature)("encore",this._getCurrentlySelectingInput().siblings(".CalendarPicker__toggleButton")[0].getBoundingClientRect(),this.$start[0].getBoundingClientRect());const t=(0,d.ifFeature)("encore",e,this.options.selectionMode==="range"?this.$end[0].getBoundingClientRect():e);return{fromDateOffset:e,lastDateOffset:t}};m.prototype._positionPopover=function(e){if(this.isMobileDevice){return}var t={};const{horizontalAnchor:a,left:n}=this._horizontalPopoverPosition();const{verticalAnchor:s,top:i}=this._verticalPopoverPosition();t.left=n;t.top=i;this.events.trigger("onBeforePosition",this.$popover,t);this.$popover.attr("horizontal-anchor",a).attr("vertical-anchor",s).css({transform:"translate3d("+Math.ceil(t.left)+"px, "+Math.ceil(t.top)+"px, 0)"});this._positionCaret(e);this.events.trigger("onAfterPosition",this.$popover,t)};m.prototype._horizontalPopoverPosition=function(){let e,t;let a=this.$popover.outerWidth(true);const{fromDateOffset:n,lastDateOffset:s}=this._getPopoverOffsets();let i=window.innerWidth-n.left;if(i<a&&n.right>a){t=s.right-a;e="right"}else{t=n.left;e="left"}return{left:t,horizontalAnchor:e}};m.prototype._verticalPopoverPosition=function(){let e=this.$popover.outerHeight(true);const t=(0,d.ifFeature)("encore",10,0);const{fromDateOffset:a,lastDateOffset:n}=this._getPopoverOffsets();let s=i.END===this.selecting?n:a;let o,r;let l=window.innerHeight-s.bottom;if(l<e+t&&s.top>e+t){r=s.top-e-t;o="bottom";this.$popover.addClass("CalendarPicker__popover--topAnchored");this.$caret.addClass("CalendarPicker__caret--topAnchored")}else{r=s.bottom+t;o="top";this.$popover.removeClass("CalendarPicker__popover--topAnchored");this.$caret.removeClass("CalendarPicker__caret--topAnchored")}return{top:r,verticalAnchor:o}};m.prototype._positionCaret=function(e){var t=i.END===this.selecting?this.$end:this.$start;var a=t.offset();var n=this.$popover.offset();var s=15;var o=this.$caret.outerWidth()/2;var r=a.left;if(this.$popover.attr("horizontal-anchor")==="left"||i.START===this.selecting){r+=s}else{r+=t.outerWidth()-s}var l=r-n.left-o;if(e){this.$caret.animate({left:l})}else{this.$caret.css({left:l})}};m.prototype._getGridManagerOptions=function(){return{autoSync:false,dualGrid:this.options.dualGrid,min:this.options.min,max:this.options.max,quickNav:this.options.quickNav,selectionMode:this.options.selectionMode,disableWeekends:this.options.disableWeekends,disableDays:this.options.disableDays}};m.prototype._createGridManager=function(){var e=this._getGridManagerOptions();var t;if(o.MONTH===this.options.period){t=new b(e);t.$element.addClass("CalendarGridManager__monthView")}else{t=new w(e)}t.events.on("select",this._selectHandler.bind(this));t.events.on("periodChange",function(){this._positionPopover();this.events.trigger("onPeriodChange",this)}.bind(this));t.events.on("render",function(){this.events.trigger("onRender",this)}.bind(this));return t};m.prototype._selectHandler=function(e,t,a){this._setRange(t,a);if(this.selecting===e){e=null}this._setSelecting(e)};m.prototype._updateGridManager=function(){var e=this._getPeriodTick();if(!this.gridManager){return}if(o.DAY===this.options.period){this.gridManager.setMonth(e.month(),e.year())}else if(o.MONTH===this.options.period){this.gridManager.setYear(e.year())}this.gridManager.updateSelection(this.selecting,this.start,this.end);this.gridManager.render()};m.prototype._setSelecting=function(e){var t=this._getSelectingInput(this.selecting);this.selecting=e;this._updateInputFocusClasses();if(!this.selecting){t.blur();this._hidePopoverImmediately();return}if(i.START===this.selecting){if(s.RANGE===this.options.selectionMode){this.$end.blur()}if(!this.$start.val().trim()&&s.RANGE===this.options.selectionMode&&!this.$start.is(":focus")){this.$start.focus()}else{this._hidePopoverImmediately()}}else if(s.RANGE===this.options.selectionMode&&i.END===this.selecting){this.$start.blur();if(!this.$end.val().trim()&&s.RANGE===this.options.selectionMode&&!this.$end.is(":focus")){this.$end.focus()}else{this._hidePopoverImmediately()}}};m.prototype._setSelectingFromInput=function(e){this.selecting=s.RANGE===this.options.selectionMode&&e.is(this.$end)?i.END:i.START;this._updateInputFocusClasses();this._updateGridManager()};m.prototype._updateInputFocusClasses=function(){var e;this._getInputs().removeClass(c);if(this._popoverVisible){e=this._getCurrentlySelectingInput();e.addClass(c)}};m.prototype._getSelectingInput=function(e){return s.RANGE===this.options.selectionMode&&i.END===e?this.$end:this.$start};m.prototype._getCurrentlySelectingInput=function(){return this._getSelectingInput(this.selecting)};m.prototype._updateInput=function(e,t,a){var n=e==="end"?this.$end:this.$start;var s=null;var i=n.val();if(!this.options.noFacade){s=e==="end"?this.$hiddenEnd:this.$hiddenStart;s.val(t?moment(t).format(r):"")}if(t){n.val(t.format(this.options.format))}else if(n.val().trim()){n.val("")}if(!a&&n.val()!==i){n.trigger("change")}};m.prototype.setRange=function(e,t){e=this._normalizeToTick(e);t=this._normalizeToTick(t);var a=this._validateRange(e,t);if(a.length){console.error("Invalid range specified",a)}this._setRange(e,t,true)};m.prototype._setRange=function(e,t,a){if(e&&e.isSame(this.start)&&t&&t.isSame(this.end)){return}if(s.RANGE===this.options.selectionMode){if(i.START===this.selecting&&t&&t.isBefore(e)){t=null;(0,d.ifFeature)("encore",(()=>{}),(()=>this._flashInput(this.$end)))()}else if(i.END===this.selecting&&e&&e.isAfter(t)){e=null;(0,d.ifFeature)("encore",(()=>{}),(()=>this._flashInput(this.$start)))()}}if(this.start!==e){e=e?moment(e).startOf(this.options.period):e;this.start=e;this._updateInput(i.START,this.start,a)}if(s.RANGE===this.options.selectionMode&&this.end!==t){t=t?moment(t).endOf(this.options.period):t;this.end=t;this._updateInput(i.END,this.end,a)}if(!a){this.events.trigger("select",this.start,this.end);this.$anchor.trigger("calendarPicker:rangeSet",this.getValue())}this._updateGridManager()};m.prototype._getTickFromInput=function(e){return this._normalizeToTick(e.val(),true)};m.prototype._getRangeFromInputs=function(){var e={start:this._getTickFromInput(this.$start)};if(s.RANGE===this.options.selectionMode){e.end=this._getTickFromInput(this.$end)}return e};m.prototype._validateRange=function(e,t){var a=[];if(e&&!e.isValid()||t&&!t.isValid()){a.push({code:"INVALID_ARGUMENT",message:"An invalid argument was supplied."})}if(e&&!this._isInRange(e)||t&&!this._isInRange(t)){a.push({code:"OUT_OF_BOUNDS",message:"An argument is outside of the min/max bounds"})}return a};m.prototype._getPeriodTick=function(){var e=this.options.max;var t=this.options.min;var a=moment();var n;var s=o.DAY===this.options.period?"month":"year";var r=false;var l=this.start&&this.start.isSame(this.end,s);if(this.start&&(i.START===this.selecting||l||!this.end)){n=this.start}else if(this.end&&(i.END===this.selecting&&!l||!this.start)){n=this.end;r=true}if(!n){if(this._isInRange(a)){n=a}else if(t&&t.isAfter(a)){n=t}else if(e&&e.isBefore(a)){n=e;r=true}else{n=a}}n=moment(n).startOf(s);if(this.options.dualGrid&&r){n=moment(n).subtract(1,s)}return n};m.prototype._isInRange=function(e){return t.isInRange(e,this.options.min,this.options.max,this.options.period)};m.prototype.validate=function(){var e=this._getRangeFromInputs();var t=this._validateRange(e.start,e.end);return t};m.prototype.validateInput=function(e){const{disableWeekends:a,disableDays:n}=this.options;var i=[];var o=$(e);if(s.RANGE===this.options.selectionMode&&!$.contains(this.$anchor.get(0),o.get(0))||s.RANGE!==this.options.selectionMode&&!this.$anchor.is(o)){throw new Error("The input supplied for validation isn't part of the Calendar Picker")}var r=this._normalizeToTick(o.val(),true);if(r){if(!r.isValid()){i.push({code:"INVALID_ARGUMENT",message:"This input contains an invalid value"})}if(!this._isInRange(r)){i.push({code:"OUT_OF_BOUNDS",message:"This input is outside of the min/max bounds"})}if(a&&t.isWeekend(r)){i.push({code:"NO_WEEKENDS",message:"This input cannot select a day on a weekend."})}if(n.indexOf(r.format("YYYY-MM-DD"))>-1){i.push({code:"DISABLED_DATE",message:"This input cannot select a disabled date."})}}return i};m.prototype.isValid=function(e){var t=e?this.validateInput(e):this.validate();return!t.length};m.prototype.isDirty=function(){var e=this._getRangeFromInputs();return e.start!==this._originalStart||e.end!==this._originalEnd};m.prototype._flashInput=function(e){var t=e[0].style.color;var a=e.css("backgroundColor");e.css({backgroundColor:"#FDFFD7"});setTimeout((function(){e.animate({backgroundColor:a},{complete:function(){e.css({backgroundColor:t})},duration:200})}),200)};m.prototype.getValue=function(e){e=e||r;if(s.RANGE===this.options.selectionMode){return{start:this.start?this.start.format(e):undefined,end:this.end?this.end.format(e):undefined}}return this.start?this.start.format(e):undefined};m.prototype.getFormattedValue=function(){return this.getValue(this.options.format)};function f(e,t){this.rows=e;this.columns=t;this.selecting=i.START;this.selectionMode=s.SINGLE;this.displayingTick=moment();this.data=[];this.events=new a;this.$element=$('<div class="CalendarGrid">')}f.prototype.setOptions=function(e){this.options={...this.options,...e};this.render()};f.prototype._wireEvents=function(){this.$element.off(".calendarGrid");this.$element.on("hover.calendarGrid","[data-cell-value]:not([data-cell-disabled])",function(e){var t=this._getTickFromCell(e.currentTarget);if(!t){return}this.events.trigger("cellHover",t);if(s.SINGLE!==this.selectionMode){this.highlightToTick(t)}}.bind(this));this.$element.on("click.calendarGrid","[data-cell-value]:not([data-cell-disabled])",function(e){var t=this._getTickFromCell(e.currentTarget);var a=this.selecting;e.stopPropagation();e.preventDefault();if(s.RANGE===this.selectionMode){this._setRangeBoundary(t,this.selecting)}else{this.start=t}if(s.RANGE===this.selectionMode){a=i.START===this.selecting?"end":"start"}this.selecting=a;this.events.trigger("cellSelect",a,this.start,this.end);this.render()}.bind(this));this.$element.on("selectstart",(function(e){e.preventDefault()}))};f.prototype._setRangeBoundary=function(e,t){if(i.START===this.selecting){this.start=e}else if(i.END===this.selecting){this.end=e}};f.prototype._getTickFromCell=function(e){if(e.hasAttribute("data-cell-value")){return moment(e.getAttribute("data-cell-value"))}};f.prototype._getCellFromTick=function(e){var t=e.toISOString();return this.$element.find('[data-cell-value="'+t+'"]')};f.prototype._isInRange=function(e){if(!this.start||!this.end){return false}return this.start.isSameOrBefore(e)&&this.end.isSameOrAfter(e)};f.prototype.highlightToTick=function(e){if(i.START===this.selecting&&this.start&&this.end&&this.end.isAfter(e)){this._getCellFromTick(this.start).removeClass("CalendarGrid__cell--selected")}else if(i.END===this.selecting&&this.end&&this.start&&this.start.isBefore(e)){this._getCellFromTick(this.end).removeClass("CalendarGrid__cell--selected")}else if(this.start&&this.end){this.resetHighlight();return}this.$element.find("[data-cell-value]").each(function(t,a){var n=this._getTickFromCell(a);var s=this.end&&this.end.isSameOrAfter(e)&&this.end.isSameOrAfter(n)&&n.isSameOrAfter(e);s=s&&i.START===this.selecting;var o=this.start&&this.start.isSameOrBefore(n)&&this.start.isSameOrBefore(n)&&n.isSameOrBefore(e);o=o&&i.END===this.selecting;var r=s||o;if(r){$(a).addClass("CalendarGrid__cell--inRange")}else{$(a).removeClass("CalendarGrid__cell--inRange")}this._toggleEdgeClasses(a,r)}.bind(this))};f.prototype._toggleEdgeClasses=function(e,t){var a=$(e);var n=a.prev();var s=a.next();if(!t){a.removeClass("CalendarGrid__cell--inRangeLeading CalendarGrid__cell--inRangeTrailing");return}if(!n.length||n.is("[data-cell-empty]")){a.addClass("CalendarGrid__cell--inRangeLeading")}else if(!s.length||s.is("[date-cell-empty]")){a.addClass("CalendarGrid__cell--inRangeTrailing")}};f.prototype.resetHighlight=function(){if(typeof this.onResetHighlight==="function"&&this.onResetHighlight()===false){return}this.$element.find("[data-cell-value]").each(function(e,t){var a=this._getTickFromCell(t);var n=this._isInRange(a);$(t).toggleClass("CalendarGrid__cell--inRange",n);this._toggleEdgeClasses(t,n);if(this.start&&this.start.isSame(a)||this.end&&this.end.isSame(a)){$(t).addClass("CalendarGrid__cell--selected")}}.bind(this))};f.prototype._getCellClasses=function(e){var t=e.tick;var a=["CalendarGrid__cell","CalendarGrid__cell--withValue"];if(this.start&&this.start.isSame(t)||this.end&&this.end.isSame(t,"day")){a.push("CalendarGrid__cell--selected")}var n=s.RANGE===this.selectionMode;n=n&&this.start&&this.start.isSameOrBefore(t);n=n&&this.end&&this.end.isSameOrAfter(t);if(n){a.push("CalendarGrid__cell--inRange")}if(e.isNow){a.push("CalendarGrid__cell--now")}if(e.isDisabled){a.push("CalendarGrid__cell--disabled")}return a.join(" ")};f.prototype._adjustRowsForData=function(e){while(e*this.columns<this.data.length){e++}return e};f.prototype.render=function(){if(!this.rows){throw new Error("The number of rows must be specified to render a CalendarGrid")}if(!this.columns){throw new Error("The number of columns must be specified to render a CalendarGrid")}var e;var t=this._adjustRowsForData(this.rows);var a=0;var n="";n+='<div class="CalendarGrid__body">';for(var s=0;s<t;s++){n+='<div class="CalendarGrid__row">';for(var i=0;i<this.columns;i++){e=this.data[a];a++;if(!e||!e.tick){n+='<div class="CalendarGrid__cell CalendarGrid__cell--empty" data-cell-empty></div>';continue}n+='<div class="'+this._getCellClasses(e)+'" data-cell-value="'+e.tick.toISOString()+'"'+(e.isDisabled?"data-cell-disabled":"")+">";n+=e.text;n+="</div>"}n+="</div>"}n+="</div>";this.$element.html(n);this._wireEvents();return this.$element};function g(){var e;var t=moment().year();if(typeof arguments[0]==="object"){e=arguments[0]}else if(typeof arguments[1]==="object"){e=arguments[1]}else if(typeof arguments[0]==="number"){t=arguments[0]}f.call(this,3,4);this.options=$.extend(true,{},e);this.displayingTick=moment().startOf("year").year(t);this.data=this._generateGridData()}g.prototype=Object.create(f.prototype);g.prototype._getDisplayTick=function(e){e=typeof e==="number"?e:moment().year();return moment().startOf("year").year(e)};g.prototype.setYear=function(e){if(typeof e!=="number"){throw new Error("Invalid year argument")}this.displayingTick=this._getDisplayTick(e);this.data=this._generateGridData()};g.prototype._generateGridData=function(){var e=moment(this.displayingTick);var t=moment(this.displayingTick).endOf("year");var a=moment();var n=this.options.min;var s=this.options.max;var i=[];var o=e;while(o.isBefore(t)){i.push({isDisabled:n&&n.isAfter(o,"month")||s&&s.isBefore(o,"month"),isNow:a.isSame(o,"month"),text:o.format("MMM"),tick:o});o=moment(o).add(1,"months")}return i};function v(){var e=typeof arguments[0]==="number"?arguments[0]:moment().month();var t=typeof arguments[1]==="number"?arguments[1]:moment().year();var a=arguments.length===3&&typeof arguments[2]==="object"?arguments[2]:arguments[0];f.call(this,4,7);this.options=$.extend(true,{},a);this.setMonth(e,t);this.data=this._generateGridData()}v.prototype=Object.create(f.prototype);v.prototype._getDisplayingTick=function(e,t){t=typeof t==="number"?t:moment().year();e=typeof e==="number"?e:moment().month();return moment(new Date(t,e))};v.prototype.setMonth=function(e,t){if(typeof e!=="number"){throw new Error("Invalid year argument")}this.displayingTick=this._getDisplayingTick(e,t);this.data=this._generateGridData()};v.prototype._generateGridData=function(){var e=moment(this.displayingTick).startOf("month");var a=moment(this.displayingTick).endOf("month");var n=moment();const{min:s,max:i,disableWeekends:o,disableDays:r}=this.options;var l=new Array(e.weekday());var c=e;while(c.isBefore(a)){const e=s&&s.isAfter(c,"day");const a=i&&i.isBefore(c,"day");const d=o&&t.isWeekend(c);const u=r.indexOf(c.format("YYYY-MM-DD"))>-1;l.push({isDisabled:e||a||d||u,isNow:n.isSame(c,"day"),text:c.format("D"),tick:c});c=moment(c).add(1,"days")}return l};v.prototype.renderDaysOfWeek=function(){var e=moment().startOf("week");var t=moment().endOf("week");var a=e;var n="";n+='<div class="CalendarGrid__daysOfWeek">';while(a<t){n+='<div class="CalendarGrid__dayOfWeek">'+(0,d.ifFeature)("encore",a.format("dd").substr(0).charAt(0),a.format("dd").substr(0))+"</div>";a.add(1,"days")}n+="</div>";return $(n)};v.prototype.render=function(){var e=f.prototype.render.call(this);var t=$('<div class="CalendarGrid__header">');t.append(this.renderDaysOfWeek);e.prepend(t);return e};function y(e){this.options=$.extend(true,{},this._getDefaultOptions(),e);this.events=new a;this._previousViewState={};this.$element=$('<div class="CalendarGridManager">')}y.prototype.setOptions=function(e){this.options=$.extend(true,{},this._getDefaultOptions(),this.options,e);var t={min:e.min,max:e.max,disableWeekends:this.options.disableWeekends,disableDays:this.options.disableDays};if(this.firstGrid){this.firstGrid.setOptions(t)}if(this.lastGrid){this.lastGrid.setOptions(t)}this.render()};y.prototype.getMin=function(e){e=e||this.options;let t=moment(e.min);if(t.isAfter(this.start)){t=this.start}return t};y.prototype.getMax=function(e){e=e||this.options;let t=moment(e.max);if(t.isBefore(this.end)&&e.selectionMode===s.RANGE){t=this.end}else if(t.isBefore(this.start)){t=this.start}return t};y.prototype._getDefaultOptions=function(){return{autoSync:true,display:"month",dualGrid:false,end:null,max:moment().add(20,"years"),min:moment().subtract(100,"years"),selectionMode:s.SINGLE,start:moment(),disableWeekends:false,disableDays:[]}};y.prototype._wireGrids=function(){this.firstGrid.selectionMode=this.options.selectionMode;if(this.options.dualGrid){this.lastGrid.selectionMode=this.options.selectionMode}};y.prototype._wireEvents=function(){this.$element.off(".calendarGridManager");this.$element.on("mouseleave.calendarGridManager",function(){this.firstGrid.resetHighlight();if(this.lastGrid){this.lastGrid.resetHighlight()}}.bind(this));this.$element.on("click.calendarGridManager","[data-prev-button]",function(){if(this._isPreviousDisabled()){return}this.previous();this.render();this.events.trigger("periodChange")}.bind(this));this.$element.on("click.calendarGridManager","[data-next-button]",function(){if(this._isNextDisabled()){return}this.next();this.render();this.events.trigger("periodChange")}.bind(this));this.$element.on("selectstart",(function(e){e.preventDefault()}));e.call(this);function e(){this.firstGrid.events.off("cellSelect",this._boundSelectHandler);if(this.options.dualGrid){this.lastGrid.events.off("cellSelect",this._boundSelectHandler)}this._boundSelectHandler=this._selectHandler.bind(this);this.firstGrid.events.on("cellSelect",this._boundSelectHandler);if(this.options.dualGrid){this.lastGrid.events.on("cellSelect",this._boundSelectHandler);this.firstGrid.events.off("cellHover",this._boundHoverHandler);this.lastGrid.events.off("cellHover",this._boundHoverHandler);this._boundHoverHandler=this._hoverHandler.bind(this);this.firstGrid.events.on("cellHover",this._boundHoverHandler);this.lastGrid.events.on("cellHover",this._boundHoverHandler)}}};y.prototype._selectHandler=function(e,t,a){this.events.trigger("select",e,t,a);if(this.options.autoSync){this.updateSelection(e,t,a);this.render()}};y.prototype._needsRender=function(){var e={displayTick:this.displayTick,end:this.end,selecting:this.selecting,start:this.start};return!t.isEqual(this._previousViewState,e)};y.prototype._isDisplayTickChanged=function(){return this._previousState.displayTick!==this.displayTick};y.prototype._hoverHandler=function(e){this.firstGrid.highlightToTick(e);this.lastGrid.highlightToTick(e)};y.prototype._getGridHeaderContent=function(e){return'<div class="CalendarGridManager__gridTitle">'+e.displayingTick.format(this.titleFormat)+"</div>"};y.prototype._isNextDisabled=function(){return false};y.prototype._isPreviousDisabled=function(){return false};y.prototype._renderGrid=function(e,t){var a=[""];var n=["CalendarGridManager__previousButton"];var s=["CalendarGridManager__nextButton"];var i=null;var o="";if(t==="previous"){a.push("CalendarGridManager__gridHeader--paddedRight")}else if(t==="next"){a.push("CalendarGridManager__gridHeader--paddedLeft")}if(this._isPreviousDisabled()){n.push("CalendarGridManager__previousButton--disabled")}if(this._isNextDisabled()){s.push("CalendarGridManager__nextButton--disabled")}o+='<div class="CalendarGridManager__grid">';o+='\t<div class="CalendarGridManager__gridHeader'+a.join(" ")+'">';if(t==="both"||t==="previous"){(0,d.ifFeature)("encore",(()=>{o+='\t\t<button class="CalendarGridManager__button" data-prev-button>';o+='\t\t\t<ba-icon encore-name="caret-left-solid" encore-color="neutral-extra-strong" class="'+n.join(" ")+'"></ba-icon>';o+="\t\t</button>"}),(()=>{o+='\t<div class="'+n.join(" ")+'" data-prev-button></div>'}))()}o+='\t\t<div class="CalendarGridManager__gridHeaderContent js-CalendarGridManager__gridHeaderContent"></div>';if(t==="both"||t==="next"){(0,d.ifFeature)("encore",(()=>{o+='\t\t<button class="CalendarGridManager__button" data-next-button>';o+='\t\t\t<ba-icon encore-name="caret-right-solid" encore-color="neutral-extra-strong" class="'+n.join(" ")+'" ></ba-icon>';o+="\t\t</button>"}),(()=>{o+='\t<div class="'+s.join(" ")+'" data-next-button></div>'}))()}o+="\t</div>";o+="</div>";i=$(o).append(e.render());i.find(".CalendarGridManager__gridHeaderContent").append(this._getGridHeaderContent(e));return i};y.prototype.updateSelection=function(e,t,a){this.start=t;this.end=a;this.selecting=e;this.firstGrid.start=this.start;this.firstGrid.end=this.end;this.firstGrid.selecting=this.selecting;if(this.options.dualGrid){this.lastGrid.start=this.start;this.lastGrid.end=this.end;this.lastGrid.selecting=this.selecting}};y.prototype.next=function(){throw new Error("This method should be implemented by a child class")};y.prototype.previous=function(){throw new Error("This method should be implemented by a child class")};y.prototype.render=function(){if(!this._needsRender()){return}this._previousViewState={displayTick:this.displayTick,end:this.end,selecting:this.selecting,start:this.start};this.$element.empty();var e=$('<div class="CalendarGridManager__grids">').appendTo(this.$element);var t=this._renderGrid(this.firstGrid,this.options.dualGrid?"previous":"both");t.appendTo(e);var a;if(this.options.dualGrid){a=this._renderGrid(this.lastGrid,"next");a.appendTo(e)}this._wireEvents();this.events.trigger("render");return this.$element};function b(){var e=typeof arguments[0]==="number"?arguments[0]:moment().year();var t=arguments.length===2?arguments[1]:arguments[0];y.call(this,t);this.titleFormat="YYYY";var a={min:t.min,max:t.max};this.firstGrid=this.lastGrid=new g(e,a);if(this.options.dualGrid){this.lastGrid=new g(e,a)}this._wireGrids();this.setYear(e)}b.prototype=Object.create(y.prototype);b.prototype._getDisplayTick=function(e){e=typeof e==="number"?e:moment().year();return moment().startOf("year").year(e)};b.prototype._isPreviousDisabled=function(){return moment(this.firstGrid.displayingTick).isSameOrBefore(this.getMin(),"year")};b.prototype._isNextDisabled=function(){return moment(this.lastGrid.displayingTick).isSameOrAfter(this.getMax(),"year")};b.prototype._getGridHeaderContent=function(e){var a;var n=false;var s=e.displayingTick;var i=this.getMax();var o=this.getMin();if(this.options.quickNav==="disabled"||this.options.quickNav==="auto"&&this.options.dualGrid){return y.prototype._getGridHeaderContent.call(this,e)}if(s.isAfter(i,"year")){i.add(1,"year");n=true}if(s.isBefore(o,"year")){o.subtract(1,"year");n=true}var a=t.createYearDropdown(o,i,s);a.prop("disabled",n);a.on("change",function(t){var a=parseInt($(t.target).val(),10);if(e!==this.firstGrid&&e===this.lastGrid){a--}this.setYear(a);this.render();this.events.trigger("periodChange")}.bind(this));return a.addClass("CalendarGridManager__gridHeaderDropdown")};b.prototype.setYear=function(e){this.displayTick=this._getDisplayTick(e);this.firstGrid.setYear(e);var t=moment(this.displayTick).add(1,"years");if(this.options.dualGrid){this.lastGrid.setYear(t.year())}};b.prototype.previous=function(){var e=moment(this.displayTick).subtract(1,"year");this.setYear(e.year())};b.prototype.next=function(){var e=moment(this.displayTick).add(1,"year");this.setYear(e.year())};function w(){var e=typeof arguments[0]==="number"?arguments[0]:moment().month();var t=typeof arguments[1]==="number"?arguments[1]:moment().year();var a=arguments.length===3&&typeof arguments[2]==="object"?arguments[2]:arguments[0];var n={min:a.min,max:a.max,disableWeekends:a.disableWeekends,disableDays:a.disableDays};y.call(this,a);this.titleFormat="MMMM YYYY";this.firstGrid=this.lastGrid=new v(e,t,n);if(this.options.dualGrid){this.lastGrid=new v(e,t,n)}this._wireGrids();this.setMonth(e,t)}w.prototype=Object.create(y.prototype);w.prototype._getDisplayTick=function(e,t){t=typeof t==="number"?t:moment().year();e=typeof e==="number"?e:moment().month();return moment(new Date(t,e))};w.prototype._isPreviousDisabled=function(){return moment(this.firstGrid.displayingTick).isSameOrBefore(this.getMin(),"month")};w.prototype._isNextDisabled=function(){return moment(this.lastGrid.displayingTick).isSameOrAfter(this.getMax(),"month")};w.prototype._getGridHeaderContent=function(e){var a,n;var s=false;var i=e.displayingTick;var o=this.getMax();var r=this.getMin();if(this.options.quickNav==="disabled"||this.options.quickNav==="auto"&&this.options.dualGrid){return y.prototype._getGridHeaderContent.call(this,e)}if(i.isAfter(o,"month")){o=o.add(1,"months");s=true}if(i.isBefore(r,"month")){r=r.subtract(1,"months");s=true}n=t.createYearDropdown(r,o,i);n.prop("disabled",s);n.on("change",function(t){var a=parseInt($(t.target).val(),10);var n=i.month();if(e!==this.firstGrid&&e===this.lastGrid){n=i.subtract(1,"months").month()}this.setMonth(n,a);this.render();this.events.trigger("periodChange")}.bind(this));a=t.createMonthDropdown(r,o,i);a.prop("disabled",s);a.on("change",function(t){var a=parseInt($(t.target).val(),10);var n=moment().month(a).year(i.year());if(e!==this.firstGrid&&e===this.lastGrid){n.subtract(1,"months")}this.setMonth(n.month(),n.year());this.render();this.events.trigger("periodChange")}.bind(this));return $().add(a).add(n).addClass("CalendarGridManager__gridHeaderDropdown")};w.prototype.setMonth=function(e,t){this.displayTick=this._getDisplayTick(e,t);this.firstGrid.setMonth(this.displayTick.month(),this.displayTick.year());var a=moment(this.displayTick).add(1,"months");if(this.options.dualGrid){this.lastGrid.setMonth(a.month(),a.year())}};w.prototype.previous=function(){var e=moment(this.displayTick).subtract(1,"months");this.setMonth(e.month(),e.year())};w.prototype.next=function(){var e=moment(this.displayTick).add(1,"months");this.setMonth(e.month(),e.year())};return m})($,moment);function m(e){let{dateString:t,name:a}=e;const s=new Date(`${t}T00:00:00`);return(0,n.Z)("input",{className:"no-facade-component",name:a,type:"hidden",value:(0,c.isValid)(s)?(0,c.format)(s,window.dateFnsDefaultFormat):""})}var f=a(88604);var g=a(54544);function v(e){if(typeof e!=="string"&&typeof e!=="number"||!e){return""}const t=/\d\d\d\d-\d\d-\d\d/g;return e.toString().match(t)?e.toString():(0,c.formatISO)((0,c.parse)(e.toString(),window.dateFnsDefaultFormat,new Date),{representation:"date"})}function y(e){switch(e){case"future-only":return(0,c.formatISO)((0,c.add)(new Date,{days:1}),{representation:"date"});case"past-only":return(0,c.formatISO)((0,c.sub)(new Date,{days:1}),{representation:"date"});default:return(0,c.formatISO)(new Date,{representation:"date"})}}function b(e){const t={"future-only":"minDate","now-and-future-only":"minDate","now-and-past-only":"maxDate","past-only":"maxDate"};return t[e]}function w(e){const t={"calendar-picker":true,"dual-grid":true,"toggle-on-focus":true,type:true,"quick-nav":true};const a={end:"endValue",max:"maxDate",min:"minDate",start:"startValue"};if(t[e]){return}if(a[e]){return a[e]}if(e==="data-width"){return"width"}if(e==="no-facade"){return"noFacade"}return e}function C(e){const t={};const a=e.getAttributeNames();a.forEach((a=>{let n=b(a);if(n){t[n]=y(a)}n=w(a);if(n==="noFacade"){t[n]=true;return}if(n){t[n]=e.getAttribute(a)}}));return t}function S(e){const{id:t,name:a,value:o="",noFacade:r,...l}=e;const[c,d]=(0,s.useState)(v(o));const[u,h]=(0,s.useState)("");const p=e=>{if(e.detail.id===t){h(e.detail.status)}};(0,s.useEffect)((()=>{window.addEventListener("updateDatePickerStatus",p);return()=>{window.removeEventListener("updateDatePickerStatus",p)}}),[]);return i().createElement(i().Fragment,null,i().createElement(g.D,(0,f.Z)({},l,{id:t,onBlur:()=>{document.getElementById(t).dispatchEvent(new Event("change",{bubbles:true}))},onChange:e=>{let{value:t}=e;d(t)},status:u,value:c})),r?(0,n.Z)(m,{dateString:c,name:a}):"")}var E=a(26570);const x=window.location.href.includes("/self_onboarding/");const T=new Date(0,0);const k={toggleButton:(0,d.ifFeature)("encore",`<div class="fab-PickerButton">\n\t\t\t<div class="fab-PickerButton__divider"></div>\n\t\t\t<button type="button" class="fab-PickerButton__button">\n\t\t\t\t${(0,l.renderToStaticMarkup)((0,n.Z)("ba-icon",{"encore-name":"calendar-regular","encore-size":"16"}))}\n\t\t\t</button>\n\t\t</div>`,`<button type="button" class="fab-TextInput__button fab-TextInput__button--right">\n\t\t\t${(0,l.renderToStaticMarkup)((0,n.Z)("span",{className:"fab-TextInput__buttonIcon"},void 0,(0,n.Z)("ba-icon",{name:"fab-calendar-15x16"})))}\n\t\t</button>`),events:{onRender:P,onAfterShow:P}};E((function(){I(E("[calendar-picker]"));E("[calendar-picker]").observe((function(){I(this)}))}));function I(e){if(x){z(e)}else{O(e)}}function A(e){return!e.is("[no-mask]")}function F(e,t){const a=t||window.GLOBAL_DATE_MASK||"mm/dd/yyyy";if(e.inputmask){e.inputmask({alias:a,oncomplete(){e.trigger("inputmask:complete");e.one("blur",(()=>{e.trigger("change")}))},onincomplete(){e.trigger("inputmask:incomplete")},isComplete(e,t){const n=e.join("");const s=(0,u.u)(a);const i=(0,c.parse)(n,s,new Date);const o=!(0,c.isEqual)(i,T);return o}}).trigger("masked")}}function Z(e){if(!e.attr("placeholder")&&(0,h.isEnabled)("jade")){e.attr("placeholder",e.inputmask("getemptymask"))}e.data("placeholderTrigger","focus")}function M(e){let t=null;switch(e.attr("calendar-picker")){case"month":case"month-range":t="MMM YYYY";break}return t}function N(e,t){const a=e.find("[range-start]");const n=e.find("[range-end]");if(A(e)){F(a,t.customFormat);F(n,t.customFormat)}e.calendarPicker(t);Z(a);Z(n);L(a);L(n)}function D(e,t){if(A(e)){F(e,t.customFormat)}e.calendarPicker(t);Z(e);setTimeout((()=>{L(e)}))}function L(e){const t=e.closest("[bhrvalidate-initiated]");if(!t.length){return}e.rules("add",{validateCalendarPicker:true})}function P(e){const{$popover:t}=e;const a=t.find("select");if(!t.is(":visible")){return}e.$popover.css({zIndex:(0,o.getMaxZIndex)()});a.attr("data-disable-search","true").chosen()}function O(e){E(e).each((function(e,t){const a=E(t);R(a)}))}function R(e){const t={...k,customFormat:M(e),noFacade:e[0].hasAttribute("no-facade")&&e[0].getAttribute("no-facade")!=="false"};switch(e.attr("calendar-picker")){case"date-range":case"month-range":N(e,t);break;default:D(e,t);break}}function B(e,t){const a=e.parent(".dateFieldWrapper")[0];if(a){(0,r.s)(i().createElement(S,t),a);setTimeout((()=>{L(e)}))}}function H(e,t){N(e,t)}function j(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t){switch(e){case"date-range":case"month-range":return N;default:return D}}switch(e){case"date-range":return H;case"month":return D;case"month-range":return N;default:return B}}function z(e){E(e).each((function(e,t){const a=E(t);if(a.parents(".repeatPrototype")[0]){return}if(a[0].hasAttribute("render-jQuery-date-picker")){R(a)}const n=C(t);const s=j(a.attr("calendar-picker"));s(a,{customFormat:M(a),...n})}))}},8575:(e,t,a)=>{"use strict";a.d(t,{m:()=>s});class n{static get className(){return"Cancelable"}constructor(){this.instance=null}on(e){this.cancel();this.instance=e;e.promise.then((()=>{this.instance=null}));return e}cancel(){if(this.instance){this.instance.cancel();this.instance=null}}}function s(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}return{promise:e,request:a.reduce(((e,t)=>e.concat(t)),[]),cancel:function(){this.request.forEach((e=>e.abort()))}}}t["Z"]=n},13686:(e,t,a)=>{"use strict";a.d(t,{TH:()=>E,vz:()=>Z,K_:()=>R,xm:()=>Y,Ob:()=>Q,YE:()=>me,ub:()=>Ee,Gm:()=>Oe,wW:()=>dt,i0:()=>ot,Xb:()=>gt,BL:()=>pt});var n=a(44119);var s=a(3268);var i=a(38264);var o=a(54300);var r=a(17016);var l=a(6054);var c=a(73641);var d=a(65843);const u=e=>({bubbles:true,detail:e});function h(e,t){return e.dispatchEvent(t)}function p(e,t,a){let n=a[t];let s=new CustomEvent(d._D,u(e));h(n,s)}function m(e,t,a){let n=a[t];let s=new CustomEvent(d.xN,u(e));h(n,s)}function f(e,t,a){let n=a[t];let s=new CustomEvent(d.wQ,u(e));h(n,s)}function g(e,t,a){let n=a[t];let s=new CustomEvent(d.Zl,u(e));h(n,s)}var v=a(71141);var y=a(8346);class b{static get className(){return"BaseChart"}constructor(){this._setupResizeEventListener()}draw(e){console.error("BaseChart.draw() Must be implemented via the extending class")}resize(){console.error("BaseChart.resize() Must be implemented via the extending class")}getSettings(){return this._settings}hasAxis(){let e=this.getSettings();if(typeof e.container.axis==="undefined"){return false}return typeof e.container.axis.hasAxis!=="undefined"&&e.container.axis.hasAxis}_createRoot(){let{height:e,flexHeight:t,margin:a}=this.getSettings().container;let n=e+a.top+a.bottom;let s=this._getContainerWidth()+a.left+a.right;this._svg=(0,y.Ys)(this._selector).append("div").attr("class",this._buildClassList("Container")).style("height",(e=>{if(!t){return`${n}px`}return`auto`})).append("svg").attr("class",this._buildClassList()).style("width",`${s}px`).style("height",`${n}px`).attr("transform",`translate(${a.left}, ${a.top})`);this._g=this._svg.append("g")}_validateRequirements(){let{chartClass:e}=this.getSettings();if(!e){console.error(`${this._CLASS_NAME} requires 'chartClass' settings object to be populated`)}}_buildClassList(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let t=`${this._CLASS_NAME}${e}`;let a=this.getSettings();if(a.chartClass!==""){t+=` ${a.chartClass}${e}`}return t}_getClassList(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let{chartClass:t}=this.getSettings();return`.${t}${e}`}_setupResizeEventListener(){window.addEventListener("resize",(()=>{this._updateSVGWidth();this.resize()}))}_getContainerWidth(){const e=this.getSettings();let t=e.container.width;if(t==="auto"&&this._selector){t=this._selector.clientWidth||this._selector.getBoundingClientRect().width}return t}_getSVGDimensionsObject(){let e=this._svg.node();let t=e.getBBox();return t}_updateSVGWidth(){const e=this._svg.node();if(!e){return}const t=this._getContainerWidth();(0,y.Ys)(e).style("width",`${t}px`)}_animateElements(e,t){if(this.getSettings().animate){return t(e)}return e}_dynamicallyAdjustSVGHeight(){let e=this._svg.node();if(!e){return}let t=this._getSVGDimensionsObject();let a=15;let n=t.y+t.height+a;let s=0;this._animateElements((0,y.Ys)(e),(t=>t.transition().duration(500).style("height",`${n}px`).on("start",(()=>{s++})).on("end",(()=>{if(--s===0&&document.contains&&document.contains(e)){this._dynamicallyAdjustAxisHeight()}})))).style("height",`${n}px`)}_dynamicallyAdjustAxisHeight(){if(this.hasAxis()){const e=this._svg.node();(0,y.Ys)(this._getClassList("__xAxis")).selectAll("line").transition().delay(1e3).filter((function(){return document.contains(e)})).attr("y2",(()=>{const e=this._getSVGDimensionsObject();return e.height}))}}_convertValueLengthToPixelSpace(e){this._svg.append("g").attr("translate","transition(10000, 0").attr("class","text-to-pixel-group").append("text").text(e);let t=(0,y.Ys)(".text-to-pixel-group");let a=t.select("text").node().getComputedTextLength();t.remove();return a}}var moment=a(82543);const w="AreaChart";const C={chartClass:"",container:{height:200,width:400,margin:{top:10,right:10,bottom:30,left:0}},xAxisTickCount:l.Z.every(1),xAxisTickFormat:moment.shortFormat,yAxisLabelWidth:40,yAxisMin:null,yAxisMax:null,pathStrokeWidth:2,drawEndDot:false};const S=(0,v.isEnabled)("jade");class E extends b{static get className(){return"AreaChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:C;super();(0,n.Z)(this,"_minYDrawnValue",0);(0,n.Z)(this,"_data",void 0);this._selector=e;this._CLASS_NAME=w;this._settings=(0,c.defaultsDeep)({},t,C);this._validateRequirements();this._createRoot()}draw(e){this._data=e;const{areas:t,xAxisExtraInfo:a}=e;this._areas=t;this._xAxisExtraInfo=a;const n=t.map((e=>e.points.map((e=>e.x)))).reduce(((e,t)=>e.concat(t)));const i=t.map((e=>e.points.map((e=>e.y)))).reduce(((e,t)=>e.concat(t)));const o=this._settings;const r=o.yAxisMin===null?Math.floor((0,s.VV)(i)/10)*10:o.yAxisMin;const l=o.yAxisMax===null?Math.ceil((0,s.Fp)(i)/10)*10:o.yAxisMax;this._minYDrawnValue=r;this._xScale=this._getXScale(n);this._yScale=this._getYScale(r,l);this._drawAreas();this._drawXAxis(n);this._drawXAxisExtraInfo();this._drawYAxis()}resize(){(0,y.Ys)(this._selector).select("div").remove();this._createRoot();this.draw(this._data)}_getXScale(e){const{container:{margin:t},yAxisLabelWidth:a}=this._settings;return(0,o.Xf)().domain((0,s.We)(e,(e=>new Date(e)))).range([a,this._getContainerWidth()-t.right])}_getYScale(e,t){const{container:{height:a,margin:n}}=this._settings;return(0,o.BY)().domain([e,t]).nice().range([a,n.top])}_getYScaleText(e){const{yAxisUseWholeValue:t}=this._settings;return`${e}${t?"":"%"}`}_getColor(e,t){const a=this._settings;if(a.colors){e.color=a.colors[t]}return e.color?e.color:""}_drawAreas(){this._drawAreaGroups();this._drawLineGroups()}_removeTrailingNullPoints(e){const t=e.reduce(((e,t,a)=>t&&t.y?a:e),0);return e.filter(((e,a)=>a<=t))}_drawAreaGroups(){const e=this._svg;const t=e.selectAll(this._getClassList("__areaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__areaGroup")}`).attr("id",((e,t)=>{const a=this._getColor(e,t);return a?`tag${a.slice(1)}_${t}`:""}));const n=t.merge(a);const s=(0,r.SO)().x((e=>this._xScale(new Date(e.x)))).y0((()=>this._minYDrawnValue?this._yScale(this._minYDrawnValue):this._yScale(0))).y1((e=>this._yScale(e.y)));a.append("path").attr("class",`${S?"AreaChart--themeFill":"baseFillColor"} ${this._buildClassList("__area")}`).style("fill",((e,t)=>this._getColor(e,t)));n.select(this._getClassList("__area")).attr("d",(e=>s(this._removeTrailingNullPoints(e.points))));t.exit().remove()}_drawLineGroups(){const e=this._svg;const t=this._settings;const a=e.selectAll(this._getClassList("__lineGroup")).style("display","initial").data(this._areas);const n=a.enter().append("g").attr("class",`${this._buildClassList("__lineGroup")}`).attr("id",((e,t)=>{const a=this._getColor(e,t);return a?`tag${a.slice(1)}_${t}`:""}));const s=a.merge(n);const i=(0,r.jv)().x((e=>this._xScale(new Date(e.x)))).y((e=>this._yScale(e.y)));n.append("path").attr("class",`${S?"AreaChart--themeStroke":"baseStrokeColor"} ${this._buildClassList("__line")}`).style("fill","none").style("stroke",((e,t)=>this._getColor(e,t))).style("stroke-width",t.pathStrokeWidth+"px");if(t.drawEndDot){const e=e=>{let{x:t,y:a}=e;return{x:this._xScale(new Date(t)),y:this._yScale(a)}};const t=t=>t&&t.points?e(this._removeTrailingNullPoints(t.points).pop()):{x:this._xScale(0),y:this._yScale(0)};n.append("circle").attr("class",`${S?"AreaChart--themeFill":"baseFillColor"} ${this._buildClassList("__endDot")}`).attr("fill",this._getColor.bind(this)).attr("pointer-events","none").attr("r",4).attr("cx",(e=>t(e).x)).attr("cy",(e=>t(e).y))}s.select(this._getClassList("__line")).attr("d",(e=>i(this._removeTrailingNullPoints(e.points))));a.exit().remove()}_drawXAxis(e){const{container:{height:t},xAxisTickCount:a,xAxisTickFormat:n}=this._settings;const o=this._svg;this._xScale.domain((0,s.We)(e.map((e=>this._resetTimeValues(e))),(e=>this._resetTimeValues(e))));const r=(0,i.axisBottom)(this._xScale).ticks(a).tickFormat((e=>moment(e).format(n)));const l=o.select(this._getClassList("__xAxis")).empty();if(l){o.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(0, ${t})`).call(r)}else{o.select(this._getClassList("__xAxis")).call(r)}}_drawXAxisExtraInfo(){if(this._xAxisExtraInfo){const e=this._svg;const t=e.selectAll(this._getClassList("__xAxisExtraInfo")).data(this._xAxisExtraInfo);const a=t.enter().append("g").attr("class",this._buildClassList("__xAxisExtraInfo")).on("mouseover",f);const n=t.merge(a);t.exit().remove();this._drawXAxisExtraInfoLine(a,n);this._drawXAxisExtraInfoCircle(a,n);this._drawXAxisExtraInfoIcon(a,n)}}_drawXAxisExtraInfoLine(e,t){const{container:{height:a,margin:n}}=this._settings;const s=a+n.bottom-33;const i=s+14;e.append("line").attr("class",this._buildClassList("__xAxisExtraInfoLine"));t.select(this._getClassList("__xAxisExtraInfoLine")).attr("x1",(e=>this._xScale(this._resetTimeValues(e.x)))).attr("x2",(e=>this._xScale(this._resetTimeValues(e.x)))).attr("y1",s).attr("y2",i).style("stroke","#d8d8d8").style("stroke-width","1px")}_drawXAxisExtraInfoCircle(e,t){const{container:{height:a,margin:n}}=this._settings;e.append("circle").attr("class",this._buildClassList("__xAxisExtraInfoCircle"));t.select(this._getClassList("__xAxisExtraInfoCircle")).attr("cx",(e=>this._xScale(this._resetTimeValues(e.x)))).attr("cy",a+n.bottom-10).attr("r",10).style("fill","#fff").style("stroke","#d8d8d8").style("stroke-width","1px")}_drawXAxisExtraInfoIcon(e,t){const{container:{height:a,margin:n}}=this._settings;e.append("svg").attr("class",this._buildClassList("__xAxisExtraInfoIcon"));t.select(this._getClassList("__xAxisExtraInfoIcon")).attr("height",12).attr("width",12).attr("x",(e=>this._xScale(this._resetTimeValues(e.x))-6)).attr("y",a+n.bottom-16).style("fill","#b1b1b1").append("svg:use").attr("xlink:href",(e=>this._getIcon(e.event)))}_getIcon(e){const t={launch:"#fab-star-13x12",email:"#fab-envelope-12x10"};return t[e]}_drawYAxis(){const{container:{margin:e,width:t},yAxisLabelWidth:a}=this._settings;const n=this._svg;const s=(0,i.axisLeft)(this._yScale).ticks(5).tickFormat((e=>this._getYScaleText(e)));let o=t;if(t==="auto"&&this._selector){o=this._selector.clientWidth||this._selector.getBoundingClientRect().width}const r=n.select(this._getClassList("__yAxis")).empty();if(r){n.append("g").attr("transform",`translate(${a})`).attr("class",this._buildClassList("__yAxis")).call(s)}else{n.select(this._getClassList("__yAxis")).call(s)}n.select(this._getClassList("__yAxis")).selectAll("line").attr("x2",(()=>o-a-e.right)).attr("style",((e,t,a)=>{if(t===0){return"stroke-dasharray: 0"}}))}_resetTimeValues(e){const t=new Date(e);return t.setHours(0,0,0,0)}}var x=a(16307);var T=a(46133);const k={bars:{classNameModifier:"",mouseEvents:{}},barTitles:{classNameModifier:"",padding:7,height:17,uppercase:true},barSubtitles:{show:false,height:14},barValues:{show:true,suffix:""},barTooltips:{className:""},className:"",height:310,paddingTop:57,responsive:true,width:658,useTransitions:false};const I="ba-BarChart";const A=2;const F="#E8E8E8";class Z{static get className(){return"BarChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:k;this._selector=e;this._options=(0,c.defaultsDeep)({},t,k);this._maxBarHeight=this._options.height-this._options.barTitles.height-this._options.barTitles.padding-this._options.paddingTop;if(this._options.barSubtitles.show){this._maxBarHeight-=this._options.barSubtitles.height}this._svg=this._createSvg();this._configure()}_createSvg(){let e=(0,y.Ys)(this._selector).classed(I,true).classed(this._options.className,this._options.className);e.selectAll("*").remove();let t=e.append("div").classed(`${I}__container`,true).classed(`${this._options.className}__container`,this._options.className);let a=t.append("svg").classed(`${I}__svg`,true).classed(`${this._options.className}__svg`,this._options.className).attr("viewBox","0 0 "+this._options.width+" "+this._options.height);if(this._options.responsive){t.classed("container",true).attr("style","display:inline-block;position:relative;width:100%;padding-bottom:47.11%;vertical-align:top;overflow:hidden;");a.classed("responsive",true).attr("style","display:inline-block;position:absolute;left:0;top:0;").attr("preserveAspectRatio","xMinYMin meet")}else{a.style("height",this._options.height+"px").style("width",this._options.width+"px")}this._addDefs(a);return a}_addDefs(e,t){const a=(0,v.isEnabled)("jade")?"BarChart--fillThemeColor":"baseFillColor";let n=t?t.replace("#",""):"";let s=e.append("defs").append("pattern").attr("height",6).attr("id","diagonalHatchPattern"+n).attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(-45)").attr("width",6);let i=s.append("rect").attr("height","100%").attr("fill","rgb(255, 255, 255)").attr("fill-opacity","0.6").attr("width","100%");let o=s.append("rect").attr("height",3).attr("width",6);if(t){i.attr("fill",t);o.attr("fill",t)}else{i.attr("class",a);o.attr("class",a)}}_configure(){const e=(0,v.isEnabled)("jade")?"BarChart--fillThemeColor":"baseFillColor";const t=(0,v.isEnabled)("jade")?"Lato":"Source Sans Pro";this._barsArea=this._svg.append("g").attr("class",`${I}__barsArea ${e}`).classed(`${this._options.className}__barsArea`,this._options.className).attr("transform",`translate(0, ${this._options.paddingTop})`).attr("opacity",.8);this._valuesArea=this._svg.append("g").attr("class",`${I}__valuesArea ${e}`).classed(`${this._options.className}__valuesArea`,this._options.className).attr("transform",`translate(0, ${this._options.paddingTop})`).attr("font-family",t).attr("font-size","13").attr("text-anchor","middle");let a=this._options.height-this._options.barTitles.height;if(this._options.barSubtitles.show){a-=this._options.barSubtitles.height}this._titlesArea=this._svg.append("g").classed(`${I}__titlesArea`,true).classed(`${this._options.className}__titlesArea`,this._options.className).attr("transform","translate(0, "+a+")").attr("font-family",t).attr("font-size","13").attr("fill","#777").attr("text-anchor","middle");if(this._options.barTitles.uppercase){this._titlesArea.style("text-transform","uppercase")}if(this._options.barSubtitles.show){this._subtitlesArea=this._svg.append("g").classed(`${I}__subtitlesArea`,true).classed(`${this._options.className}__subtitlesArea`,this._options.className).attr("transform","translate(0, "+(this._options.height-this._options.barSubtitles.height)+")").attr("font-family",t).attr("font-size","10px").attr("fill","#777").attr("text-anchor","middle")}this._groupLabels=this._svg.append("g").classed(`${I}__groupLabelsArea`,true).classed(`${this._options.className}__groupLabelsArea`,this._options.className).attr("transform","translate(0, "+16+")").attr("font-family",t).attr("font-size","19");this._groupDividers=this._svg.append("g").classed(`${I}__groupDividersArea`,true).classed(`${this._options.className}__groupDividersArea`,this._options.className).attr("stroke","#d7d7d7").attr("stroke-width",1).attr("opacity",.9)}draw(e){let t=(0,o.ti)().range([0,this._options.width]).round(true).paddingInner(.42).domain(e.map(((e,t)=>t)));let a=(0,o.BY)().rangeRound([this._maxBarHeight-A,0]).domain([0,(0,s.Fp)(e,(e=>Array.isArray(e)?(0,s.Fp)(e,(e=>Number(e.value))):Number(e.value)))]);const n=e.reduce(((t,a,n)=>{if(n===0||e[n-1].groupName!==a.groupName){t.push(Object.assign(a,{originalIndex:n}))}return t}),[]);const i=this._svg.transition().delay(1e3).duration(600).ease(x.cC);this._drawBars(e,t,a,i);if(this._options.barValues.show){this._drawBarValues(e,t,a,i)}const r=e=>{let t=Array.isArray(e)?e[e.length-1].displayType:e.displayType;let a;if(Array.isArray(e)){a=e[e.length-1].titleColor||e[e.length-1].color}else{a=e.titleColor||e.color}return t==="unselected"?F:a};const l=this._titlesArea.selectAll(`.${I}__title`).data(e);const c=l.enter().append("text").classed(`${I}__title`,true).classed(`${this._options.className}__title`,this._options.className).attr("y",14).merge(l).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).text((e=>Array.isArray(e)?e[e.length-1].title:e.title)).attr("fill",r);if(this._options.barTitles.classNameModifier){c.classed(`${this._options.className}__title--${this._options.barTitles.classNameModifier}`,(e=>Array.isArray(e)?e[e.length-1].modifyTitle:e.modifyTitle))}l.exit().remove();if(this._options.barSubtitles.show){const a=this._subtitlesArea.selectAll(`.${I}__subtitle`).data(e);a.enter().append("text").merge(a).classed(`${I}__subtitle`,true).classed(`${this._options.className}__subtitle`,this._options.className).attr("y",8).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).filter((e=>Array.isArray(e)?e[e.length-1].subtitle&&e[e.length-1].subtitle.length:e.subtitle&&e.subtitle.length)).text((e=>Array.isArray(e)?e[e.length-1].subtitle:e.subtitle)).attr("fill",r)}const d=this._groupLabels.selectAll(`.${I}__groupLabel`).data(n);d.enter().append("text").classed(`${I}__groupLabel`,true).classed(`${this._options.className}__groupLabel`,this._options.className).attr("y",0).merge(d).attr("x",(e=>t(e.originalIndex))).text((e=>e.groupName));d.exit().remove();const u=this._groupDividers.selectAll(`.${I}__groupDivider`).data(n);u.enter().append("line").classed(`${I}__groupDivider`,true).classed(`${this._options.className}__groupDivider`,this._options.className).attr("y1",0).attr("y2",this._options.height).merge(u).attr("visibility",(e=>e.originalIndex===0?"hidden":"visible")).attr("x1",(e=>Math.round(t(e.originalIndex)-(t.step()-t.bandwidth())/2))).attr("x2",(e=>Math.round(t(e.originalIndex)-(t.step()-t.bandwidth())/2)));u.exit().remove();BambooHR.Components.Tooltip.init()}_drawBars(e,t,a,n){let s=e=>this._maxBarHeight-a(e.value);let i=e=>a(e.value);let o=this._barsArea.selectAll(`.${I}__barGroup`).data(e);let r=o.enter().append("g").classed(`${I}__barGroup`,true).classed(`${this._options.className}__barGroup`,this._options.className).attr("data-index",((e,t)=>t));r=o.merge(r).selectAll(`.${I}__bar`).data((e=>Array.isArray(e)?e:[e])).enter().append("rect").classed(`${I}__bar js-${I}__bar`,true).classed(`${this._options.className}__bar`,this._options.className).attr("height",s).attr("width",t.bandwidth()).attr("x",(function(){return t(this.parentNode.getAttribute("data-index"))})).attr("y",i).attr("rx","2").attr("ry","2").attr("data-tip-class",this._options.barTooltips.className).attr("data-tip-z-index","auto").attr("data-tip-content",(e=>e.tooltip)).attr("data-tip-lead",(e=>e.tooltipLead)).on("mouseenter",this._options.bars.mouseEvents.mouseenter||function(){(0,y.Ys)(this).style("opacity",.85)}).on("mouseleave",this._options.bars.mouseEvents.mouseleave||function(){(0,y.Ys)(this).style("opacity",1)}).on("click",(function(e){this.dispatchEvent(new CustomEvent("ba:barClick",{bubbles:true,detail:{data:e}}))}));if(this._options.useTransitions){r.attr("height",0).attr("y",this._maxBarHeight);r.transition(n).attr("height",s).attr("y",i)}if(this._options.bars.classNameModifier){r.classed(`${this._options.className}__bar--${this._options.bars.classNameModifier}`,(e=>e.modifyBar))}r.attr("fill",(e=>{if(e.displayType==="unselected"){return F}else if(e.displayType==="partial"){if(e.color){const t=e.color?e.color.replace("#",""):"";const a="#diagonalHatchPattern"+t;if(this._svg.select(a).empty()){this._addDefs(this._svg,e.color)}return`url(${a})`}return"url(#diagonalHatchPattern)"}return e.color}));r.exit().remove()}_drawBarValues(e,t,a,n){let{suffix:s}=this._options.barValues;let i=e=>a(e.value)-5;let o=this._valuesArea.selectAll(`.${I}__valueGroup`).data(e);let r=o.enter().append("g").classed(`${I}__valueGroup`,true).classed(`${this._options.className}__valueGroup`,this._options.className).attr("data-index",((e,t)=>t));r=o.merge(r).selectAll(`.${I}__value`).data((e=>Array.isArray(e)?e:[e])).enter().append("text").classed(`${I}__value`,true).classed(`${this._options.className}__value`,this._options.className).attr("x",(function(){return t(this.parentNode.getAttribute("data-index"))+t.bandwidth()/2})).attr("y",i);if(this._options.useTransitions){r.attr("y",this._maxBarHeight);r.transition(n).attr("y",i).tween("text",(function(e){var t=(0,T.sX)(0,e.value);var a=(0,y.Ys)(this);return function(e){var n=Math.ceil(t(e)*100)/100;a.text(s?n+s:n)}}))}else{r.text((e=>s?e.value+s:e.value))}r.attr("fill",(e=>e.displayType==="unselected"?F:e.color));r.exit().remove()}}var M=a(34387);const N="BarChartSingle";const D=1140;const L=993;const P={chartClass:"",title:{fill:["#777","#777"],icon:{name:"",width:"",height:"",fill:""}},defaultFill:"#ddd",container:{height:52,width:993},bar:{height:46,width:993,leftMargin:10,radius:3}};let O=0;class R{static get className(){return"BarChartSingle"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:P;(0,n.Z)(this,"titlePosition",((e,t)=>{let a;let n=e.title.width+e.title.icon.width+e.bar.leftMargin+10;if(n<t(e.bar.width)){a=e.bar.leftMargin;O=0}else{a=t(e.bar.width)+e.bar.leftMargin;O=1}return"translate("+a+", "+e.bar.height/2+")"}));(0,n.Z)(this,"makeRect",((e,t)=>{let a=t(e.bar.width||1);let n=e.bar.height;let s=e.bar.radius||3;return`\n\t\t\tM 0, 0\n\t\t\th ${a-s}\n\t\t\ta ${s}, ${s} 0 0 1 ${s}, ${s}\n\t\t\tv ${n-2*s}\n\t\t\ta ${s}, ${s} 0 0 1 -${s}, ${s}\n\t\t\th ${s-a}\n\t\t\tz\n\t\t`}));(0,n.Z)(this,"resize",(()=>{let e=document.querySelector(".ReportBody").offsetWidth;let t=document.querySelector(".NotHiredChartSetLegend").offsetWidth;if((0,c.inRange)(e,L,D)){this._options.container.width=e-t;var a=document.querySelectorAll(".BarChartSingle");for(var n=a.length;n--;){a[n].style.width=e-t+"px"}let s=(0,o.BY)().range([0,this._options.container.width]).domain([0,100]);this._updateBars([this._options],s)}}));this._selector=e;this._options=(0,c.defaultsDeep)({},t,P);this._createDom();const a=(0,c.throttle)(this.resize,20);window.addEventListener("resize",a)}_createDom(){let e=(0,y.Ys)(this._selector).append("div").attr("class",`${N} ${this._options.chartClass}`).style("height",`${this._options.container.height}px`).style("width",`${this._options.container.width}px`);this._svg=e.append("svg").attr("class",`${N}__bar`).attr("viewBox",`0 0 ${this._options.container.width} ${this._options.container.height}`).attr("preserveAspectRatio","xMaxYMin meet").style("height",`${this._options.container.height}px`).style("width",`${this._options.container.widthp}px`)}draw(e){let t=(0,o.BY)().range([0,e.container.width]).domain([0,100]);this._drawBars([e],t)}_updateBars(e,t){let a=this._svg.select("g").data(e);a.select("path").attr("d",(e=>this.makeRect(e,t)));a.select("g").attr("transform",(e=>this.titlePosition(e,t)))}_drawBars(e,t){let a=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("fill",(e=>e.defaultFill));a.append("path").attr("d",(e=>this.makeRect(e,t))).on("mouseenter",((e,t,a)=>{if(e.hasOwnProperty("popover")){this._onPathEnter(a[t].parentNode,e.popover)}}));let n=a.append("g").attr("transform",(e=>this.titlePosition(e,t))).attr("fill",(e=>e.title.fill[O])).attr("height",(e=>e.bar.height)).attr("width",(e=>e.title.width+e.title.icon.width+e.bar.leftMargin));let s=n.append("svg").attr("width",(e=>e.title.icon.width)).attr("height",(e=>e.title.icon.height)).attr("viewBox","0 0 18 18").attr("x",0).attr("y",(e=>-e.title.icon.height/2)).attr("xmlns:xlink","http://www.w3.org/1999/xlink");s.append("use").attr("xlink:href",(e=>e.title.icon.name));n.append("text").text((e=>e.title.text)).attr("x",(e=>e.title.icon.width+e.bar.leftMargin/2)).attr("y","0").attr("dy","0.7ex")}_onPathEnter(e,t){(0,y.Ys)(e).transition().duration(150).attr("y",0).attr("height",this._options.bar.height);if(!M.Z.hasInstance(e)){M.Z.create(e,{template:{name:"popover-standard",data:{title:t.title,content:t.content,rawContent:true,popoverClass:`${N}__popover ${this._options.chartClass}__popover`,titleCssOverride:{color:"#222222","text-align":"center","font-weight":"600","font-size":"18px"},contentCssOverride:{"text-align":"center"}}},position:"top",triggerEvent:"hover",showImmediately:true,closeX:false,push:2,delay:75})}}}var B=a(38592);var H=a(56445);const j="BarChartStacked";const z=1140;const q=993;const W=(0,B.getBrandColor)();const U=W["500"];const V={color:"#ddd",container:{height:62,width:993},bars:[{title:{fontFamily:"BhrHeaderFont, 'Trebuchet MS'",fontSize:"14px",fill:["#fff",U]},bar:{height:62,leftMargin:15}},{fill:"rgba(0, 0, 0, 0.2)",title:{fontFamily:"BhrHeaderFont, 'Trebuchet MS'",fontSize:"14px",fill:["#fff",U]},bar:{height:23,leftMargin:15}}]};let G=0;class Y{static get className(){return"BarChartStacked"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:V;(0,n.Z)(this,"titlePosition",((e,t,a,n)=>{let s=e.bar;let i=e.bar.height/3-1;if(t>0){s=a[0].__data__.bar;i=s.height-e.bar.height/2}let o;let r=e.title.width+s.icon.width+s.leftMargin+20;if(r<n(s.width)){o=s.leftMargin;G=0}else{o=n(s.width)+s.leftMargin;G=1}return"translate("+o+", "+i+")"}));(0,n.Z)(this,"makeRect",((e,t,a,n)=>{let s=e.bar.height;let i=e.bar.radius||3;let o;if(t===0){o=n(e.bar.width||1)}else{let t=n(a[0].__data__.bar.width||1);n.range([0,t]);o=n(e.bar.width);if(o<=9){o=9}}return`\n\t\t\tM 0, ${e.bar.y}\n\t\t\th ${o-i}\n\t\t\ta ${i}, ${i} 0 0 1 ${i}, ${i}\n\t\t\tv ${s-2*i}\n\t\t\ta ${i}, ${i} 0 0 1 -${i}, ${i}\n\t\t\th ${i-o}\n\t\t\tz\n\t\t`}));(0,n.Z)(this,"resize",(()=>{let e=document.querySelector(".ReportBody").offsetWidth;let t=document.querySelector(".ActiveStatusChartSetLegend").offsetWidth;if((0,c.inRange)(e,q,z)){this._options.container.width=e-t;var a=document.querySelectorAll(".BarChartStacked");for(var n=a.length;n--;){a[n].style.width=e-t+"px"}let s=(0,o.BY)().range([0,this._options.container.width]).domain([0,100]);this._updateBars(this._options.bars,s)}}));this._selector=e;this._options=(0,c.defaultsDeep)({},t,V);this._createDom(this._options);const a=(0,c.throttle)(this.resize,20);window.addEventListener("resize",a)}_createDom(e){let t=(0,y.Ys)(this._selector).append("div").attr("class",`${j}`).style("height",`${this._options.container.height}px`);this._svg=t.append("svg").attr("class",`${j}__bar`).attr("viewBox",`0 0 ${this._options.container.width} ${this._options.container.height}`).style("height",`${this._options.container.height}px`).style("width",`${this._options.container.width}px`)}draw(e){let t=(0,o.BY)().range([0,e.container.width]).domain([0,100]);this._drawBars(e.bars,t)}_updateBars(e,t){let a=this._svg.selectAll(".bar").data(e);a.select("path").attr("d",((e,a,n)=>this.makeRect(e,a,n,t)));a.select("g").attr("transform",((e,a,n)=>{t.range([0,this._options.container.width]);return this.titlePosition(e,a,n,t)})).attr("fill",(e=>e.title.fill[G]));a.select("text").styles({fill:e=>e.title.fill[G]})}_drawBars(e,t){let a=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("class","bar").attr("fill",(e=>e.fill));a.append("path").attr("d",((e,a,n)=>this.makeRect(e,a,n,t))).on("mouseenter",((e,t,a)=>{this._onPathEnter(a[t].parentNode,e)}));let n=a.append("g").attr("transform",((e,a,n)=>{t.range([0,this._options.container.width]);return this.titlePosition(e,a,n,t)})).attr("fill",(e=>e.title.fill[G])).attr("height",(e=>e.bar.height)).attr("width",(e=>e.title.width+e.bar.icon.width+e.bar.leftMargin));let s=n.append("svg").attr("width",(e=>e.bar.icon.width)).attr("height",(e=>e.bar.icon.height)).attr("viewBox","0 0 18 18").attr("x",0).attr("y",(e=>-e.bar.icon.height/2)).attr("xmlns:xlink","http://www.w3.org/1999/xlink");s.append("use").attr("xlink:href",(e=>e.bar.icon.name));n.append("text").text((e=>e.title.text)).attr("x",(e=>e.bar.icon.width+5)).attr("y",0).attr("dy","0.7ex").styles({"font-size":(e,t)=>this._options.bars[t].bar.fontSize,fill:e=>e.title.fill[G]})}_onPathEnter(e,t){(0,y.Ys)(e).transition().duration(150).attr("y",0).attr("height",t.bar.height);if(!M.Z.hasInstance(e)){M.Z.create(e,{template:{name:"popover-standard",data:{title:t.popover.title,content:t.popover.content,rawContent:true,popoverClass:`${j}__popover ${this._options.chartClass}__popover`,titleCssOverride:{color:"#222222","text-align":"center","font-weight":"600","font-size":"18px"},contentCssOverride:{"text-align":"center"}}},position:"top",triggerEvent:"hover",showImmediately:true,closeX:false,push:2,delay:75})}}}var K=a(82543);const X="DetailedMultiLineAreaChart";const J={chartClass:"",container:{height:433,width:560,margin:{top:27,right:20,bottom:10,left:20}},xAxisTickCount:l.Z.every(1),xAxisTickFormat:"MMM YYYY",yAxisLabel:null,yAxisLabelXOffset:0,yAxisMin:-100,yAxisMax:100,pathStrokeWidth:3};class Q extends b{static get className(){return"DetailedMultiLineAreaChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:J;let a=arguments.length>2?arguments[2]:undefined;let s=arguments.length>3?arguments[3]:undefined;super();(0,n.Z)(this,"_minYDrawnValue",0);(0,n.Z)(this,"_destroyPopover",void 0);(0,n.Z)(this,"_data",void 0);this._selector=e;this._CLASS_NAME=X;this._settings=(0,c.defaultsDeep)({},t,J);this._onMouseOver=a;this._onFocus=s;this._validateRequirements();this._createRoot()}draw(e){this._data=e;const{areas:t,xAxisExtraInfo:a}=e;this._areas=t;this._xAxisExtraInfo=a;this._allXPoints=t.map((e=>e.points.map((e=>e.x)))).reduce(((e,t)=>e.concat(t))).slice(0,this._areas[0].points.length).map((e=>this._resetTimeValues(e)));const{yAxisMin:n,yAxisMax:s}=this._settings;this._minYDrawnValue=n;this._xScale=this._getXScale(this._allXPoints);this._yScale=this._getYScale(n,s);this._svg.style("overflow","visible");this._drawYAxis();this._drawXAxis();this._drawAreas()}_getXScale(e){const{container:{margin:t}}=this._settings;return(0,o.BY)().domain([0,e.length-1]).range([t.left,this._getContainerWidth()-t.right])}_getYScale(e,t){const{container:{height:a,margin:n}}=this._settings;return(0,o.BY)().domain([e,t]).nice().range([a-n.bottom,n.top])}_drawAreas(){this._drawAreaGroups();this._drawDivider();this._drawLineGroups();this._drawMouseOverAreas()}_drawDivider(){const e=this._svg.selectAll(this._getClassList("dividerLine")).data([this._allXPoints]);const t=e.enter().append("line").attr("class",this._buildClassList("dividerLine")).attr("y1",this._yScale(0)).attr("y2",this._yScale(0)).style("stroke","white").style("stroke-width",3);const a=e.merge(t);a.attr("x1",(e=>this._xScale(0))).attr("x2",(e=>this._xScale(e.length-1)));e.exit().remove()}_drawXAxis(){const{container:{height:e},xAxisTickFormat:t}=this._settings;const a=this._svg;const n=this._allXPoints;this._xScale.domain([0,this._allXPoints.length-1]);const s=(0,i.axisBottom)(this._xScale).tickValues([0,1,2,3]).tickFormat((e=>K(n[e]).format(t)));const o=a.select(this._getClassList("__xAxis")).empty();if(o){a.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(0, ${e})`).call(s)}else{a.select(this._getClassList("__xAxis")).call(s)}a.select(this._getClassList("__xAxis")).attr("font-family",`'Lato', sans-serif`);a.select(this._getClassList("__xAxis")).select(".domain").remove();a.select(this._getClassList("__xAxis")).selectAll(".tick line").remove();a.select(this._getClassList("__xAxis")).selectAll(".tick text").attr("class","yAxisLabel__label")}_drawYAxis(){const{container:{margin:e,width:t},yAxisLabel:a,yAxisLabelXOffset:n}=this._settings;const s=this._svg;const o=(0,i.axisLeft)(this._yScale);const r=s.select(this._getClassList("__yAxis")).empty();if(r){s.append("g").attr("class",this._buildClassList("__yAxis")).call(o)}else{s.select(this._getClassList("__yAxis")).call(o)}s.select(this._getClassList("__yAxis")).attr("font-family",`'Lato', sans-serif`);if(a){s.select(this._getClassList("__yAxis")).append("text").text(a).attr("class","yAxisLabel").attr("x",n)}s.select(this._getClassList("__yAxis")).selectAll("line").attr("x2",t).attr("stroke-dasharray","3 5").style("stroke","#adadad");s.select(this._getClassList("__yAxis")).select(".domain").remove();s.select(this._getClassList("__yAxis")).selectAll(".tick text").attr("class","yAxisLabel");const l=s.select(this._getClassList("__yAxis")).selectAll(".tick");const c=(l.size()+1)/2;const d=s.select(this._getClassList("__yAxis")).select(`.tick:nth-child(${c})`);d.select("line").remove();d.append("line").attr("x2",e.left).style("stroke","#e0e0e0");d.append("line").attr("x1",t-e.right).attr("x2",t).style("stroke","#e0e0e0")}_drawAreaGroups(){const e=this._svg;const t=e.selectAll(this._getClassList("__areaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__areaGroup")}`).attr("id",((e,t)=>`area-${t}`));const n=t.merge(a);const s=(0,r.SO)().x(((e,t)=>this._xScale(t))).y0((e=>this._yScale(0))).y1((e=>this._yScale(e.y)));a.append("path").attr("class",`AreaChart--themeFill ${this._buildClassList("__area")}`).style("fill",((e,t)=>this._getAreaColor(t)));n.select(this._getClassList("__area")).attr("d",(e=>s(e.points)));t.exit().remove()}_getAreaColor(e){const{colors:t}=this._settings;switch(e){case 0:return t.likes.promoters;case 1:return t.likes.neutrals;case 2:return t.likes.detractors;case 3:return t.dislikes.detractors;case 4:return t.dislikes.neutrals;case 5:return t.dislikes.promoters;default:return""}}_drawMouseOverAreas(){const e=this._svg;const t=(0,H.ifFeature)("encore",getComputedStyle(document.body)?.getPropertyValue("--gray6"),"#686868");const a=e.selectAll(this._getClassList("__hoverAreaGroup")).style("display","initial").data([this._areas[0],this._areas[3]]);const n=a.enter().append("g").attr("class",`${this._buildClassList("__hoverAreaGroup")}`).attr("id",((e,t)=>`hover${t}`));const s=(0,r.SO)().x((e=>e.x)).y0((e=>this._yScale(0))).y1((e=>e.y));const i=n.selectAll(this._getClassList("__hoverArea")).data((e=>e.points));const o=i.enter().append("path").classed(this._buildClassList("__hoverArea"),true).style("fill","transparent");const l=i.merge(o);l.attr("d",((e,t)=>{const a=this._areas.find((t=>t.points.includes(e)));const n=this._areas.indexOf(a)===0;const i=[];const o=a.points[t-1]?this._xScale(t-1):null;const r=this._xScale(t);const l=a.points[t+1]?this._xScale(t+1):null;if(o!==null){i.push((r+o)/2)}i.push(r);if(l!==null){i.push((l+r)/2)}const c=[];const d=a.points[t-1]?this._yScale(a.points[t-1].y):null;const u=this._yScale(e.y);const h=a.points[t+1]?this._yScale(a.points[t+1].y):null;if(d!==null){if(u>d){c.push((u+d)/2)}else{c.push((d+u)/2)}}c.push(u);if(h!==null){if(h>u){c.push((h+u)/2)}else{c.push((u+h)/2)}}return s(i.map(((e,t)=>({x:e,y:c[t]}))))})).on("mouseover",(t=>{const a=this._areas.find((e=>e.points.includes(t)));const n=this._areas.indexOf(a)===0;const s=a.points.indexOf(t);const i=this._areas.indexOf(a);const o=Math.abs(this._areas[i+1].points[s].y);const r=Math.abs(this._areas[i+2].points[s].y);const l=Math.abs(t.y);this._addHoverGroup(t,a);const c=this._svg.select("#primaryHoverPoint");this._destroyPopover=this._onMouseOver({detail:{data:{count:l,isPositive:n,promoters:Math.abs(n?l-o:r),neutrals:Math.abs(o-r),detractors:Math.abs(n?r:l-o)}},target:c.node()});e.select(`${this._getClassList("__xAxis")} .tick:nth-child(${s+1}) text`).classed("focusedAreaLabel",true).style("font-weight","bold").style("fill","#555")})).on("mouseleave",(a=>{this._removeHoverGroup(a);this._destroyPopover();e.select(".focusedAreaLabel").classed("focusedAreaLabel",false).style("font-weight","normal").style("fill",t)}));i.exit().remove();a.exit().remove()}_addHoverGroup(e,t){const a=this._svg;const n=t.points.indexOf(e);const s=this._areas.indexOf(t);const i=this._areas[s+1].points[n];const o=this._areas[s+2].points[n];const l=this._areas.indexOf(t)===0;const{colors:c}=this._settings;const d=(0,r.jv)().x((e=>this._xScale(n))).y((e=>this._yScale(e.y)));const u=a.append("g").attr("id","hoverGroup").style("pointer-events","none");u.append("path").style("fill","none").style("stroke","black").style("stroke-width","2px").style("opacity","0.15").attr("d",d([{x:e.x,y:0},{x:e.x,y:e.y}]));u.append("circle").attr("id","primaryHoverPoint").attr("r",6).attr("cx",this._xScale(n)).attr("cy",this._yScale(e.y)).style("fill",l?c.likes.hoverPoint:c.dislikes.hoverPoint);u.append("circle").attr("r",3).attr("cx",this._xScale(n)).attr("cy",this._yScale(e.y)).style("fill","#fff");u.append("circle").attr("r",3).attr("cx",this._xScale(n)).attr("cy",this._yScale(i.y)).style("fill",l?c.likes.hoverPoint:c.dislikes.hoverPoint);u.append("circle").attr("r",3).attr("cx",this._xScale(n)).attr("cy",this._yScale(o.y)).style("fill",l?c.likes.hoverPoint:c.dislikes.hoverPoint)}_removeHoverGroup(){this._svg.select(`#hoverGroup`).remove()}_drawLineGroups(){const e=this._svg;const t=this._settings;const a=e.selectAll(this._getClassList("__lineGroup")).style("display","initial").data([this._areas[1],this._areas[2],this._areas[4],this._areas[5],this._areas[0],this._areas[3]]);const n=a.enter().append("g").attr("class",`${this._buildClassList("__lineGroup")}`).attr("id",((e,t)=>`line-${t}`));const s=a.merge(n);const i=(0,r.jv)().x(((e,t)=>this._xScale(t))).y((e=>this._yScale(e.y)));n.append("path").attr("class",this._buildClassList("__line")).style("fill","none").style("stroke",((e,t)=>this._getLineColors(t))).style("stroke-width",((e,a)=>{if(a===4||a===5){return`${t.pathStrokeWidth}px`}return"1px"}));this._addLineGroupCircles();s.select(this._getClassList("__line")).attr("d",(e=>i(e.points)));a.exit().remove()}_addLineGroupCircles(){const e=this._svg;const{colors:t}=this._settings;const a=this._areas[0];const n=a.points[0];const s=a.points.find(((e,t,a)=>t===a.length-1));const i=this._areas[3];const o=i.points[0];const r=i.points.find(((e,t,a)=>t===a.length-1));const l=e.select("#line-0");const c=l.selectAll("circle").data([n,s]);const d=c.enter().append("circle").attr("r",4).style("fill",t.likes.line);const u=c.merge(d);u.attr("cx",((e,t)=>this._xScale(t===0?t:a.points.length-1))).attr("cy",(e=>this._yScale(e.y)));c.exit().remove();const h=e.select("#line-3");const p=h.selectAll("circle").data([o,r]);const m=p.enter().append("circle").attr("r",4).style("fill",t.dislikes.line);const f=p.merge(m);f.attr("cx",((e,t)=>this._xScale(t===0?t:i.points.length-1))).attr("cy",(e=>this._yScale(e.y)));p.exit().remove()}_getLineColors(e){const{colors:t}=this._settings;switch(e){case 4:return t.likes.line;case 5:return t.dislikes.line;default:return"rgba(255, 255, 255, 0.4)"}}_resetTimeValues(e){const t=new Date(e);return t.setHours(0,0,0,0)}resize(){(0,y.Ys)(this._selector).select("div").remove();this._createRoot();this.draw(this._data)}}var ee=a(80298);class te{static get className(){return"EventRegistry"}constructor(){this.eventHandlers={}}on(e,t){if(!this.eventHandlers[e]){this.eventHandlers[e]=[]}this.eventHandlers[e].push(t)}off(e,t){const a=this.eventHandlers[e];if(!a||!a.length){return}const n=a.indexOf(t);if(n>-1){a.splice(n,1)}}trigger(e){const t=Array.prototype.slice.call(arguments,1);const a=this.eventHandlers[e];if(!a||!a.length){return}a.forEach((e=>{e(...t)}))}}var ae=te;var ne=a(78144);function se(e,t,a,n){let s=ie(e,t,a,n)||oe(e,t,a,n);if(s){return{startAngle:s.endAngle,endAngle:s.endAngle}}return null}function ie(e,t,a,n){var s=t.length;while(--e>=0){var i=n(a[e]);for(var o=0;o<s;++o){if(n(t[o])===i){return t[o]}}}}function oe(e,t,a,n){var s=a.length;var i=t.length;while(++e<s){var o=n(a[e]);for(var r=0;r<i;++r){if(n(t[r])===o){return t[r]}}}}const re="BhrDonut";const le={chartClass:"",icon:{visible:true},size:260,valueLabel:{visible:true},useRelativeSizes:{label:true,percentage:true,percentageSign:true}};const ce={placeholderLabelFontSize:.063,valueFontSize:.194,valueLabelFontSize:.067,valuePercentageSignFontSize:.109};const de={placeholderLabelFontSize:13};const ue=750;function he(e,t){return t}class pe extends ae{static get className(){return"Donut"}constructor(e,t){super();this._options=(0,c.defaultsDeep)({},t,le);this._size=this._options.size;this._radius=this._size*.5;this._setUpDom(e)}_setUpDom(e){const t=this._options.size;const a=t*.125;const n=a*.3;const s=t/2;const i=s-a*1.5;const o=(0,y.Ys)(e).append("div").attr("class",`${re} ${this._options.chartClass}`).styles({height:`${t}px`,width:`${t}px`});const l=o.append("svg").attr("preserveAspectRatio","xMidYMid meet").attr("width","100%").attr("height","100%").attr("style","box-sizing: border-box;").attr("viewBox",`0 0 ${t} ${t}`);this._donutGroup=l.append("g").attr("transform",`translate(${s}, ${s})`);this._donutPathGroup=this._donutGroup.append("g");this._chartArc=(0,r.Nb)().innerRadius(i).outerRadius(s-a/2);this._chartArcOver=(0,r.Nb)().innerRadius(i).outerRadius(s);this._donutGroup.append("circle").attr("r",i+n/2).attr("style","stroke-opacity: 0.1; fill: none; stroke: #000000; pointer-events: none;").style("stroke-width",n);this._setUpContentDom(o,i)}_setUpContentDom(e,t){let a=Math.sqrt(Math.pow(t,2)*2);let n=e.append("div").attr("class",`${re}__container ${this._options.chartClass}__container`).attr("style",(0,ne.j6)(`\n\t\t\t\t\theight: ${a}px;\n\t\t\t\t\tmargin-left: ${-a/2}px;\n\t\t\t\t\tmargin-top: ${-a/2}px;\n\t\t\t\t\twidth: ${a}px\n\t\t\t\t`));this._setUpPlaceholderDom(n);this._setUpValueDom(n)}_setUpPlaceholderDom(e){this._placeholderContainer=e.append("div").attr("class",`${re}__content ${this._options.chartClass}__content`);if(this._options.icon.visible){this._placeholderIcon=this._placeholderContainer.append("svg").attr("class",`${re}__icon ${this._options.chartClass}__icon js-BhrPercentDonutChart-icon-svg`).attr("xmlns:xlink","http://www.w3.org/1999/xlink");this._placeholderIcon.append("use")}this._placeholderTitle=this._placeholderContainer.append("div").attr("class",`${re}__title ${this._options.chartClass}__title`);this._placeholderLabel=this._placeholderContainer.append("div").attr("class",`${re}__label ${this._options.chartClass}__label`)}_setUpValueDom(e){this._value=e.append("div").attr("class",`${re}__value ${this._options.chartClass}__value`);this._valuePercentage=this._value.append("span");this._valuePercentageSign=this._value.append("span").text("%");if(this._options.valueLabel.visible){this._valueLabel=this._value.append("div").attr("class",`${re}__valueLabel ${this._options.chartClass}__valueLabel`)}}_getIconObject(e){const t=/-(\d+)x(\d+)$/;let a=e;let n;let s,i;if(typeof e!=="string"||e.trim()===""){throw new Error("Icon name is missing a value")}n=t.exec(e);if(n){i=Number(n[1]);s=Number(n[2]);if((0,c.startsWith)(e,"fab-")){a=window.Res.get("",null,false)+"#"+e}}else if(e.indexOf("#")!==0){throw new Error(`${e} is an invalid icon name. Icon names must end with dimensions. Example: "-1x1".`)}return{height:s,path:a,width:i}}draw(e){const t=typeof e.icon==="string"?this._getIconObject(e.icon):e.icon;this._sizes=this._getSizes();this._trigger=false;this._drawPaths(e.data);if(this._options.useRelativeSizes.label){this._placeholderLabel.style("font-size",this._sizes.placeholderLabelFontSize+"px").style("line-height",this._sizes.placeholderLabelFontSize+2+"px")}if(!this._options.hidePlaceholderLabel){this._placeholderLabel.text(e.name)}if(t&&this._options.icon.visible){this._placeholderIcon.attr("height",(t.height||0)+"px").attr("width",(t.width||0)+"px");this._placeholderIcon.select("use").attr("xlink:href",t.path)}else if(this._options.hidePlaceholderTitle){this._placeholderTitle.text("")}else{this._placeholderTitle.text(e.totalCount)}}_drawPaths(e){const t=(0,r.ve)().padAngle(.015).value((e=>e.count)).sort(null);const a=this._donutPathGroup.selectAll("path");const n=a.data();const i=t(e.filter((e=>!!e.count)));const o=(0,s.Sm)(e,(e=>e.count));let l=a.data(i,he);let c,d,u;c=l.enter().append("path").each((function(e,t){this._current=se(t,n,i,he)||e}));d=c.merge(l).attr("id",(e=>e.data.id)).attr("fill",(e=>e.data.color));this._addSlideTransition(d,o);u=l.exit().datum((function(e,t){return se(t,i,n,he)||e}));this._addSlideTransition(u,o).remove()}_getSizes(){return Object.keys(ce).reduce(((e,t)=>{let a=Math.round(ce[t]*this._options.size);let n=de[t]||0;e[t]=Math.max(a,n);return e}),{})}_addSlideTransition(e,t){const a=this;const n=function(e){const t=(0,T.sX)(this._current,e);this._current=t(0);return function(e){var n=t(e);return a._chartArc(n)}};return e.on("mouseenter",null).on("mouseleave",null).transition().duration(ue).attrTween("d",n).on("end",(function(){(0,y.Ys)(this).on("mouseenter",(function(e){a._onPathEnter((0,y.Ys)(this),e,t)})).on("mouseleave",(function(e){a._onPathLeave((0,y.Ys)(this),e,t)}))}))}_onPathEnter(e,t,a){let n=this._getSizes();this._trigger=true;setTimeout((()=>{if(this._trigger){e.node().dispatchEvent(new CustomEvent("ba:donutSliceEnter",{bubbles:true,detail:t.data}));this.trigger("sliceEnter",t.data,e.node());this._value.styles({color:t.data.color,display:"block"});this._valuePercentage.text(Math.round(t.data.count/a*100));if(this._options.useRelativeSizes.percentage){this._valuePercentage.style("font-size",n.valueFontSize+"px")}if(this._options.useRelativeSizes.percentageSign){this._valuePercentageSign.style("font-size",n.valuePercentageSignFontSize+"px")}if(this._options.valueLabel.visible){this._valueLabel.text(t.data.label).styles({color:t.data.color,"font-size":n.valueLabelFontSize+"px"})}this._placeholderContainer.style("display","none");e.transition().duration(150).ease(x.sq).attr("d",this._chartArcOver)}}),150)}_onPathLeave(e,t,a){this._trigger=false;setTimeout((()=>{e.node().dispatchEvent(new CustomEvent("ba:donutSliceLeave",{bubbles:true,detail:t.data}));this.trigger("sliceLeave",t.data,e.node());if(!this._trigger){this._value.style("display","none");this._placeholderContainer.style("display","block")}e.transition().duration(150).ease(x.sq).attr("d",this._chartArc)}),150)}}var me=pe;var fe=a(60042);var ge=a.n(fe);var $=a(26570);const ve=(0,v.isEnabled)("ElfDeepLinking");const _e="BhrLegend";const ye={chartClass:"",showCounts:true,truncate:true,onClick:null};class be{static get className(){return"Legend"}constructor(e,t){this._options=(0,c.defaultsDeep)({},t,ye);this._setUpDom(e)}_setUpDom(e){const t=(0,y.Ys)(e).append("div").attr("class",ge()(`${_e}`,{[`${this._options.chartClass}`]:this._options.chartClass}));this._legendList=t.append("ul").attr("class",ge()(`${_e}__legendList`,{[`${this._options.chartClass}__legendList`]:this._options.chartClass,[`${_e}__legendList--columnLayout`]:this._options.columnLayout}));this._total=t.append("div").attr("class",ge()(`${_e}__total`,{[`${this._options.chartClass}__total`]:this._options.chartClass}));this._total.append("span").style("flex-grow",1).text($.__("Total"));this._totalCount=this._total.append("span")}draw(e){let t,a;const n=(0,s.Sm)(e,(e=>e.count));const i=e.slice();t=this._legendList.selectAll(".js-BhrPercentDonutChart-legendItem").data(i);t.exit().remove();a=t.enter().append("li").attr("class",ge()({[`${_e}__legendItem`]:true,[`${this._options.chartClass}__legendItem`]:this._options.chartClass,"js-BhrPercentDonutChart-legendItem":true}));if(this._options.onClick){a.attr("style","cursor: pointer").on("click",this._options.onClick)}a.append("span").attr("class",ge()({[`${_e}__swatch`]:true,[`${this._options.chartClass}__swatch`]:this._options.chartClass,"js-BhrPercentDonutChart-swatch":true}));const o=this._options.truncate?"truncate":"";a.append("span").attr("class",ge()({[`${_e}__legendText`]:true,[`${this._options.chartClass}__legendText`]:this._options.chartClass,"js-BhrPercentDonutChart-legendText":true,[`${o}`]:o}));t=a.merge(t);t.filter((function(e){return e.isTotal})).styles({"border-top":"1px solid #d8d8d8","padding-top":"8px"});t.select(".js-BhrPercentDonutChart-legendText").attr("id",(e=>e.id)).style("font-weight",(e=>e.color===null?"600":"normal")).text((e=>e.label)).filter((e=>e.subLabel)).append("span").attr("class",ge()(`${_e}__legendSubLabel`,{[`${this._options.chartClass}__legendSubLabel`]:this._options.chartClass})).text((e=>e.subLabel)).style("font-weight","normal");t.select(".js-BhrPercentDonutChart-swatch").style("background-color",(e=>e.color));if(this._options.showCounts){this._total.style("display","flex");this._totalCount.text(n);this._drawLegendItemCounts(t)}else{this._total.style("display","none")}}_drawLegendItemCounts(e){const t=e.selectAll(".js-BhrPercentDonutChart-legendCount").data((e=>[e]));t.enter().append("span").attr("class",ge()(`${_e}__legendCount`,{[`${this._options.chartClass}__legendCount`]:this._options.chartClass,"js-BhrPercentDonutChart-legendCount":true})).merge(t).text((e=>{if(!e.hasOwnProperty("countDetailLink")||e.countDetailLink===null){return e.count}return null})).filter((e=>e.hasOwnProperty("countDetailLink")&&e.countDetailLink!==null)).append("a").attr("href",ve&&this._options.onClick?null:e=>e.countDetailLink).text((e=>e.count));t.exit().remove()}sliceEnter(e){this._legendList.selectAll(".js-BhrPercentDonutChart-legendText").filter((t=>t.id===e)).style("font-weight","600")}sliceLeave(e){this._legendList.selectAll(".js-BhrPercentDonutChart-legendText").filter((t=>t.id===e)).style("font-weight","normal")}}var we=a(26570);const Ce="DonutPercentageChart";const Se={chartClass:"",color:["#8aba00","#e8454d","#f96422","#7092eb","#d05489","#3bab38","#ffcb15","#11b9aa","#9a6dc8","#1b8ab4","#6a6a6a"],getColor:null,donut:{},groupedPopoverTemplate:"",legend:{},maxVisibleItems:7,preserveOrder:true,boldLegendOnSliceHover:false};class Ee extends ae{static get className(){return"DonutPercentageChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Se;let a;super();this._options=(0,c.defaultsDeep)({},t,Se);a=we("<div>").attr("class",`${Ce} ${this._options.chartClass}`);this.element=typeof e==="string"?document.querySelector(e):e;a.appendTo(this.element);this._donut=new me(a[0],this._options.donut);this._donut.on("sliceEnter",this._sliceEnterHandler.bind(this));this._donut.on("sliceLeave",this._sliceLeaveHandler.bind(this));this._legend=new be(a[0],this._options.legend)}draw(e){const t=this._createInternalModel(e);this._donut.draw(t.visible);this._legend.draw(t.visible.data)}_createInternalModel(e){let{maxVisibleItems:t}=this._options;let a,n;let i=e.data;e=(0,c.cloneDeep)(e);if(e.data.length>this._options.maxVisibleItems){t--}if(!this._options.preserveOrder){i=i.sort(((e,t)=>t.count-e.count))}a=i.slice(t);n=i.slice(0,t);if(a.length){n.push({label:we.__("Other"),count:(0,s.Sm)(a,(e=>e.count)),items:a})}e.data=n.map(((e,t)=>{e.color=this._options.color[t];if(typeof this._options.getColor==="function"){e.color=this._options.getColor(e.label)}e.id=(0,c.uniqueId)("donut-percentage-item-");return e}));return{visible:e}}_sliceEnterHandler(e,t){this.trigger("sliceEnter",...arguments);if(this._options.boldLegendOnSliceHover){this._legend.sliceEnter(t.id)}if(!e.items){return}if(this._options.groupedPopoverTemplate){this._groupedPopover=M.Z.create(t,{closeX:false,html:microTemplate(this._options.groupedPopoverTemplate,{data:e})}).show()}}_sliceLeaveHandler(e,t){this.trigger("sliceLeave",...arguments);if(this._options.boldLegendOnSliceHover){this._legend.sliceLeave(t.id)}if(this._groupedPopover){this._groupedPopover.destroy();this._groupedPopover=null}}}const xe="GroupedSliceChart";const Te={bar:{margin:20,width:60,height:162,minCount:3},chartClass:"",colors:["#8db812","#5b9fb2","#f19d11","#db6021"],height:200,reverseCellOrder:true,showEmptyBar:true,width:330};class ke{static get className(){return"GroupedSliceChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Te;this._selector=e;this._options=defaultsDeep({},t,Te);this._svg=this._createSvg()}_createSvg(){let e=select(this._selector).append("div");let t=e.append("svg").attr("viewBox",`0 0 ${this._options.width} ${this._options.height}`);t.style("height",`${this._options.height}px`).style("width",`${this._options.width}px`);return t}draw(e){let t=[];if(e.hasData){let a=this._options.reverseCellOrder?stackOrderReverse:stackOrderAscending;let n=stack().keys(e.keys).order(a);t=n(e.values)}let a=scaleLinear().range([this._options.bar.height,0]).domain([0,1]);let n=scaleBand().range([0,this._options.width]).round(true).paddingInner(.445).paddingOuter(.2225).domain(e.values.map(((e,t)=>t)));let s=scaleOrdinal(this._options.colors);this._drawTitles(e.values,n);if(this._options.showEmptyBar){this._drawEmptyBars(e.values,n)}this._drawAxis(n);if(e.hasData){this._drawBars(t,n,a,s)}this._drawLabels(e.values,n)}_drawTitles(e,t){const a=this._svg.append("g").selectAll("text").data(e);a.enter().append("text").attr("class",`${xe}__title ${this._options.chartClass}__title`).merge(a).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).attr("text-anchor","middle").attr("y",this._options.bar.margin/2).text((e=>this._setText(e,e.title)))}_setText(e,t){let a="";if(e.isEmpty){a=this._options.showEmptyBar?t:""}else{a=t}return a}_drawEmptyBars(e,t){const a=this._svg.selectAll(`${xe}__emptyBar ${this._options.chartClass}__emptyBar`).data(e);a.enter().filter((e=>e.isEmpty)).append("rect").attr("transform",`translate(0, ${this._options.bar.margin})`).attr("class",`${xe}__emptyBar ${this._options.chartClass}__emptyBar`).attr("x",(e=>t(e.xPosition))).attr("width",(()=>t.bandwidth())).attr("y",0).attr("height",this._options.bar.height-2)}_drawAxis(e){let t=axisTop().tickSize(0).tickValues([]).scale(e);for(var a=1;a<4;a++){this._svg.append("g").attr("class",`${xe}__axis ${this._options.chartClass}__axis`).attr("transform",`translate(0,${Math.round(this._options.bar.margin+this._options.bar.height/4*a)-2})`).call(t)}}_drawBars(e,t,a,n){let s=this;const i=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("transform",`translate(0, ${this._options.bar.margin})`).attr("class",`${xe}__stackedBar ${this._options.chartClass}__stackedBar`).attr("fill",(e=>n(e.key)));const o=i.selectAll("rect").data((e=>e));o.enter().append("rect").merge(o).attr("x",((e,a)=>t(a))).attr("width",(()=>t.bandwidth())).attr("y",(e=>e.data.isEmpty?0:a(e[1]))).attr("height",(e=>{let t=a(e[0])-a(e[1])-2;t=t>0?t:0;return e.data.isEmpty?0:t})).attr("class",`${xe}__cell ${this._options.chartClass}__cell`).on("mouseenter",(function(e){if(!Popover.hasInstance(this)){let t=this.parentNode.getAttribute("fill");Popover.create(this,{html:`<div class="${xe}__percentage ${s._options.chartClass}__percentage" style="color: ${t}">${Math.round((e[1]-e[0])*100)}%</div>`,position:"left",triggerEvent:"hover",showImmediately:true,closeX:false,push:-14,tailSize:8})}}))}_drawLabels(e,t){const a=this._svg.append("g").selectAll("text").data(e);a.enter().append("text").attr("class",`${xe}__label ${this._options.chartClass}__label`).merge(a).attr("x",((e,a)=>t(a)+t.bandwidth()/2)).attr("text-anchor","middle").attr("y",this._options.height-this._options.bar.margin/2+6).text((e=>this._setText(e,e.label)))}}function Ie(e){const{bars:t}=e;const a=this.getSettings();const{container:n}=a;const{top:i,right:r,left:l}=n.margin;const{spacing:c}=a.labelText;const{spacing:d}=a.valueText;const{padding:u,height:h,colors:v,cursor:y="default"}=a.bar;const b=25;const w=(0,s.Fp)(t.map((e=>parseInt(e.value))));const C=this._convertValueLengthToPixelSpace(w);const S=this._getContainerWidth()-l-r;const E=S-C-b;const x=(0,o.BY)().domain([0,w]).range([0,E]);const T=(0,o.PK)().domain(t).range(v);const k=this._svg.selectAll(`g${this._getClassList("Group")}`).data(t);const I=k.enter().append("g").attr("class",this._buildClassList("Group")).attr("transform",(function(e,t){const a=i;const n=t*(h+u)+u;return`translate(${a}, ${n})`}));k.select(this._getClassList("__bar")).transition().duration(1e3).attr("width",(e=>x(e.value)));k.select(this._getClassList("__label")).transition().duration(1e3).style("opacity",0).transition().duration(500).style("opacity",1).text((e=>e.title));k.select(this._getClassList("__value")).transition().duration(1e3).style("opacity",0).attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,x(e.value))})).transition().duration(500).style("opacity",1).text((e=>e.value));k.exit().transition().duration(1e3).style("opacity",0).remove();I.append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",y).attr("fill",(e=>T(e))).attr("height",h).attr("width",(e=>x(e.value))).attr("transform",`translate(0, 0)`).on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);I.append("text").attr("class",this._buildClassList("__label")).attr("y",h-h-c).attr("x",0).attr("dy",".65em").style("fill",(e=>this._settings.labelText.color)).text((e=>e.title));I.append("text").attr("class",this._buildClassList("__value")).attr("y",h/2).attr("dx",d).attr("dy",".35em").attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,x(e.value))})).style("fill",(e=>this._settings.valueText.color)).text((e=>{if(typeof this._settings.bar.formatTextFunction==="function"){return this._settings.bar.formatTextFunction(e.value)}return e.value}))}function Ae(e,t){if(e&&t.length>e){return`${t.substring(0,e-3)}...`}return t}function Fe(e){const{bars:t}=e;const a=this.getSettings();const{container:n}=a;const{top:i,right:r,left:l}=n.margin;const{width:c,fill:d}=a.labelText;const{spacing:u,valueEdgePadding:h}=a.valueText;const{padding:v,height:y,colors:b,cursor:w="default"}=a.bar;const C=(0,s.Fp)(t.map((e=>parseInt(e.value))));const S=this._convertValueLengthToPixelSpace(C);const E=this._getContainerWidth()-l-r;const x=E-S;const T=x-h-a.labelText.width;const k=(0,o.BY)().domain([0,C]).range([0,T-r]);const I=(0,o.PK)().domain(t).range(b);const A=this._svg.selectAll(`g${this._getClassList("__chartContainer")}`).data(t);const F=A.enter().append("g").attr("class",this._buildClassList("__chartContainer")).attr("transform",((e,t)=>{const n=i+a.labelText.width;const s=t*(y+v)+v;return`translate(${n}, ${s})`}));const Z=this._g.selectAll(this._getClassList("__label")).data(t);A.select(this._getClassList("__bar")).transition().duration(1e3).attr("width",(e=>k(e.value)));A.select(this._getClassList("__value")).transition().duration(1e3).style("opacity",0).attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,k(e.value))})).transition().duration(500).style("opacity",1).text((e=>e.value));Z.transition().duration(1e3).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ae(a,t)}));A.exit().transition().duration(1e3).style("opacity",0).remove();Z.exit().transition().duration(1e3).style("opacity",0).remove();F.append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",w).attr("fill",(e=>I(e))).attr("width",(e=>k(e.value))).attr("height",y).attr("transform","translate(0, 0)").on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);F.append("text").attr("class",this._buildClassList("__value")).attr("y",y/2).attr("dx",u).attr("dy",".35em").attr("x",(function(e){const{width:t}=this.getBBox();return Math.max(t,k(e.value))})).style("fill",(e=>I(e))).text((e=>{if(typeof this._settings.bar.formatTextFunction==="function"){return this._settings.bar.formatTextFunction(e.value)}return e.value}));Z.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){return t*(y+v)+v})).attr("x",0).attr("dx",u).attr("dy","0.9em").attr("fill",d).attr("width",c).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ae(a,t)}))}function Ze(e){const t=this.getSettings();const{container:a}=t;const{showAxis:n,label:l,labelLength:d}=a.axis;const{top:u,right:h,bottom:v,left:b}=a.margin;const{width:w,fill:C,labelPosition:S}=t.labelText;const{spacing:E,showTotalValueType:x,color:T,valueEdgePadding:k,showZero:I}=t.valueText;const{padding:A,height:F,colors:Z,cursor:M="default"}=t.bar;const N=this._getContainerWidth()-b-h;const D=a.height-u-v;const L=t=>{const a=[];(0,c.map)(t,(function(t,n){e.barKeys.forEach((e=>{if(e==n){a.push(+t)}}))}));return a};const P=function(e){switch(x){case"total":return e.reduce(((e,t)=>e+t),0);case"stacked":return e.join("/");case"none":case"default":return""}};const O=e=>{e.selectAll(".tick line").attr("transform","translate(-2 ,0)")};const R=e=>{e.selectAll(".tick text").each((function(e,t){if(t===0){return}(0,y.Ys)(this).attr("transform","translate(-2, 0)")}))};const B=e=>{let t=[];e.forEach((e=>{if((0,c.sum)(e)>(0,c.sum)(t)){t=e}}));return t};const H=function(e){switch(x){case"total":{const e=(0,y.Ys)(this).text("");e.append("tspan").style("fill",T).text(te);break}case"stacked":{if(e.values){const t=(0,y.Ys)(this).text("");e.values.forEach(((a,n)=>{t.append("tspan").style("fill",J(n)).text((()=>{if(a===0){if(I===true&&n===0){return 0}return""}else if(e.values.length-1===n&&e.values[n-1]){return`/${a}`}return a}))}))}else{(0,y.Ys)(this).append("tspan").style("fill",J(e)).text(te)}break}case"none":case"default":break}};const j=e.bars.map((e=>L(e.value)));const z=B(j);const q=e.bars.map((e=>{e.value.title=e.title;e.value.titleId=e.titleId;e.value.popoverValue=e.popoverValue;return e.value}));const W=q.map((e=>{const t=L(e);const a=(0,c.sum)(t);return{values:t,total:a}}));const U=q.map((e=>{const t=L(e);const a=(0,c.sum)(t);return a}));const V=(0,s.Fp)(U);const G=P(z);const Y=this._convertValueLengthToPixelSpace(G);const K=(0,r.kn)().keys(e.barKeys).offset(r.HL);const X=K(q);let J=(0,o.PK)().domain(q).range(Z);const Q=N-w-Y-k;const ee=(0,o.BY)().domain([0,V]).rangeRound([0,Q]).nice().clamp(true);let te=function(e){switch(x){case"total":return e.total;case"stacked":e.values.forEach((function(t,a){if(t==0){e.values.splice(a,1)}}));return e.values.join("/");case"none":case"default":return""}};if(this.hasAxis()){const e=D+u+v;const t=(0,i.axisTop)().scale(ee);t.tickSizeOuter(0).ticks(6).tickFormat(((e,t,a)=>{const n=(0,y.Ys)(a[t]);n.style("opacity",1);if(t==0){n.attr("dx",d);return l}return e}));const a=this._g.select(this._getClassList("__xAxis")).empty();if(a){this._g.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(${w+1}, 0)`).call(t).call(R).call(O);this._g.attr("transform","translate(0, 18)");(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).style("opacity",1)}else{(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).transition().duration(500).call(t).call(R).call(O)}}const ae=this._g.selectAll(this._getClassList("__series")).data(X);const ne=ae.enter().append("g").attr("id",(e=>e.key)).attr("fill",((e,t)=>J(t))).attr("class",(e=>this._buildClassList("__series")));const se=ne.merge(ae);const ie=se.selectAll(this._getClassList("__bar")).data((e=>e));const oe=this._g.selectAll(this._getClassList("__label")).data(e.bars);const re=this._g.selectAll(this._getClassList("__value")).data(W);ie.exit().transition().duration(500).style("opacity",0).remove();oe.exit().transition().duration(500).style("opacity",0).remove();re.exit().transition().duration(500).style("opacity",0).remove();let le=0;ie.data((e=>e)).transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t){return ee(e[0])+1})).attr("width",(function(e){const t=ee(e[1])-ee(e[0])-1;return t<0?0:t})).on("start",(()=>{le++})).on("end",(()=>{if(--le===0){this._dynamicallyAdjustSVGHeight()}}));oe.transition().duration(500).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ae(a,t)}));re.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t,a){return ee(e.total)+w+1})).each(H);ie.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",M).attr("transform",`translate(${w}, 0)`).attr("shape-rendering","crispEdges").attr("height",F).attr("y",(function(e,t){return t*(F+A)+A})).attr("x",(function(e,t){return ee(e[0])+1})).attr("width",(function(e){const t=ee(e[1])-ee(e[0])-1;return t<0?0:t})).on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);oe.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){if(S==="top"){return t*(F+A)+5}return t*(F+A)+A})).attr("x",0).attr("dx",E).attr("dy","1.3em").attr("fill",C).attr("width",w).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ae(a,t)}));re.enter().append("text").attr("class",this._buildClassList("__value")).attr("y",F/2).attr("dx",E).attr("dy","1.3em").attr("y",(function(e,t){return t*(F+A)+A})).attr("x",(function(e,t,a){return ee(e.total)+w+1})).each(H)}function Me(e){const t=this.getSettings();const{container:a,emptyCheckCallback:n,emptyLabelCallback:i}=t;const{bottom:l=0,left:d=0,right:u=0,top:h=0}=a.margin;const{colors:v,cursor:y="default",height:b,iconPath:w="/images/bicons/notes-speech-bubble.png",padding:C,summaryBarHeight:S=25}=t.bar;const E=this._getContainerWidth()-d-u;const x=a.height-h-l;const T=n(e);const k=t=>{const a=[];(0,c.map)(t,(function(t,n){e.barKeys.forEach((e=>{if(e==n){a.push(+t)}}))}));return a};const I=e=>e.reduce(((e,t)=>e+t),0);const A=e=>{let t=[];e.forEach((e=>{if((0,c.sum)(e)>(0,c.sum)(t)){t=e}}));return t};const F=e.bars.map((e=>k(e.value)));const Z=A(F);const M=e.bars.map(((e,t)=>{e.value.summary=e.summary;return e.value}));const N=I(Z);const D=(0,r.kn)().keys(e.barKeys).offset(r.HL);const L=D(M);const P=(0,o.PK)().domain(M).range(v);const O=M.map((e=>{const t=k(e);const a=(0,c.sum)(t);return a}));const R=(0,s.Fp)(O);const B=(0,o.BY)().domain([0,R]).rangeRound([0,E]);const j=e=>{const t=B(e[1])-B(e[0])-1;return t<0?0:t};const z=(e,t)=>{const{data:{summary:{displayText:a}}}=e;let n=0;if(a&&e[0]===0){n=S/2}const s=t*(b+C)+C+b/2+6-(0,H.ifFeature)("encore",0,n);return s};const q=(e,t)=>{if(T[t]){return 15}return(B(e[1])-B(e[0]))/2+B(e[0])-6};const W=(e,t)=>{if(T[t]){const t=e[1]-e[0];return i(t)}const a=Math.round((e[1]-e[0]||0)/N*100);return a&&a>5?`${a}%`:""};const U=(e,t)=>{if(e.summary&&e.summary.displayText){const t=e.summary.value;return t?B(t)-1:5}return 0};const V=e=>{if(e.summary&&e.summary.displayText){return e.summary.displayText}};const G=this._g.selectAll(this._getClassList("__series")).data(L);const Y=G.enter().append("g").attr("id",(e=>e.key)).attr("fill",((e,t)=>P(t))).attr("class",(e=>this._buildClassList("__series")));const K=Y.merge(G);const X=K.selectAll(this._getClassList("__bar")).data((e=>e));const J=K.selectAll(this._getClassList("__insideLabel")).data((e=>e));const Q=this._g.selectAll(this._getClassList("__summaryBar")).data(e.bars);const ee=this._g.selectAll(this._getClassList("__summaryLabel")).data(e.bars);X.exit().transition().duration(750).style("opacity",0).remove();J.exit().transition().duration(750).style("opacity",0).remove();Q.exit().transition().duration(750).style("opacity",0).remove();ee.exit().transition().duration(750).style("opacity",0).remove();let te=0;X.data((e=>e)).transition().delay((function(e,t){return t*50})).duration(750).attr("x",(function(e,t){return B(e[0])+1})).attr("width",j).on("start",(()=>{te++})).on("end",(()=>{if(--te===0){this._dynamicallyAdjustSVGHeight()}}));J.transition().duration(750).attr("y",(function(e,t){return z(e,t)})).attr("x",q).text(W);Q.data(e.bars).transition().delay((function(e,t){return t*50})).duration(750).attr("x",1).attr("width",U).on("start",(()=>{te++})).on("end",(()=>{if(--te===0){this._dynamicallyAdjustSVGHeight()}}));ee.transition().delay((function(e,t){return t*50})).duration(750).text(V);X.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",y).attr("shape-rendering","crispEdges").attr("height",b).attr("y",(function(e,t){return t*(b+C)+C})).attr("x",(function(e,t){return B(e[0])+1})).attr("width",j).on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);J.enter().append("text").attr("class",this._buildClassList("__insideLabel")).attr("cursor",y).attr("y",z).attr("x",q).style("fill",(0,H.ifFeature)("encore",undefined,"#fff")).style("pointer-events","none").text(W);Q.enter().append((0,H.ifFeature)("encore",undefined,"rect")).attr("class",this._buildClassList("__summaryBar")).attr("fill","rgba(0,0,0,0.2)").attr("cursor",y).attr("shape-rendering","crispEdges").attr("height",S).attr("y",(function(e,t){return t*(b+C)+C+(b-S)})).attr("x",1).style("pointer-events","none").attr("width",U);Q.enter().append((0,H.ifFeature)("encore",undefined,"svg:image")).attr("class",this._buildClassList("__summaryIcon")).attr("x",15).attr("y",(function(e,t){return t*(b+C)+C+(b-S)+5})).attr("height",(e=>{if(e.summary&&e.summary.icon){return e.summary.icon.height}})).attr("width",(e=>{if(e.summary&&e.summary.icon){return e.summary.icon.width}})).attr("xlink:href",(e=>{if(e.summary&&e.summary.displayText){return w}}));ee.enter().append((0,H.ifFeature)("encore",undefined,"text")).attr("class",this._buildClassList("__summaryLabel")).attr("cursor",y).attr("y",(function(e,t){return t*(b+C)+C+(b-S)})).attr("x",40).attr("dy","1.3em").attr("fill","rgba(255, 255, 255, 0.7)").style("pointer-events","none").text(V)}function Ne(e){if(!e.barKeys.includes("total")){e.barKeys.push("total")}const t=this.getSettings();const{container:a}=t;const{showAxis:n,label:l,labelLength:d}=a.axis;const{top:u,right:h,bottom:v,left:b}=a.margin;const{width:w,fill:C,labelPosition:S}=t.labelText;const{spacing:E,showTotalValueType:x,color:T,valueEdgePadding:k,showZero:I}=t.valueText;const{padding:A,height:F,colors:Z,totalColor:M,cursor:N="default"}=t.bar;const D=this._getContainerWidth()-b-h;const L=a.height-u-v;const P=e=>e=+e||0;const O=t=>{const a=[];(0,c.map)(t,(function(t,n){e.barKeys.forEach((e=>{if(e==n){a.push(+t)}}))}));return a};const R=function(e){switch(x){case"total":return e.reduce(((e,t)=>e+t),0);case"stacked":return e.join("/");case"none":case"default":default:return""}};const B=e=>{e.selectAll(".tick line").attr("transform","translate(-2 ,0)")};const H=e=>{e.selectAll(".tick text").each((function(e,t){if(t===0){return}(0,y.Ys)(this).attr("transform","translate(-2, 0)")}))};const j=e=>{let t=[];e.forEach((e=>{if((0,c.sum)(e)>(0,c.sum)(t)){t=e}}));return t};const z=function(e){switch(x){case"total":{const e=(0,y.Ys)(this).text("");e.append("tspan").style("fill",T).text(ne);break}case"stacked":{if(e.values){const t=(0,y.Ys)(this).text("");e.values.forEach(((a,n)=>{t.append("tspan").style("fill",ee(n)).text((()=>{if(a===0){if(I===true&&n===0){return 0}return""}if(e.values.length-1===n&&e.values[n-1]){return`/${a}`}return a}))}))}else{(0,y.Ys)(this).append("tspan").style("fill",ee(e)).text(ne)}break}case"none":case"default":default:break}};const q=e.bars.map((e=>O(e.value)));const W=j(q);const U=e.bars.map((e=>{if(!e.popoverValue){e.popoverValue={...e.value}}if(!e.segmented){const t=O(e.value);const a=(0,c.sum)(t);e.value={};e.value.total=a}e.value.title=e.title;e.value.titleId=e.titleId;e.value.popoverValue=e.popoverValue;return e.value}));const V=U.map((e=>{const t=O(e);const a=(0,c.sum)(t);return{values:t,total:a}}));const G=U.map((e=>{const t=O(e);const a=(0,c.sum)(t);return a}));const Y=(0,s.Fp)(G);const K=R(W);const X=this._convertValueLengthToPixelSpace(K);const J=(0,r.kn)().keys(e.barKeys).offset(r.HL);const Q=J(U);let ee=(0,o.PK)().domain(U).range(Z);const te=D-w-X-k;const ae=(0,o.BY)().domain([0,Y]).rangeRound([0,te]).nice().clamp(true);let ne=function(e){switch(x){case"total":return e.total;case"stacked":e.values.forEach((function(t,a){if(t==0){e.values.splice(a,1)}}));return e.values.join("/");case"none":case"default":default:return""}};if(this.hasAxis()){const e=L+u+v;const t=(0,i.axisTop)().scale(ae);t.tickSizeOuter(0).ticks(6).tickFormat(((e,t,a)=>{const n=(0,y.Ys)(a[t]);n.style("opacity",1);if(t==0){n.attr("dx",d);return l}return e}));const a=this._g.select(this._getClassList("__xAxis")).empty();if(a){this._g.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(${w+1}, 0)`).call(t).call(H).call(B);this._g.attr("transform","translate(0, 18)");(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).style("opacity",1)}else{this._animateElements((0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1),(e=>e.transition().duration(500).call(t).call(H).call(B)))}}const se=this._g.selectAll(this._getClassList("__series")).data(Q);const ie=se.enter().append("g").attr("id",(e=>e.key)).attr("fill",((e,t)=>{if(e.key==="total"){return M}return ee(t)})).attr("class",(e=>this._buildClassList("__series")));const oe=ie.merge(se);const re=oe.selectAll(this._getClassList("__bar")).data((e=>e));const le=this._g.selectAll(this._getClassList("__label")).data(e.bars);const ce=this._g.selectAll(this._getClassList("__value")).data(V);this._animateElements(re,(e=>e.exit().transition().duration(500).style("opacity",0).remove()));this._animateElements(le,(e=>e.exit().transition().duration(500).style("opacity",0).remove()));this._animateElements(ce,(e=>e.exit().transition().duration(500).style("opacity",0).remove()));let de=0;this._animateElements(re.data((e=>e)),(e=>e.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t){return ae(e[0])+1})).attr("width",(function(e){const t=ae(P(e[1]))-ae(P(e[0]))-1;return t<0?0:t})).on("start",(()=>{de++})).on("end",(()=>{if(--de===0){this._dynamicallyAdjustSVGHeight()}}))));this._animateElements(le,(e=>e.transition().duration(500).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ae(a,t)}))));this._animateElements(ce,(e=>e.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e,t,a){return ae(e.total)+w+1})).each(z)));re.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",N).attr("transform",`translate(${w}, 0)`).attr("shape-rendering","crispEdges").attr("height",F).attr("y",(function(e,t){return t*(F+A)+A})).attr("x",(function(e,t){return ae(e[0])+1})).attr("width",(function(e){const t=ae(P(e[1]))-ae(P(e[0]))-1;return t<0?0:t})).on("mouseenter",m).on("click",p).on("mouseover",f).on("mouseleave",g);le.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){if(S==="top"){return t*(F+A)+5}return t*(F+A)+A})).attr("x",0).attr("dx",E).attr("dy","1.3em").attr("fill",C).attr("width",w).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ae(a,t)}));ce.enter().append("text").attr("class",this._buildClassList("__value")).attr("y",F/2).attr("dx",E).attr("dy","1.3em").attr("y",(function(e,t){return t*(F+A)+A})).attr("x",(function(e,t,a){return ae(e.total)+w+1})).each(z)}function De(e){if(!e.barKeys.includes("total")){e.barKeys.push("total")}const t=this.getSettings();const{container:a}=t;const{label:n,labelLength:l}=a.axis;const{top:d,right:u,bottom:h,left:v}=a.margin;const{width:b,fill:w,labelPosition:C}=t.labelText;const{spacing:S,showTotalValueType:E,color:x,valueEdgePadding:T,showZero:k}=t.valueText;const{padding:I,height:A,colors:F,totalColor:Z,totalColorSecondary:M,cursor:N="default"}=t.bar;const D=this._getContainerWidth()-v-u;const L=a.height-d-h;const P=e=>e=+e||0;const O=t=>{const a=[];(0,c.map)(t,(function(t,n){e.barKeys.forEach((e=>{if(e==n){a.push(+t)}}))}));return a};const R=function(e){switch(E){case"total":return e.reduce(((e,t)=>e+t),0);case"stacked":return e.join("/");case"none":case"default":default:return""}};const B=e=>{e.selectAll(".tick line").attr("transform","translate(-2 ,0)")};const H=e=>{e.selectAll(".tick text").each((function(e,t){if(t===0){return}(0,y.Ys)(this).attr("transform","translate(-2, 0)")}))};const j=e=>{let t=[];e.forEach((e=>{if((0,c.sum)(e)>(0,c.sum)(t)){t=e}}));return t};const z=function(e){switch(E){case"total":{const e=(0,y.Ys)(this).text("");e.append("tspan").style("fill",x).text(de);break}case"stacked":{if(e.values){const t=(0,y.Ys)(this).text("");e.values.forEach(((a,n)=>{t.append("tspan").style("fill",ie(n)).text((()=>{if(a===0){if(k===true&&n===0){return 0}return""}if(e.values.length-1===n&&e.values[n-1]){return`/${a}`}return a}))}))}else{(0,y.Ys)(this).append("tspan").style("fill",ie(e)).text(de)}break}case"none":case"default":default:break}};const q=e?.bars[0]?.value?.length||0;const W=[];e.bars.forEach((e=>{e.value.forEach(((t,a)=>{const n={...e,value:{...t,index:a}};W.push(n)}))}));const U=W.map((e=>O(e.value)));const V=j(U);const G=W.map((e=>{if(!e.popoverValue){e.popoverValue={...e.value}}if(!e.segmented){const t=O(e.value);const a=(0,c.sum)(t);e.value={};e.value.total=a}e.value.title=e.title;e.value.titleId=e.titleId;e.value.popoverValue=e.popoverValue;return e.value}));const Y=G.map((e=>{const t=O(e);const a=(0,c.sum)(t);return{values:t,total:a}}));const K=G.map((e=>{const t=O(e);const a=(0,c.sum)(t);return a}));const X=(0,s.Fp)(K);const J=R(V);const Q=this._convertValueLengthToPixelSpace(J);const ee=(0,r.kn)().keys(e.barKeys).offset(r.HL);const te=ee(G);const ae=te.filter((e=>e.key!=="total")).map((e=>e.map((e=>{e.id=(0,c.uniqueId)();return e}))));const ne=[];let se=0;while(G.length>se){const e=se;ae.forEach((t=>{ne.push(t[e].id)}));se++}const ie=(0,o.PK)().domain(G).range(F);const oe=(0,o.PK)().domain(ne).range(F);const re=(e,t)=>{if(e.data.total||e.id===undefined){return t%2===0?Z:M}return oe(e.id)};const le=D-b-Q-T;const ce=(0,o.BY)().domain([0,X]).rangeRound([0,le]).nice().clamp(true);let de=function(e){switch(E){case"total":return e.total;case"stacked":e.values.forEach((function(t,a){if(t==0){e.values.splice(a,1)}}));return e.values.join("/");case"none":case"default":default:return""}};if(this.hasAxis()){const e=(0,i.axisTop)().scale(ce);e.tickSizeOuter(0).ticks(6).tickFormat(((e,t,a)=>{const s=(0,y.Ys)(a[t]);s.style("opacity",1);if(t==0){s.attr("dx",l);return n}return e}));const t=this._g.select(this._getClassList("__xAxis")).empty();if(t){this._g.append("g").attr("class",this._buildClassList("__xAxis")).attr("transform",`translate(${b+1}, 0)`).call(e).call(H).call(B);this._g.attr("transform","translate(0, 18)");(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).style("opacity",1)}else{(0,y.Ys)(this._getClassList("__xAxis")).attr("opacity",1).transition().duration(500).call(e).call(H).call(B)}}const ue=this._g.selectAll(this._getClassList("__series")).data(te);const he=ue.enter().append("g").attr("id",(e=>e.key)).attr("class",(()=>this._buildClassList("__series")));const pe=he.merge(ue);const me=pe.selectAll(this._getClassList("__bar")).data((e=>e));const fe=this._g.selectAll(this._getClassList("__label")).data(e.bars);const ge=this._g.selectAll(this._getClassList("__value")).data(Y);me.exit().transition().duration(500).style("opacity",0).remove();fe.exit().transition().duration(500).style("opacity",0).remove();ge.exit().transition().duration(500).style("opacity",0).remove();let ve=0;me.data((e=>e)).transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e){return ce(e[0])+1})).attr("width",(function(e){const t=ce(P(e[1]))-ce(P(e[0]))-1;return t<0?0:t})).attr("fill",re).on("start",(()=>{ve++})).on("end",(()=>{if(--ve===0){this._dynamicallyAdjustSVGHeight()}}));fe.transition().duration(500).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ae(a,t)}));ge.transition().delay((function(e,t){return t*50})).duration(500).attr("x",(function(e){return ce(e.total)+b+1})).each(z);me.enter().append("rect").attr("class",this._buildClassList("__bar")).attr("cursor",N).attr("transform",`translate(${b}, 0)`).attr("shape-rendering","crispEdges").attr("height",A).attr("y",(function(e,t){return t*(A+I)+I})).attr("x",(function(e){return ce(e[0])+1})).attr("width",(function(e){const t=ce(P(e[1]))-ce(P(e[0]))-1;return t<0?0:t})).attr("fill",re).on("click",p).on("mouseenter",m).on("mouseleave",g).on("mouseover",f);fe.enter().append("text").attr("class",this._buildClassList("__label")).attr("y",(function(e,t){if(C==="top"){return t*(A+I)+5}return(t*(A+I)+I)*q})).attr("x",0).attr("dx",S).attr("dy","1.3em").attr("fill",w).attr("width",b).text((e=>{const t=e.title;const a=this.getSettings().labelText.maxLabelLength;return Ae(a,t)}));ge.enter().append("text").attr("class",this._buildClassList("__value")).attr("y",A/2).attr("dx",S).attr("dy","1.3em").attr("y",(function(e,t){return t*(A+I)+I})).attr("x",(function(e){return ce(e.total)+b+1})).each(z)}const Le="HorizontalBarChart";const Pe={chartClass:"",needsAxis:false,container:{flexHeight:false,height:210,width:70,margin:{top:0,right:0,bottom:10,left:0}},labelText:{color:"#777",spacing:12,alignmentLeft:false},valueText:{color:"#777",spacing:4,showZero:false},bar:{colors:["#ccc"],height:16,padding:28,formatTextFunction:null},animate:!window.navigator.webdriver};class Oe extends b{static get className(){return"HorizontalBarChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Pe;super();this._selector=e;this._CLASS_NAME=Le;this._settings=(0,c.defaultsDeep)({},t,Pe);this._validateRequirements();this._createRoot()}draw(e){this._data=e;if(e.type==="hybrid"){Ne.call(this,e)}if(e.type==="double"){De.call(this,e)}if(e.type==="stacked"){Ze.call(this,e)}if(e.type==="stacked-summary"){Me.call(this,e)}if(e.type==="simple"){if(this.getSettings().labelText.alignmentLeft){Fe.call(this,e)}else{Ie.call(this,e)}}this._dynamicallyAdjustSVGHeight()}resize(){this.draw(this._data)}}const Re=e=>e<=-40;const Be=e=>e>-40&&e<=0;const $e=e=>e>0;const He=(e,t)=>{if(Re(e)||Be(e)){return(0,T.LX)(t,Qe)}if($e(e)){return(0,T.LX)(t,Ke)}};const je=e=>{if(Re(e)){return Je}if(Be(e)){return Xe}if($e(e)){return Ke}};const ze=(e,t)=>(0,T.LX)(t,je(e));function qe(e){const t=(0,T.sX)(this._current,e);this._current=t(0);return function(e){return tt(t(e))}}const We=e=>function(t){const a=(0,T.sX)(t.endAngle,e);return function(e){t.endAngle=a(e);return et(t)}};const{PI:Ue}=Math;const Ve=-.8*Ue;const Ge=.8*Ue;const Ye="warning";const Ke="#8db812";const Xe="#f19d11";const Je="#db6021";const Qe="#555";let et;let tt;function at(){const e=this.getSettings();const{radius:t,width:a,color:n}=e.mainBar;const{color:s}=e.backgroundBar;const{text:i}=e.secondaryText;const{text:o}=e.ternaryText;et=(0,r.Nb)().innerRadius(t).outerRadius(t-a).startAngle(Ve);this._arcContainer=this._svg.append("g").attr("class","arc-info").attr("transform","translate(166, 170)");this._arcContainer.append("path").datum({endAngle:Ge}).attr("d",et).attr("fill",s).attr("class",this._buildClassList("__backgroundRing")).attr("transform","translate(20, 20)");this._arcContainer.append("path").attr("fill",n).attr("class",this._buildClassList("__primaryRing")).attr("transform","translate(20, 20)").on("mouseover",f);if(e.showInnerBar){const e=t-30;const a=t-40;const n=(0,r.Nb)().innerRadius(e).outerRadius(a).startAngle(Ve);this._arcContainer.append("path").datum({endAngle:Ge}).attr("d",n).attr("fill",s).attr("class",this._buildClassList("__backgroundRing")).attr("transform","translate(20, 20)")}this._innerInfoContainer=this._svg.append("g").attr("class","inner-info").attr("transform","translate(166, 170)");this._innerInfoContainer.append("text").attr("class",`${this._buildClassList("__secondaryText")} baseFillColor`).attr("text-anchor","middle").attr("x",20).attr("y",30).text(i);this._innerInfoContainer.append("line").attr("class",this._buildClassList("__zeroMarkLine")).attr("x1",20).attr("y1",-160).attr("x2",20).attr("y2",-117).attr("stroke-width",1).attr("stroke","white");this._innerInfoContainer.append("text").attr("class",this._buildClassList("__zeroMarkNumber")).attr("text-anchor","middle").attr("x",20).attr("y",-108).attr("dy",".5rem").text("0");this._innerInfoContainer.append("text").attr("class",this._buildClassList("__rangeNumber")).attr("text-anchor","middle").attr("x",-50).attr("y",150).attr("dy",".5rem").text("-100");this._innerInfoContainer.append("text").attr("class",this._buildClassList("__rangeNumber")).attr("text-anchor","middle").attr("x",90).attr("y",150).attr("dy",".5rem").text("+100")}function nt(e){const t=this.getSettings();const a=this._svg;const{radius:n}=t.mainBar;const{colors:s}=t.innerBar;const{text:i}=t.ternaryText;const{value:l}=e.mainBar;const{innerBar:c}=e;const d=-100;const u=100;const h=(0,o.BY)().range([Ve,Ge]).domain([d,u]).clamp(true);const m=h(l);const g=this._innerInfoContainer.selectAll(`.${this._CLASS_NAME}__primaryText`).data([e]);const b=this._innerInfoContainer.selectAll(`.${this._CLASS_NAME}__ternaryText`).data([e]);const w=this._innerInfoContainer.selectAll(`.${this._CLASS_NAME}__icon`).data([e]);g.exit().remove();b.exit().remove();w.exit().remove();this._animateElements(g,(e=>e.transition().duration(1500).styleTween("fill",(function(e){return He(l,this.style.fill)})).tween("text",(function(e){const t=this;const a=+t.textContent;const n=+e.mainBar.value;const s=(0,T.uL)(a,n);return function(e){t.textContent=s(e)}}))));this._animateElements(b,(e=>e.transition().duration(1e3))).attr("x",(e=>{if(e.ternaryIconTheme===Ye){return 34}return 20})).text((e=>`${e.ternaryValue} ${i} (${e.ternaryPercent})`));this._animateElements(w,(e=>e.transition().duration(1e3))).style("opacity",(e=>{if(e.ternaryIconTheme===Ye){return 1}return 0}));g.enter().append("text").attr("class",this._buildClassList("__primaryText")).attr("text-anchor","middle").attr("x",20).attr("y",-10).style("fill",(e=>{if($e(e.mainBar.value)){return Ke}return Qe})).text((e=>e.mainBar.value));b.enter().append("text").attr("class",(()=>`${this._buildClassList("__ternaryText")} ${this._buildClassList("__ternaryText--link")}`)).attr("text-anchor","middle").attr("x",(e=>{if(e.ternaryIconTheme=="warning"){return 34}return 20})).attr("y",57).text((e=>`${e.ternaryValue} ${i} (${e.ternaryPercent})`)).on("click",p).on("mouseover",f);w.enter().append("svg:image").attr("class",this._buildClassList("__icon")).attr("x",(0,v.isEnabled)("enpsSentimentScoreTrend")?-75:-50).attr("y",40).attr("width",20).attr("height",24).style("opacity",(e=>{if(e.ternaryIconTheme=="warning"){return 1}return 0})).attr("xlink:href",`/images/bicons/warning-icon-lrg.png`);const C=a.select(this._getClassList("__primaryRing")).each((e=>{this._currentEndAngle=e?e.endAngle:Ve})).datum({endAngle:t.animate?this._currentEndAngle:m,data:e}).attr("d",et);const S=e=>{if(t.showInnerBar){const t=n-30;const a=n-40;const i=(0,o.PK)().domain([1,2,3]).range(s);tt=(0,r.Nb)().outerRadius(t).innerRadius(a);const l=(0,r.ve)().startAngle(-.8*Ue).endAngle(e.endAngle).sort(null).value((e=>e.value));const d=this._arcContainer.selectAll(`.${this._CLASS_NAME}__innerSlice`).data(l(c),(function(e){return e.data.label}));const u=d.enter().append("path").attr("class",this._buildClassList("__innerSlice")).attr("transform","translate(20,20)").on("mouseover",f).each((function(e){this._current=e}));this._animateElements(d,(e=>e.transition().ease(x.m2).duration(500).attrTween("d",qe)));d.exit().remove();d.merge(u).attr("fill",(function(e){return i(e.data.order)})).attr("d",tt)}};const E=this._animateElements(C,(e=>e.transition().ease(x.m2).duration(500).attrTween("fill",(function(e){const t=(0,y.Ys)(this);const a=t.style("fill");return ze(l,a)})).attrTween("d",We(m)).on("end",S)));if(!t.animate){S(E.attr("fill",je(l)).datum())}}const st="RadialProgressChart";const it={chartClass:"",showInnerBar:false,innerBar:{colors:[]},animate:!window.navigator.webdriver};class ot extends b{static get className(){return"RadialProgressChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:it;super();this._selector=e;this._CLASS_NAME=st;this._settings=(0,c.defaultsDeep)({},t,it);this._validateRequirements();this._createRoot();at.call(this)}draw(e){nt.call(this,e);this._dynamicallyAdjustSVGHeight()}}var rt=a(1765);const lt="LineChart";const ct={chartClass:"",container:{height:100,margin:{bottom:0,left:0,right:0,top:0},width:214},drawDotsAlongLines:true,fadedLineOpacity:.2,hasSelectableColumns:false,lineToBringToFrontId:null,numberOfYAxisTicks:4,onSelectableAreaClick:null,pathStrokeWidth:4,partialValueColor:"#afafaf",partialValueLightColor:"#c0c0c0",pointColorClassName:"LineChart--strokeThemeColor",pointLightColorClassName:"LineChart--strokeLightThemeColor",pointLightColorEnabled:true,pointRadius:5,pointStrokeWidth:3,pointSubtitles:{height:16,formatter:null},pointTitles:{height:18,formatter:null},yAxisLabelWidth:0,yDomainRangeMax:10,animate:!window.navigator.webdriver};class dt extends b{static get className(){return"LineChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ct;super();this._selector=e;this._CLASS_NAME=lt;this._settings=(0,c.defaultsDeep)({},t,ct);this._barVerticalOffset=this._settings.container.height-this._settings.pointTitles.height-this._settings.pointSubtitles.height;this._xTitlesVerticalOffset=this._barVerticalOffset+1;this._xSubtitlesVerticalOffset=this._xTitlesVerticalOffset+this._settings.pointTitles.height;this._minPointVerticalOffset=this._barVerticalOffset-16;this._validateRequirements();this._createRoot();this._configure()}updateSettings(e){this._settings=(0,c.defaultsDeep)({},e,ct)}draw(e){this._data=e;const t=e.lines?e.lines:this._prepLinesData(e);const a=e.xAxisTitles?e.xAxisTitles:this._prepTitlesData(e,"title");this._xAxisTitlesData=this._settings.pointTitles.formatter?this._settings.pointTitles.formatter(a):a;const n=e.xAxisSecondaryTitles?e.xAxisSecondaryTitles:this._prepTitlesData(e,"subtitle");const i=this._settings.pointSubtitles.formatter?this._settings.pointSubtitles.formatter(n):n;const o=t.map((e=>e.points.map((e=>e?.y)))).reduce(((e,t)=>e.concat(t)));const r=(0,s.VV)(o);const l=(0,s.Fp)(o);const c=Math.floor(r/10)*10;const d=Math.ceil(l/10)*10;this._xScale=this._getXScale();this._xScaleUsingX=(t,a)=>this._xScale(e.xAxisPositionMap&&t?.x?e.xAxisPositionMap.get(t.x):a);const u=this._settings.yDomainMin||c;const h=this._settings.yDomainMax||d;this._yScale=this._getYScale(u,h);this._minY=u;if(this._settings.hasSelectableColumns)this._drawSelectableAreas();this._drawLines(t);this._drawXAxisTitles();this._drawXAxisSecondaryTitles(i);this._drawYAxis();this._drawLegend(e.legend)}resize(){const e=this._svg;e.style("width",null);const t=e.node().parentNode.clientWidth;e.style("width",`${t}px`);if(!this.hasAxis()){e.select(this._getClassList("__divider")).attr("x2",t)}this.draw(this._data)}_animateElements(e,t){if(this._settings.animate){return e.transition().duration(t)}return e}_configure(){if(!this.hasAxis()){this._bar=this._svg.append("line").style("stroke","#AFAFAF").style("shape-rendering","crispEdges").attr("class",this._buildClassList("__divider")).attr("x1",0).attr("x2",this._getContainerWidth()).attr("y1",this._barVerticalOffset).attr("y2",this._barVerticalOffset)}this._xTitles=this._svg.append("g").style("font-size","12px").style("fill","#adadad").attr("class",this._buildClassList("__titles")).attr("text-anchor","middle").attr("transform",`translate(0, ${this._xTitlesVerticalOffset})`);this._xSubtitles=this._svg.append("g").style("font-size","10px").style("fill","#AFAFAF").attr("class",this._buildClassList("__subtitles")).attr("text-anchor","middle").attr("transform",`translate(0, ${this._xSubtitlesVerticalOffset})`);if(this._settings.legend){const e=(0,y.Ys)(this._selector).append("div").attr("class",this._buildClassList("__legend"));const t={onClick:this._handleLegendClick,...this._settings.legend};this._legend=new be(e.node(),t)}}_handleLegendClick(e){const t=!e.active;const a=t?"none":"initial";const n=`#tag${e.color.slice(1)}_${e.keyOrder}`;const s=(0,y.Ys)(n);this._animateElements(s,100).style("display",a);e.active=t}_prepLinesData(e){if(Array.isArray(e)){return[{points:e}]}if(!Array.isArray(e)&&typeof e==="object"&&e.points){return[e]}}_prepTitlesData(e,t){if(Array.isArray(e)){return e.map((e=>e[t]))}if(!Array.isArray(e)&&typeof e==="object"&&e.points){return e.points.map((e=>e[t]))}}_getXScale(){const e=this._xAxisTitlesData;return(0,o.ti)().domain(e.map(((e,t)=>t))).range([this._settings?.yAxisLabelWidth??0,this._getContainerWidth()]).round(true).paddingOuter(.4).paddingInner(1)}_getYScale(e,t){return(0,o.BY)().domain([e,t]).range([this._minPointVerticalOffset,this._settings.yDomainRangeMax])}_getLineColor(e,t){let{color:a,displayType:n,alternateColors:s}=e;const i=this._settings;if(i.colors){a=i.colors[t]}if(n==="default"||n===undefined)return a?a:"";if(n==="faded")return s?s.faded:"";return""}_getAlternatePointStyles(e){const{alternatePointStyleKeys:t,alternatePointStyles:a}=this._settings;const n=t?.find((t=>e[t]));return a&&a[n]}_getPointFill(e){const{alternatePointStyle:t,alternatePointStyleKey:a}=this._settings;const n=e[a]&&t?.pointFill||this._getAlternatePointStyles(e)?.pointFill||"";return n}_getPointRadius(e){const{alternateLineStyle:t,alternateLineStyleKey:a,alternatePointStyle:n,alternatePointStyleKey:s,pointRadius:i}=this._settings;const o=e&&e[a]&&t?.pointRadius;const r=e&&e[s]&&n?.pointRadius||this._getAlternatePointStyles(e)?.pointRadius;const l=o||r||i;return l}_getPointStrokeWidth(e){const{alternatePointStyle:t,alternatePointStyleKey:a,pointStrokeWidth:n}=this._settings;const s=e[a]&&(t.pointStrokeWidth||this._getAlternatePointStyles(e)?.pointStrokeWidth||n);return s}_drawLines(e){const t=this._drawLineGroups(e);this._drawCircleGroups(t)}_drawLineGroups(e){const t=this._svg;const a=this._settings;const n=t.selectAll(this._getClassList("__lineGroup")).style("display","initial").data(e,(e=>e.id));const s=n.enter().append("g").attr("class",this._buildClassList("__lineGroup")).attr("id",((e,t)=>{if(e.id)return e.id;const a=this._getLineColor(e,t);return a?`tag${a.slice(1)}_${t}`:""}));const i=n.merge(s);const o=(0,r.jv)().x(((e,t)=>this._xScale(t))).y((()=>this._yScale(this._minY)));const l=(0,r.jv)().defined(((e,t)=>e!==undefined&&e!==null)).x(this._xScaleUsingX).y(((e,t)=>this._yScale(e.y)));s.append("path").attr("class",`${"LineChart--strokeThemeColor"} ${this._buildClassList("__line")}`).style("fill","none").attr("pointer-events","none").style("stroke",((e,t)=>this._getLineColor(e,t))).style("stroke-width",`${a.pathStrokeWidth}px`).attr("d",(e=>o(e.points)));const c=i.select(this._getClassList("__line")).style("stroke",((e,t)=>this._getLineColor(e,t)));this._animateElements(c,300).attr("d",(e=>l(e.points)));i.raise();if(a.lineToBringToFrontId!==null){t.select(`${this._getClassList("__lineGroup")}[id="${a.lineToBringToFrontId}"]`).raise()}n.exit().remove();return{lineGroupUpdate:n,lineGroupEnter:s}}_drawCircleGroups(e){let{lineGroupEnter:t,lineGroupUpdate:a}=e;const n=this._settings;const s=t.append("g").attr("class",`${n.pointColorClassName} ${this._buildClassList("__circleGroup")}`).attr("fill",((e,t)=>this._getLineColor(e,t)||"#fff")).style("stroke",((e,t)=>this._getLineColor(e,t))).style("stroke-width",`${n.pointStrokeWidth}px`);const i=a.select(this._getClassList("__circleGroup"));const o=i.merge(s);o.style("stroke",((e,t)=>this._getLineColor(e,t))).style("fill",((e,t)=>this._getLineColor(e,t)));this._drawCircles(o)}_drawCircles(e){const t=this._settings;const a=e.selectAll(this._getClassList("__innerCircleGroup")).data((e=>e.points));const n=a.enter().append("g").attr("class",this._buildClassList("__innerCircleGroup"));n.append("circle").attr("r",((e,a,n)=>{if(t.drawDotsAlongLines)return this._getPointRadius(e);if(a===n.length-1)return this._getPointRadius(e);return 0})).attr("data-tip-z-index","auto").attr("class",this._buildClassList("__circle")).attr("pointer-events",t.hasSelectableColumns?"none":"visiblePainted").attr("cx",this._xScaleUsingX).attr("cy",(e=>this._yScale(this._minY)));n.append("circle").attr("r",(e=>{if(e?.displayType!=="hollow")return 0;return 3})).attr("data-tip-z-index","auto").attr("class",this._buildClassList("__innerCircle")).attr("fill","#fff").attr("stroke","none").attr("stroke-width",0).attr("pointer-events",t.hasSelectableColumns?"none":"visiblePainted").attr("cx",this._xScaleUsingX).attr("cy",(e=>this._yScale(this._minY)));const s=a.merge(n);s.select(this._getClassList("__circle")).on("mouseenter",(function e(a){const n=(0,y.Ys)(this);if(a?.displayType==="partial"){n.style("stroke",t.partialValueLightColor)}else if(t.pointLightColorEnabled){n.classed(t.pointLightColorClassName,true);n.classed(t.pointColorClassName,false)}})).on("mouseleave",(function e(a){const n=(0,y.Ys)(this);if(a?.displayType==="partial"){n.style("stroke",t.partialValueColor)}else if(t.pointLightColorEnabled){n.classed(t.pointLightColorClassName,false);n.classed(t.pointColorClassName,true)}})).on("mouseover",f).filter((e=>e?.displayType==="partial")).style("stroke",t.partialValueColor);const i=s.select(this._getClassList("__circle")).attr("r",((e,a,n)=>{if(t.drawDotsAlongLines)return this._getPointRadius(e);if(a===n.length-1)return this._getPointRadius(e);return 0}));this._animateElements(i,300).attr("visibility",(e=>!e?"hidden":"")).attr("cx",this._xScaleUsingX).attr("cy",(e=>e?this._yScale(e.y):this._yScale(this._minY)));const o=s.select(this._getClassList("__innerCircle")).attr("r",(e=>{if(e?.displayType!=="hollow")return 0;return 3}));this._animateElements(o,300).attr("cx",this._xScaleUsingX).attr("cy",(e=>e?this._yScale(e.y):this._yScale(this._minY)));a.exit().remove()}_drawXAxisTitles(){if(this._xAxisTitlesData){const{_data:{xAxisSelectedTitle:e}}=this;this._xTitles.selectAll(this._getClassList("__title")).remove();const t=this._xTitles.selectAll(this._getClassList("__title")).data(this._xAxisTitlesData);t.enter().append("text").attr("class",((_,t)=>{if(t===e){return`${this._buildClassList("__title")} ${this._buildClassList("__title--selected")}`}return this._buildClassList("__title")})).attr("y",16).merge(t).attr("x",((e,t)=>this._xScale(t)+this._xScale.bandwidth()/2)).text((e=>e))}}_drawXAxisSecondaryTitles(e){if(e){const{_data:{xAxisSelectedTitle:t}}=this;this._xSubtitles.selectAll(this._getClassList("__subtitle")).remove();const a=this._xSubtitles.selectAll(this._getClassList("__subtitle")).data(e);a.enter().append("text").attr("class",((_,e)=>{if(e===t){return`${this._buildClassList("__subtitle")} ${this._buildClassList("__subtitle--selected")}`}return this._buildClassList("__subtitle")})).attr("y",12).merge(a).attr("x",((e,t)=>this._xScale(t)+this._xScale.bandwidth()/2)).text((e=>e))}}_drawYAxis(){if(this.hasAxis()){const e=this._settings;const t=(0,i.axisLeft)().scale(this._yScale);t.tickSizeOuter(0).ticks(e.numberOfYAxisTicks).tickFormat(((e,t,a)=>{const n=(0,y.Ys)(a[t]);n.style("opacity",1);return e}));const a=this._g.select(this._getClassList("__yAxis")).empty();if(a){this._g.append("g").attr("class",this._buildClassList("__yAxis")).call(t);this._g.attr("transform",`translate(${e.yAxisLabelWidth}, 0)`);(0,y.Ys)(this._getClassList("__yAxis")).attr("opacity",1).style("opacity",1)}else{(0,y.Ys)(this._getClassList("__yAxis")).attr("opacity",1).call(t)}(0,y.Ys)(this._getClassList("__yAxis")).selectAll("line").attr("x2",(()=>this._svg.node().parentNode.clientWidth-e.yAxisLabelWidth)).attr("style",((e,t,a)=>{if(t===0){return"stroke-dasharray: 0"}})).attr("pointer-events","none")}}_drawLegend(e){if(e&&this._settings.legend){if(this._settings.colors){e.forEach(((e,t)=>{e.color=this._settings.colors[t]}))}this._legend.draw(e)}}_drawHoverCircles(e){const t=this._svg;const{lineToBringToFrontId:a=null}=this._settings;const{xAxisPositionMap:n,xAxisTitles:s}=this._data;const i=t.selectAll(this._getClassList("__hoverAreaGroup")).filter(((t,a)=>a===e));const o=new Map;if(n){const e=Array.from(n.values());Array.from(n.keys()).forEach(((t,a)=>{o.set(e[a],t)}))}this._data.lines.forEach((t=>{const n=o.get(e);const s=n?t.points.find((e=>e&&e.x===n)):t.points[e];let r=false;if(a&&a===t.id){r=true}if(s&&(n===undefined||n===s.x)){i.append("circle").attr("class",`${this._buildClassList("__hoverCircle")} ${r&&"front"}`).attr("fill",this._getLineColor(t,e)).attr("pointer-events","none").attr("r",4).attr("cx",this._xScaleUsingX({x:n},e)).attr("cy",this._yScale(s.y))}}));if(a){t.select(`${this._getClassList(`__hoverCircle`)}.front`).raise()}}_removeHoverCircles(){const e=this._svg;e.selectAll(this._getClassList("__hoverCircle")).remove()}_drawSelectableAreas(){const e=this._svg;const t=e.select(this._getClassList("__hoverAreaContainer"));if(!t.size()){e.append("g").attr("class",this._buildClassList("__hoverAreaContainer")).lower()}const a=e.select(this._getClassList("__hoverAreaContainer")).selectAll(this._getClassList("__hoverAreaGroup")).style("display","initial").data(this._xAxisTitlesData.map(((e,t)=>t)));const n=a.enter().append("g").attr("class",this._buildClassList("__hoverAreaGroup")).style("cursor","pointer").attr("id",((e,t)=>`hover-${t}`));n.append("path").classed(this._buildClassList("__hoverArea"),true).style("fill","transparent").attr("d",((e,t)=>this._getDForHoverArea(t))).on("mouseover",(t=>{this._drawHoverCircles(t);this._hoverArea=t;e.selectAll(this._getClassList("__hoverArea")).filter(((e,a)=>a===t)).style("fill",rt.colors.gray1)})).on("mouseleave",(t=>{e.selectAll(this._getClassList("__hoverArea")).filter(((e,a)=>a===t)).style("fill","transparent");this._hoverArea=undefined;this._removeHoverCircles()})).on("click",(e=>{const{onSelectableAreaClick:t}=this._settings;if(t)t(e)}));this._removeHoverCircles();if(this._hoverArea){this._drawHoverCircles(this._hoverArea)}const s=a.merge(n);s.select(this._getClassList("__hoverArea")).attr("d",((e,t)=>this._getDForHoverArea(t)));a.exit().remove()}_getDForHoverArea(e){const t=(0,r.SO)().x((e=>e.x)).y0((e=>this._yScale(0))).y1((e=>e.y));const a=e=>t(e.map((e=>({x:e,y:0}))));if(e===0){const e=this._settings?.yAxisLabelWidth??0;const t=this._xScale(0)-e;const n=[e,this._xScale(0)+t];return a(n)}const n=this._xScale(e)-this._xScale(e-1);const s=[this._xScale(e)-n/2,this._xScale(e)+n/2];return a(s)}}const ut="SliceChart";const ht={chartClass:"",colors:["#8db812","#5b9fb2","#f19d11","#db6021"],container:{height:57,width:887},slice:{height:17,hoverMargin:4,width:700}};class pt{static get className(){return"SliceChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ht;this._selector=e;this._options=(0,c.defaultsDeep)({},t,ht)}_createDom(e){const t=(0,y.Ys)(this._selector).append("div","hr").attr("class",`${ut} ${this._options.chartClass}`).style("height",`${this._options.container.height}px`);if(e.title){this._title=t.append("div").attr("class",`${ut}__title ${this._options.chartClass}__title`).text(e.title).append("span").attr("class",`${ut}__subtitle ${this._options.chartClass}__subtitle`).text(`(${e.count})`)}this._svg=t.append("svg").attr("class",`${ut}__bar ${this._options.chartClass}__bar`).attr("viewBox",`0 0 ${this._options.slice.width} ${this._options.slice.height+this._options.slice.hoverMargin}`).style("height",`${this._options.slice.height+this._options.slice.hoverMargin}px`).style("width",`${this._options.slice.width}px`)}draw(e){this._createDom(e);const t=this;t.totals=e.totals;const a=(0,r.kn)().keys(e.keys).order(r.cY);const n=a([e.values]);const s=(0,o.BY)().range([this._options.slice.height+this._options.slice.hoverMargin,0]).domain([0,1]);const i=(0,o.BY)().range([0,this._options.slice.width]).domain([0,1]);this.barColors=(0,o.PK)(this._options.colors);if(typeof this._options.getColor==="function"){this.barColors=this._options.getColor}this._drawBars(n,i,t)}_drawBars(e,t,a){const n=this._svg.selectAll("g.layer").data(e).enter().append("g").attr("fill",(e=>this.barColors(e.key)));const s=n.selectAll("rect").data((e=>e));s.enter().append("rect").merge(s).attr("x",(e=>t(e[0]))).attr("width",(e=>{const a=t(e[1])-t(e[0])-2;return a>0?a:0})).attr("y",this._options.slice.hoverMargin/2).attr("height",this._options.slice.height).attr("class",`${ut}__cell ${this._options.chartClass}__cell`).on("mouseenter",(function(e){a._onPathEnter(this,e,(0,y.Ys)(this.parentNode).datum(),a?.totals)})).on("mouseleave",(function(e){a._onPathExit(this)}))}_onPathEnter(e,t,a,n){(0,y.Ys)(e).transition().duration(150).attr("y",0).attr("height",this._options.slice.height+this._options.slice.hoverMargin);if(typeof this._options.getHoveredValue==="function"){this._options.getHoveredValue(a.key)}if(!M.Z.hasInstance(e)){M.Z.create(e,{template:{name:"popover-standard",data:{title:this._options?.popover?.title?this._options.popover.title(a):`${Math.round((t[1]-t[0])*100)}%`,content:this._options?.popover?.content?this._options?.popover.content(a,n):a.key,popoverClass:`${ut}__popover ${this._options.chartClass}__popover `,titleCssOverride:{color:"#222222","text-align":"center","font-weight":"600"},contentCssOverride:{"text-align":"center"},rawContent:this._options?.popover?.rawContent?this._options.popover.rawContent:false}},position:"top",triggerEvent:"hover",showImmediately:true,closeX:false,push:6,delay:75})}}_onPathExit(e){if(typeof this._options.getHoveredValue==="function"){this._options.getHoveredValue("")}(0,y.Ys)(e).transition().duration(150).attr("y",this._options.slice.hoverMargin/2).attr("height",this._options.slice.height)}}const mt="SimpleMultiLineAreaChart";const ft={chartClass:"",container:{height:180,width:"auto",margin:{top:0,right:0,bottom:0,left:0}},yAxisMin:null,yAxisMax:null,pathStrokeWidth:3};class gt extends b{static get className(){return"SimpleMultiLineAreaChart"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ft;let a=arguments.length>2?arguments[2]:undefined;let s=arguments.length>3?arguments[3]:undefined;super();(0,n.Z)(this,"_minYDrawnValue",0);(0,n.Z)(this,"_destroyPopover",void 0);(0,n.Z)(this,"_data",void 0);this._selector=e;this._CLASS_NAME=mt;this._settings=(0,c.defaultsDeep)({},t,ft);this._onMouseOver=a;this._onFocus=s;this._validateRequirements();this._createRoot()}draw(e){this._data=e;const{areas:t,xAxisExtraInfo:a}=e;this._areas=t;this._xAxisExtraInfo=a;const n=t[0].points.length;const i=t[0].points.map((e=>e.y));const o=t[1].points.map((e=>e.y));const r=this._settings;const l=r.yAxisMin===null?Math.floor((0,s.VV)(o)):r.yAxisMin;const c=r.yAxisMax===null?Math.ceil((0,s.Fp)(i)):r.yAxisMax;this._minYDrawnValue=l;this._xScale=this._getXScale(n);this._yScale=this._getYScale(l,c);this._svg.style("overflow","visible");this._svg.select("defs").remove();this._defs=this._svg.append("defs");this._addLinearGradients();this._drawAreas()}_getXScale(e){const{container:{margin:t}}=this._settings;return(0,o.BY)().domain([0,e-1]).range([t.left,this._getContainerWidth()-t.right])}_getYScale(e,t){const a=Math.max(Math.abs(e),t);const n=a+a*.1;e=n*-1;t=n;const{container:{height:s,margin:i}}=this._settings;return(0,o.BY)().domain([e,t]).nice().range([s,i.top])}_addLinearGradients(){const e=this._defs.append("linearGradient").attr("id","likesGradient").attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%");e.append("stop").attr("offset","0%").attr("style",`stop-color: ${this._settings.colors.likes.gradientStart}`);e.append("stop").attr("offset","100%").attr("style",`stop-color: ${this._settings.colors.likes.gradientEnd}`);const t=this._defs.append("linearGradient").attr("id","dislikesGradient").attr("x1","0%").attr("x2","0%").attr("y1","100%").attr("y2","0%");t.append("stop").attr("offset","0%").attr("style",`stop-color: ${this._settings.colors.dislikes.gradientStart}`);t.append("stop").attr("offset","100%").attr("style",`stop-color: ${this._settings.colors.dislikes.gradientEnd}`)}_drawAreas(){this._drawAreaGroups();this._drawDivider();this._drawLineGroups();this._drawMouseOverAreas();this._addLastPointLabels()}_drawDivider(){const e=this._svg;const t=e.selectAll(this._getClassList("dividerLine")).data([this._areas[0].points]);const a=t.enter().append("line").attr("class",this._buildClassList("dividerLine")).attr("y1",this._yScale(0)).attr("y2",this._yScale(0)).style("stroke","white").style("stroke-width",3);const n=t.merge(a);n.attr("x1",(e=>this._xScale(0))).attr("x2",(e=>this._xScale(e.length-1)));t.exit().remove()}_drawAreaGroups(){const e=this._svg;const t=e.selectAll(this._getClassList("__areaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__areaGroup")}`).attr("id",((e,t)=>{const{colors:a}=this._settings;const n=t===0?a.likes.area:a.dislikes.area;return n?`tag${n.slice(1)}_${t}`:""}));const n=t.merge(a);const s=(0,r.SO)().x(((e,t)=>this._xScale(t))).y0((e=>this._yScale(0))).y1((e=>this._yScale(e.y)));a.append("path").attr("class",`AreaChart--themeFill ${this._buildClassList("__area")}`).style("fill",((e,t)=>t===0?"url(#likesGradient)":"url(#dislikesGradient)"));n.select(this._getClassList("__area")).attr("d",(e=>s(e.points)));t.exit().remove()}_drawMouseOverAreas(){const e=this._svg;const t=e.selectAll(this._getClassList("__hoverAreaGroup")).style("display","initial").data(this._areas);const a=t.enter().append("g").attr("class",`${this._buildClassList("__hoverAreaGroup")}`).attr("id",((e,t)=>`hover${t}`));const n=t.merge(a);const s=(0,r.SO)().x((e=>e.x)).y0((e=>this._yScale(0))).y1((e=>e.y));const i=n.selectAll(this._getClassList("__hoverArea")).data((e=>e.points));const o=i.enter().append("path").classed(this._buildClassList("__hoverArea"),true).style("fill","transparent");const l=i.merge(o);l.attr("d",((e,t)=>{const a=this._areas.find((t=>t.points.includes(e)));const n=[];const i=a.points[t-1]?this._xScale(t-1):null;const o=this._xScale(t);const r=a.points[t+1]?this._xScale(t+1):null;if(i!==null){n.push((o+i)/2)}n.push(o);if(r!==null){n.push((r+o)/2)}const l=[];const c=a.points[t-1]?this._yScale(a.points[t-1].y):null;const d=this._yScale(e.y);const u=a.points[t+1]?this._yScale(a.points[t+1].y):null;if(c!==null){if(d>c){l.push((d+c)/2)}else{l.push((c+d)/2)}}l.push(d);if(u!==null){if(u>d){l.push((u+d)/2)}else{l.push((d+u)/2)}}return s(n.map(((e,t)=>({x:e,y:l[t]}))))})).on("mouseover",(e=>{const t=this._areas.find((t=>t.points.includes(e)));const a=this._areas.indexOf(t)===0;const n=this._addHoverPoint(e,t.points.indexOf(e),a);this._destroyPopover=this._onMouseOver({date:e.x,count:e.y,target:n.node(),isPositive:a})})).on("mouseleave",(e=>{this._removeHoverPoint(e);this._destroyPopover()}));i.exit().remove();t.exit().remove()}_addHoverPoint(e,t,a){return this._svg.append("circle").style("pointer-events","none").attr("id","hoverPoint").attr("cx",this._xScale(t)).attr("cy",this._yScale(e.y)).attr("r",4).style("fill",a?this._settings.colors.likes.line:this._settings.colors.dislikes.line)}_removeHoverPoint(){this._svg.select("#hoverPoint").remove("circle")}_getCurrentPeriod(e){return e.find(((t,a)=>a===e.length-1))}_drawLineGroups(){const e=this._svg;const t=this._settings;const a=e.selectAll(this._getClassList("__lineGroup")).style("display","initial").data(this._areas);const n=a.enter().append("g").attr("class",`${this._buildClassList("__lineGroup")}`).attr("id",((e,t)=>{const{colors:a}=this._settings;const n=t===0?a.likes.line:a.dislikes.line;return n?`tag${n.slice(1)}_${t}`:""}));const s=a.merge(n);const i=(0,r.jv)().x(((e,t)=>this._xScale(t))).y((e=>this._yScale(e.y)));n.append("path").attr("class",`AreaChart--themeStroke ${this._buildClassList("__line")}`).style("fill","none").style("stroke",((e,t)=>{const{colors:a}=this._settings;return t===0?a.likes.line:a.dislikes.line})).style("stroke-width",`${t.pathStrokeWidth}px`);n.append("circle").attr("class",`${this._buildClassList("__circle0")}`).attr("cx",(e=>this._xScale(0))).attr("cy",(e=>this._yScale(e.points[0].y))).attr("r",4).style("fill",((e,t)=>{const{colors:a}=this._settings;return t===0?a.likes.line:a.dislikes.line}));n.append("circle").attr("class",`${this._buildClassList("__circle1")}`).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y))).attr("r",6).style("fill",((e,t)=>{const{colors:a}=this._settings;return t===0?a.likes.line:a.dislikes.line}));n.append("circle").attr("class",`${this._buildClassList("__circle1--fill")}`).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y))).attr("r",3).style("fill","#fff");s.select(this._getClassList("__line")).attr("d",(e=>i(e.points)));s.select(this._getClassList("__circle0")).attr("cx",(e=>this._xScale(0))).attr("cy",(e=>this._yScale(e.points[0].y)));s.select(this._getClassList("__circle1")).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y)));s.select(this._getClassList("__circle1--fill")).attr("cx",(e=>this._xScale(e.points.length-1))).attr("cy",(e=>this._yScale(this._getCurrentPeriod(e.points).y)));a.exit().remove()}_getAreaIndex(e){return this._areas.indexOf(e)}_addLastPointLabels(){const e=this._svg;const{colors:t}=this._settings;const a=e.selectAll(this._getClassList("__floatingLabel")).data(this._areas);const n=a.enter().append("text").attr("class",`${this._buildClassList("__floatingLabel")}`).style("font-size","13px").style("line-height","16px").style("text-anchor","middle");const s=a.merge(n);s.text(((e,t)=>this._getCurrentPeriod(e.points).y*(t===0?1:-1))).style("fill",((e,a)=>a===0?t.likes.floatingLabel:t.dislikes.floatingLabel)).attr("x",(e=>this._xScale(e.points.length-1))).attr("y",((e,t)=>this._yScale(this._getCurrentPeriod(e.points).y)+(t===0?-11:22)));a.exit().remove()}_resetTimeValues(e){const t=new Date(e);return t.setHours(0,0,0,0)}resize(){(0,y.Ys)(this._selector).select("div").remove();this._createRoot();this.draw(this._data)}destroy(){(0,y.Ys)(this._selector).select("div").remove()}}},24692:(e,t,a)=>{"use strict";a.d(t,{KN:()=>r,SR:()=>o,es:()=>d,hw:()=>c,ui:()=>l});var n=a(8346);var s=a(34387);var i=a(69835);function o(e){const t=(0,n.Ys)(e.target).node().getBBox();(0,n.Ys)(e.target).attr("height",(e=>t.height+4)).attr("y",(e=>t.y-2))}function r(e){const t=(0,n.Ys)(e.target).node().getBBox();(0,n.Ys)(e.target).attr("height",(e=>t.height-4)).attr("y",(e=>t.y+2))}function l(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let i;const o=(0,n.Jz)(e.target)[0];const r=e.target.getAttribute("x")||e.target.getAttribute("cx");const{push:l=15}=a;i=r?o-r:o;s.Z.create(e.target,{showImmediately:true,closeX:false,push:l,tailSize:9,triggerEvent:"hover",onShow(e){e.balloonElement.style.pointerEvents="none";window.addEventListener("scroll",(function t(){if(!e.destroyed){e.hide()}window.removeEventListener("scroll",t,true)}),true)},onHide(e){if(e&&!e.destroyed){e.destroy()}},tailOnAnchor:i,html:t})}function c(e,t,a){const n={};const{push:i=15}=n;let o;s.Z.create(t,{showImmediately:true,closeX:false,push:i,position:a,tailSize:9,triggerEvent:"hover",onShow(e){o=e;e.balloonElement.style.pointerEvents="none";window.addEventListener("scroll",(function t(){if(!e.destroyed){e.hide()}window.removeEventListener("scroll",t,true)}),true)},onHide(e){if(e&&!e.destroyed){e.destroy()}},html:e});return()=>{if(o&&!o.destroyed){o.destroy()}}}function d(e,t){i.Z.create(e,t)}},65843:(e,t,a)=>{"use strict";a.d(t,{Zl:()=>l,_D:()=>i,wQ:()=>r,xN:()=>o});const n="ba";const s=e=>`${n}:${e}`;const i=s("chartMouseClick");const o=s("chartMouseEnter");const r=s("chartMouseOver");const l=s("chartMouseLeave")},42867:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var n=a(73641);var s=a.n(n);var $=a(26570);class i{static get className(){return"Confetti"}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.target=$(e);this.canvas=null;this.context=null;this.drawInterval=0;this.setRelative=true;this.offsetX=0;this.offsetY=0;this.offsetWidth=0;this.offsetHeight=0;this.numParticles=30;this.particles=[];this.angle=0;this.tiltAngle=0;if(!(0,n.isNil)(t)){for(var a in t){this[a]=t[a]}}$(window).resize(this.setDimensions.bind(this));this.initialize();if(this.easterEgg&&this.panda){this.panda.onload=this.start.bind(this);this.panda.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAcCAYAAAB2+A+pAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAF7UlEQVRIDY2WS2iVRxTHz82NMdFgKxqbCPGNxEJRExdKqyQLQcxWEjEES1UE2027kCyq6EKK7cZFKzQKqQ9KjRYFqeQhRBBUsBof0MYnNkajsZqo0TzuY/r/zb1f+t1Ybf5wvpk5c87/zOs7M2YhOOeioWZGVX1ZkkiGMtSgD5uQKqOqvgzu7KCXjkgkknj27Nl7kydP/kz6lZJ8SZ/kF/X9DLEEn4TESQCDgTQhm6T6a1Svlrwv6Ze09Pb2NqjveRBDOu9kgULlR9I1Pn36tOTChQvW3d1ts2bNsoqKCotGoz/I+Quc3gb5f59IJD5va2uze/fuWVFRkS1dutSmTJnSIZ8q+V8PYhHUL5/KDyR/nT9/npkMSeJpiVVXV8cHBwfV7XZLvpb8KmlOC3V0u7FZu3YtfrGQ/xCcQqekUHofk33xS6zym0ePHtVplMOSnPz8fBORTZs2zS5duuQaGxvd6tWrs+7evWv379+3J0+ewGEFBQVWXFxsc+bMsVOnTiWrqqoiZWVlkZ6eHsvNzbX+/n5WbliSU1hY+J1mvZWY2aqwX8z6k9OnT8OVjcOtW7dMfSwxugiEy5cvTyxatMgRRAPzK3Xz5k3X1NRkV65ciZw9e9Yba6usq6uLmdns2bM9Z2trq9XW1n4MFzH94dqxYwck0aEhVlhrHI/bpEmTbOLEiX6v1q1bZ+vXr7eFCxdGWQEGFAYBmOHVq1ft0KFDdvjwYb+/r1698lzYDg8PU0S1clmaRMIfLDRy/vHOnTvs7/D06dPduHHjqLvjx487Eag7hWQy6f5Lgv7Xr197H3zhgEv1GNxCveqpmGr4f0/lAknXmTNnMEzOnTvXafmkSkGn1QcM2qNLBoNNAHzhgAtOoUuyIB049b9L4fdG5bHHjx9jHL9+nZPvPBmkY0V4AHDABadwLB3Uxwovdbn22C1btix54sQJH0d7PdZ4b9gFvnDBCbdQHgRnyowKbGlvb7cJEyYkKisrvSIrK4uBmWbhhfrbMNoOXwAXnHALW/gIKSI5zdD+9OrkOv1Sfl3/b0/l806ElxxOuIkhpxmp2IR3bo1+Bzdz5syEEkMGoRKGUwp0LS0t7tq1axkHKDBkkPRhgy0+YcAJNzGENeHA2zs6OpxGFYMEDAwMuH379rEkGXLy5Enfz4wQgG60Hb5wADjhJoawncCpjTArJgVqVBbszZEjR2zTpk3+kuCimD9/PvZWX19vIvRJhERCHR3ABlsEXzgAnHCn02yx1/kesxz9+JadnbolX7x4YQ0NDb6rr6/POjs7jTQIpk6dOjI42pCiA9hgiw+AAy4ANzGEHD7BjAdIkYw+gJbEV3HQqTQleN/esGGDjR8/3qdCUit1dAAbbIMJBBz0wU0MYZCPhwy+1P3pVqxYEZeBms7t37/f75uIR/Zv7969LhaLuaNHj7q6ujov1NHRJ7IMHzgAnHATQ/gqHdaf6iVahnhpaWny3LlzdDpdZ+7AgQNu1apVXg4ePOhIAkr2btu2bSNBqKOjD5vAHl84AJxwE0PNsmC2/qqRopkLW8sU075g70H95cuXQXOkVEJwyGhgO9ofzvRjoJmg8onw8fusskwS27lzp1O2iT9/zhPpX/DrMCu9n7zywYMHDgHo6At+L6/UBw644BRiEj9blamzpUpwSWxU3e3atYuljF28eDEjYZB/dem7PXv2uM2bN3uhji7Izfjz3+ILB1xpbEzPNnVJ0ADqDILXqt6vx57TazNRU1MTI+XpWRQQZNzP4bsaG2zxwRcOuCS14RjU/f5SATII3l8fqvmtTmMlyV0HxbhT9WJMlJSU2Lx58yJ6HnlfHni3b992N27cMO1jtLy8PKIsZYsXL7a8vLzfxLNVieaPgJs4ICMwirCB6hVSfapypbJOkd7cpl/CHj586B9x2PMo1CvDZyY9Y3n8dStQq7p+UtmGTZiTNngjMEoZ+s2XYzLdJjUtkZRKeEUUSPIkgKzDk/NPyWXJ7/L7W+UbPOjGBEYaDGJMDmkjfPB9l88/4YuLNj6XJrEAAAAASUVORK5CYII="}else{this.start()}}initialize(){this.canvas=document.createElement("canvas");if(this.cssClass){this.canvas.classList.add(this.cssClass)}if(this.setRelative){this.target.css("position","relative")}this.target.prepend(this.canvas);$(this.canvas).css("position","absolute");$(this.canvas).css("top",this.offsetY);$(this.canvas).css("left",this.offsetX);this.setDimensions();this.context=this.canvas.getContext("2d");for(var e=0;e<this.numParticles;e++){this.particles.push(this.getNewParticle())}if((window.ENV==="dev"||window.SESSION_USER.companyId.match(/28448|2218|20/))&&this.easterEgg){this.panda=new Image;for(let e=0;e<this.numParticles/5;e++){this.particles.push({...this.getNewParticle(),isPanda:true})}}}setDimensions(){this.canvas.width=this.target.outerWidth()+this.offsetWidth-1;this.canvas.height=this.target.outerHeight()+this.offsetHeight-1}draw(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(let e=0;e<this.particles.length;e++){const t=this.particles[e];if(t.isPanda){this.context.drawImage(this.panda,t.xPos,t.yPos)}else{this.context.beginPath();this.context.lineWidth=t.size*.3;this.context.strokeStyle=t.color;this.context.moveTo(t.xPos+t.tilt+t.size*.25,t.yPos);this.context.lineTo(t.xPos+t.tilt,t.yPos+t.tilt*.5+t.size*.1);this.context.stroke()}}this.update()}getNewParticle(){return{xPos:Math.random()*this.canvas.width,yPos:Math.random()*this.canvas.height,size:this.randomFromTo(5,30),density:Math.random()*this.numParticles+10,color:`rgba(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, 0.7)`,tilt:Math.floor(Math.random()*10)-10,tiltAngleIncremental:Math.random()*.04+.03,tiltAngle:0}}randomFromTo(e,t){return Math.floor(Math.random()*(t-e+1)+e)}update(){this.angle+=.01;this.tiltAngle+=.1;for(let e=0;e<this.particles.length;e++){const t=this.particles[e];t.tiltAngle+=t.tiltAngleIncremental;t.yPos+=(Math.cos(this.angle+t.density)+1+t.size*.5)*.15;t.xPos+=Math.sin(this.angle)*.5;t.tilt=Math.sin(t.tiltAngle-e/3)*15;if(t.xPos>this.canvas.width+15||t.xPos<-15||t.yPos>this.canvas.height+15){t.tilt=Math.floor(Math.random()*10)-10;if(e%5>0||e%2==0){t.xPos=Math.random()*this.canvas.width;t.yPos=-10}else{t.yPos=Math.random()*this.canvas.height;if(Math.sin(this.angle)>0){t.xPos=-5}else{t.xPos=this.canvas.width+5}}}}}start(){this.drawInterval=setInterval(this.draw.bind(this),20)}stop(){clearTimeout(this.drawInterval);if(!(0,n.isNil)(this.context)){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}}}},17876:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>Ve,$m:()=>Ae});var n=a(89835);var s=a(23321);var i=a(13216);var o=a(67572);var r=a(6795);var l=a(26242);var c=a(22635);var d=a(56921);var u=a(86319);var h=a(34914);var $=a(26570);const p=e=>{let{updateFormData:t,rowDisplayType:a,selectedBoxDefault:i=""}=e;const[o,r]=(0,s.useState)(i);const p=document.querySelector("#historyEdit");const m=p.querySelector("input[name=ymd]")?.value;const f=window.Employee?.preferredName;const g="employee-addEntryModal_";function v(e){r(e);if(e==="update"){t(true)}else{t(false)}}(0,s.useEffect)((()=>{if(a&&!o){const e=new Date(m);const n=e?(0,h.isToday)(e):false;if(a==="past"||a==="future"||a==="current"&&n){r("correction");t(false)}else{r("update");t(true)}}}),[]);return(0,n.Z)(l.L,{marginBottom:3},void 0,(0,n.Z)(c.S,{type:"radio"},void 0,(0,n.Z)(d.F,{columnGap:"15px",flexDirection:"row"},void 0,(0,n.Z)(u.S,{biId:g+"new_Compensation-button",description:$.__("Youre adding a new entry in %1$ss Compensation history.",f,{note:"Youre adding a new entry in Julies Compensation history."}),icon:"rectangle-history-circle-plus-solid",inputId:"update",isChecked:o==="update",name:"update",onChange:e=>v(e),title:$.__("This is an update"),value:"update"},"update"),(0,n.Z)(u.S,{biId:g+"correction_Compensation-button",description:$.__("Youre fixing a mistaken entry in %1$ss Compensation history.",f,{note:"Youre fixing a mistaken entry in Julies Compensation history."}),icon:"broom-wide-solid",inputId:"correction",isChecked:o==="correction",name:"correction",onChange:e=>v(e),title:$.__("This is a correction"),value:"correction"},"correction"))))};var m=a(38592);var f=a(76725);var g=a(55482);var v=a(26570);const y=40;const b=".HoursPerWeekField__container";const w=".HoursPerWeekField__defaultContainer";const C=".HoursPerWeekField__defaultText";const S="#hoursPerWeekField";const E=".HoursPerWeekField__helpButton";const x='input[name="hoursPerWeek"]';const T=".HoursPerWeekField__inputContainer";const k=`.HoursPerWeekField__popoverButton`;const I="#payScheduleHoursPerWeekMap";const A=".js-paySchedule";const F=`${A} ba-option[selected]`;const Z=".js-payType";const M=`${Z} ba-option[selected]`;function N(){document.body.style.top="";const e=R();const t=B();let a=v.__n(`This employee's pay schedule has a default of %2$s salaried hour per week.`,`This employee's pay schedule has a default of %2$s salaried hours per week.`,e,t);let n=v.__(`Edit This Employee's Salaried Hours`);let s="update-compensation-modal-hours-per-week-edit-button";if(ae()){a=v.__("This employee is using custom salary hours. We will use this value instead of the pay schedule default.");n=v.__(`Use Pay Schedule Default Instead`);s="update-compensation-modal-hours-per-week-use-default-button"}const i=BambooHR.Components.Popover.create(E,{content:`\n\t\t\t<div class="hoursPerWeekPopoverText">${a}</div>\n\t\t\t<button class="fab-TextButton fab-Link HoursPerWeekField__popoverButton" data-bi-id="${s}" type="button">${n}</button>\n\t\t`,title:v.__("Salaried Hours Per Week"),click:true,persistent:false,contentCssOverride:{maxWidth:"260px"}});i.onShow((()=>{const e=document.querySelector(k);e.removeEventListener("click",V);e.addEventListener("click",V);e.focus()}));return i}function D(){const e=P();if(e){e.destroy()}}function L(e){const t=O();const a=(0,g.J)(t,undefined,e);const n=(0,g.j)(a);ne(n)}function P(){return BambooHR.Components.Popover.selectPopovers(E)[0]}function O(){return document.querySelector(x).value||""}function R(){const e=H();const t=j();return e?.[t]||y}function B(){return(0,g.j)(R())}function H(){return(0,f.V)(I,true)}function j(){return document.querySelector(F)?.getAttribute("value")}function z(){return document.querySelector(M)?.getAttribute("value")}function q(){return document.querySelector(F)?.getAttribute("data-syncing-pay-schedule")==="true"}function W(){L(2)}function U(){D();const e=N();setTimeout((()=>{if(!e.showing){e.show()}}),0)}function V(){D();if(ae()){oe();ee()}else{if(!O()){ne(B())}re();Q();document.querySelector(x).focus()}}function G(){ne("");le()}function Y(){ne("");le()}function K(){return!!(0,f.V)(S,true)}function X(e){const t=document.querySelector(e);if(t){t.classList.add("hidden")}}function J(){X(b);ee()}function Q(){X(w)}function ee(){ne("");document.querySelector(x).dataset.validationAllowEmpty=true;X(T)}function te(){if(K()){const e=document.querySelector(A);if(e){e.addEventListener("change",G)}const t=document.querySelector(Z);if(t){t.addEventListener("change",Y)}const a=document.querySelector(x);if(a){a.addEventListener("change",W)}document.querySelector(E).addEventListener("click",U);le()}}function ae(){const e=document.querySelector(T);return e&&!e.classList.contains("hidden")}function ne(e){document.querySelector(x).value=e}function se(e){const t=document.querySelector(e);if(t){t.classList.remove("hidden")}}function ie(){se(b);if(O()){re();Q()}else{oe();ee()}}function oe(){document.querySelector(C).innerText=v.__("%1$s hours per week",B());se(w)}function re(){document.querySelector(x).dataset.validationAllowEmpty=false;se(T)}function le(){const e=q();const t=z()==="Salary";if(e&&t){ie()}else{J()}}var ce=a(71141);var de=a(53534);var ue=a(26570);const he=(0,ce.isEnabled)("zeroWage");const pe={initializeForm(e){const t=ue(".js-payType ba-option:selected");const a=ue(".payRateGroup .percentChange");const n=t.val();this.selectedPayType=n?n.toLowerCase():"";this.initialPayType=n?n.toLowerCase():"";this.initialPayRate=ue(".payRateGroup .js-rate").val();this.initialPaidPer=ue(".payRateGroup .js-paidPer ba-option:selected").text().toLowerCase();this.initialCurrencyType=ue(".payRateGroup .js-currency-picker-type").val();if(this.initialCurrencyType===undefined){this.initialCurrencyType=ue(".payRateGroup .currencyType").val()}setTimeout((()=>{if(e){be(e)}if(!e||e==="updateCompensation"){const e=this.selectedPayType==="hourly";Ie(e);ze(true);if(Me()){$e();Ne();De();He();if(he){Be();xe()}}}Le();if(e==="updateCompensation"){te()}if(this.initialPayType==="hourly"&&a.length){a.addClass("nextLine")}const t=ue(".js-defaultCurrency").val();const n=ue(".currencyChange-message");if(this.initialCurrencyType!==t){We(n)}}))},formChangeHandler(e){const t=e.target.name;if(t==="payType"){this.selectedPayType=`${e.target.value}`.toLowerCase()}const a=this.selectedPayType==="hourly";Ie(a);if(t==="rate[0]"){this.updatePercentChange()}setTimeout((()=>{be("updateCompensation");if(Me()){if(t==="payScheduleId"){Ne();De()}else if(t==="paidPer"){Ne()}else if(t==="payType"){De()}He()}else{Re(ue(".js-paidPer"));Re(ue(".js-payType"))}Le();if(t==="overtimeRate[0]"){ze(true)}if(t==="rate[1]"){const e=ue(".js-defaultCurrency").val();const t=ue(".currencyChange-message");const a=ue(".payRateGroup .currencyType").val();if(a!==e){We(t)}else{Ue(t)}}if(t==="rate[0]"&&he){xe()}this.checkShouldShowPercentChange()}))},setupForm(e){let t;let a;let n;const s=ue(".payRateGroup .percentChange");const i=ue(".js-CurrencyPicker .currencyType").val();if(e==="updateCompensation"){t="input.js-payRate";a='input[name="ymd"]';n='input[name="endYmd"]'}else if(e==="requestChangeApproval"||e==="approvalPreviewForm"){t="input.js-rate";a="input.js-startDate";n="input.js-endDate"}me(t);me(a);me(n);if(e==="updateCompensation"){Te(t,"required","requiredWhenVisible")}if(i!=="USD"){Ue(s);return}if(e==="requestChangeApproval"&&s.length){We(s)}},displayUpdateOrCorrectSection(e,t,a){const s=document.querySelector("div#compensation-update-or-correct-section");if(s&&e){(0,de.s)((0,n.Z)(p,{updateFormData:t,rowDisplayType:e,selectedBoxDefault:a}),s)}},addFormNote(){setTimeout((()=>{$e()}))},handlePayScheduleChange(e){Ne();De();setTimeout((()=>{He()}));if(e==="requestChangeApproval"){be(e)}},handlePaidPerChange(){setTimeout((()=>{if(Me()){Ne();He()}}));this.checkShouldShowPercentChange()},handlePayTypeChange(e){be(e);if(!e||e==="updateCompensation"||e==="requestChangeApproval"){setTimeout((()=>{if(Me()){De();He()}}));this.checkShouldShowPercentChange()}},handlePayRateChange(){this.updatePercentChange()},handleCurrencyChange(){this.checkShouldShowPercentChange()},paidPerAndPayTypeValid(){return je()},handleOvertimeRateChange(){setTimeout((()=>{ze()}))},checkShouldShowPercentChange(){const e=ue(".payRateGroup .percentChange");const t=ue(".js-payType ba-option:selected").val();const a=ue(".js-CurrencyPicker .currencyType").val();if(a!=="USD"){Ue(e);return}if(!e.length){return}if(this.initialPayType===(t?t.toLowerCase():"")&&this.initialPaidPer===ue(".js-paidPer ba-option:selected").text().toLowerCase()&&(this.initialCurrencyType===ue(".payRateGroup .js-currency-picker-type").val()||this.initialCurrencyType===ue(".payRateGroup .currencyType").val())){We(e);return}Ue(e)},updatePercentChange(){if(!ue(".payRateGroup .percentChange").length){return}const e=ue(".js-rate");const t=ue(".percentChange-percent");const a=ue(".percentChange-text-noChange");const n=ue(".percentChange-text-increase");const s=ue(".percentChange-text-decrease");const i=ue(".percentChange-icon-increase");const r=ue(".percentChange-icon-decrease");const l=(0,o.w)((0,o.l)(e.val()));const c=(0,o.w)((0,o.l)(this.initialPayRate));const d=l-c;const u=d/c*100;const h=Math.abs(Math.round(u*100)/100);t.text(`${h}%`);if(u===0){We(a);Ue(n);Ue(s);Ue(i);Ue(r);return}if(u>0){We(n);We(i);Ue(a);Ue(s);Ue(r);return}We(s);We(r);Ue(n);Ue(i);Ue(a)}};function me(e){ue(e).attr("data-lpignore",true)}function fe(e){if(e==="requestChangeApproval"||e==="approvalPreviewForm"){return ue(".CustomApprovalForm")}return ue("#historyEdit")}function ge(e){const t=fe(e);return{$payTypeSelectElement:t.find("ba-select.js-payType")}}function ve(e){const t=fe(e);let a;let n;let s;if(e==="requestChangeApproval"||e==="approvalPreviewForm"){a=t.find("input.js-rate");n=a.siblings("button.js-currency-picker-button");s=a.closest(".fieldRow")}else{a=t.find("input.js-payRate");n=a.siblings("button.CurrencyPicker__button");s=a.closest(".fieldGroup")}return{$payRateInputElement:a,$payRateButtonElement:n,$payRateElement:s}}function _e(e){const t=fe(e);let a;if(e==="requestChangeApproval"||e==="approvalPreviewForm"){a=t.find("input.js-rate").closest(".fieldBox").find(".fab-FormNote")}else{a=t.find(".compensation-per")}return{$paidPerTextElement:a}}function ye(e){const t=fe(e);let a;if(e==="requestChangeApproval"||e==="approvalPreviewForm"){a=t.find("ba-select.js-paidPer")}else{a=t.find('ba-select[name="paidPer"]')}return{$paidPerSelectElement:a,$paidPerElement:a.closest(".fieldBox")}}function be(e){Ee(e);Se(e);Ce(e);we(e)}function we(e){const{$payTypeSelectElement:t}=ge(e);const{$paidPerSelectElement:a,$paidPerElement:n}=ye(e);(0,r.iI)(t,n,a)}function Ce(e){const{$payTypeSelectElement:t}=ge(e);const{$paidPerTextElement:a}=_e(e);(0,r.UU)(t,a)}function Se(e){const{$payTypeSelectElement:t}=ge(e);const{$payRateInputElement:a,$payRateButtonElement:n,$payRateElement:s}=ve(e);(0,r.os)(t,s,a,n)}function Ee(e){const{$payTypeSelectElement:t}=ge(e);(0,r.rl)(t)}function xe(){const e=ue(".js-payRate");const t=ue(".js-overtimeStatus");const a=ue(".js-overtimeStatusFormNote");if(!t.length||!e.length){return}const n=(0,o.w)(e.val());if(n===0){t.val("Exempt").disable();a.show()}else{t.enable();a.hide()}}function Te(e,t,a){const n=ue(e);if(n.hasClass(t)){n.removeClass(t);n.addClass(a)}}function ke(e){const t=ue('.js-paidPer, ba-select[name="paidPer"]');const a=t.attr("name");const n=ue(`select[name="${a}"]`).val();const s=ue(".js-hourlyOvertimeNote");if(!(0,m.hasTrax)()||n!=="Hour"){if(s){s.remove()}return false}const r=e.data("cursymbol")||"$";const l=(0,o.w)((0,o.l)(e.val(),r));const c=(0,i.M)(l);const d=c?c.times(2).toFixed(2):NaN.toString();const u=c?c.times(1.5).toFixed(2):NaN.toString();const h=e.data("currencysymbolposition")==0?`${r}${u}`:`${u}${r}`;const p=e.data("currencysymbolposition")==0?`${r}${d}`:`${d}${r}`;const f=ue.__("Overtime rate is %1 (1.5x), double-time rate is %2",h,p);if(s.length>0){s.html(`<span class="js-hourlyOvertimeNote fab-FormNote">${f}</span>`)}else{ue(".js-overtimeStatus, .js-exemptStatus").closest(".fieldBox").append(`<span class="js-hourlyOvertimeNote fab-FormNote">${f}</span>`)}}function Ie(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const t=ue(".js-overtimeRate");const a=ue('select[name="exempt"]').val();Ae(t,a,e);if(a==="Non-exempt"){if(!e){t.find(".currency-field.js-overtimeRate").setTraxRequired(Me())}}}function Ae(e,t,a){let n=ue(".js-payRate");if(n.length===0){n=ue(".js-rate")}if(t==="Non-exempt"){if(!(0,m.hasTrax)()){e.show()}else if(a&&n.data("currencysymbolposition")==0){ke(n);Fe(e)}else{const t=ue(".js-hourlyOvertimeNote");if(t.length>0){t.remove()}e.show()}}else{Fe(e)}}function Fe(e){e.hide();e.val("").find("input.currency-field").val("")}function Ze(){const e=ue(".js-paySchedule");const t=e.find("ba-option[selected]");return t.attr("data-syncing-pay-schedule")==="true"}function Me(){const e=ue(".js-paySchedule");const t=e.find("ba-option[selected]");return t.attr("data-syncing-pay-schedule")==="true"}function Ne(){const e=ue(".js-paidPer");const t=e.attr("name");const a=ue(`select[name="${t}"]`).val();const n=Ze();if(n){Pe(e);if(a==="Piece"){e.attr("placeholder",a);e.attr("error",true)}else{Oe(e)}}else if(!n){Re(e);Oe(e)}else if(a!==""){Oe(e)}}function De(){const e=ue(".js-payType");const t=e.attr("name");const a=ue(`select[name="${t}"]`).val();const n=Ze();if(n){Pe(e);if(a==="Contract"){e.attr("placeholder",a);e.closest(".fieldBox").find("label").addClass("fab-Label--error");e.attr("error",true)}else{Oe(e)}}else if(!n){Re(e);Oe(e)}else if(a!==""){Oe(e)}}function Le(){const e=Me();const t=ue(".js-payType ba-option:selected").attr("value");const a=Me(e)&&t!=="Commission";ue(".js-rate").setTraxRequired(a);ue(".js-payRate__label").toggleClass("fab-Label--required",e)}function Pe(e){const t=e.find("ba-option");e.children().remove();const a=t.map(((e,t)=>{if(ue(t).attr("data-invalid-payroll-option")==="true"){ue(t).attr("hidden",true)}return t}));e.append(a)}function Oe(e){e.removeAttr("error");e.closest(".fieldBox").find("label").removeClass("fab-Label--error")}function Re(e){const t=e.find("ba-option");const a=e.find("ba-option[selected]");e.children().remove();const n=t.map(((e,t)=>{if(ue(t).attr("data-invalid-payroll-option")==="true"){ue(t).removeAttr("hidden");if(a.length>1){ue(t).removeAttr("selected")}}return t}));e.append(n)}function Be(){const e=ue(".js-overtimeStatus").closest(".fieldBox");const t=ue(`<span class="fab-FormNote js-overtimeStatusFormNote">${ue.__("Non-exempt requires a Pay Rate higher than $0.00")}</span>`);e.append(t)}function $e(){const e=ue(".js-paySchedule");const t=ue('<div id="js-pay-schedule-note" style="position: absolute; left: 224px; width: 230px; display: none;"></div>');const a=ue.__("This pay schedule isnt compatible with a couple other fields.");const n=ue.__("Make sure to also update the fields highlighted in red.");t.append(`<div class="fab-FormNote CompensationForm__warningNote js-pay-schedule-warning-note">${a}</div>`);t.append(`<div class="fab-FormNote">${n}</div>`);e.parent().append(t)}function He(){const e=ue(".js-payType");const t=ue(".js-paidPer");if(e.attr("error")||t.attr("error")){ue("#js-pay-schedule-note").show()}else{ue("#js-pay-schedule-note").hide()}}function je(){const e=ue(".js-payType");const t=ue(".js-paidPer");if(e.attr("error")||t.attr("error")){return false}return true}function ze(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!(0,m.hasTrax)()){return false}const t=ue(".js-overtimeRate");const a=e?ue(".overtimeRate"):t;a.blur();const n=(0,o.w)(a.val());const s=ue(".js-double-overtime-note");const i=s.length>0;const r=qe(n);const l=ue.__("The double time rate is $%1.",r);if(i){s.text(l);s.toggle(n!==0)}else if(n!==0){const a=`<span class="fab-FormNote js-double-overtime-note">${l}</span>`;if(e){t.append(a)}else{t.closest(".fieldDiv").append(a)}}}function qe(e){return(Number(e)/1.5*2).toFixed(2)}function We(e){e.removeClass("hidden")}function Ue(e){e.addClass("hidden")}var Ve=pe},2063:(e,t,a)=>{"use strict";var n=a(17842);var s=a.n(n);var i=a(78144);var $=a(26570);const o={updateTaxTypeInitialOptions(e,t){if(o.checkIfPayrollCustomer()){const a=t||document.querySelector('[name="employeeStatusHistoryItemId"]').value;n.ajax.get(`/ajax/employee_status_history_popup/get_allowable_employee_tax_types/${a}/${e}`).then((e=>{this.updateBaSelect($(".js-employeeTaxTypeFieldSelect"),e.data.options)}))}},init(){o.hideShowTaxTypeField();o.toggleInactiveNote()},formChangeHandler(e){const t=e.target;if(t.name==="employmentStatusId"){if(o.checkIfPayrollCustomer()){o.employmentStatusChangeHandler(e)}}const a=$(t).closest("form");const n=$("ba-select.js-employmentStatusSelect").val();const s=a.find(`.js-employmentStatusSelect ba-option[value='${n}']`);const i=s&&s[0]&&s[0].hasAttribute("data-terminatedoption");a.toggleClass("EmploymentStatusForm--terminated",i===true);const r=$("ba-select.js-terminationTypeSelect").val();const l=a.find(`.js-terminationTypeSelect ba-option[value='${r}']`);const c=i&&l&&l[0]&&l[0].hasAttribute("data-regrettableoption");a.toggleClass("EmploymentStatusForm--voluntaryTermination",c===true);this.toggleInactiveNote()},employmentStatusChangeHandler(e,t,a,n){const s=t||document.querySelector('[name="employeeStatusHistoryItemId"]').value;const i=e.target.value?e.target.value:"0";this.getAllowableEmployeeTaxTypes(s,i,a).then((e=>{let{result:t,forceNewSelection:a,warningType:s}=e;this.updateBaSelect($(".js-employeeTaxTypeFieldSelect"),t.data.options,a);this.addTaxTypePromptWarnings(s);if(n&&typeof n==="function"){n()}}))},getAllowableEmployeeTaxTypes(e,t,a){if(e&&t){return n.ajax.get(`/ajax/employee_status_history_popup/get_allowable_employee_tax_types/${e}/${t}`).then((e=>{const t=e.data.options.map((e=>e.optionValue));const n=parseInt($(a||'select[name="taxEmployeeTypeId"]').val());const s=t.indexOf(n)===-1;const i=s?"updatedTaxType":"verifyTaxType";return{result:e,valueOptions:t,currentSelectionValue:n,forceNewSelection:s,warningType:i}}))}console.warn(`Tried to request tax types with invalid parameters. historyItemId ${e} employmentStatusId ${t}`);return Promise.reject("Missing Required Parameters")},addTaxTypePromptWarnings(e){$(".js-employeeTaxTypeFieldSelect").siblings(".TaxTypeWarningTextWrapper").remove();$(".js-employeeTaxTypeFieldSelect").after('<div class="TaxTypeWarningTextWrapper"></div>');const t=this.createTaxTypePromptText(e);this.addInfoStylesToTaxTypeSelect();$(".TaxTypeWarningTextWrapper").append(t)},createTaxTypePromptText(e){if(!e){return`<div></div>`}const t=e==="updatedTaxType"?$.__("We updated the Employee Tax Type to a value that matches the Employment Status."):$.__("Based on the Employment Status, the Employee Tax Type may need to be updated.");return`<div class="TaxTypeWarningText">\n\t\t\t\t<div class="TaxTypeWarningText__text">\n\t\t\t\t\t${t}\n\t\t\t\t</div>\n\t\t\t\t<div class="TaxTypeWarningText__doubleCheck">\n\t\t\t\t\t${$.__("Double-check and make sure it looks right.")}\n\t\t\t\t</div>\n\t\t\t</div>`},addInfoStylesToTaxTypeSelect(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const t={...{taxTypeSelector:".js-employeeTaxTypeFieldSelect",fieldRowSelector:".fieldRow.EmploymentStatusForm__employeeTaxTypeFieldRow",rowClass:"EmploymentStatusForm__employeeTaxTypeFieldRow--info",labelSelector:".fab-Label",selectFacadeClass:"fab-SelectToggle__innerFacade--infoCondition",infoIconClass:"iconWrapper"},...e};const a=$(t.taxTypeSelector);const n=a.closest(t.fieldRowSelector);const s=n.find(t.labelSelector);setTimeout((()=>{n.addClass(t.rowClass);a.find(".fab-SelectToggle__innerFacade").addClass(t.selectFacadeClass);if(s.length&&!s.find(`.${t.infoIconClass}`).length){s.prepend(`<ba-icon class="${t.infoIconClass}" name="fab-info-circle-13x13" encore-class="${t.infoIconClass}" encore-name="circle-info-solid" encore-size="12"></ba-icon>`)}}),100)},updateBaSelect(e,t,a){const n=e.find("select").length?parseInt(e.find("select").val()):parseInt($('select[name="taxEmployeeTypeId"]').val());e.empty();t.forEach((t=>{const{optionValue:s,optionText:i,selected:o}=t;let r=o;if(!a){if(n===s){r=true}else{r=false}}let l;if(r){l=`<ba-option value="${s}" selected>${i}</ba-option>`}else{l=`<ba-option value="${s}">${i}</ba-option>`}e.append(l)}))},toggleInactiveNote(){const e=window.Employee&&window.Employee.preferredName?(0,i.Jk)(window.Employee.preferredName):"";const t="EmploymentStatusModal__statusSelectWrapper";const a=`${t}--inactive`;const n="js-employmentStatusInactiveNote";const s=$("ba-select.js-employmentStatusSelect");const o=s.parent();const r=s.find(`ba-option[value='${s.val()}']`);const l=!!(r&&r[0]&&r[0].hasAttribute("data-inactiveoption"));o.addClass(t).toggleClass(a,l);if(o.find(`.${n}`).length===0){const t=$(`<div class="${n} EmploymentStatusForm__inactiveStatusNote">`).text($.__("%1 will not be able to access their BambooHR account past the effective date while in this employment status.",e));o.append(t)}},getTaxTypeField(){return $(".js-employeeTaxTypeFieldSelect")},checkIfPayrollCustomer(){const e=o.getTaxTypeField();return e.length>0&&e.is(":visible")},hideShowTaxTypeField(){const e=o.getTaxTypeField();if(e.length>0){const t=e.data("usBasedAddress");const a=e.data("usBasedLocation");const n=e.closest(".fieldBox");if(!t||!a){n.addClass("hidden")}else{n.removeClass("hidden")}}}};t["Z"]=o},16123:(e,t,a)=>{"use strict";var $=a(26570);function n(e){s(e)}function s(e){window.BambooHR.Modal.setState({isOpen:true,alternativeAction:null,primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},icon:"fab-money-circle-54x54",iconColor:"danger",headline:$.__("Before including this employee in payroll you need to correct the following information."),dangerousContent:microTemplate($("#includeInPayrollErrorModalTemplate").html(),{errors:e}),primaryActionText:$.__("OK, Got It"),title:$.__("Oops, that won't work...")})}t["Z"]={open:n}},6795:(e,t,a)=>{"use strict";a.d(t,{UU:()=>Z,iI:()=>I,os:()=>A,rl:()=>F});var $=a(26570);const n="data-initial-value";const s="data-initial-value-is-set";const i="data-temporary-value";const o="data-temporary-value-is-set";function r(e){const t=e.data("cursymbol")||window.GLOBAL_CURRENCY_SYMBOL||"$";const a=e.data("currencysymbolposition")||0;const n=e.data("decimal-char")||window.GLOBAL_DECIMAL_CHAR||".";const s=e.data("thousands-separator")||window.GLOBAL_THOUSANDS_SEPARATOR||",";const i=$("<input />");i.attr("value","0");if(i.formatCurrency){i.formatCurrency({decimal:n,position:a,symbol:t,thousands:s});return i.attr("value")}return"$0.00"}function l(e){return e.attr(n)}function c(e){return e.attr(i)}function d(e){return e.attr("value")}function u(e){return e.find("ba-option[selected]").attr("value")}function h(e){return e.attr(s)==="true"}function p(e){return e.attr(o)==="true"}function m(e){e.removeAttr(i);e.removeAttr(o)}function f(e,t){e.attr(n,t);e.attr(s,"true")}function g(e,t){e.attr(i,t);e.attr(o,"true")}function v(e,t){e.attr("value",t)}function y(e,t){e.find("ba-option[selected]").removeAttr("selected");e.find(`ba-option[value="${t}"]`).attr("selected","true")}function b(e){if(!h(e)){f(e,d(e))}}function w(e){if(!h(e)){f(e,u(e))}}function C(e){if(p(e)){e.attr("value",c(e));m(e)}}function S(e){if(p(e)){y(e,c(e));m(e)}}const E="data-initial-disabled";function x(e){if(e.attr(E)!=="true"){e.removeAttr("disabled")}}function T(e,t){if(e.attr(E)!=="true"){e.prop("disabled",t)}}function k(e){if(e.attr(E)===undefined){const t=e.attr("disabled")==="disabled";e.attr(E,t?"true":"false")}}function I(e,t,a){w(e);w(a);k(a);const n=u(e);a.find('ba-option[value="Hour"]').prop("hidden",true);if(!n){t.removeClass("hidden");a.attr("disabled","true");S(a);const e=u(a);if(e==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}else if(n==="Salary"){t.removeClass("hidden");x(a);S(a);const n=u(a);const s=l(e);const i=l(a);if(s==="Salary"&&i==="Hour"){a.find('ba-option[value="Hour"]').prop("hidden",false)}else if(n==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}else if(n==="Hourly"){t.addClass("hidden");x(a);const e=u(a);if(!p(a)){g(a,e)}a.find('ba-option[value="Hour"]').prop("hidden",false);y(a,"Hour")}else if(n==="Commission"){t.addClass("hidden");x(a);a.find('ba-option[value="Hour"]').prop("hidden",false);const n=u(a);if(!p(a)){g(a,n)}const s=l(e);const i=l(a);if(s==="Commission"){y(a,i)}else{y(a,"Hour")}}else if(n==="Contract"){t.removeClass("hidden");x(a);S(a);const n=u(a);const s=l(e);const i=l(a);if(s==="Contract"&&i==="Hour"){a.find('ba-option[value="Hour"]').prop("hidden",false)}else if(n==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}else{t.addClass("hidden");x(a);S(a);const e=u(a);if(e==="Hour"){a.find("ba-option[selected]").removeAttr("selected")}}if(document.getElementById("hired-by-remote-employee-banner")){a.attr("disabled","true")}}function A(e,t,a,n){w(e);b(a);k(a);k(n);const s=u(e);if(!s){t.removeClass("hidden");a.prop("disabled",true);n.prop("disabled",true);C(a)}else if(s==="Commission"){t.addClass("hidden");T(a,false);T(n,false);const s=d(a);if(!p(a)){g(a,s)}const i=l(e);const o=l(a);if(i==="Commission"){v(a,o)}else{const e=r(a);v(a,e)}}else{if(document.getElementById("hired-by-remote-employee-banner")){return}t.removeClass("hidden");T(a,false);T(n,false);C(a)}}function F(e){w(e);const t=l(e);const a=u(e);if(t==="Contract"){e.find('ba-option[value="Contract"]').prop("hidden",false)}else{e.find('ba-option[value="Contract"]').prop("hidden",true);if(a==="Contract"){e.find("ba-option[selected]").removeAttr("selected")}}}function Z(e,t){const a=u(e);if(!a||a==="Salary"||a==="Contract"){t.text($.__("per"));t.removeClass("hidden")}else if(a==="Hourly"){t.text($.__("per hour"));t.removeClass("hidden")}else{t.addClass("hidden")}}},51247:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>D});var n=a(89835);var s=a(23321);var i=a(17842);var o=a.n(i);var r=a(67648);var $=a(26570);var l={_additionalSignersUri:"/ajax/employees/files/update_additional_signers.php?id=",_selectors:{additionalSigners:".js-additional-signers",templates:".js-esignature-template-list"},init(){this.$=BambooHR.Utils.setupWrappers(this._selectors);this._attachHandlers()},primaryActionFunction(){window.BambooHR.Modal.setState({isProcessing:true},true);this.send(this.employeeId).then((e=>{let{success:t}=e;if(t){window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true)}}))},openModal(e){const t=`/ajax/employees/files/send_signature_request.php?employeeId=${e}`;window.BambooHR.Modal.setState({isLoading:true,isOpen:true});this.employeeId=e;o().get(t).then((e=>{let{data:t}=e;if(t){const{html:e}=t;window.BambooHR.Modal.setState({content:(0,n.Z)("div",{dangerouslySetInnerHTML:{__html:e}}),isLoading:false,title:$.__("Request Signature"),primaryAction:null,primaryActionText:$.__("Send Request")},true);this.init()}}))},send(e){return $.post("/ajax/employees/files/send_signature_request.php?employeeId="+e,$(".js-send-signature-request-form").serialize(),(function(e){setMessage(e.error,e.success===true?"success":"error");if(e.success===true){SimpleModal.closeModal()}SimpleModal.Footer.Buttons.stopProcessing()}),"json")},_attachHandlers(){document.querySelector(this._selectors.templates).addEventListener("ba:selectChange",(e=>{let{detail:t}=e;const{value:a}=t;if(a){r.Z.fetchDisclaimer(a);this.$.additionalSigners.load(`${this._additionalSignersUri}${a}`);window.BambooHR.Modal.setState({primaryAction:()=>this.primaryActionFunction()},true)}else{r.Z.hideDisclaimer();this.$.additionalSigners.html("");window.BambooHR.Modal.setState({primaryAction:null},true)}}))}};var c=l;var d={};d.SendSignatureRequest=c;var u=d;var h=a(51341);var p=a(38592);var m=a(28672);var f=a(76309);var g=a.n(f);var v=a(26570);function y(e){const t=v.getJSON(`/employees/ajax/rehire/${e}`);t.then((function(t){t.employeeId=e;t.terminationDate=(0,h.Z)(t.terminationDate);b(t)}))}function b(e){const{employeeName:t,employeeId:a}=e;const s=(0,m.Z)(g(),{model:e,generateOptions:S,getCanAddAttributes:w,getSpecialClasses:C});function i(){E(a)}window.BambooHR.Modal.setState({isOpen:true,content:(0,n.Z)("div",{dangerouslySetInnerHTML:{__html:s}}),title:v.__("Rehire Employee"),onOpen(){const t=v(".js-rehire-modal-form");t.find(".js-effectiveDate").attr("data-mindate",e.terminationDate.toISOString());t.bhrValidate();window.BambooHR.VirtualPageView.modal("rehireEmployee");const a=document.querySelector(".js-employmentStatusSelect");if(a){a.addEventListener("change",i)}},onClose(){const e=document.querySelector(".js-employmentStatusSelect");if(e){e.removeEventListener("change",i)}},primaryActionText:v.__("Save"),primaryAction(){const t=v(".js-rehire-modal-form");if(!t.valid()){return}const n={...(0,p.getFormData)(".js-rehire-modal-form"),employeeId:a};const s=o().prepareData(n,o().prepareDataTypes.FORM_DATA);o().post("/employees/ajax/rehire",s).then((t=>{let{data:a}=t;if(a.status!=="OK"){let t=v.__("Whoops... There was a problem rehiring %1%2%3!","<strong>",e.employeeName,"</strong>");if(a.syncErrors!==""){t=a.syncErrors}window.setMessage(t,"error");return}window.BambooHR.Modal.setState({isOpen:false});window.location.reload();window.setMessage(v.__("Success!"),"success")}))},icon:"id-card-solid",headerType:"text",headline:t})}function w(e){if(e.meta&&e.meta.insertable){return"can-add=true"}return null}function C(e,t){t=t||[];if(e.meta&&e.meta.insertable){t.push("insertable-list")}return t.join(" ")}function S(e,t){let a;if(!e.options){return}a=`\n\t\t!* field.options.forEach(function(option) { *!\n\t\t\t<ba-option value="!*= option.value *!" !*= (option.value === field.value) ? 'selected' : '' *!>\n\t\t\t\t!*= option.content *!\n\t\t\t</ba-option>\n\t\t!* }); *!\n\t`;return(0,m.Z)(a,{field:e,required:t})}function E(e){const t=document.querySelector('[name="employmentStatusId"]').value;if(!t){return}o().get(`/ajax/employee_status_history_popup/get_allowable_employee_tax_types/0/${t}?employeeId=${e}`).then((e=>{const t=v('[name="taxEmployeeTypeId"]');const a=t.find("select").length?parseInt(t.find("select").val()):parseInt(v('select[name="taxEmployeeTypeId"]').val());t.empty();e.data.options.forEach((e=>{const{optionValue:n,optionText:s,selected:i}=e;let o=i;if(a===n){o=true}else{o=false}t.append(`<ba-option value="${n}" ${o?"selected":""}>${s}</ba-option>`)}))}))}var x={open:y};var T=a(2063);var k=a(17876);var I={};I.RehireModal=x;I.EmploymentStatusModal=T.Z;I.CompensationForm=k.ZP;var A=I;var F=a(16123);var Z={};Z.IncludeInPayrollErrorModal=F.Z;var M=Z;var N={};N.Files=u;N.Job=A;N.Payroll=M;var D=N},37735:(e,t,a)=>{"use strict";a.d(t,{v:()=>c});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(7167);var r=a(56261);var l=a.n(r);var $=a(26570);function c(e){let{firstName:t,userId:a,onSuccess:s=(()=>{})}=e;const i={headline:$.__("Remove all passkeys for %1$s?",t),content:(0,n.Z)(o.B,{justify:"center"},void 0,$.__("%1$s will have to log in using another method and create new Passkeys before logging in with Passkeys again.",t)),icon:"trash-can-regular",iconColor:"warning-medium",iconV2Color:"warning-medium",isOpen:true,isLoading:true,primaryActionText:$.__("Remove Passkeys"),title:$.__("Remove All Passkeys")};window.BambooHR.Modal.setState(i);(0,r.getPasskeyCredentials)(a).then((e=>{const n=Array.isArray(e)?e.length:e?.length??0;const i=n>0;if(!i){setMessage($.__("%1$s has no Passkeys to remove.",t),"info");window.BambooHR.Modal.setState({isOpen:false});return}window.BambooHR.Modal.setState({isLoading:false,primaryActionText:$.__("Remove Passkeys"),primaryAction(){window.BambooHR.Modal.setState({isProcessing:true},true);(0,r.deleteAllPasskeyCredentials)(a).then((()=>{setMessage($.__("Success! All Passkeys removed for %1$s",t),"success");s();window.BambooHR.Modal.setState({isOpen:false})})).catch((e=>{console.error(e);setMessage($.__("There was an error removing the Passkeys. Please try again."),"error");window.BambooHR.Modal.setState({isProcessing:false},true)}))}},true)})).catch((e=>{console.error(e);setMessage($.__("There was an error loading passkey information. Please try again."),"error");window.BambooHR.Modal.setState({isOpen:false})}))}},96064:(e,t,a)=>{"use strict";a.d(t,{N:()=>f});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(17842);var r=a.n(o);var l=a(78144);var c=a(37194);var d=a.n(c);var u=a(56445);var h=a.n(u);var p=a(4525);var $=a(26570);function m(e){let{email:t}=e;const{t:a}=(0,p.$G)("employee");return(0,n.Z)(p.cC,{i18nKey:t?"passwordReset.modal.message":"passwordReset.modal.messageNoEmail",t:a,values:{email:t}})}function f(e){let{firstName:t,email:a,userId:i}=e;window.BambooHR.Modal.setState({content:(0,n.Z)("div",{className:"PasswordResetModal__message"},void 0,(0,u.ifFeature)("I18N_CENTRAL_TOOLS",(0,n.Z)(s.Suspense,{},void 0,(0,n.Z)(m,{email:a})),(0,n.Z)(c.Message,{params:[a||$.__("the user")],text:$._("An email with a link to reset their password will be sent to **{1}**")}))),headline:$.__("Reset password for %1$s?",t),icon:"triangle-exclamation-regular",iconColor:"attention",iconV2Color:"warning-medium",isHeadless:false,isOpen:true,primaryActionText:$.__("Reset Password"),primaryAction(){window.BambooHR.Modal.setState({isProcessing:true},true);g({firstName:t,userId:i}).then((()=>{window.BambooHR.Modal.setState({isOpen:false})})).catch((()=>{window.BambooHR.Modal.setState({isProcessing:false},true)}))},title:$.__("Just Checking...")})}function g(e){let{firstName:t,userId:a}=e;const n=$.__("There was an error resetting the password. Please try again.");const s=r().prepareData({id:a,action:"password"},r().prepareDataTypes.FORM_DATA);return new Promise(((e,a)=>{r().post("/settings/permissions/edit.php",s).then((s=>{const i=s.data;if(i.success){setMessage($.__("Password reset email was sent to %1$s",(0,l.H$)(t)),"success");e(i)}else{const e=(0,l.H$)(i.message)||n;console.error(i);setMessage(e,"error");a(i)}})).catch((function(){console.error(...arguments);setMessage(n,"error");a(...arguments)}))}))}},88536:(e,t,a)=>{"use strict";a.d(t,{E:()=>s});function n(e){return`/employees/employee.php?id=${e}`}const s=e=>{if(e.image){e.avatarUrl=e.image}if(e&&e.avatarUrl){return e.avatarUrl}if(e&&e.name){let t=e.name.match(/\b(\w)/g);if(t){t=t.join("");return`/employees/photos/initials.php?initials=${t}`}}}},67648:(e,t,a)=>{"use strict";var n=a(17842);var s=a.n(n);function i(e){if(e){const t=document.getElementById("js-saves-to-folder");const a=`/esignatures/template_save_location/${e}`;s().get(a).then((e=>{const{savesToEmployeeFileSectionName:a}=e.data;if(a){t.classList.remove("hidden");document.getElementById("js-saves-to-folder-name").innerText=a}else{t.classList.add("hidden")}}),(()=>window.errorFallBack()))}}function o(){document.getElementById("js-saves-to-folder").classList.remove("hidden")}function r(){document.getElementById("js-saves-to-folder").classList.add("hidden")}t["Z"]={fetchDisclaimer:i,showDisclaimer:o,hideDisclaimer:r}},41810:(e,t,a)=>{"use strict";a.d(t,{Iw:()=>S,TZ:()=>E,ZP:()=>C,re:()=>p});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(14386);var r=a(73641);var l=a.n(r);var c=a(38592);var $=a(26570);const d=new WeakMap;const u=new WeakMap;const h={uploadDialogTitle:$.__("Upload Files"),uploaderId:"multiUpload",uploadLinkHTML:`\n\t\t<span class="attach-link">\n\t\t\t<button class="fab-Button fab-Button--secondary fab-TextButton--noSpace" type="button js-chooseFile">\n\t\t\t\t${'<ba-icon encore-class="fab-Button__icon fab-Button__icon--left" encore-name="up-from-line-regular" encore-size="16"></ba-icon>'}\n\t\t\t\t${$.__("Choose File(s)")}\n\t\t\t</button>\n\t\t\t<button class="fab-TextButton fab-link" type="button" style="display: none;">${$.__("Add files")}</button>\n\t\t</span>\n\t`,fileHiddenInput:e=>{let{name:t,type:a,size:n,image:s,fid:i}=e;return`\n\t\t\t<input\n\t\t\t\ttype="hidden"\n\t\t\t\tname="attachId[]"\n\t\t\t\tdata-name="${t}"\n\t\t\t\tdata-type="${a}"\n\t\t\t\tdata-size="${n}"\n\t\t\t\tdata-image="${s}"\n\t\t\t\tvalue="${i}"\n\t\t\t/>\n\t\t`}};const p=(0,n.Z)("div",{id:"uploadFilesDialog"},void 0,(0,n.Z)("form",{name:"fileUploadForm",id:"fileUploadForm",className:"shareForm"},void 0,(0,n.Z)("div",{className:"fileField multiUpload"},void 0,(0,n.Z)("div",{className:"uploadDesc"},void 0,(0,n.Z)("div",{className:"uploadDescText"},void 0,(0,n.Z)("span",{},void 0,(0,n.Z)(o.I,{name:"upload-regular",size:32})),(0,n.Z)("h4",{},void 0,$.__("Drop Files Here to Upload"))),(0,n.Z)("span",{class:"uploadDesc--strong"},void 0,$.__("or"))),(0,n.Z)("div",{className:"FileUploadActions"},void 0,(0,n.Z)("div",{className:"files",style:{width:"100%"}}),(0,n.Z)("span",{className:"attach-wrapper centerThis","data-id":"resume"})))));let m=false;const f="#uploadFilesDialog";function g(){d.get(this).triggerHandler(...arguments);return this}function v(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(m){window.BambooHR.Modal.setState({sheetProps:e},true)}else{window.BambooHR.Modal.setState(e,t)}}function y(e){const t=this;const a=$(".attach-wrapper",e);const{uploadLinkHTML:n,fileHiddenInput:s,uploaderId:i}=w.call(this);const o=()=>{let e=b.call(t);v({isOpen:false});g.call(t,"attach",[e])};const r={linkHTML:n,success(n,i){$(".noFile",e).hide();let r=a.closest("form");r.append(s(n));g.call(t,"upload",[n,i]);x.call(t,true,o)},removeFile(a){let n=a.attr("id").replace("file-","");if(a.hasClass("uploadDone")){$(`:input[name^="attachId"][value="${n}"], ba-select[name^="attachId"][value="${n}"]`).remove()}if(S(e)){x.call(t,false,null)}g.call(t,"remove");return true},onRemove(){if(S(e)){x.call(t,false,null)}},createFileWrapper(t,a){$(".noFile",e).hide();if($(".files > *",e).length===0){$(".attach-link button, .uploadDesc",e).toggle();E(e,false)}return $.fileUploader.createFileWrapper(t,a)},setDragOverValues(e){},setDragOffValues(){},uploaderId:i};a.closest(f).fileUploader(r);$(".uploadDesc",f).show();$('input[name^="attachId"]',f).remove()}function b(){return $(':input[name^="attachId"], ba-select[name^="attachId"]',f).toArray().map(((e,t)=>{const a=e.getAttribute("data-name");return{data:{isComplete:null},fileId:e.getAttribute("value"),id:e.getAttribute("value"),image:e.getAttribute("data-image"),info:{icon:e.getAttribute("data-image"),text:(0,c.getExtFromFileName)(e.getAttribute("data-name")).toUpperCase()},key:a+"-"+t,name:a,type:e.getAttribute("data-type"),value:e.getAttribute("value"),size:e.getAttribute("data-size")}}))}function w(e){let t=u.get(this);if(e){return t[e]}return t}class C{static get className(){return"FileManager"}constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};u.set(this,(0,r.defaults)(e,h));d.set(this,$("<div />"))}on(e){if((0,r.isString)(e)){e+=".FileManager"}for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}d.get(this).on(e,...a);return this}openUploadModal(){const e=this;const{uploadDialogTitle:t}=w.call(e);m=window.BambooHR.Modal.isOpen();const a={content:p,onClose:()=>{v({isOpen:false})},onOpen:()=>{let t=$(f).find(".multiUpload");y.call(e,t)},primaryAction:null,primaryActionText:$.__("Attach"),isOpen:true,title:t};v(a);x(false);return this}}function S(e){if($(".files > *",e).length===0){$(".noFile",e).show();if(!$(".attach-link .js-chooseFile",e).is(":visible")){$(".attach-link > *, .uploadDesc",e).toggle();E(e)}return true}return false}function E(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(t){$(".attach-wrapper",e).addClass("centerThis");$(".FileUploadActions",e).addClass("centerContent")}else{$(".attach-wrapper",e).removeClass("centerThis");$(".FileUploadActions",e).removeClass("centerContent")}}function x(e,t){if(e){v({primaryAction:t},true)}else{v({primaryAction:null},true)}}},1513:(e,t,a)=>{"use strict";a.d(t,{jN:()=>p});var n=a(19273);var s=a(17842);var i=a.n(s);var o=a(81901);var r=a(45662);var l=a(71141);var c=a(51341);var d=a(92776);var u=a(13369);var $=a(26570);let h=null;$((function(){if(typeof window.registerModalLink==="function"){window.registerModalLink("a.history-modal",$.__("Title"),$.__("Save"),v,{open_callback:b,privacy_link:true},g)}f();setTimeout(m)}));function p(e,t,a,n,s){(0,u.openRegisteredModal)({settings:{cancel_message:$.__("Cancel"),open_callback:function(){},initCompensationModal:function(){if($("#historyEdit.CompensationForm").length>0){window.Employees.Job.CompensationForm.initializeForm("updateCompensation")}}},url:e,chosenModalSize:"medium",saveHandler:t,options:{open_callback:b,privacy_link:true},presubmit:g,rowDisplayType:a,historyId:n,secondaryAction:s})}function m(){const e=$("tbody tr:not(.template):not(.empty) td[data-secure-field-type]");if(!e){return}e.each(((e,t)=>{const{dataset:{rowId:a,secureFieldType:n,sensitiveDataVisible:s=false}}=t;$(t).addClass("fab-Table__cellWithButton");const o=$(t).find(".js-historyCellWrapper").text();if(!o||o.length===0){return}$(t).click((function(e){e.stopPropagation();if($(t).attr("data-sensitive-data-visible")==="true"){$(t).attr("data-sensitive-data-visible",false);$(t).find(".js-historyCellWrapper").text(o);$(t).find(".js-showHideButton").text($.__("Show"))}else{i().get(`/employees/get_secure_table_field/${n}`,{id:window.Employee.id,row:a}).then((e=>{if(e.data&&!e.error){$(t).attr("data-sensitive-data-visible",true);$(t).find(".js-historyCellWrapper").text(e.data);$(t).find(".js-showHideButton").text($.__("Hide"))}})).catch((()=>{window.setMessage($.__("There was a problem getting the sensitive data"),"error")}))}}));$(t).attr("data-sensitive-data-visible",s);$(t).append(`<button class="fab-TextButton fab-TextButton--small fab-link showHideButton js-showHideButton" tabIndex="0" type="button">\n\t\t${s?$.__("Hide"):$.__("Show")}\n\t\t</button>`)}))}function f(){let e=$(".js-overtimeRateTableField");if(e.length===0){return}let t=false;$("td.js-overtimeRateTableField .js-historyCellWrapper").each((function(e,a){if(a.innerHTML.trim()!==""){t=true;return false}}));e.toggleClass("hidden",!t)}function g(e){$(e).find(".error").removeClass("error");return true}function v(e){var t=e.type==="contacts"&&["OK","MIXED_OK","REQUEST_OK"].indexOf(e.result)>-1;t=t||e.result==="RELOAD_OK";if(t){window.location.reload();return}if(e.result==="OK"||e.result==="MIXED_OK"){var a=$(".history-table.type-"+e.type.toLowerCase());var n=a.closest("table");var s=a.find(".id-"+e.data.id);var i=e.data;if(e.type==="dependents"&&e.result==="OK"){document.location.reload()}if(!s.length){s=w(n,e.data,e.perms);s.find("a#ctx_new").attr("id","ctx"+e.data.id)}$.each(e.data,(function(e,t){s.find(".field-"+e+" .js-historyCellWrapper").html(t);s.attr("data-effective-date",i.ymd)}));if(typeof i.sortOrder!=="undefined"){$.each(e.data,(function(e,t){s.find(".field-"+e+" .js-historyCellWrapper").html(t);s.attr("data-order",i.sortOrder)}))}if(typeof e.data2!=="undefined"){s=a.find(".id-"+e.data2.id);$.each(e.data2,(function(e,t){s.find(".field-"+e+" p").html(t)}))}window.BambooHR.Modal.setState({isOpen:false});document.dispatchEvent(new CustomEvent("historyModalSaveSuccess",{bubbles:true,detail:{data:e.data}}));if(e.data.stateFilingChange){A()}x();T();if(e.type==="status"){if(typeof window.updateHireDates==="function"){window.updateHireDates()}}E(n);if(e.type!=="dependents"){if(e.result==="OK"){setMessage($.__("Your changes have been saved"),"success","#forMessages",(function(){}))}else{setMessage($.__("Your changes have been saved, some of them will need to be approved."),"success","#forMessages",(function(){}))}}}else if(e.result==="REQUEST_OK"){setMessage($.__("A change request has been submitted for the changes entered."),"success","#forMessages",(function(){}));window.BambooHR.Modal.setState({isOpen:false})}else if(e.result==="DUPLICATE_OK"){setMessage($.__("No new data was entered."),"info","#forMessages",(function(){}));window.BambooHR.Modal.setState({isOpen:false})}else{if(e.data.useErrorMessage!==true&&typeof e.data.fields!="undefined"&&e.data.fields.length>0){setMessage($.__("Whoops... There were some errors with your form. Please fix the highlighted fields."),"error")}else{setMessage(e.data.error,"error")}if(e.data.fields){(0,r.Eq)(e.data.fields,window.modalIdSelector)}}if((0,l.isEnabled)("nonExemptWarningModals")&&e.type.toLowerCase()==="compensation"){y(e.data.exempt)}}function y(e){if(!(e==="Non-exempt"&&h==="Exempt")){return}if(!(0,l.isEnabled)("custom-overtime")){i().get(`/time_tracking/employee/${window.Employee.id}/overtime_modal_data`).then((e=>{if(e.data.isTimeTrackingEnabled){if(e.data.showNoLocationModal){(0,d.qk)("no-location",window.Employee.preferredName,false)}else if(e.data.showNoStateModal){(0,d.qk)("no-state",window.Employee.preferredName,false)}else if(e.data.showNoStateRemoteModal){(0,d.qk)("no-state-remote",window.Employee.preferredName,false)}else if(e.data.showNonOvertimeCountryModal){(0,d.qk)("non-overtime-country",window.Employee.preferredName,false)}}}))}}function b(e){$(".history-modal").removeAttr("modalClicked");$(".check-dropdown").multiselect({noneSelectedText:$.__("-- Select --"),header:false,height:"auto"});window.registerRateChange();let t=window.SimpleModal.getTopModalSelector();t=$(".ReactModal__Content");const a=t.find("form");a.append('<input type="hidden" name="CSRFToken" value="'+CSRF_TOKEN+'">');if(a.has(".CompensationForm")){h=a.find(".js-overtimeStatus").val()}}function w(e,t,a){var n=e.find(".template");var s=n.clone();var i=s.find("a.history-modal").attr("url");var o=typeof t.sortOrder!=="undefined"?"data-order":"data-effective-date";var r=typeof t.sortOrder!=="undefined"?t.sortOrder:(0,c.Z)(t.ymd,"YYYY-MM-DD");s.addClass("id-"+t.id).attr(o,r).removeAttr("style").removeClass("template");e.find("tr.BhrTable__row.empty").hide();if(!a.edit){s.find(".inline-bicon-edit").parent().remove()}if(!a.delete){s.find(".inline-bicon-delete").parent().remove()}s.insertAfter(n);s.find("a.history-modal").attr("url",k(t.id,i));return s}function C(e){var t="data-effective-date";var a=e.find("tbody tr:not(.template):not(.empty)").toArray();var n=a.filter((function(e){var a=e.getAttribute(t);return a&&a.length})).map((function(e){return{element:e,date:(0,c.Z)(e.getAttribute(t),"YYYY-MM-DD")}})).sort((function(e,t){return(0,c.Z)(t.date).diff(e.date)}));var s=a.filter((function(e){var a=e.getAttribute(t);return!a||!a.length})).map((function(e){return{element:e,date:c.Z.invalid()}})).sort((function(e,t){var a=$(e.element).find("td:nth-child(2)").text();var n=$(t.element).find("td:nth-child(2)").text();return a-n}));let i=a.filter((e=>{let t=e.getAttribute("data-order");return t&&t.length})).map((e=>({element:e,order:(0,c.Z)(e.getAttribute("data-order"),"YYYY-MM-DD")}))).sort(((e,t)=>(0,c.Z)(e.order).diff(t.order)));return i?i:n.concat(s)}function S(e){var t="BhrTable__cell--most-recent baseBgColor-before";e.find(".field-ymd").removeClass(t);var a=C(e);var n=(0,c.Z)();var s=a.reduce((function(e,t){return!e||n.isSameOrAfter(t.date)&&n.isBefore(e.date)?t:e}),null);if(s&&n.isAfter(s.date)){$(s.element).find(".field-ymd").addClass(t)}}function E(e){var t=e.find(".template");var a=C(e);a.forEach((function(e){t.after(e.element);t=$(e.element);if(typeof e.date!=="undefined"){t.toggleClass("BhrTable__row--future",(0,c.Z)().isBefore(e.date))}}));S(e);f()}function x(){if(typeof window.updateInfoColumn==="function"){window.updateInfoColumn()}}function T(){$("#employeeGearMenu").load("/ajax/employees/update_gear_menu.php?employeeId="+window.currentlyEditingEmployeeId+" #employeeGearMenu > *",(function(){n.Z.init()}))}function k(e,t){const a=isNaN(window.currentlyEditingEmployeeId)||!window.currentlyEditingEmployeeId?-1:window.currentlyEditingEmployeeId;e=isNaN(e)||!e?-1:e;return`/ajax/dialog/history_popup/${t}/${a}/${e}`}function I(e,t){var a=e.closest("tr");var n=a.attr("class").split("id-");var s=n[1].split(" ");var i=s[0];if(!i.length||i===null||i===undefined||i==="null"||i==="undefined"){window.setMessage($.__(`Oops! We can't process your request right now, please refresh the page and try again.`),"error");return false}a.addClass("selected");var o=this.href;var r={title:$.__("Delete Row"),msg:$.__("Are you sure you want to delete this row?"),accept:$.__("Yes"),error:$.__("Error"),errormsg:$.__("Sorry.  This row can not be deleted because there is a change request for it that is waiting for approval."),erroraccept:$.__("Ok")};window.BambooHR.Modal.setState({content:r.msg,isOpen:true,primaryAction:function(){if(window.GLOBAL_IS_ASSUMED_USER){window.disabledForPermsTest()}else{var e="/ajax/dialog/history_popup/"+t+"/"+window.currentlyEditingEmployeeId+"/"+i;$.post(e,{CSRFToken:CSRF_TOKEN,_method:"DELETE"}).then(l,c)}},onClose:function(){a.removeClass("selected")},primaryActionText:r.accept,title:r.title});F(t);function l(e){window.BambooHR.Modal.setState({isOpen:false});let t="";let n="";if(e?.result&&e?.data){const{result:a,reload:s,errorMsg:i,data:{stateFilingChange:o}}=e;n=i;if(a==="OK"&&s){t="RELOAD_OK"}else{t=a}if(o){A()}}if(t==="OK"){var s=a.closest("table");var i=a.closest("tbody");a.remove();x();T();S(s);f();if(!i.find("tr:not(.template):not(.empty)").length){i.find("tr.BhrTable__row.empty").show()}}else if(t==="PENDING_CHANGE"){window.setMessage(r.errormsg,"error")}else if(t==="RELOAD_OK"){window.location.reload()}else{window.setMessage(n,"error")}}function c(){window.setMessage($.__("Whoops... we couldn't remove this item for you"))}}function A(){document.dispatchEvent(new CustomEvent("launchStateTaxModal",{bubbles:true,detail:{employeeId:window.Employee.id,employeeName:window.Employee.preferredName,stateTaxPermLevel:window.stateTaxPermLevel}}))}function F(e){switch(e){case"status":o.Z.modal("deleteEmploymentStatus");break;case"compensation":o.Z.modal("deleteCompensation");break;case"job":o.Z.modal("deleteJobInformation");break;case"bonus":o.Z.modal("deleteBonus");break;case"commission":o.Z.modal("deleteCommission");break;case"benefit_class":o.Z.modal("deleteBenefitClass");break;case"earnings":o.Z.modal("deleteEarnings");break;case"visa":o.Z.modal("deleteVisa");break}}t["ZP"]={deleteRow:I,updateEmployeeInformation:x,updateEmployeeGearMenu:T,openMissingLocationInformation:d.qk}},61093:(e,t,a)=>{"use strict";var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(34825);var r=a(17842);var l=a.n(r);var c=a(11246);var d=a.n(c);var $=a(26570);const u="/feeds/ical";const h={createFeed:e=>$.post(u,{definition:e}),updateFeed:e=>$.ajax({type:"PUT",url:`${u}/${e}`}),deleteFeed:e=>$.ajax({type:"DELETE",url:`${u}/${e}`})};let p=[];function m(e){return p.filter((t=>t.definition==e))[0]}function f(e){return document.querySelector(`.js-ical-feed[data-ical-definition="${e}"]`)}function g(e){let t=m(e);h.createFeed(e).done((e=>{Object.assign(t,e);w()}))}function v(e){let t=m(e);h.deleteFeed(t.id).done((()=>{t.publicId=null;w()}))}function y(e){let t=m(e);let a=f(e);a.querySelector(".js-ical-modal-input").value="";h.updateFeed(t.id).done((e=>{Object.assign(t,e);w()}))}function b(e,t){let a=new(d())(e,{target:()=>f(t).querySelector(".js-ical-modal-input")});a.on("success",(a=>{a.clearSelection();e.style.display="none";let n=f(t).querySelector(".js-ical-modal-copied");n.style.display="block";window.setTimeout((()=>{e.style.display="block";n.style.display="none"}),1500)}));a.on("error",(t=>{if(window.BambooHR.Components.Tooltip.selectTooltips(e).length){return false}let a=window.BambooHR.Components.Tooltip.create(e,{content:$.__("Press ctrl+c or command+c to copy the link")}).show();window.setTimeout((()=>a.destroy()),3e3)}))}function w(){let e=document.querySelector("#js-ical-modal-feed-template").innerHTML;document.querySelector("#js-ical-modal-feeds").innerHTML=window.microTemplate(e,{feeds:p});C()}function C(){let e=document.querySelectorAll(".js-ical-feed");[].slice.call(e).forEach((e=>{let t=e.getAttribute("data-ical-definition");let a=e.querySelector(".js-ical-modal-create-feed");if(a){a.addEventListener("click",g.bind(null,t))}else{e.querySelector(".js-ical-modal-update-feed").addEventListener("click",y.bind(null,t));e.querySelector(".js-ical-modal-delete-feed").addEventListener("click",v.bind(null,t));let a=e.querySelector(".js-ical-modal-copy");b(a,t);e.querySelector(".js-ical-modal-input").addEventListener("click",(function(){this.blur();this.focus();this.select()}))}}))}function S(){p=JSON.parse(document.querySelector("#js-ical-modal-data").innerHTML);w();o.ZP.setPosition()}function E(){const e=$.__("iCalendar Feeds");const t=$.__("Done");l().get(u).then((a=>{window.BambooHR.Modal.setState({isOpen:true,content:(0,n.Z)("div",{dangerouslySetInnerHTML:{__html:a.data}}),onOpen(){setTimeout((()=>{S()}))},primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:t,alternativeAction:null,title:e})}))}t["Z"]={open:E}},72144:(e,t,a)=>{"use strict";a.d(t,{Z:()=>S});var n=a(17842);var s=a.n(n);var i=a(71141);var o=a(89835);var r=a(40724);var l=a(23321);var c=a(53534);function d(e){let{onCancel:t,onSave:a,originalAddress:n,suggestedAddress:s}=e;const i=document.createElement("div");document.body.appendChild(i);(0,c.s)((0,o.Z)(r.x5,{route:"/address-validation/modal",pageLoadData:{onCancel:t,onSave:a,originalAddress:n,suggestedAddress:s}}),i)}function u(e){let{onCancel:t,onSave:a,originalAddress:n}=e;const s=document.createElement("div");document.body.appendChild(s);(0,c.s)((0,o.Z)(r.x5,{route:"/address-validation/no-suggestion-modal",pageLoadData:{onCancel:t,onSave:a,originalAddress:n}}),s)}function h(e){let{onCancel:t,onSave:a,originalAddress:n}=e;const s=document.createElement("div");document.body.appendChild(s);(0,c.s)((0,o.Z)(r.x5,{route:"/address-validation/error-modal",pageLoadData:{onCancel:t,onSave:a,originalAddress:n}}),s)}const p=()=>s().get("/address-validation/is-enabled");const m=(e,t,a,n)=>{d({onCancel:n,onSave:t=>{let{useOriginalAddress:n,useSuggestedAddress:s,suggestedAddress:i}=t;if(n){a(e)}else if(s){a(i)}},originalAddress:e,suggestedAddress:t})};const f=(e,t,a)=>{h({onCancel:a,onSave:()=>t(e),originalAddress:e})};const g=(e,t,a)=>{u({onCancel:a,onSave:()=>t(e),originalAddress:e})};const v=async(e,t,a)=>{const{data:n}=await p();if(!n.isEnabled){t(e);return}await s().post("/address-validation/validate-address",e).then((n=>{let{data:s}=n;if(s.isValid){t(e)}else if(s.error){f(e,t,a)}else if(s.suggestedAddress){m(e,s.suggestedAddress,t,a)}else{g(e,t,a)}})).catch((n=>{f(e,t,a)}))};var $=a(26570);const y=window.BambooHR.Modal;const b={locationInUseError:$.__("Oops. This location is already in use. Please choose a different one."),locationGeneralError:$.__("Oops. Something went wrong. Please try again.")};function w(e,t,a,n,o){let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};const l=t["location[listValueId]"];const c=!!e||!!l;a=typeof a==="undefined"||a==="undefined"?true:a;const d={locationId:e,action:c?"Update":"Add",listValueId:l,showEditRadioButtons:a};if(r&&r.zenpayroll){d.zenpayroll=r.zenpayroll}let u={};const h=r.hasOwnProperty("isSheet")&&r.isSheet;const p=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(e){y.setState({sheetProps:t},a)}else{y.setState(t,a)}};const m=function(){u={};if(typeof o==="function"){o(d)}};const f=function(){const e=$("#location_form");const a=e.find("input[type=text]:eq(0)");a.attr("onfocus","this.value = this.value").focus();if(t&&typeof t!=="undefined"){$.each(t,(function(t,a){if(t.indexOf("location")>-1&&a&&a!==""){const n=e.find(`:input[name="${t}"], ba-select[name="${t}"]`);n.val(a);if(n.prop("tagName")==="SELECT"){n.trigger("liszt:updated")}else{n.siblings("label").hide()}}}))}$(".zen_phone").mask("(999)999-9999");e.initializeElements();e.bhrValidate();function n(){if($("#remoteLocation").is(":checked")){$(".js-remote-toggle").hide()}else{$(".js-remote-toggle").show();e.initializeElements()}}n();$("#remoteLocation").change((function(){n()}));C()};const g=e=>{const t="/location";return s().post("/location",e)};const w=t=>{const a=e?`/location/${e}`:`/location/lv/${l}`;return s().put(a,t)};const S=()=>{p(h,{isProcessing:true});const e=$("#location_form");if(!e.valid()){p(h,{isProcessing:false});return}u={};$.each(e.serializeArray(),(function(_,e){if(u.hasOwnProperty(e.name)){u[e.name]=$.makeArray(u[e.name]);u[e.name].push(e.value)}else{u[e.name]=e.value}}));if((0,i.isEnabled)("ADDRESS_VERIFICATION_FOR_WORK_LOCATIONS")){const e={addressLine1:u["location[street1]"],addressLine2:u["location[street2]"],city:u["location[city]"],state:u["location[state]"],zipCode:u["location[zipcode]"],country:u["location[country]"]};v(e,E,(()=>{p(h,{isProcessing:false})}))}else{E()}};const E=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;const t={listValueId:c&&l||"",changeHistory:"history",label:u.label,location:{remoteLocation:u["location[remoteLocation]"]||"",street1:e?.addressLine1||u["location[street1]"],street2:e?.addressLine2||u["location[street2]"],city:e?.city||u["location[city]"],state:e?.stateObject?.id||u["location[state]"],zipcode:e?.zipCode||u["location[zipcode]"],country:e?.countryObject?.id||u["location[country]"],timezone:u["location[timezone]"]}};const a=c?w:g;a(t).then((e=>{if(typeof n==="function"){p(h,{isOpen:false});n(e.data)}window.closeMessage()})).catch((e=>{if(e.response.data.includes("existing location")||e.response.data.includes("already exists")){window.setMessage(b.locationInUseError,"error")}else{window.setMessage(b.locationGeneralError,"error")}})).finally((()=>{p(h,{isProcessing:false})}))};s().get("/ajax/dialog/location.php",d).then((e=>{if(typeof e.data==="object"){y.setState({...h?{sheetProps:{isOpen:false}}:{isOpen:false}},h);window.setMessage(e.data.error||window.DEFAULT_ERROR_MESSAGE,"error");return}const t={biId:`employee-field-${c?$.__("save"):$.__("add")}-location`,dangerousContent:e.data,isOpen:true,isProcessing:false,onClose:m,onOpen:f,primaryAction:S,primaryActionText:c?$.__("Save"):$.__("Add"),title:c?$.__("Edit Location"):$.__("Add a New Location")};if(h){y.setState({sheetProps:{...t,type:"mediumSheet"}},true)}else{y.setState({...t})}}))}function C(){const e=$(".js-remote-checkbox");const t=e.find("input#remoteLocation");if(t.is(":disabled")){window.BambooHR.Popover.create(e[0],{closeX:false,html:`<div style="max-width: 320px; padding: 8px 12px; background-color: #646464; font-size: 12px; color: #ffffff; text-align: left; line-height: 1.2">${$.__("This location is used by at least one job opening, and job openings require an address.")} ${$.__("You cannot change this location to remote until you adjust the location on the job opening(s).")}</div>`,push:12,tailBackground:"#646464",tailOnAnchor:8,tailOnBalloon:20,triggerEvent:"hover"})}}var S={showModal:w}},28672:(e,t,a)=>{"use strict";var n=a(68183);var s=a.n(n);var i=a(78144);s().encodeHtml=i.H$;s().decodeHtml=i.kB;t["Z"]=s()},8099:(e,t,a)=>{"use strict";a.d(t,{G9:()=>d,zn:()=>u});var n=a(44119);var s=a(73641);var i=a(51375);var o=a(40635);const r=function(e){let{workflowName:t="onboarding",fullDetails:a=false}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return o.Ajax.get(`/employees/${e.toString()}/tasks?workflowName=${t}&fullDetails=${a}`)};var l=a(11373);var $=a(26570);class c{static get className(){return"BaseAPI"}constructor(e){(0,n.Z)(this,"Ajax",void 0);this.Ajax=e}}class d extends c{static get className(){return"EditEmailAPI"}constructor(e){super(e);(0,n.Z)(this,"DEFAULT_CURRENT_END_POINT","current");(0,n.Z)(this,"DEFAULT_PREVIEW_END_POINT","demo");(0,n.Z)(this,"DEFAULT_GET_DEFAULT_MESSAGE_END_POINT","default");(0,n.Z)(this,"DEFAULT_RESET_END_POINT","reset");(0,n.Z)(this,"DEFAULT_SAVE_END_POINT","create");this.getCurrentEmailTemplate=this.getCurrentEmailTemplate.bind(this);this.getEmailDefaultTemplate=this.getEmailDefaultTemplate.bind(this);this.resetEmailTemplateToDefault=this.resetEmailTemplateToDefault.bind(this);this.saveEmailTemplate=this.saveEmailTemplate.bind(this)}getCurrentEmailTemplate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_CURRENT_END_POINT;return this.Ajax.get(e).then((e=>{if(e.status===200){const{body:t="",defaulted:a=true,subject:n=""}=e.data;return{body:t,defaulted:a,subject:n}}}))}getEmailDefaultTemplate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_GET_DEFAULT_MESSAGE_END_POINT;return this.Ajax.get(e).then((e=>{const{error:t}=e?.data||{};if(t){window.setMessage($.__("An error has occurred getting the default message, please try again"),"error");throw new Error("Reset default failed")}return e.data}))}previewEmailTemplate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_PREVIEW_END_POINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.post(e,t).then((e=>{const{body:t="",error:a={},subject:n=""}=e.data;return{body:t,error:a,errorCode:a.code,subject:n}})).catch((e=>{window.setMessage($.__("An error has occurred while getting the preview, please try again later"),"error");throw e}))}resetEmailTemplateToDefault(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_RESET_END_POINT;return this.Ajax.put(e)}saveEmailTemplate(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_SAVE_END_POINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.post(e,t)}}class u extends c{static get className(){return"NewHirePacketAPI"}constructor(e){super(e);(0,n.Z)(this,"DEFAULT_CONTACT_MANAGER_ENDPOINT","new_hire_packet/people");(0,n.Z)(this,"DEFAULT_GTKY_FILTER_ENDPOINT","new_hire_packet/gtkyoptions");(0,n.Z)(this,"DEFAULT_TEMPLATE_ENDPOINT","/employees/new_hire_packet.php");(0,n.Z)(this,"DEFAULT_TEMPLATE_DATA_ENDPOINT","/onboarding/nhp/");(0,n.Z)(this,"DEFAULT_ONBOARDING_TASKS_IMPORT_ENDPOINT","/onboarding/tasks/importable/");this.getContactAndManagerInfo=this.getContactAndManagerInfo.bind(this)}getNewEmployeeInfoForm(e){return this.Ajax.get(`/onboarding/nhp_preview/${e}`).then((e=>e.data)).catch((e=>{window.setMessage("Uh Oh, something went wrong loading the new hire packet new employee info.","error");throw e}))}async getEmployeeNewHirePacketTasks(e,t){try{const a=await r(e,{workflowName:"onboarding",fullDetails:true});const n=a.data.meta.persons;const s=a.data.result.tasks;const o=a.data.meta.files;const l=n.find((t=>t.employeeId===e))?.userId;const c=s.filter((e=>(0,i.rV)(e,l,t)));return{tasks:c,files:o}}catch(e){(0,l.setMessage)({message:$.__("Uh Oh, something went wrong loading the new hire packet tasks."),type:"error"})}}getEmployeePacketDetails(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_TEMPLATE_DATA_ENDPOINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.get(`${e}${t}`).then((e=>{const{employee:t,newHirePacket:a,payrollFields:n,questionsAndAnswers:s,recipientTypes:i}=e.data;const o={...t};for(const e in o){if(o.hasOwnProperty(e)&&o[e]===null){switch(e){case"id":case"managerId":o[e]=undefined;break;case"payrollSynced":o[e]=false;break;default:o[e]=""}}}return{employee:o,newHirePacket:a,payrollFields:n,questionsAndAnswers:s,recipientTypes:i}})).catch((e=>{window.setMessage("An error occurred getting packet data, please try again","error");throw e}))}getContactAndManagerInfo(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_CONTACT_MANAGER_ENDPOINT;return this.Ajax.get(e).then((e=>{const{data:t}=e;const{employees:a,nhpUserId:n,orderedEmployees:s,orderedUsers:i,users:o}=t;const r=[];const l=[];for(let e=0;e<s.length;e++){r.push({text:a[s[e]],value:`${s[e]}`})}for(let e=0;e<i.length;e++){l.push({text:o[i[e]].name,value:`${i[e]}`})}return{employeeOptions:r,userOptions:l,nhpUserId:n}}))}getTeamContactInfo(e){return this.Ajax.get(`/onboarding/nhp_preview/${e}/team`).then((e=>{const{error:t}=e?.data||{};if(t){window.setMessage($.__("An error has occurred getting the team information, please try again"),"error");throw new Error("Reset default failed")}return e.data})).catch((e=>{window.setMessage($.__("An error occurred getting packet data, please try again"),"error");throw e}))}getGTKYFilterData(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_GTKY_FILTER_ENDPOINT;const t={locations:"location",divisions:"division",departments:"department",employmentStates:"status"};return this.Ajax.get(e).then((e=>{const{data:a}=e;const n=Object.keys(a);return n.map((e=>{const n=t[e]||e;const i=[];const o=a[e];for(let e=0;e<o.length;e++){i.push({parentId:n,text:o[e].value,value:o[e].id})}i.sort(((e,t)=>{if(e.text<t.text){return-1}if(e.text<t.text){return 1}return 0}));return{items:i,name:n,text:(0,s.startCase)(n),value:n}}))}))}getImportableTasks(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_ONBOARDING_TASKS_IMPORT_ENDPOINT;let t=arguments.length>1?arguments[1]:undefined;const a=h(t);if(a.length>0){return new Promise(((e,t)=>{t({missingData:a})}))}const{deletedOriginalIds:n=[],excludedIds:s=[],managerId:i,hireDate:o,initialImport:r=true}=t;return this.Ajax.post(e,{deletedOriginalIds:n.join(","),excludedIds:s.join(","),managerId:i,hireDate:o}).then((e=>{const{applicableToEmployee:t,files:a,hasImported:n,notApplicableToEmployee:s,semiApplicableToEmployee:i,users:o}=e.data;const l={...i,...r?{}:s};return{applicableTasks:t,files:a,hasImported:n,notApplicableTasks:l,users:o}})).catch((e=>{window.setMessage($.__("Uh oh, something went wrong. Please try again."),"error");throw e}))}getMissingData(e){return this.Ajax.get(`/onboarding/tasks/${e}/missing_fields`).then((e=>e.data)).catch((e=>{(0,l.setMessage)({message:$.__("An error occurred while getting the template information, please try again later"),type:"error"});throw e}))}getTemplates(e){return this.Ajax.get(e).then((e=>e.data)).catch((()=>{(0,l.setMessage)({message:$.__("An error occurred while getting the template list, please try again later"),type:"error"});return false}))}getTemplateData(e){return this.Ajax.get(e).then((e=>{const t={...e.data};t.contactEmployeeId=t.contactEmployeeId?t.contactEmployeeId:"";return t})).catch((()=>{(0,l.setMessage)({message:$.__("An error occurred while getting the template information, please try again later"),type:"error"});return false}))}saveTemplate(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"post";return this.Ajax[a](e,t).then((e=>({savedNHPTemplate:true,templateData:e.data}))).catch((()=>({savedNHPTemplate:false})))}deleteTemplate(e){return this.Ajax.delete(e).catch((e=>{(0,l.setMessage)({message:$.__("An error occurred while deleting the template, please try again"),type:"error"});throw e}))}savePacket(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.DEFAULT_TEMPLATE_DATA_ENDPOINT;let t=arguments.length>1?arguments[1]:undefined;return this.Ajax.post(e,t).then((e=>({packetSaved:true,response:e}))).catch((e=>{throw e}))}}function h(e){const{managerId:t="",hireDate:a=""}=e;const n=[];if(typeof t==="string"&&t.length<1||t&&Number.isNaN(t)){n.push("managerId")}if(a.length<1){n.push("hireDate")}return n}},51375:(e,t,a)=>{"use strict";a.d(t,{rV:()=>d,uw:()=>r,mq:()=>l,YP:()=>c});var n=a(37624);let s=function(e){e["MANAGER"]="manager";e["NONE"]="none";e["SELF"]="self";e["USER"]="user";return e}({});let i=function(e){e["DEFAULT"]="default";e["OFFBOARDING"]="offboarding";e["ONBOARDING"]="onboarding";return e}({});var o=a(34914);function r(e){let t="";const a=e.map((e=>{t=e.type;return`${e?.typeId||e?.id}`}));return{selectedParentId:t,selectedFilters:a}}function l(e){const t={};const a={...e};const{gtkyQuestions:s,gtkyRecipients:i}=a;const{selectedParentId:o="",selectedFilters:l}=r(i);a.nhpTemplateId=a.id;delete a.id;s.map(((e,a)=>{t[a]=e}));(0,n.$x)({gtkyRecipients:e.gtkyRecipients.map((e=>({allEmployees:false,type:e.type,typeId:e.typeId})))});return{newHirePacket:a,gtkyQuestions:t,emailFilter:{selectData:[],selectedName:o,selectedParentId:o,selectedValues:l}}}function c(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(Array.isArray(e)){return e.map((e=>({text:e.name,value:e.id})))}return[]}const d=(e,t,a)=>{const n=e.dueDate?(0,o.parseISO)(e.dueDate):null;const i=(0,o.parseISO)(a);const r=e.assignedTo===s.SELF||e.assignedUserId===t;const l=n&&n<=i;return r&&l}},55698:()=>{"use strict";var e=function(e){e["DEFAULT"]="default";e["OFFBOARDING"]="offboarding";e["ONBOARDING"]="onboarding";return e}(e||{})},58552:(e,t,a)=>{"use strict";a.d(t,{r:()=>u});var n=a(89835);var s=a(23321);var i=a(52584);var o=a(41201);var r=a(39030);const l=(0,r.m)((e=>{let{palette:t,typography:a}=e;return(0,r.c)({fileCard:()=>({marginRight:"16px",marginBottom:"10px"}),pendingWorkflow:{color:t.gray[1e3],fontWeight:a.fontWeightRegular}})}));const c="esig";var d=a(12142);function u(e){const{attachments:t,files:a=Array(),handleRemove:s,handleToggle:r,view:u="display"}=e;const h=l();if(a.length>1){a.sort(((e,t)=>e.name.localeCompare(t.name)))}return(0,n.Z)("div",{className:"FileCardContainer FileCards NewHirePacketFiles"},void 0,a.map(((e,l)=>{if(!e){return null}const p=t.find((t=>t.fileId===e.id));const m=(0,o.m1)(e.ext.toLowerCase())?"img":"";const f=!!p?.esignatureInstanceId;function g(){const t=["Completed","InProgress","Pending"];if(f){if(t.indexOf(p.esignatureInstanceStatus)>-1&&p.esignatureInstanceId){(0,d.openEsignatureSigningModal)(p.esignatureInstanceId,true)}}else{(0,o.NC)(e.mostRecentFileDataId||e.id,e.id,e.name,null,null,true,m)}}let v=null;if(u==="display"){if(p.esignatureInstanceId){switch(p.esignatureInstanceStatus){case"InProgress":case"Pending":v="pending";break;case"Completed":v="signed";break;case"Declined":v="declined";break;default:v="canceled";break}}else{v="pending"}}return(0,n.Z)("div",{className:h.fileCard,"data-file-id":e.id},`${l}_${e.id}`,(0,n.Z)(i.F,{fileId:e.id,fileName:e.name,fileType:f?c:e.ext,onClick:u==="display"?g:null,onRemove:u==="attachment"?e=>{const t=a.findIndex((t=>Number.parseInt(t.fileId)==e));if(typeof r==="function"){s({fileId:e,fileIndex:t})}}:null,onToggle:e=>{const t=a.findIndex((t=>Number.parseInt(t.fileId)===e));const n=p.isRequired?"yes":"no";if(typeof r==="function"){r({fileId:e,fileIndex:t,required:n})}},signatureState:v,toggleState:p.isRequired,view:u}),v==="pending"?(0,n.Z)("span",{id:`esignature-signing-root-${p.esignatureInstanceId}`}):null)})))}},44070:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n,v:()=>s});let n=function(e){e["EMAIL"]="email";e["HIRE_DATE"]="hireDate";e["MANAGER"]="manager";return e}({});let s=function(e){e["NO"]="no";e["YES"]="yes";e["REQUIRED"]="required";return e}({})},2301:(e,t,a)=>{"use strict";a.d(t,{m:()=>w});var n=a(88604);var s=a(23321);var i=a.n(s);var o=a(89835);var r=a(60042);var l=a.n(r);var c=a(55928);var d=a(56921);var u=a(54544);var h=a(26242);var p=a(7167);var m=a(77285);var f=a(79340);var g=a(85617);var $=a(26570);class v extends s.PureComponent{static get className(){return"FirstDayInformation"}constructor(e){super(e);const{hireDate:t,location:a,otherInstructions:n,selectedArrivalTime:s,selectedContactOptions:i,selectedManagerOptions:o,storeUpdater:r=(()=>0)}=e;this.state={hireDate:t,location:a,otherInstructions:n,selectedArrivalTime:s,selectedContactOptions:i,selectedManagerOptions:o};r(this.state);this._handleChangeLocation=this._handleChangeLocation.bind(this);this._handleChangeInstructions=this._handleChangeInstructions.bind(this);this._handleContactChange=this._handleContactChange.bind(this);this._handleManagerChange=this._handleManagerChange.bind(this);this._handleTimeChange=this._handleTimeChange.bind(this)}_handleUpdateHireDate(e){const{storeUpdater:t=(()=>0),updateHireDate:a}=this.props;const{hireDate:n}=this.state;if(n!==e){if(typeof a==="function"){try{a(e)}catch(e){console.error(e)}}this.setState({hireDate:e},(()=>{t(this.state)}))}}_handleChangeInstructions(e){const{storeUpdater:t=(()=>0)}=this.props;const{value:a=""}=e.target;this.setState({otherInstructions:a},(()=>{t(this.state)}))}_handleChangeLocation(e){const{storeUpdater:t=(()=>0)}=this.props;const{value:a=""}=e.target;this.setState({location:a},(()=>{t(this.state)}))}_handleContactChange(e){const{storeUpdater:t=(()=>0)}=this.props;this.setState({selectedContactOptions:e},(()=>{t(this.state)}))}_handleManagerChange(e){if(e.length===0||e[0].length===0){return}const{storeUpdater:t=(()=>0),updateSelectedManager:a}=this.props;if(typeof a==="function"){try{a(e[0])}catch(e){console.log(e)}}this.setState({selectedManagerOptions:e},(()=>{t(this.state)}))}_handleTimeChange(e){const{storeUpdater:t=(()=>0)}=this.props;this.setState({selectedArrivalTime:e},(()=>{t(this.state)}))}componentDidMount(){const e=document.querySelector(".js-hireDatePickerInput");if(e){e.addEventListener("blur",(e=>{const t=e.target.value;if(!t||t===""){this._handleUpdateHireDate(t)}}))}}render(){const{arrivalTimes:e,contactOptions:t,errorField:a={},infoHighlightFields:n={},managerOptions:s,templateView:r,isEmployeeOfRecord:v=false}=this.props;const{hireDate:y,location:b="",otherInstructions:w="",selectedArrivalTime:C,selectedContactOptions:S,selectedManagerOptions:E}=this.state;const x=l()("fab-Label fab-Label--required",{"fab-Label--error":a.hireDate,"fab-Label--info":n.hireDate});const T=l()("js-hireDatePickerInput fab-TextInput--width5",{"fab-TextInput--error":a.hireDate,"fab-TextInput--info":n.hireDate});return i().createElement(i().Fragment,null,(0,o.Z)(c.S,{paddingTop:"24px"},void 0,(0,o.Z)(c.S.Header,{icon:"map-solid",size:"large",title:$.__("When, Where, and Other Info")}),(0,o.Z)(d.F,{flexDirection:"column",gap:2.5,marginTop:3},void 0,(0,o.Z)(d.F,{flexDirection:"row",gap:1.5,alignItems:"flex-start"},void 0,!r&&(0,o.Z)("div",{className:"fab-FormColumn",id:"hireDate"},void 0,(0,o.Z)(u.D,{note:v&&(0,o.Z)(h.L,{maxWidth:"220px"},void 0,(0,o.Z)(p.B,{},void 0,$.__("Hire date entered in the contract with Remote cannot be changed"))),notePlacement:"block",label:$.__("Hire Date (First Day)"),disabled:v,id:"hireDate",onChange:e=>{this._handleUpdateHireDate(e.value)},required:true,value:this.props.hireDate,width:7})),(0,o.Z)(m.S,{id:"arrivalTime",items:e,label:$.__("Please Arrive by..."),menuWidth:7,onChange:e=>{this._handleTimeChange([e.target.value.toString()])},value:C,width:7}),(0,o.Z)(f.T,{id:"location",label:$.__("Location"),onChange:this._handleChangeLocation,placeholder:$.__("Enter Address (Leave blank for remote employee)"),value:b,width:10})),(0,o.Z)(d.F,{flexDirection:"row",gap:1.5},void 0,(0,o.Z)(m.S,{id:"whoToContact",items:t,label:$.__("Who to Contact"),menuWidth:7,onChange:e=>{this._handleContactChange([e.target.value.toString()])},value:S,width:7}),!r&&(0,o.Z)(m.S,{id:"managerSelect",isClearable:false,items:s,label:$.__("Manager"),status:n.manager?"info":undefined,menuWidth:7,onChange:e=>{this._handleManagerChange([e.target.value.toString()])},value:this.props.selectedManagerOptions,width:7})),(0,o.Z)(g.T,{id:"otherInstructions",label:$.__("Other Instructions"),onChange:e=>{this._handleChangeInstructions(e)},value:w,width:10}))))}}var y=a(37624);var b=a(74037);function w(e){const{hireDate:t,selectedManagerOptions:a,hireDateFieldIsDisabled:o=false,updateSelectedManager:r}=e;const{state:l,dispatch:c=(e=>e)}=(0,b.QN)()||{};const{errorFields:d,infoHighlightFields:u}=l||{};(0,s.useEffect)((()=>{if(Array.isArray(a)&&a.length>0){c({payload:{hireDate:t,selectedManagerId:a[0]},type:b.aI.SET_INITIAL})}}),[t,a]);const h=l?.selectedManagerId?[String(l.selectedManagerId)]:a;return i().createElement(v,(0,n.Z)({},e,{errorField:d,hireDate:l?.hireDate||t,hireDateFieldIsDisabled:o,selectedManagerOptions:h,infoHighlightFields:u,storeUpdater:y.$x,updateHireDate:e=>{c({payload:e,type:b.aI.UPDATE_HIRE_DATE})},updateSelectedManager:e=>{c({payload:e,type:b.aI.UPDATE_MANAGER_ID});r(e)}}))}},15256:(e,t,a)=>{"use strict";a.d(t,{_:()=>D});var n=a(88604);var s=a(23321);var i=a.n(s);var o=a(89835);var r=a(44119);var l=a(73641);var c=a(55928);var d=a(56921);var u=a(77343);var h=a(7167);var p=a(51178);var m=a(26242);var f=a(405);var g=a(37194);var $=a(26570);class v extends s.PureComponent{static get className(){return"EmailFilter"}constructor(e){super(e);const{selectData:t=[],selectedName:a="",selectedParentId:n="-1",selectedValues:s=[],storeUpdater:i=(e=>e)}=this.props;let o=(0,l.cloneDeep)(t);o=this.disableRootItems(n,o);this.state={selectData:o,selectedName:a,selectedParentId:n,selectedValues:[...s]};const r=s.map((e=>({allEmployees:false,typeId:e,type:a})));i({gtkyRecipients:r});this._handleSelectChange=this._handleSelectChange.bind(this)}disableRootItems(e,t){let a=false;if(Number.parseInt(e)===-1){return t}const n=(0,l.cloneDeep)(t);for(const t of n){if(t.value===e){a=true}else{t.isDisabled=true}}return a?n:t}getToggleTranslation(e,t){let a=null;switch(e.toLowerCase()){case"department":a=(0,o.Z)(g.Message,{params:[t],text:$._n("{1} Department","{1} Departments",t)});break;case"location":a=(0,o.Z)(g.Message,{params:[t],text:$._n("{1} Location","{1} Locations",t)});break;case"division":a=(0,o.Z)(g.Message,{params:[t],text:$._n("{1} Division","{1} Divisions",t)});break;case"status":a=(0,o.Z)(g.Message,{params:[t],text:$._n("{1} Status","{1} Statuses",t)});break;default:a=(0,o.Z)(g.Message,{params:[t],text:$._n("{1} Item Selected","{1} Items Selected",t)});break}return a}_handleSelectChange(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const{selectData:a,storeUpdater:n=(e=>e)}=this.props;const{selectData:s,selectedName:i,selectedParentId:o}=this.state;const r=t.length>0?t[0].parentId:"-1";const l=o===r?s:this.disableRootItems(r,a);let c=i;if(t.length===0){c=""}else if(c===""){const e=a.find((e=>e.value===r));c=e?.name||""}this.setState({selectData:l,selectedName:c,selectedParentId:r,selectedValues:e},(()=>{const{selectedName:e,selectedValues:t}=this.state;const a=t.map((t=>({allEmployees:false,typeId:t,type:e})));n({gtkyRecipients:a})}))}render(){const{selectedName:e,selectData:t=[],selectedValues:a=[]}=this.state;return i().createElement(i().Fragment,null,a.map((t=>(0,o.Z)("input",{name:`${e}[]`,type:"hidden",value:t},`${e}_${t}`))),(0,o.Z)(f.S,{canSelectMultiple:true,items:t,menuWidth:7,onChange:this._handleSelectChange,placeholder:$.__("All Employees"),renderToggleContent:t=>{const a=t.length;return(0,o.Z)(s.Fragment,{},void 0,a>0?(0,o.Z)("div",{className:"FilterDropdown__toggle"},void 0,(0,o.Z)("span",{},void 0,this.getToggleTranslation(e,a))):null)},selectedValues:a,width:7}))}}var y=a(37624);function b(e){return i().createElement(v,(0,n.Z)({},e,{storeUpdater:y.$x}))}var w=a(88721);var C=a(7949);var S=a(79340);var E=a(93093);var x=a(14386);var T=a(26860);var k=a(86930);var I=a(26570);class A extends s.PureComponent{static get className(){return"GtkyQuestion"}constructor(e){super(e);(0,r.Z)(this,"inputRef",(0,s.createRef)());this.state={...e.questionData,is_required:e.questionData.required?"yes":"no"};this._handleQuestionInputChange=this._handleQuestionInputChange.bind(this);this.focus=this.focus.bind(this)}componentDidMount(){if(this.props.focusInput){this.focus()}}_handleQuestionInputChange(e){const{position:t,onUpdate:a}=this.props;const n=e.target;this.setState({question:n.value},(()=>{const{question:e,is_required:n}=this.state;return a?.(t,e,n)}))}_handleRequiredInputChange(e){const{position:t,onUpdate:a}=this.props;this.setState({is_required:e?"yes":"no",required:e},(()=>{const{is_required:e,question:n}=this.state;return a?.(t,n,e)}))}focus(){const e=this.inputRef.current;if(e){e.focus()}}render(){const{canDelete:e,onDelete:t,onDragEnd:a,onDragOver:n,onDragStart:s,position:r,questionData:l}=this.props;const{id:c}=l;const{is_required:u,sortOrder:h,question:p,required:f}=this.state;return(0,o.Z)(m.L,{draggable:true,id:c?`cqWrapper-${c}`:null,onDragOver:e=>{n(e,c)},onDragStart:e=>{s(e,c)},onDrop:e=>{a(e,c)}},void 0,(0,o.Z)(d.F,{className:"fab-InputWrapper GTKYQuestion"},void 0,i().createElement(S.T,{"data-order":h,InputProps:{startAdornment:(0,o.Z)(E.B,{className:"fab-TextInputNub GTKYQuestion__dragHandle",style:{position:"initial"}},void 0,(0,o.Z)(x.I,{name:"grip-dots-vertical-regular",size:16}))},name:`employeePersonalQuestions[${c}]`,onChange:this._handleQuestionInputChange,placeholder:I.__("Enter Question"),ref:this.inputRef,value:p,width:10}),(0,o.Z)(m.L,{marginX:"10px",marginTop:"3px"},void 0,(0,o.Z)(T.R,{ariaLabel:I.__("Required Employee Personal Question Toggle - %s",c),id:c?`q${c}Req`:null,isChecked:u==="yes"||f,name:`employeePersonalQuestionsRequired[${c}]`,onChange:e=>{const{checked:t}=e.target;this._handleRequiredInputChange(t)}})),e&&(0,o.Z)(k.I,{floatingIcon:true,icon:"circle-xmark-regular",onClick:()=>t?.(r),size:"small",type:"button"})))}}var F=a(26570);function Z(e){const{customQuestions:t}=e;const[a,n,_,s]=(0,C.Y)(Object.values(t));if(a[0].id===undefined){n(a.map(((e,t)=>{e.id=t;return e})))}function i(){const e=(0,l.cloneDeep)(a);const t=Math.max(...e.map((e=>+e.id)));const n={archived:"",id:t+1,is_required:"",question:"",sort_order:`${t+1}`};e.push(n);g(e)}function r(e){const t=(0,l.cloneDeep)(a);t.splice(e,1);g(t)}function c(){s.handleDragEnd();e.updateQuestionsHandler(a)}function u(e,t){s.handleDragOver(e,t)}function h(e,t){s.handleDragStart(e,t);e.dataTransfer.setDragImage(e.target,e.nativeEvent.offsetX||0,e.nativeEvent.offsetY||0)}function p(e,t,n){const s=(0,l.cloneDeep)(a);s[e].question=t;s[e].required=n==="yes";s[e].sortOrder=e;g(s)}function f(e,t,a){return(0,o.Z)(A,{canDelete:a>1,focusInput:a>1&&t+1===a&&e.question==="",onDelete:r,onDragEnd:c,onDragOver:u,onDragStart:h,onUpdate:p,position:t,questionData:e},`cqWrapper-${e.id}${e.sort_order}`)}function g(t){n(t);e.updateQuestionsHandler(t)}return(0,o.Z)(m.L,{},void 0,(0,o.Z)(d.F,{flexDirection:"column",gap:1.75},void 0,a.map(((e,t)=>f(e,t,a.length)))),a.length<9&&(0,o.Z)(m.L,{marginTop:1.5},void 0,(0,o.Z)(w.B,{color:"secondary",onClick:i,size:"medium",startIcon:"circle-plus-regular",type:"button",variant:"contained"},void 0,F.__("Add Question"))))}var M=a(26570);class N extends s.PureComponent{static get className(){return"TeamIntroduction"}constructor(e){super(e);const{storeUpdater:t}=e;const a=(0,l.cloneDeep)(e.customQuestions);if(Object.keys(a).length<1){const e={archived:"",id:"0",is_required:"",question:"",sort_order:"0"};delete e.is_required;e.required=false;a[0]=e}this.state={currentQuestions:this.getQuestionArray(Object.values(a)),customQuestions:a,sendGetToKnowYouEmail:e.sendGetToKnowYouEmail};if(typeof t==="function"){t({gtkyQuestions:Object.values(a),sendGetToKnowYouEmail:e.sendGetToKnowYouEmail})}this._displayEmailPreview=this._displayEmailPreview.bind(this);this._handleToggleGTKYQuestions=this._handleToggleGTKYQuestions.bind(this);this.updateCurrentQuestions=this.updateCurrentQuestions.bind(this)}_displayEmailPreview(e,t){return this.props.previewNewHireEmail?.(e,t)}_handleToggleGTKYQuestions(){const{storeUpdater:e=(()=>0)}=this.props;const{sendGetToKnowYouEmail:t}=this.state;window.formChanged=true;this.setState({sendGetToKnowYouEmail:t==="yes"||t===true?false:true},(()=>{e({sendGetToKnowYouEmail:this.state.sendGetToKnowYouEmail});if(!this.state.sendGetToKnowYouEmail){e({gtkyQuestions:[]})}}))}getQuestionArray(e){return e.map((e=>e.question))}updateCurrentQuestions(e){const{storeUpdater:t=(()=>0)}=this.props;window.formChanged=true;this.setState({currentQuestions:this.getQuestionArray(e)},(()=>{t({gtkyQuestions:e})}))}render(){const{emailFilterData:e,employeeId:t,employeeName:a}=this.props;const{currentQuestions:n,customQuestions:s,sendGetToKnowYouEmail:i}=this.state;const{selectData:r,selectedName:l,selectedParentId:f,selectedValues:g}=e;return(0,o.Z)(c.S,{paddingTop:"24px"},void 0,(0,o.Z)(c.S.Header,{description:M.__("Add a few Get to Know You questions to help the team get to know %s a little better.",a),icon:"hand-wave-solid",size:"large",title:M.__("Introduce %s to the Team",a)}),(0,o.Z)(d.F,{flexDirection:"column",marginTop:3},void 0,(0,o.Z)(u.C,{checked:i==="yes"||i===true,label:(0,o.Z)(h.B,{color:"neutral-extra-strong",size:"medium",weight:"semibold"},void 0,M.__('Send a "Get to Know You" email on the morning of their first day')),onChange:this._handleToggleGTKYQuestions,value:"sendGetToKnowYouEmail"}),(i==="yes"||i===true)&&(0,o.Z)(d.F,{flexDirection:"column",gap:.5,marginY:2.5,justifyContent:"center"},void 0,(0,o.Z)("label",{className:"fab-Label",htmlFor:"EmailFilter"},void 0,M.__("Send to")),(0,o.Z)(d.F,{alignItems:"center",gap:"8px"},void 0,(0,o.Z)(b,{selectData:r,selectedName:l,selectedParentId:f,selectedValues:g}),(0,o.Z)(p.T,{onClick:()=>{this._displayEmailPreview(t,n)},color:"secondary",size:"small",type:"button"},void 0,M.__("Preview Email")))),(i==="yes"||i===true)&&(0,o.Z)(m.L,{},void 0,(0,o.Z)(Z,{customQuestions:s,updateQuestionsHandler:this.updateCurrentQuestions}))))}}(0,r.Z)(N,"defaultProps",{customQuestions:{}});function D(e){return i().createElement(N,(0,n.Z)({},e,{storeUpdater:y.$x}))}},74037:(e,t,a)=>{"use strict";a.d(t,{aI:()=>o,Xc:()=>g,QN:()=>v});var n=a(89835);var s=a(23321);var i=a(55698);var o=function(e){e["SET_INITIAL"]="setInitial";e["UPDATE_ERROR_FIELDS"]="updateErrorFields";e["UPDATE_HIGHLIGHTED_FIELDS"]="updateHighlightedField";e["UPDATE_MANAGER_ID"]="updateManager";e["UPDATE_HIRE_DATE"]="updateHireDate";return e}(o||{});var r=a(44070);function l(e){const t={};const a=Object.keys(e);a.forEach((a=>{if(e[a]){t[a]=true}}));return t}function c(e,t){const a={...e};a.errorFields=l(t);return a}function d(e,t){const a={...e};a.infoHighlightFields=l(t);return a}function u(e,t){const a={...e};a.selectedManagerId=parseInt(t);if(t){delete a.infoHighlightFields.manager;delete a.errorFields.manager}return a}function h(e,t){const a={...e};a.hireDate=t;if(!t||t.length===0){a.errorFields[r.Z.HIRE_DATE]=true}return a}function p(e,t){const{payload:a,type:n}=t;const s={...e};switch(n){case o.SET_INITIAL:return{...s,...a};case o.UPDATE_ERROR_FIELDS:return c(s,a);case o.UPDATE_HIGHLIGHTED_FIELDS:return d(s,a);case o.UPDATE_MANAGER_ID:return u(s,a);case o.UPDATE_HIRE_DATE:return h(s,a);default:{throw new Error(`Unhandled action type: ${t.type}`)}}}const m=(0,s.createContext)(undefined);let f=false;function g(e){let{children:t}=e;const a={errorFields:{},hireDate:undefined,infoHighlightFields:{},selectedManagerId:undefined};const[i,o]=(0,s.useReducer)(p,a);return(0,n.Z)(m.Provider,{value:{state:i,dispatch:o}},void 0,t)}function v(){const e=(0,s.useContext)(m);if(f===false&&e===undefined){f=true;console.warn("useNewHirePacketForm must be used within a NewHirePacketFormContext")}return e}},37624:(e,t,a)=>{"use strict";a.d(t,{Vh:()=>x,Xo:()=>F,jZ:()=>M,xc:()=>N,vx:()=>E,vS:()=>k,xZ:()=>T,V0:()=>L,Ml:()=>D,qF:()=>P,$x:()=>A});var n=a(89835);var s=a(23321);var i=a(17842);var o=a.n(i);var r=a(60658);var l=a(51341);var c=a(393);var d=a(14943);var u=a(38328);var h=a(44119);var p=a(73641);var m=a(45662);class f{static get className(){return"BaseFormData"}constructor(e){(0,h.Z)(this,"selectedArrivalTime",void 0);(0,h.Z)(this,"selectedContactOptions",void 0);(0,h.Z)(this,"id",void 0);(0,h.Z)(this,"location",void 0);(0,h.Z)(this,"name",void 0);(0,h.Z)(this,"otherInstructions",void 0);(0,h.Z)(this,"gtkyQuestions",void 0);(0,h.Z)(this,"gtkyRecipients",void 0);(0,h.Z)(this,"sendGetToKnowYouEmail",void 0);(0,h.Z)(this,"hireDate",void 0);(0,h.Z)(this,"selectedManagerOptions",void 0);const{arriveByTime:t=["08:00:00"],selectedContactOptions:a=null,id:n,location:s="",name:i,otherInstructions:o="",gtkyQuestions:r=[],gtkyRecipients:l=[],sendGetToKnowYouEmail:c=false}=e;this.selectedArrivalTime=t;this.selectedContactOptions=[a];this.id=n;this.location=s;this.name=i;this.otherInstructions=o;this.gtkyQuestions=r;this.gtkyRecipients=l;this.sendGetToKnowYouEmail=c===true||c==="yes";this.selectedManagerOptions=[]}assignQuestionSortOrderByIndex(){return this.gtkyQuestions.map(((e,t)=>{e.sortOrder=t;return e}))}updateData(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!t){(0,m.Zd)()}const a=e.hireDate&&e.hireDate!=this.hireDate;const n=(0,p.cloneDeep)(e);const s=Object.keys(n);for(let e=0;e<s.length;e++){this[s[e]]=n[s[e]]}if(a){document.dispatchEvent(new Event("nhpForm:formUpdate"))}}}class g extends f{static get className(){return"NewHirePacketFormData"}constructor(e){super(e);(0,h.Z)(this,"nhpTemplateId",void 0);(0,h.Z)(this,"employeeId",void 0);(0,h.Z)(this,"files",void 0);(0,h.Z)(this,"homeEmail",void 0);(0,h.Z)(this,"otherTasks",void 0);(0,h.Z)(this,"packetTasks",void 0);(0,h.Z)(this,"tasks",void 0);(0,h.Z)(this,"hireDate",void 0);(0,h.Z)(this,"selectedManagerOptions",void 0);(0,h.Z)(this,"showPayrollState",void 0);(0,h.Z)(this,"showPayrollFederal",void 0);(0,h.Z)(this,"showPayrollDirectDeposit",void 0);const{employeeId:t,files:a,homeEmail:n,managerId:s,nhpTemplateId:i,otherTasks:o,packetTasks:r,showPayrollState:l,showPayrollFederal:c,showPayrollDirectDeposit:d}=e;this.employeeId=t;this.files=a;this.homeEmail=n;this.selectedManagerOptions=[s];this.nhpTemplateId=i;this.otherTasks=o;this.packetTasks=r;this.showPayrollState=l||false;this.showPayrollFederal=c||false;this.showPayrollDirectDeposit=d||false}_getEmployeeData(){const e=this.hireDate?(0,l.Z)(this.hireDate).format(l.Z.defaultFormat):"";return{id:this.employeeId,hireDate:e,email:this.homeEmail,managerId:this.selectedManagerOptions[0]===""?null:this.selectedManagerOptions[0]}}_getNewHirePacketData(){return{arriveByTime:this.selectedArrivalTime[0],contactEmployeeId:this.selectedContactOptions[0],employeeId:this.employeeId,nhpTemplateId:this.nhpTemplateId,location:this.location,otherInstructions:this.otherInstructions,sendGetToKnowYouEmail:this.sendGetToKnowYouEmail,showPayrollState:this.showPayrollState,showPayrollFederal:this.showPayrollFederal,showPayrollDirectDeposit:this.showPayrollDirectDeposit}}_getNewHirePacketSaveData(){const e=this._getEmployeeData();const t=this.assignQuestionSortOrderByIndex();const a=t.map((t=>({...t,archived:false,employeeId:e.id,hidden:false})));const n=this._getNewHirePacketData();return{employee:e,newHirePacket:n,questionsAndAnswers:a,recipientTypes:this.gtkyRecipients}}getFormData(){return{newHirePacketData:this._getNewHirePacketSaveData(),newHirePacketTasks:this.packetTasks,tasks:this.tasks,notApplicableToEmployee:this.otherTasks}}updateData(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;super.updateData(e,t);const a=e.hireDate&&e.hireDate!=this.hireDate;const n=e.selectedManagerOptions&&e.selectedManagerOptions[0]!=this?.selectedManagerOptions[0];if(!t){(0,m.Zd)()}if(a||n){document.dispatchEvent(new Event("nhpForm:formUpdate"))}}}class v extends f{static get className(){return"NHPTemplateFormData"}getFormData(){const e=this.assignQuestionSortOrderByIndex();return{arriveByTime:this.selectedArrivalTime[0],contactEmployeeId:this.selectedContactOptions[0],id:this.id,location:this.location,name:this.name,otherInstructions:this.otherInstructions,gtkyQuestions:e,gtkyRecipients:this.gtkyRecipients,sendGetToKnowYouEmail:this.sendGetToKnowYouEmail===true||this.sendGetToKnowYouEmail==="yes"}}getPacketFormData(){const e=this.getFormData();const t=this.hireDate?(0,l.Z)(this.hireDate).format("YYYY-MM-DD"):"";return{...e,hireDate:t,managerId:this.selectedManagerOptions[0]}}}let y=function(e){e["PACKET"]="NEW_HIRE_PACKET";e["TEMPLATE"]="NHP_Template";return e}({});function b(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:y.TEMPLATE;let t=arguments.length>1?arguments[1]:undefined;switch(e){case y.PACKET:return new g(t);case y.TEMPLATE:default:return new v(t)}}var $=a(26570);let w=b(y.TEMPLATE,{});let C=null&&[];let S=null;function E(e,t,a){o().get(`/onboarding/nhp/gtky_email_preview/${e}`).then((s=>{if(s){const{data:i,status:o}=s;if(o===200){const{body:s=""}=i;const o=(0,n.Z)(c.Z,{imageAlt:"Image of employee",imageSrc:`/employees/photos/?id=${e}`,isModalHeader:false,theme:"newHire",title:t.fullName},void 0,(0,n.Z)(d.V,{jobTitle:t.jobTitle,location:t.jobLocation}));(0,r.K4)((0,n.Z)(u.c,{body:s,employeeBadgeComponent:o,employeeData:t,getToKnowYouQuestions:a,isOpen:true,primaryAction:r.Mr,showQuestionsPlaceholder:false}))}else{window.setMessage($.__("An error has occurred while getting the preview, please try again later"),"error")}}}));return false}function x(){const e=[];const t="HH:mm:ss";const a=(0,l.Z)("00:00:00",t);const n=a.unix();const s=n+60*60*24;let i=n;while(i<s){const a=l.Z.unix(i,"HH:mm:ss");e.push({text:a.format("LT"),value:a.format(t)});i+=60*15}return e}function T(e){w=b(y.TEMPLATE,e)}function k(e){w=b(y.PACKET,e)}function I(e){w.updateData(e,true)}function A(e){w.updateData(e)}function F(){return w.getFormData()}function Z(){return C}function M(){return S}function N(){document.dispatchEvent(new CustomEvent("SiteFooter:close"))}function D(e){C=e}function L(e){S=e}function P(){document.dispatchEvent(new CustomEvent("SiteFooter:open"))}},19307:(e,t,a)=>{"use strict";a.d(t,{k:()=>h});var n=a(89835);var s=a(23321);var i=a(14386);var o=a(56921);var r=a(13999);var l=a(26242);var c=a(7167);var d=a(25052);const u={Aol:(0,n.Z)(i.I,{name:"globe-solid",size:20}),Facebook:(0,n.Z)(i.I,{name:"facebook",size:20}),Instagram:(0,n.Z)(i.I,{name:"square-instagram",size:20}),LinkedIn:(0,n.Z)(i.I,{name:"linkedin",size:20}),Pinterest:(0,n.Z)(i.I,{name:"pinterest-p",size:20}),Skype:(0,n.Z)(i.I,{name:"skype",size:20}),Twitter:(0,n.Z)(i.I,{name:"square-x-twitter",size:20})};function h(e){const{employee:t,avatarSize:a}=e;const{email:s,extension:h,firstName:p,lastName:m,phone:f,position:g,profileImageSrc:v,pronounsLabel:y,socials:b}=t;const w=64;const C=Array.isArray(b)&&!s&&b.length===0;return(0,n.Z)(o.F,{gap:2,marginBottom:C?"20px":undefined},void 0,(0,n.Z)(r.A,{alt:`${p} ${m}`,size:a||w,src:v}),(0,n.Z)(l.L,{},void 0,(0,n.Z)(c.B,{color:"neutral-extra-strong",weight:"regular",size:"medium"},void 0,p," ",m,y&&(0,n.Z)(c.B,{color:"neutral-extra-strong",inline:true,size:"extra-small"},void 0,"(",y,")")),(0,n.Z)(c.B,{color:"neutral-extra-strong",size:"extra-small",weight:"regular"},void 0,g),(0,n.Z)(c.B,{color:"neutral-extra-strong",size:"extra-small"},void 0,f," ",h&&(0,n.Z)("span",{},void 0,"ext. ",h)),s&&(0,n.Z)(d.L,{href:`mailto:${s}`,rel:"noopener noreferrer",size:"extra-small",target:"_blank"},void 0,s),(s||b)&&(0,n.Z)(o.F,{gap:"10px",marginTop:"10px"},void 0,s&&(0,n.Z)(d.L,{color:"muted",href:`mailto:${s}`,rel:"noopener noreferrer",target:"_blank"},void 0,(0,n.Z)(i.I,{name:"envelope-solid",size:20})),b&&b.map((e=>(0,n.Z)(d.L,{color:"muted",href:e.href,rel:"noopener noreferrer",target:"_blank"},e.type,u[e.type]))))))}},80593:(e,t,a)=>{"use strict";a.d(t,{q:()=>p});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(55928);var r=a(56921);var l=a(13354);var c=a(7167);var d=a(4715);var u=a(26242);var h=a(19307);var $=a(26570);function p(e){const{employeeName:t,companyName:a,children:p,team:m}=e;const{manager:f,members:g=[]}=m;return(0,n.Z)(s.Fragment,{},void 0,(0,n.Z)(o.S,{},void 0,(0,n.Z)(r.F,{flexDirection:"column",height:"100%"},void 0,(0,n.Z)(l.H,{size:"medium"},void 0,$.__(`%1$s, You're All Ready To Go.`,t)),(0,n.Z)(c.B,{size:"extra-small"},void 0,$.__(`We're looking forward to having you here at %1$s.`,a)),(0,n.Z)(d.D,{color:"neutral-extra-weak",marginTop:"17px"})),(0,n.Z)(u.L,{marginBottom:4,marginTop:4},void 0,p),(g?.length>0||f)&&(0,n.Z)(u.L,{},void 0,(0,n.Z)(d.D,{color:"neutral-extra-weak"}),(0,n.Z)(u.L,{margin:"32px 0px 20px"},void 0,(0,n.Z)(l.H,{size:"small"},void 0,$._("Get to Know the Team"))),f&&(0,n.Z)(u.L,{marginBottom:"15px"},void 0,(0,n.Z)(u.L,{marginBottom:"20px"},void 0,(0,n.Z)(l.H,{size:"extra-small",color:"neutral-strong"},void 0,$._("Your Manager"))),(0,n.Z)(h.k,{employee:f,avatarSize:32})),g&&g.length>0&&i().createElement(i().Fragment,null,(0,n.Z)(u.L,{marginBottom:"15px"},void 0,(0,n.Z)(l.H,{size:"extra-small",color:"neutral-strong"},void 0,$._("Your Team"))),(0,n.Z)(r.F,{gap:5,flexWrap:"wrap"},void 0,g.map((e=>(0,n.Z)(h.k,{avatarSize:32,employee:e},`${e.firstName}_${e.lastName}`))))))))}},46942:(e,t,a)=>{"use strict";a.d(t,{I:()=>h});var n=a(89835);var s=a(23321);var i=a(26242);var o=a(85617);var r=a(55928);var l=a(13354);var c=a(7167);var d=a(4715);var u=a(37194);var $=a(26570);function h(e){const{gtkyQuestions:t=[]}=e;const a=t.map(((e,a)=>{const s=t.indexOf(e)===t.length-1;return(0,n.Z)(i.L,{marginBottom:s?0:"20px"},e.sortOrder,(0,n.Z)(o.T,{disabled:true,id:`question-${a}`,label:e.question,required:e.required,value:e.employeeResponse??"",width:10}))}));return(0,n.Z)(r.S,{},void 0,(0,n.Z)(l.H,{size:"medium"},void 0,(0,n.Z)(u.Message,{text:$._("Get Introduced to The Team")})),(0,n.Z)(i.L,{marginTop:"4px"},void 0,(0,n.Z)(c.B,{size:"extra-small",color:"neutral-strong"},void 0,$._(`You're almost done, but first we'd like to get to know a bit more about you so we can introduce you to the rest of the team. Please answer the following questions and we'll send out a quick introduction email to the people you'll be working with.`))),(0,n.Z)(d.D,{color:"neutral-extra-weak",marginBottom:"24px",marginTop:"16px"}),(0,n.Z)(i.L,{marginBottom:"24px"},void 0,(0,n.Z)(l.H,{size:"small"},void 0,$._("Tell us a little about yourself:"))),a)}},3203:(e,t,a)=>{"use strict";a.d(t,{L:()=>y});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(55928);var r=a(13354);var l=a(7167);var c=a(4715);var d=a(26242);var u=a(62794);var h=a(7996);var p=a(56921);var m=a(14386);var f=a(88721);var g=a(37194);var v=a(7357);var $=a(26570);function y(e){const{data:t,isNHPT:a,photoRequired:y,photoURL:b="",previewMode:w=true,showPhoto:C=true,employeeId:S=-1,showPayrollFederal:E=false,showPayrollState:x=false}=e;let T=false;if(!b.includes("initials")){T=true}(0,s.useEffect)((()=>{$(".employeeForm .required").removeClass("required").addClass("visuallyRequired");$(".employeeForm span.inputIcons").addClass("disabled");$(".employeeForm .bhrToggle--btn").addClass("bhrToggle--btn--disabled");$(".employeeForm .fab-SelectToggle").addClass("fab-SelectToggle--disabled");setTimeout((function(){$(".employeeForm .fab-Label, .AdditionalWithholding .fab-FormField").addClass("fab-Label--disabled")}));$(".employeeForm .BhrTable__header--section").removeClass("BhrTable__header--section");$(".employeeForm").find("input, button, ba-select").addClass("disabled").attr("disabled",true)}));function k(){if(w){window.disabledForPermsTest()}}return(0,n.Z)(s.Fragment,{},void 0,(0,n.Z)(o.S,{},void 0,(0,n.Z)(r.H,{color:"primary",component:"h2",size:"medium"},void 0,(0,n.Z)(g.Message,{text:$._("New Employee Information")})),(0,n.Z)(l.B,{},void 0,(0,n.Z)(g.Message,{text:$._(`Let's start with the basics. `)}),(0,n.Z)(g.Message,{text:$._(`Please complete the following new employee form and add your profile photo. `)}),(0,n.Z)(g.Message,{text:$._(`This will ensure we have the most up-to-date information. `)}),(0,n.Z)(g.Message,{text:$._(`It will also help us get you up and running quickly with the required paperwork. `)})),a&&i().createElement(i().Fragment,null,(0,n.Z)(c.D,{color:"neutral-extra-weak",marginBottom:"24px",marginTop:"16px"}),(0,n.Z)(d.L,{paddingTop:"20px"},void 0,(0,n.Z)(u.B,{icon:"bs-tumbleweed",level:"page",subtitle:$.__("Youll be able to preview this step, along with the actual fields, when sending the actual New Hire Packet."),title:$.__(`Because this is just the template, we can't show an accurate preview of this step.`)})))),a&&undefined,!a&&(0,n.Z)(s.Fragment,{},void 0,C&&(0,n.Z)(d.L,{marginTop:"40px",marginBottom:"40px"},void 0,(0,n.Z)(o.S,{},void 0,(0,n.Z)(r.H,{size:"medium"},void 0,`${$.__("Profile Photo")} ${y?" *":""}`),(0,n.Z)("input",{id:"photo",name:"photo",type:"hidden",value:T===true?1:undefined}),(0,n.Z)(h.S,{backgroundColor:"neutral-strong",borderRadius:"large",height:"224px",marginTop:4,width:"224px"},void 0,b.includes("initials")?(0,n.Z)(p.F,{alignItems:"center",height:"224px",justifyContent:"center",width:"224px"},void 0,(0,n.Z)(m.I,{color:"neutral-forced-white",name:"user-solid",size:170})):(0,n.Z)("img",{alt:"Employee Photo",src:b,style:{borderRadius:15},width:"100%"})),(0,n.Z)(h.S,{marginLeft:3,marginTop:4},void 0,(0,n.Z)(f.B,{color:"secondary",onClick:k,size:"large",startIcon:"circle-plus-regular"},void 0,$.__("Add Photo"))))),(0,n.Z)("div",{className:"employeeForm"},void 0,(0,n.Z)(v.F3,{additionalOptions:{employeeId:S,isNHPPacket:true,showPayrollFederal:E,showPayrollState:x},data:t,isAddEmployeeForm:false,previewMode:true}))))}},35277:(e,t,a)=>{"use strict";a.d(t,{M:()=>M});var n=a(89835);var s=a(44119);var i=a(23321);var o=a(63102);var r=a(7996);var l=a(56921);var c=a(47380);var d=a(59939);function u(e){const{pageNames:t,currentPage:a}=e;const s={};t.forEach(((e,a)=>{const n=a+1;const i={name:e};if(!s[n]&&a<t.length-1){s[n]=i}}));return(0,n.Z)(d.W,{currentStep:a+1,steps:s})}var h=a(39030);var p=a(88721);var m=a(51178);var f=a(7167);var g=a(25052);var v=a(26242);var y=a(72523);var $=a(26570);const b=(0,h.m)((()=>(0,h.c)({footer:{display:"flex",maxWidth:"",alignItems:"center",justifyContent:"flex-start",paddingLeft:"40px",width:"100%",margin:"auto"},buttonsWrapper:{display:"flex",alignItems:"center",gap:"15px"},brand:{marginLeft:"auto"}})));function w(e){const{totalPages:t,currentPage:a,nextPageAction:s,previousPageAction:c}=e;const d=b();const u=a<t-1?(0,n.Z)(p.B,{onClick:()=>{s(a+1)},size:"biggie",type:"button"},void 0,$.__("Continue")):null;const h=a>0?(0,n.Z)(m.T,{onClick:()=>{c(a-1)},size:"biggie"},void 0,$.__("Previous Step")):null;const w=99;const C=8;const[S,E]=(0,i.useState)(w);const x=document.querySelector(`#${F} .fab-Card`)?.getBoundingClientRect()?.height;(0,i.useEffect)((()=>{const e=document.querySelector(`#${F} .fab-Card`)?.getBoundingClientRect();if(e){const t=window.innerHeight-w;const a=e.bottom<t?t-e.bottom+w+C:null;if(S!==a){E(a)}}}),[S,x,a]);const T=a===t-1;const k="https://www.bamboohr.com/privacy-policy";const I="https://www.bamboohr.com/terms-of-service";const A=(new Date).getFullYear();return(0,n.Z)("div",{className:"js-PreviewerActionFooter"},void 0,!T&&(0,n.Z)(o.F.Footer,{},void 0,(0,n.Z)("div",{className:d.footer},void 0,(0,n.Z)("div",{className:d.buttonsWrapper},void 0,u,h))),T&&(0,n.Z)(o.F.Footer,{},void 0,(0,n.Z)(r.S,{borderRadius:"medium",width:"100%"},void 0,(0,n.Z)(l.F,{justifyContent:"space-between"},void 0,(0,n.Z)(f.B,{size:"extra-small"},void 0,(0,n.Z)(g.L,{color:"muted",href:k,rel:"noopener noreferrer",target:"_blank"},void 0,"Privacy Policy")," ",""," ",(0,n.Z)(g.L,{color:"muted",href:I,rel:"noopener noreferrer",target:"_blank"},void 0,"Terms of Service")," "," 2008",A," BambooHR All rights reserved."),(0,n.Z)(v.L,{},void 0,(0,n.Z)(g.L,{color:"muted",href:"https://www.bamboohr.com",rel:"noopener external nofollow noreferrer",target:"_blank"},void 0,(0,n.Z)(y.S,{height:"17px",image:"bamboohr-logo",width:"115px"})))))))}var C=a(13354);var S=a(26570);function E(e){let{companyName:t,isVisible:a}=e;const s=`${window.location.protocol}//${window.location.hostname}`;if(!a){return(0,n.Z)(i.Fragment,{})}return(0,n.Z)(l.F,{alignItems:"center",flexDirection:"column",marginTop:"40px"},void 0,(0,n.Z)(v.L,{marginBottom:"16px"},void 0,(0,n.Z)(y.S,{color:"primary-strong",height:"36px",image:"bamboohr-logo",width:"238px"})),(0,n.Z)(C.H,{size:"small"},void 0,S.__(`%1 uses BambooHR`,t)),(0,n.Z)(f.B,{size:"medium",color:"neutral-extra-strong"},void 0,S.__(`You can access your company's HR site at:`)),(0,n.Z)(g.L,{size:"medium",href:"#",rel:"noopener noreferrer",target:"_blank"},void 0,s),(0,n.Z)(f.B,{size:"extra-extra-small"},void 0,S.__(`(You may want to bookmark this baby.)`)))}var x=E;var T=a(8456);const k=e=>{let{currentPage:t,pageCount:a,loading:s,routes:i}=e;const o=t===a;return(0,n.Z)(T.UT,{basename:"/preview",hashType:"noslash"},`${t}_${s}`,(0,n.Z)(v.L,{flexGrow:1,marginTop:o?0:"40px"},void 0,(0,n.Z)(c.rs,{},void 0,i.map((e=>(0,n.Z)(c.AW,{path:e.path},void 0,e.component))))))};var I=k;var A=a(26570);const F="PreviewerModal";class Z extends i.PureComponent{static get className(){return"PreviewerComponent"}constructor(e){super(e);(0,s.Z)(this,"pages",void 0);(0,s.Z)(this,"currentPage",void 0);const{loading:t=true,modalState:a,headerName:n,whenAndWhereComponent:i,newEmployeeInfoComponent:o,getIntroducedComponent:r,tasksComponent:l,finishedComponent:c,showGetIntroduced:d,showNewEmployeeInfo:u,showTasks:h}=e;this.pages=this._populatePages({whenAndWhereComponent:i,newEmployeeInfoComponent:o,getIntroducedComponent:r,showGetIntroduced:d,tasksComponent:l,showTasks:h,finishedComponent:c,showNewEmployeeInfo:u});let p=0;this.pages.forEach(((e,t)=>{e.index=t;if(location.hash.includes(e.route)){p=t}}));this.state={loading:t,modalState:a,currentPage:p,headerName:n};this._onRequestClose=this._onRequestClose.bind(this);this._nextPage=this._nextPage.bind(this);this._prevPage=this._prevPage.bind(this);this._changePage=this._changePage.bind(this);this._getPageNames=this._getPageNames.bind(this);this._resetPreview=this._resetPreview.bind(this)}_populatePages(e){const t=[];const{whenAndWhereComponent:a,newEmployeeInfoComponent:n,getIntroducedComponent:s,showGetIntroduced:i,tasksComponent:o,showTasks:r,finishedComponent:l,showNewEmployeeInfo:c}=e;if(a){t.push({name:A.__("When & Where"),route:"when_and_where"})}if(c&&n){t.push({name:A.__("New Employee Info"),route:"new_employee_info"})}if(s&&i){t.push({name:A.__("Get Introduced"),route:"get_introduced"})}if(o&&r){t.push({name:A.__("Tasks to Complete"),route:"tasks_to_complete"})}if(l){t.push({name:A.__("Finished"),route:"finished"})}return t}_onRequestClose(){this.setState({modalState:false,loading:true,currentPage:0});window.previewUser=null;const{history:e}=this.props;e.replace({hash:"",search:window.location.search})}_resetPreview(){window.ASSUMED_USER=undefined;this.setState({currentPage:0})}_nextPage(){let{currentPage:e}=this.state;this._changePage(++e)}_prevPage(){let{currentPage:e}=this.state;this._changePage(--e)}_changePage(e){if(e>-1&&e<this.pages.length){this.setState({currentPage:e});const{history:t}=this.props;t.push({hash:`preview/${this.pages[e].route}`,search:window.location.search})}}_getPageNames(){return this.pages.map((e=>e.name.replace(/([A-Z])/g," $1").trim()))}componentDidUpdate(e){const{whenAndWhereComponent:t,newEmployeeInfoComponent:a,getIntroducedComponent:n,showGetIntroduced:s,tasksComponent:i,showTasks:o,finishedComponent:r,showNewEmployeeInfo:l}=this.props;this.pages=this._populatePages({whenAndWhereComponent:t,newEmployeeInfoComponent:a,getIntroducedComponent:n,showGetIntroduced:s,tasksComponent:i,showTasks:o,finishedComponent:r,showNewEmployeeInfo:l});let c=0;this.pages.forEach(((e,t)=>{e.index=t;if(location.hash.includes(e.route)){c=t}}));const{modalState:d,loading:u}=e;const{modalState:h,loading:p}=this.props;let m=d;let f=u;if(h!==d){m=h}if(p!==u){f=p}window.ASSUMED_USER=m?1:undefined;this.setState({loading:f,modalState:m,currentPage:c})}render(){const{companyName:e,isNHPT:t=false,whenAndWhereComponent:a,newEmployeeInfoComponent:s,getIntroducedComponent:i,tasksComponent:c,finishedComponent:d,headerAction:h,renderHeader:p}=this.props;const{modalState:m,currentPage:f,loading:g=false}=this.state;const v=f===this.pages.length-1;const y={closeModal:this._onRequestClose,headerAction:h};const b=p(y);const C=(0,n.Z)(w,{currentPage:f,nextPageAction:this._nextPage,previousPageAction:this._prevPage,totalPages:this.pages.length});const S=[{path:"/when_and_where*",component:a},{path:"/new_employee_info*",component:s},{path:"/get_introduced*",component:i},{path:"/tasks_to_complete*",component:c},{path:"/finished*",component:d}];return(0,n.Z)(o.F,{id:F,isLoading:g,isOpen:m,onCloseComplete:this._resetPreview,onOpenComplete:()=>{window.previewUser=true;window.closeMessage()},onRequestClose:this._onRequestClose},void 0,(0,n.Z)(o.F.Body,{noPadding:true,renderFooter:C,renderHeader:b},void 0,(0,n.Z)(r.S,{backgroundColor:"neutral-forced-white",flexGrow:1,padding:"40px",paddingTop:0},void 0,(0,n.Z)(l.F,{height:"100%"},void 0,(0,n.Z)(r.S,{backgroundColor:"neutral-extra-extra-weak",borderRadius:"medium",flexGrow:1,overflow:"auto",padding:"40px"},void 0,(0,n.Z)(l.F,{flexDirection:"column",height:"100%"},void 0,!location.hash.includes("finished")&&(0,n.Z)(u,{currentPage:f,pageNames:this._getPageNames()}),(0,n.Z)(I,{currentPage:f,loading:g,pageCount:this.pages.length-1,routes:S}),(0,n.Z)(x,{companyName:e,isVisible:!t&&v})))))))}}const M=(0,c.EN)(Z)},56376:(e,t,a)=>{"use strict";a.d(t,{e:()=>g});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(39030);var r=a(7996);var l=a(56921);var c=a(14386);var d=a(13999);var u=a(7167);var h=a(13354);var p=a(73641);var $=a(26570);const m=(0,o.m)((e=>{let{palette:t,typography:a}=e;return(0,o.c)({subTitle:{flexGrow:1,fontSize:a.fabricFontSize("small"),display:"flex",flexDirection:"column",color:t.grey[600],"& p":{position:"relative",top:"5px"},"&__email":{}}})}));const f=["images/photo_person","initials"];function g(e){const{closeModal:t,name:a="",imageUrl:s="",email:o="",subtitle:g,headerAction:v,renderActionButtons:y=(()=>null)}=e;const b=(0,p.isEmpty)(s)||f.some((e=>s.includes(e)));const w=m();const C=()=>{v();t()};return i().createElement(i().Fragment,null,(0,n.Z)("div",{className:"PreviewerHeader"},void 0,(0,n.Z)(r.S,{backgroundColor:"neutral-extra-extra-strong",padding:"26px 50px"},void 0,(0,n.Z)(l.F,{alignItems:"center",display:"flex"},void 0,b?(0,n.Z)(c.I,{color:"neutral-forced-white",name:"user-regular",size:60}):(0,n.Z)(d.A,{alt:$.__("Image of employee %1",a),size:64,src:s}),(0,n.Z)(l.F,{alignItems:"stretch",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",paddingLeft:"15px",width:"auto"},void 0,(0,n.Z)(u.B,{color:"neutral-inverted",size:"small"},void 0,g),(0,n.Z)(h.H,{color:"neutral-inverted",size:"large"},void 0,a),o&&(0,n.Z)(l.F,{flexDirection:"column",flexGrow:1},void 0,(0,n.Z)("div",{className:`${w.subTitle}__email`},void 0,(0,n.Z)(u.B,{color:"neutral-inverted",size:"small"},void 0,o)))),(0,n.Z)(l.F,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",marginLeft:"auto",width:"auto"},void 0,y([t,C]))))))}},25423:(e,t,a)=>{"use strict";a.d(t,{h:()=>Z});var n=a(89835);var s=a(23321);var i=a(21936);var o=a(56921);var r=a(55928);var l=a(13354);var c=a(4715);var d=a(26242);var u=a(62794);var h=a(89254);var p=a(77343);var m=a(7167);var f=a(58552);var g=a(22015);var v=a(72956);var y=a(51178);var b=a(88721);var $=a(26570);function w(){const e=localStorage.getItem("externalLinkPopoverTemporarilyAllowedDomains");if(e){const t=JSON.parse(e);const a=Date.now();return t.filter((e=>e.exp>a))}return[]}function C(e){const t=w();const a={domain:e,exp:Date.now()+1e3*60*60*24};t.push(a);localStorage.setItem("externalLinkPopoverTemporarilyAllowedDomains",JSON.stringify(t))}function S(e){const{contents:t=""}=e;const[a,i]=(0,s.useState)(false);const[r,l]=(0,s.useState)(false);const[c,d]=(0,s.useState)("");const u=e=>{const t=new URL(window.location.href);const a=new URL(e);return w().find((e=>e.domain==a.hostname))||t.hostname===a.hostname};const h=()=>{const e=new URL(c);if(r){C(e.hostname);l(false)}window.open(c,"_blank");i(false)};const m={onClick:e=>{e.preventDefault();e.stopPropagation();const t=e.target.href;if(u(t)){window.open(t,"_blank");return}d(t);i(true)}};return(0,n.Z)(s.Fragment,{},void 0,(0,n.Z)(g.Z,{options:{attributes:m}},void 0,t),(0,n.Z)(v.S,{isOpen:a,onRequestClose:()=>{i(false)}},void 0,(0,n.Z)(v.S.Body,{renderFooter:(0,n.Z)(v.S.Footer,{actions:[(0,n.Z)(y.T,{onClick:()=>{i(false)}},"button-1","Cancel"),(0,n.Z)(b.B,{onClick:h},"button-2","Continue")]})},void 0,(0,n.Z)(o.F,{marginTop:"32px"}),(0,n.Z)(v.S.HeroHeadline,{icon:"arrow-up-right-from-square-regular",text:$.__("You are now leaving BambooHR")},void 0,(0,n.Z)("div",{className:"fab-marginTop--8"},void 0,$.__("You are being redirected to an external site, click continue to proceed.")),(0,n.Z)(o.F,{justifyContent:"center",marginTop:"24px",marginBottom:"32px"},void 0,(0,n.Z)(p.C,{value:"allow-domain-checkbox",onChange:()=>l(!r),checked:r,label:$.__("Trust this site temporarily")}))))))}const E=e=>{let{task:t,index:a,files:s}=e;const{completed:i,description:o,name:r}=t;return(0,n.Z)(d.L,{paddingTop:2.5},void 0,a>0?(0,n.Z)(c.D,{marginBottom:2.5}):null,(0,n.Z)(d.L,{},void 0,(0,n.Z)(p.C,{checked:i,disabled:true,label:`${a+1}. ${r}`,onChange:()=>null,size:"biggie",value:""})),(0,n.Z)(d.L,{paddingLeft:4.5,paddingTop:1},void 0,(0,n.Z)(d.L,{marginBottom:o&&s.length?2:0,paddingLeft:2},void 0,(0,n.Z)(m.B,{size:"medium",whiteSpace:"pre-line"},void 0,(0,n.Z)(S,{contents:o}))),s.length>0&&(0,n.Z)(f.r,{attachments:t.attachments,files:s,view:"display"})))};var x=a(58212);var T=a(23805);var k=a(20894);var I=a(63519);var A=a(26570);const F=(e,t)=>{const a=e.attachments.map((e=>e.fileId));return t.filter((e=>a.includes(e.id)))};function Z(e){const{isNHPT:t,tasks:a=[],files:p=[]}=e;const{isInstalled:m}=(0,k.z)("mitratech");const[f,g]=(0,s.useMemo)((()=>{let e=0;a.forEach((t=>{if(t.completed){e++}}));return[e,a.length]}),[a]);const v=(0,s.useMemo)((()=>[...a].sort(((e,t)=>+e.sortOrder-+t.sortOrder))),[a]);const y=window.Employee?.id?Number(window.Employee.id):null;const{employeeVerification:b,isLoading:w}=(0,I.d)(y||0,!!y&&m);const{verificationType:C,verificationStatus:S,remoteAccessUrl:Z}=b||{};const M=m&&b&&C!==T.R4.IN_PERSON&&Z!==null;return w?(0,n.Z)(i.L,{}):(0,n.Z)(o.F,{flexDirection:"column",gap:4},void 0,M&&(0,n.Z)(x.ZP,{context:x.P$.NEW_HIRE_PACKET_PREVIEW,remoteAccessUrl:Z,verificationStatus:S}),(0,n.Z)(r.S,{},void 0,(0,n.Z)(o.F,{flexDirection:"column"},void 0,(0,n.Z)(r.S.Header,{description:A._(`We want to make sure that you are ready to go on your first day. Please complete the tasks below so we can get you up and running quickly.`),title:(0,n.Z)(l.H,{size:"medium"},void 0,A._("Tasks to Complete"))}),(0,n.Z)(c.D,{color:"neutral-extra-weak",marginBottom:"24px",marginTop:"16px"}),t&&(0,n.Z)(d.L,{paddingTop:"40px"},void 0,(0,n.Z)(u.B,{icon:"bs-tumbleweed",subtitle:A.__("Youll be able to preview this step on the actual New Hire Packet after tasks are added."),title:A.__(`Because this is just the template, there arent any tasks to preview.`)})),!t&&(0,n.Z)(d.L,{},void 0,(0,n.Z)(h.T,{current:f,note:A._("Completed"),total:g,width:160}),(0,n.Z)(c.D,{marginTop:3}),(0,n.Z)(o.F,{flexDirection:"column",flexGrow:1},void 0,v.map(((e,t)=>(0,n.Z)(E,{files:F(e,p),index:t,task:e},`task-${e.name}`))))))))}},81925:(e,t,a)=>{"use strict";a.d(t,{E:()=>b});var n=a(89835);var s=a(23321);var i=a(55928);var o=a(26242);var r=a(56921);var l=a(13354);var c=a(7167);var d=a(4715);var u=a(14386);var h=a(25052);var p=a(37194);var m=a(51341);var f=a(19307);var $=a(26570);function g(e){const t=(0,m.Z)(e,[m.Z.ISO_8601,"hh:mm:ss"]).format("h:mm A");return t==="Invalid date"?null:t}const v="dddd, MMMM D, YYYY";function y(e){let t;if(e){t=(0,m.Z)(e).format(v)}else{return undefined}return t==="Invalid date"?undefined:t}function b(e){const{withHeader:t,firstDayDate:a,employeeName:s,companyName:b,contact:w,arriveByTime:C,location:S,otherInstructions:E,asSection:x=false}=e;const T=y(a);const k=(0,n.Z)(p.Message,{params:[s],text:$._("Welcome Aboard, {1}!")});const I=(0,n.Z)(p.Message,{params:[b],text:$._(`We are excited that you are joining us here at {1}. We can't wait for you to start. We've included some helpful information and ask that you complete this new employee packet so you can hit the ground running on your first day. If you have any questions, please don't hesitate to ask.`)});const A=x?i.S:o.L;return(0,n.Z)(A,{height:"100%"},void 0,(0,n.Z)(r.F,{flexDirection:"column",flexGrow:1},void 0,t&&(0,n.Z)(r.F,{flexDirection:"column"},void 0,(0,n.Z)(o.L,{marginBottom:"4px"},void 0,(0,n.Z)(l.H,{color:"primary",size:"medium"},void 0,k)),(0,n.Z)(o.L,{marginBottom:2},void 0,(0,n.Z)(c.B,{size:"extra-small"},void 0,I)),(0,n.Z)(d.D,{color:"neutral-extra-weak",marginBottom:"24px",marginTop:"16px"})),(0,n.Z)(r.F,{flexDirection:"row",justifyContent:"space-between"},void 0,a&&(0,n.Z)(r.F,{flex:"50%",flexDirection:"column",gap:"20px"},void 0,(0,n.Z)(l.H,{size:"small"},void 0,$._("Your First Day")),(0,n.Z)(r.F,{flexDirection:"column",gap:2},void 0,(0,n.Z)(r.F,{alignItems:"center",gap:"12px"},void 0,(0,n.Z)(u.I,{color:"primary-strong",name:"calendar-star-regular",size:20}),(0,n.Z)(l.H,{color:"neutral-strong",size:"extra-small"},void 0,T||(0,m.Z)(Date.now()).add(14,"days").format(v))),C&&(0,n.Z)(r.F,{alignItems:"center",gap:"12px"},void 0,(0,n.Z)(u.I,{color:"primary-strong",name:"clock-regular",size:20}),(0,n.Z)(l.H,{color:"neutral-strong",size:"extra-small"},void 0,g(C))),S&&(0,n.Z)(r.F,{flexDirection:"column",gap:"4px"},void 0,(0,n.Z)(r.F,{alignItems:"center",gap:"12px"},void 0,(0,n.Z)(u.I,{color:"primary-strong",name:"location-dot-regular",size:20}),(0,n.Z)(l.H,{color:"neutral-strong",size:"extra-small"},void 0,S)),(0,n.Z)(o.L,{marginLeft:4},void 0,(0,n.Z)(h.L,{href:`https://maps.google.com/?q=${S}`,rel:"noopener noreferrer",target:"_blank"},void 0,(0,n.Z)(r.F,{alignItems:"center",gap:"8px"},void 0,(0,n.Z)(u.I,{name:"compass-regular",size:16}),(0,n.Z)(c.B,{size:"extra-small"},void 0,"Map & Directions"))))))),(0,n.Z)(r.F,{flex:"50%",flexDirection:"column",gap:4},void 0,w&&(0,n.Z)(r.F,{flexDirection:"column",gap:2},void 0,(0,n.Z)(l.H,{color:"primary",size:"small"},void 0,$._("Who to Contact")),(0,n.Z)(f.k,{avatarSize:64,employee:w})),E&&(0,n.Z)(r.F,{flexDirection:"column",gap:2},void 0,(0,n.Z)(l.H,{color:"primary",size:"small"},void 0,$._("Other Instructions")),E.split("\n").map(((e,t)=>(0,n.Z)(c.B,{},t,e))))))))}},83238:(e,t,a)=>{"use strict";a.d(t,{h:()=>s,n:()=>n});function n(e,t){return(e==="yes"||e===true)&&t.length>0&&(t[0].question.length>0||t.length>1)}function s(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const t=[];e.map((e=>{if(e.question.trim().length>0){t.push(e)}return e}));return t}},38328:(e,t,a)=>{"use strict";a.d(t,{c:()=>c});var n=a(89835);var s=a(23321);var i=a(37194);var o=a(98675);var r=a(26242);var l=a(14386);var $=a(26570);class c extends s.PureComponent{static get className(){return"WelcomeEmailPreviewer"}_renderGTKYQuestions(e){const{employeeData:t,getToKnowYouQuestions:a=[]}=this.props;if(e){return(0,n.Z)("div",{className:"WelcomeEmailPreviewer__placeholderQuestion"},void 0,(0,n.Z)(r.L,{marginRight:"12px"},void 0,(0,n.Z)(l.I,{name:"person-circle-question-solid",color:"neutral-weak",size:36})),(0,n.Z)("div",{className:"PlaceholderQuestion__text"},void 0,$.__("The Get to Know You questions and the employee responses will show in this space.")))}return(0,n.Z)("div",{className:"WelcomeEmailPreviewerQuestions"},void 0,(0,n.Z)("h4",{className:"WelcomeEmailPreviewerQuestions__title"},void 0,"Get to Know ",t.firstName),a.map(((e,t)=>(0,n.Z)("div",{},t,(0,n.Z)("div",{className:"WelcomeEmailPreviewerQuestions__question"},void 0,e),(0,n.Z)("div",{className:"WelcomeEmailPreviewerQuestions__answer"},void 0,"Employee's answer will go here.")))))}render(){const{body:e="",employeeBadgeComponent:t,employeeData:a,isOpen:s,primaryAction:r,showQuestionsPlaceholder:c=false}=this.props;const{fullName:d,firstName:u,jobTitle:h}=a;return(0,n.Z)(o.u_,{alternativeActionText:null,contentHasPadding:false,isOpen:s,onClose:r,primaryAction:r,primaryActionText:$.__("Close"),title:$.__("Preview of Get to Know You Email")},void 0,(0,n.Z)("div",{className:"WelcomeEmailPreviewer"},void 0,(0,n.Z)("div",{className:"WelcomeEmailPreviewer__emailHeader"},void 0,(0,n.Z)("div",{className:"EmailHeader__icon"},void 0,(0,n.Z)(l.I,{name:"hand-wave-regular",size:60,color:"neutral-forced-white"})),(0,n.Z)("p",{className:"EmailHeader__title"},void 0,(0,n.Z)(i.Message,{params:[d],text:$._("Welcome {1}!")})),h!==""&&(0,n.Z)("p",{className:"EmailHeader__subTitle"},void 0,(0,n.Z)(i.Message,{params:[u,h],text:$._("{1} joins us today as {2}")})),(0,n.Z)("div",{className:"borderBar"})),t&&(0,n.Z)("div",{className:"WelcomeEmailPreviewer__badgeContainer"},void 0,t),(0,n.Z)("div",{className:"WelcomeEmailPreviewer__emailBody"},void 0,(0,n.Z)("div",{className:"WelcomeEmailPreviewer__emailBodyText"},void 0,e),(0,n.Z)("hr",{}),(0,n.Z)("div",{},void 0,this._renderGTKYQuestions(c)))))}}},94368:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>q,rz:()=>L});var n=a(89835);var s=a(23321);var i=a(17842);var o=a.n(i);var r=a(51341);var l=a(14234);var c=a.n(l);var $=a(26570);const d={0:$.__("Which Sundays?"),1:$.__("Which Mondays?"),2:$.__("Which Tuesdays?"),3:$.__("Which Wednesdays?"),4:$.__("Which Thursdays?"),5:$.__("Which Fridays?"),6:$.__("Which Saturdays?")};const u=$("body");u.on("ba:selectChange",".js-biweekly-select-day",g);u.on("ba:selectChange",".js-biweekly-which-week",v);function h(e){const t=(0,r.Z)().day();return t>e?7+parseInt(e):e}function p(e,t){const a=(0,r.Z)().day(h(t.day()));const n={first:a.clone(),second:a.clone().add(1,"week")};const s=a.diff(t,"week");let i=1;if(s===0&&t.format()===n.second.format()||s%2===1){i=2}const o=microTemplate(c(),n);e.find(".js-biweekly-which-week").replaceWith(o);$(e.find(".js-biweekly-which-week").children()[i-1]).attr("selected",true)}function m(e,t){e.find(".js-biweekly-which-days").text(d[t])}function f(e,t){$(".js-biweekly-start-input").val(t)}function g(e){const t=$(e.target);const a=t.closest(".fieldRow");const n=(0,r.Z)().day(h(e.originalEvent.detail.value));m(a,n.day());p(a,n);f(a,n.format())}function v(e){const t=$(e.target);const a=t.closest(".fieldRow");const n=t.find(":selected").attr("data-biweekly-date");f(a,n)}function y(){$(".js-biweekly-start-input").each(((e,t)=>{const a=$(t);const n=a.closest(".fieldRow");let s;if(a.val()===""){const e=n.find(".js-biweekly-select-day").val();s=(0,r.Z)().day(h(e))}else{s=(0,r.Z)(a.val(),r.Z.defaultFormat)}const i=s.day();const o=n.find(".js-biweekly-select-day select").val();$(n.find(".js-biweekly-select-day").children()[o]).attr("selected",false);$(n.find(".js-biweekly-select-day").children()[i]).attr("selected",true);m(n,i);p(n,s);f(n,s.format())}))}var b={setFields:y};var w=a(37194);var C=a(56445);var S=a(73641);function E(e,t){if(e==="daily"){return[]}if(e==="bi-weekly"){return(0,r.Z)(t,"YYYY-MM-DD").format()}if(e==="semi-monthly"){return t.split(" ")}return t.split(" ").map((e=>e.split("/").reverse())).reduce(((e,t)=>e.concat(t)),[])}function x(e,t){if(e==="daily"){return null}if(e==="bi-weekly"){return(0,r.Z)(t,r.Z.defaultFormat).format("YYYY-MM-DD")}if(e==="semi-monthly"){return t.join(" ")}if(t.length>1){return(0,S.chunk)(t,2).map((e=>e.reverse().join("/"))).join(" ")}return t[0]}var T=a(26570);function k(e,t,a){if(t<=0){return e}let n=1;let s=e.clone();while(n<=t){s.add(1,"days");const e=s.day();if(!(e===0||e===6||a.indexOf(s.format("YYYY-MM-DD"))>-1)){++n}}return s}function I(e){const{paySchedule:t}=e;if(!t.id){return}const a=T(".js-ps-add-edit-form select");const n=T(".js-no-edit-container select");const s=T("select.js-ps-frequency-dropdown");s.val(t.frequency);if(t.count>0||e.hasTimesheetsAssociatedToPaySchedule){n.attr("disabled","disabled")}A(t.frequency,t.modifier);a.trigger("liszt:updated")}function A(e,t){const a=E(e,t);if(e==="bi-weekly"){T('[data-ps-section="bi-weekly"] .js-biweekly-start-input').val(a)}else{T(`[data-ps-section="${e}"] select`).each(((e,t)=>{t.value=a[e]}))}}function F(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Function.prototype;let a=arguments.length>2?arguments[2]:undefined;const n=e.id?`${e.id}/editDialog`:"addDialog";window.SimpleModal.openModal({url:`/settings/pay_schedules/${n}`,title:e.id?T.__("Edit Pay Schedule"):T.__("Add Pay Schedule"),classes:"jquery-padding no-chosen-breakout",footer:{buttons:{primary:{text:e.id?T.__("Save"):T.__("Add"),action(){M(t)}},secondary:{show:true,text:T.__("Preview"),action:()=>L(P(),true,a)}}},callbacks:{open:{after(){R()}}}})}function Z(e){const t=T.__("Delete Pay Schedule");const a=(0,C.isEnabled)("SETTINGS_PAYROLL_DELETE_PAY_SCHEDULE_FLOWS");o().get(`/settings/pay_schedules/${e.id}/delete`).then((i=>{let{data:r}=i;const{count:l,activeCount:c,terminatedBeingPaidCount:d,isSyncingPaySchedule:u}=r;let h;if(a){if(d){h=c+d}else{h=c}}else{h=l}window.BambooHR.Modal.setState({isOpen:true,title:t,headline:(0,n.Z)(w.Message,{params:[e.name],text:T._('Are you sure you want to delete the **"{1}"** pay schedule?')}),type:"aggressiveConfirmation",primaryActionText:T.__("Delete Pay Schedule"),primaryAction:()=>{window.BambooHR.Modal.setState({isProcessing:true},true);o()["delete"](`/settings/pay_schedules/${e.id}/delete`).then((e=>{let{data:t}=e;if(t.ret==="ERROR"){window.setMessage(t.message,"error");window.BambooHR.Modal.setState({isProcessing:false},true)}else{window.location.reload(true)}})).catch((()=>{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))},secondaryActionText:T.__("Keep Pay Schedule"),secondaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},alternativeAction:null,content:h>0&&(0,n.Z)(s.Fragment,{},void 0,h===1&&(0,n.Z)(w.Message,{params:[h],text:a&&u?T._("You have **{1} employee eligible to be paid** in this pay schedule."):T._("You have **{1} active employee** with this pay schedule.")},"first-part"),h!==1&&(0,n.Z)(w.Message,{params:[h],text:a&&u?T._("You have **{1} employees eligible to be paid** in this pay schedule."):T._("You have **{1} active employees** with this pay schedule.")},"first-part")," ",(0,n.Z)(w.Message,{text:T._("We suggest moving employees to a new pay schedule before deleting this one.")},"second-part"))})})).catch((()=>{window.setMessage(T.__("We were unable to delete your pay schedule. Please try again."),"error")}))}function M(e,t){const a=T("#payschedule_form");const n=!!window.SimpleModal.getTopModalSelector();if(!a.valid()){return}if(n){window.SimpleModal.Footer.Buttons.Primary.startProcessing()}const s=P();N(s,e,t)}function N(e,t,a){const n=!!window.SimpleModal.getTopModalSelector();T.post("/settings/pay_schedules/save",e,(e=>{if(n){window.SimpleModal.Footer.Buttons.Primary.stopProcessing()}if(e.ret==="ERROR"){window.setMessage(e.message,"error");a()}else{t(e);if(n){window.SimpleModal.closeModal()}}}),"json").fail((()=>{window.errorFallBack();a()}))}let D=false;function L(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=arguments.length>2?arguments[2]:undefined;if(D){return}D=true;o().get(`/settings/pay_schedules/calendar-preview${t?"":"ById"}`,e).then((n=>{let{data:{payCycles:s,bankHolidays:i=[]}}=n;a(e.name,i.map((e=>e.date)),true,t,s)})).catch(window.errorFallBack).finally((()=>{D=false}))}function P(){const e=T("#payschedule_form");const t=T("select.js-ps-frequency-dropdown").val();return{frequency:t,id:e.find("[name=id]").val(),listValueId:e.find("[name=listValueId]").val(),name:e.find("[name=name]").val(),modifier:O(t),payDateDays:e.find("[name=payDateDays]").val(),weekendAndHoliday:e.find("[name=weekendAndHoliday]").val()}}function O(e){let t;if(e==="bi-weekly"){t=T('[data-ps-section="bi-weekly"] .js-biweekly-start-input').val()}else{t=T(`[data-ps-section="${e}"] select`).map(((e,t)=>t.value)).toArray()}return x(e,t)}function R(){const e=T("#js-ps-modal-data");const t=JSON.parse(e.html());const a=T("#payschedule_form");I(t);b.setFields();const n=T(".js-ps-frequency-dropdown");n.change((function(){const e=T(this);const t=e.find("option:selected").val();const a=`[data-ps-section="${t}"]`;T(".js-ps-sub-field").hide().filter(a).show().initializeElements()}));const s=n.find("option:selected").val();T(`.js-ps-sub-field[data-ps-section="${s}"]`).show().initializeElements();a.bhrValidate({rules:{"semimonthlyMod1[]":{sameSiblingValue:"select.js-semimonthly"},"semimonthlyMod2[]":{sameSiblingValue:"select.js-semimonthly"}}});if(window.SimpleModal.getTopModalSelector()){window.SimpleModal.setPosition();window.SimpleModal.Footer.Buttons.Primary.setAttr("data-bi-id","settings-add-pay-schedule-button")}}function B(e,t){F({},e,t)}function H(e,t,a){F(e,t,a)}function j(e){Z(e)}function z(e,t){L(e,false,t)}var q={addModal:B,editModal:H,getBusinessDaysInTheFutureFromDate:k,removeModal:j,previewModal:z}},34387:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(73641);var s=a.n(n);var i=a(48853);class o extends i.Z{static get className(){return"Popover"}constructor(e,t){t=(0,n.extend)({themeClass:"Balloon--popover",closeX:true,push:18,tail:true,tailSize:11,minTailOnBalloon:12},t);super(e,t)}}},32344:(e,t,a)=>{"use strict";var $=a(26570);class n{static get className(){return"PrivateContent"}constructor(){$(document).on("click",".ba-privateContent",(function(e){$(this).removeClass("ba-privateContent")}))}}var s=new n},57607:(e,t,a)=>{"use strict";a.r(t);a.d(t,{commentExistsInADenialModal:()=>f,showEditTimeOffRequestModal:()=>m});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(53534);var r=a(98853);var l=a.n(r);var c=a(40724);var d=a(56445);var u=a.n(d);var h=a(70004);var $=a(26570);function p(e){let{employee:t,timeOffRequestId:a,canCancelRequest:i,onRequestEditOrCancel:o,onCloseComplete:r}=e;const[l,d]=(0,s.useState)(true);return(0,n.Z)(c.x5,{canCancelRequest:i,employee:t,isOpen:l,onCloseComplete:r,onRequestClose:e=>{d(false);if(e==="edited"||e==="cancelled"){o()}},route:"/time-off/edit-time-off-modal",timeOffRequestId:a})}function m(e,t,a,s){const i=document.createElement("div");document.body.appendChild(i);const l=()=>{if(s){window.location=s}else{window.location.reload()}};const c=(0,d.ifFeature)("REACT_18_TT_MIGRATION",(()=>(0,h.bB)({children:(0,n.Z)(p,{canCancelRequest:a,employee:e,onRequestEditOrCancel:l,timeOffRequestId:t}),attachedElement:i})),(()=>(0,o.s)((0,n.Z)(p,{canCancelRequest:a,employee:e,onCloseComplete:()=>(0,r.unmountComponentAtNode)(i),onRequestEditOrCancel:l,timeOffRequestId:t}),i)));c()}function f(){let e=[".denialModal #manager_note",".denialModal #comment"],t=false;for(let a=0;a<e.length;a++){if($(e[a]).length){if($.trim($(e[a]).val())){t=true}}}return t}},34825:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>B});var n=a(21198);var s=a(38592);var i=a(27267);var o=a(98115);var r={body:".js-simplemodal-body"};var l={getHeight(e){e=window.SimpleModal._verifyModalObject(e);return e.find(r.body).height()}};var c=l;var $=a(26570);var d={button:".js-simplemodal-cancel"};var u={clearAction(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).off("click")},clearPerformActionOnKeyCode(e){e=window.SimpleModal._verifyModalObject(e);$(document).off("keyup"+d.button+e.selector)},click(e){e=window.SimpleModal._verifyModalObject(e);if(this.isEnabled(e)){var t=e.find(d.button);if(t.length>0&&t.is(":visible")){t.click()}}},disable(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).attr("disabled","disabled").prop("disabled",true)},enable(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).removeAttr("disabled").prop("disabled",false)},getAttr(e,t){t=window.SimpleModal._verifyModalObject(t);return t.find(d.button).attr(e)},getText(e){e=window.SimpleModal._verifyModalObject(e);return e.find(d.button).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).hide()},isDisabled(e){e=window.SimpleModal._verifyModalObject(e);var t=e.find(d.button);if(t.length>0&&t.is(":visible")){return t.is(":disabled")}return true},isEnabled(e){return!this.isDisabled(e)},setAttr(e,t,a){a=window.SimpleModal._verifyModalObject(a);a.find(d.button).attr(e,t)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(d.button).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(d.button).show()},updateAction(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearAction(t);t.find(d.button).on("click",e)},updatePerformActionOnKeyCode(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearPerformActionOnKeyCode(t);$(document).on("keyup"+d.button+t.selector,(function(a){if(a.which===e){a.stopPropagation();this.click(t)}}))},addClass(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(d.button).addClass(e)}};var h=u;var p=a(26570);var m={button:".js-simplemodal-button-primary"};var f={clearAction(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).off("click")},clearPerformActionOnKeyCode(e){e=window.SimpleModal._verifyModalObject(e);p(document).off("keyup"+m.button+e.selector)},click(e){e=window.SimpleModal._verifyModalObject(e);if(this.isEnabled(e)){var t=e.find(m.button);if(t.length>0&&t.is(":visible")){t.click()}}},disable(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).attr("disabled","disabled").prop("disabled",true)},enable(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).removeAttr("disabled").prop("disabled",false)},getAttr(e,t){t=window.SimpleModal._verifyModalObject(t);return t.find(m.button).attr(e)},getText(e){e=window.SimpleModal._verifyModalObject(e);return e.find(m.button).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).hide()},isDisabled(e){e=window.SimpleModal._verifyModalObject(e);var t=e.find(m.button);if(t.length>0&&t.is(":visible")){return t.is(":disabled")}return true},isEnabled(e){return!this.isDisabled(e)},setAttr(e,t,a){a=window.SimpleModal._verifyModalObject(a);a.find(m.button).attr(e,t)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(m.button).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).show()},startProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).addClass("processing").attr("disabled",true)},stopProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(m.button).removeClass("processing").attr("disabled",false)},updateAction(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearAction(t);t.find(m.button).on("click",e)},updatePerformActionOnKeyCode(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearPerformActionOnKeyCode(t);p(document).on("keyup"+m.button+t.selector,(a=>{if(a.which===e){a.stopPropagation();this.click(t)}}))},addClass(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(m.button).addClass(e)}};var g=f;var v=a(26570);var y={button:".js-simplemodal-button-secondary"};var b={clearAction(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).off("click")},clearPerformActionOnKeyCode(e){e=window.SimpleModal._verifyModalObject(e);v(document).off("keyup"+y.button+e.selector)},click(e){e=window.SimpleModal._verifyModalObject(e);if(this.isEnabled(e)){var t=e.find(y.button);if(t.length>0&&t.is(":visible")){t.click()}}},disable(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).attr("disabled","disabled").prop("disabled",true)},enable(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).removeAttr("disabled").prop("disabled",false)},getAttr(e,t){t=window.SimpleModal._verifyModalObject(t);return t.find(y.button).attr(e)},getText(e){e=window.SimpleModal._verifyModalObject(e);return e.find(y.button).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).hide()},isDisabled(e){e=window.SimpleModal._verifyModalObject(e);var t=e.find(y.button);if(t.length>0&&t.is(":visible")){return t.is(":disabled")}return true},isEnabled(e){return!this.isDisabled(e)},setAttr(e,t,a){a=window.SimpleModal._verifyModalObject(a);a.find(y.button).attr(e,t)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(y.button).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).show()},startProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).addClass("processing").attr("disabled",true)},stopProcessing(e){e=window.SimpleModal._verifyModalObject(e);e.find(y.button).removeClass("processing").attr("disabled",false)},updateAction(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearAction(t);t.find(y.button).on("click",e)},updatePerformActionOnKeyCode(e,t){t=window.SimpleModal._verifyModalObject(t);this.clearPerformActionOnKeyCode(t);v(document).on("keyup"+y.button+t.selector,(function(a){if(a.which===e){a.stopPropagation();this.click(t)}}))},addClass(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(y.button).addClass(e)}};var w=b;var C={primary:".js-simplemodal-button-primary",secondary:".js-simplemodal-button-secondary",cancel:".js-simplemodal-cancel"};var S={clearAllEventHandlers(e){this.clearAllActions(e);this.clearAllPerformActionsOnKeyCodes(e)},clearAllActions(e){window.SimpleModal.Footer.Buttons.Primary.clearAction(e);window.SimpleModal.Footer.Buttons.Secondary.clearAction(e);window.SimpleModal.Footer.Buttons.Cancel.clearAction(e)},clearAllPerformActionsOnKeyCodes(e){window.SimpleModal.Footer.Buttons.Primary.clearPerformActionOnKeyCode(e);window.SimpleModal.Footer.Buttons.Secondary.clearPerformActionOnKeyCode(e);window.SimpleModal.Footer.Buttons.Cancel.clearPerformActionOnKeyCode(e)},hide(e){window.SimpleModal.Footer.Buttons.Primary.hide(e);window.SimpleModal.Footer.Buttons.Secondary.hide(e);window.SimpleModal.Footer.Buttons.Cancel.hide(e)},show(e){window.SimpleModal.Footer.Buttons.Primary.show(e);window.SimpleModal.Footer.Buttons.Secondary.show(e);window.SimpleModal.Footer.Buttons.Cancel.show(e)},startProcessing(e){window.SimpleModal.Footer.Buttons.Primary.startProcessing(e);window.SimpleModal.Footer.Buttons.Secondary.startProcessing(e)},stopProcessing(e){window.SimpleModal.Footer.Buttons.Primary.stopProcessing(e);window.SimpleModal.Footer.Buttons.Secondary.stopProcessing(e)}};S.Cancel=h;S.Primary=g;S.Secondary=w;var E=S;var x={text:".js-simplemodal-footer-text"};var T={hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(x.text).hide()},setHtml(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(x.text).html(e)},setText(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(x.text).text(e)},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(x.text).show()}};var k=T;var I={footer:".js-simplemodal-footer",footerWrapper:".js-simplemodal-footer-wrapper"};var A={hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(I.footer).hide()},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(I.footer).show()}};A.Buttons=E;A.Text=k;var F=A;var Z={title:".js-simplemodal-title"};var M={setTitle(e,t){t=window.SimpleModal._verifyModalObject(t);t.find(Z.title).text(e)},getTitle(e){e=window.SimpleModal._verifyModalObject(e);return e.find(Z.title).text()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(Z.title).hide()},show(e){e=window.SimpleModal._verifyModalObject(e);e.find(Z.title).show()}};var N=M;var D={header:".js-simplemodal-header",close:".js-simplemodal-close"};var L={show(e){e=window.SimpleModal._verifyModalObject(e);e.find(D.header).show()},hide(e){e=window.SimpleModal._verifyModalObject(e);e.find(D.header).hide()},hideCloseButton(e){e=window.SimpleModal._verifyModalObject(e);e.find(D.close).hide()}};L.Title=N;var P=L;var O=a(26570);var R={closeModal(e){if(this.getModalCount()<1){return false}e=this._mergeCloseOptions(e);var t=this._getTopModalOptions();O(document).trigger("simplemodal:close:before");var a=(0,s.executeFunction)(t.callbacks.close.before);if(a===false){return false}var n=O(this.getTopModalSelector());if(t.footer.show===true&&t.footer.custom.html===""&&t.footer.custom.url===""){this.Footer.Buttons.clearAllEventHandlers(n)}if(e.type==="fast"){n.remove();if(this._openModals.length===1){i.Modal.disableNoScroll()}}else if(this._openModals.length>1&&!t.nostack){n.find(this._selectors.wrapper).velocity("slideUp",{complete(){n.remove()},duration:250})}else{if(t.animation){n.velocity("fadeOut",{complete(e){n.remove()},duration:100,easing:[.25,.5,.5,.9]})}else{n.remove()}if(this._openModals.length===1){i.Modal.disableNoScroll()}}this._openModals.pop();if(!e.skipCloseCallback){(0,s.executeFunction)(t.callbacks.close.after);O(document).trigger("simplemodal:close:after")}},init(){this.$=(0,s.setupWrappers)(this.$);this._enableButtons();this._setupListeners();window.SimpleModal=this},openModal(e){e=this._mergeOptions(e);if(this._openModals.length>0&&JSON.stringify(this._openModals[this._openModals.length-1].options)===JSON.stringify(e)){return false}if(e.url===""&&e.html===""){console.warn("Could not find a url to load from or html to show.");return false}O(document).trigger("simplemodal:open:before");var t=(0,s.executeFunction)(e.callbacks.open.before);if(t===false){return false}var a=this,n=this.$.html.clone(),o=this._selectors.prefix+this._openModals.length,r="."+o;if(typeof e.classes==="undefined"){e.classes=""}if(typeof e.data==="undefined"){e.data={}}n.addClass(e.classes+" "+o);if(e.body&&e.body.classes){n.find(this._selectors.body).addClass(e.body.classes)}this._appendModal(n);if(!this._openModals.length){i.Modal.enableNoScroll()}if(e.animation){O(this._selectors.wrapper).addClass("SimpleModal__wrapper--animate")}var l=O(r);this.Header.Title.setTitle(e.header.title.text||e.title,l);if(e.header.show===false){l.addClass("SimpleModal--noHeader");this.Header.hide(l)}if(e.header.title.show===false){this.Header.Title.hide(l)}if(e.header.hideCloseButton){this.Header.hideCloseButton(l)}this._setZIndex(l);this._setModalBgZIndex(l);this._setModalZIndex(l);this._setLoaderZIndex(l);this._openModals.push({$:l,options:e});if(e.url){O.ajax({url:e.url,data:e.data,type:e.method,success(t){if(e.responseToHTML){a._loadHtml(l,e.responseToHTML(t),e);return}if(t==="ERROR"||typeof t==="object"&&!t.success){if(t.error){setMessage(t.error,"error")}else{setMessage(O.__("There was an error processing your request"),"error")}a.closeModal();return}var n;if(typeof t==="object"){n=t.html}else{n=t}a._loadHtml(l,n,e)},error:function(e){if(e.responseText){setMessage(e.responseText,"error")}else{errorFallBack()}a.closeModal()}})}else{this._loadHtml(l,e.html,e)}return l},getTopModalSelector(){if(this._openModals.length>0){return this._openModals[this._openModals.length-1].$}return""},$:{button:".js-simplemodal",html:`<div class="SimpleModal js-simplemodal-container">\n\t\t\t\t\t<div class="SimpleModal__bg js-simplemodal-bg"></div>\n\t\t\t\t\t<div class="SimpleModal__loader js-simplemodal-loader">\n\t\t\t\t\t\t<div class="dotLoader">\n\t\t\t\t\t\t\t<div class="bounce1"></div>\n\t\t\t\t\t\t\t<div class="bounce2"></div>\n\t\t\t\t\t\t\t<div class="bounce3"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${O.__("Loading...")}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="SimpleModal__wrapper js-simplemodal-wrapper">\n\t\t\t\t\t\t<div class="SimpleModal__header js-simplemodal-header clearfix">\n\t\t\t\t\t\t\t<span class="SimpleModal__header-title truncate js-simplemodal-title"></span>\n\t\t\t\t\t\t\t<span class="SimpleModal__header-close js-simplemodal-close">\n\t\t\t\t\t\t\t\t<svg width="11px" height="11px" viewBox="0 0 11 11">\n\t\t\t\t\t\t\t\t\t<g stroke-width="1" sketch:type="MSPage">\n\t\t\t\t\t\t\t\t\t\t<path d="M6.71884008,5.19230161 L9.99010931,1.92103238 C10.4698785,1.44126315 10.5190324,0.705224691 10.0991478,0.28545546 C9.67937854,-0.134429155 8.94334008,-0.0852753088 8.46357085,0.394493922 L5.19230161,3.66576315 L1.92103238,0.394493922 C1.44126315,-0.0852753088 0.705224691,-0.134429155 0.28545546,0.28545546 C-0.134429155,0.705224691 -0.0852753088,1.44126315 0.394493922,1.92103238 L3.66576315,5.19230161 L0.394493922,8.46357085 C-0.0852753088,8.94334008 -0.134429155,9.67937854 0.28545546,10.0991478 C0.705224691,10.5190324 1.44126315,10.4698785 1.92103238,9.99010931 L5.19230161,6.71884008 L8.46357085,9.99010931 C8.94334008,10.4698785 9.67937854,10.5190324 10.0991478,10.0991478 C10.5190324,9.67937854 10.4698785,8.94334008 9.99010931,8.46357085 L6.71884008,5.19230161" class="modalXpath"></path>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="SimpleModal__body js-simplemodal-body" style="visibility: hidden;"></div>\n\t\t\t\t\t\t<div class="SimpleModal__footer-wrapper js-simplemodal-footer-wrapper" style="display: none;">\n\t\t\t\t\t\t\t<div class="SimpleModal__footer js-simplemodal-footer clearfix">\n\t\t\t\t\t\t\t\t<button class="btn btnAction SimpleModal__footer-button-primary js-simplemodal-button-primary"></button>\n\t\t\t\t\t\t\t\t<button class="btn SimpleModal__footer-button-secondary js-simplemodal-button-secondary" style="display: none;"></button>\n\t\t\t\t\t\t\t\t<a class="SimpleModal__footer-cancel js-simplemodal-cancel"></a>\n\t\t\t\t\t\t\t\t<span class="SimpleModal__footer-text js-simplemodal-footer-text" style="display: none;"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},_selectors:{prefix:"js-simplemodal-",openModalButton:".js-simplemodal",background:".js-simplemodal-bg",body:".js-simplemodal-body",buttonPrimary:".js-simplemodal-button-primary",buttonSecondary:".js-simplemodal-button-secondary",cancel:".js-simplemodal-cancel",close:".js-simplemodal-close",container:".js-simplemodal-container",footer:".js-simplemodal-footer",footerWrapper:".js-simplemodal-footer-wrapper",header:".js-simplemodal-header",docHtml:"html",loader:".js-simplemodal-loader",title:".js-simplemodal-title",wrapper:".js-simplemodal-wrapper"},_closeOptions:{type:"",skipCloseCallback:false},_options:{animation:false,body:{classes:""},callbacks:{close:{after(){return true},before(){return true}},open:{after(){return true},before(){return true}}},classes:"",closeOnEscape:true,data:{},footer:{show:true,buttons:{primary:{disabled:false,show:true,text:O.__("Save"),action(e){e=R._verifyModalObject(e);e.find("form").submit()},performActionOnKeyCode:-1},secondary:{disabled:false,show:false,text:"",action(){},performActionOnKeyCode:-1},cancel:{disabled:false,show:true,text:O.__("Cancel"),action(){R.closeModal()},performActionOnKeyCode:-1}},custom:{url:"",html:""},text:{show:false,html:"",text:""}},nostack:true,title:"",header:{hideCloseButton:false,show:true,title:{show:true,text:""}},html:"",url:"",method:"get",responseToHTML:null,deleteModal:{active:false,selector:""},preventSubmit:false},_openModals:[],_appendModal(e){var t=this,a=this._getTopModalOptions();O("body").append(e);var n=e.children(this._selectors.background),s=e.children(this._selectors.loader);if(a.animation){n.velocity("fadeIn",{duration:300});s.velocity("fadeIn",{delay:100,duration:300})}else{n.css("opacity","1");s.addClass("show")}if(this._openModals.length>0){e.addClass("SimpleModal--stacked");e.find(".SimpleModal__footer > .btn").addClass("btnSmall")}},_getDataAttributes(e){return{animation:e.data("animation"),body:{classes:e.data("body-classes")},callbacks:{close:{after:e.data("callbacks-close-after"),before:e.data("callbacks-close-before")},open:{after:e.data("callbacks-open-after"),before:e.data("callbacks-open-before")}},classes:e.data("classes"),closeOnEscape:e.data("close-on-escape"),data:e.data("data"),footer:{show:e.data("footer-show"),buttons:{primary:{disabled:e.data("footer-button-primary-disabled"),show:e.data("footer-button-primary-show"),text:e.data("footer-button-primary-text"),action:e.data("footer-button-primary-action"),performActionOnKeyCode:e.data("footer-button-primary-perform-action-on-key-code")},secondary:{disabled:e.data("footer-button-secondary-disabled"),show:e.data("footer-button-secondary-show"),text:e.data("footer-button-secondary-text"),action:e.data("footer-button-secondary-action"),performActionOnKeyCode:e.data("footer-button-secondary-perform-action-on-key-code")},cancel:{disabled:e.data("footer-button-cancel-disabled"),show:e.data("footer-button-cancel-show"),text:e.data("footer-button-cancel-text"),action:e.data("footer-button-cancel-action"),performActionOnKeyCode:e.data("footer-button-cancel-perform-action-on-key-code")}},custom:{url:e.data("footer-custom-url"),html:e.data("footer-custom-html")},text:{show:e.data("footer-text-show"),html:e.data("footer-text-html"),text:e.data("footer-text-text")}},nostack:e.data("nostack"),title:e.data("title"),header:{show:e.data("header-show"),title:{show:e.data("header-title-show"),text:e.data("header-title-text")}},html:e.data("html"),url:e.data("url"),method:e.data("method"),deleteModal:{active:e.data("delete-modal-active"),selector:e.data("delete-modal-selector")},preventSubmit:e.data("prevent-submit")}},getModalCount(){return this._openModals.length},_getTopModalOptions(){if(this._openModals.length>0){return this._openModals[this._openModals.length-1].options}return""},_deleteModalSetup(e,t){var a=t.find(e);if(a.length>0){a.focus();a.on("keyup",(function(){if(this.value.toUpperCase()==="DELETE"){R.Footer.Buttons.Primary.enable()}else{R.Footer.Buttons.Primary.disable()}}))}},_enableButtons(){var e=this;O("body").on("click",this._selectors.openModalButton,(function(t){var a=O(this);e.openModal(e._getDataAttributes(a))}))},_hideFooter(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.footerWrapper);var a=e.find(this._selectors.header);var n=0;if(a.is(":visible")){n+=a.outerHeight()}this._setBodyAndLoaderHeight(n,e);this.Footer.hide(e)},_loadHtml(e,t,a){e.find(this._selectors.body).html(t);this._setFooter(a.footer,e);this._waitForResourcesToLoad(a,e)},_mergeOptions(e){e=O.extend(true,{},this._options,e);if(e.deleteModal.active){e.footer.buttons.primary.disabled=true}return e},_mergeCloseOptions(e){if(typeof e==="string"){this._closeOptions.type=e}return O.extend(true,{},this._closeOptions,e)},_setBodyAndLoaderHeight(e,t){t=this._verifyModalObject(t);t.find(this._selectors.body).css("height","calc(100% - "+e+"px)")},_setFooter(e,t){var a=this;t=this._verifyModalObject(t);if(e.show===true){var n=t.find(this._selectors.footerWrapper);var s=t.find(this._selectors.header);var i=n.outerHeight();if(s.is(":visible")){i+=s.outerHeight()}if(e.custom.html!==""){n.html(e.custom.html);this._setBodyAndLoaderHeight(a._getHeaderAndFooterHeight(t),t)}else if(e.custom.url!==""){n.empty();O.get(e.custom.url,(function(e){n.html(e);a._setBodyAndLoaderHeight(a._getHeaderAndFooterHeight(t),t)}))}else{this._setFooterButtons(e.buttons,t);this._setFooterText(e.text,t);this._setBodyAndLoaderHeight(a._getHeaderAndFooterHeight(t),t)}n.show()}else{t.addClass("SimpleModal--noFooter");this._hideFooter(t)}},_getHeaderAndFooterHeight:function(e){var t=e.find(this._selectors.footerWrapper);var a=e.find(this._selectors.header);var n=t.outerHeight();if(a.is(":visible")){n+=a.outerHeight()}return n},_setFooterButtons(e,t){var a=this;t=this._verifyModalObject(t);n(e.primary,this.Footer.Buttons.Primary,t);n(e.secondary,this.Footer.Buttons.Secondary,t);n(e.cancel,this.Footer.Buttons.Cancel,t);function n(e,t,n){n=a._verifyModalObject(n);if(e.show===true){t.show(n)}else{t.hide(n)}if(e.disabled===true){t.disable(n)}t.setText(e.text,n);t.addClass(e.classes,n);t.updateAction((function(){e.action(n)}),n);var s=parseInt(e.performActionOnKeyCode);if(s>-1){t.updatePerformActionOnKeyCode(s,n)}}},_setFooterText(e,t){if(e.html!==""){this.Footer.Text.setHtml(e.html,t)}if(e.text!==""){this.Footer.Text.setText(e.text,t)}if(e.show){this.Footer.Text.show(t)}},_setModalBgZIndex(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.background);this._setZIndex(t)},setPosition(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.title),a=e[0].clientWidth,n=e[0].clientHeight,s=window.innerWidth,i=window.innerHeight;if(typeof e==="undefined"||e.length===0){return}t.css("max-width",a-60);if(!e.hasClass("full-screen")){if(!e.hasClass("full-width")){if(this._openModals[this._openModals.length-1].originalWidth>s-100){e.css({width:s-100+"px"})}else{e.css({width:"auto"})}}e.css({left:"calc(50% - "+Math.floor(e[0].clientWidth/2)+"px)",height:""});if(!e.hasClass("full-height")){if(i*.4-50>n/2){e.css({top:"calc(40% - "+Math.floor(n/2)+"px)"})}else{e.css({top:"50px"});if(e.height()>i-100){e.css({height:i-100+"px"})}}}}if(e.hasClass("SimpleModal--stacked")){var o=0;var r=0;var l=this._openModals[0].$;if(!l.find(this._selectors.header).is(":visible")){o=-32}else{r=-32}var c=parseInt(l.css("top"))+36+o;e.css({top:c+"px"});if(!e.hasClass("full-screen")&&e.height()>i-100+r){e.css({height:i-100+r+"px"})}}},_setLoaderZIndex(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.loader);this._setZIndex(t)},_setModalZIndex(e){e=this._verifyModalObject(e);var t=e.find(this._selectors.wrapper);this._setZIndex(t)},_setZIndex(e){var t=(0,n.getMaxZIndex)();O(e).css("zIndex",parseInt(t)+10)},_setupListeners(){O(window).resize((()=>{this._openModals.forEach((e=>{var t=e.$;this.setPosition(t);this._setBodyAndLoaderHeight(this._getHeaderAndFooterHeight(t),t)}))}));this._watchForClose()},_showContent(e,t){var a=this,n=O(this._selectors.container),i=t.find(this._selectors.body),o=O(this._selectors.loader),r=O(this._selectors.footerWrapper);if(t.hasClass("SimpleModal--stacked")){t.find(a._selectors.wrapper).velocity("slideDown",{duration:250,begin:function(){t.addClass("no-overflow")},complete:function(){t.removeClass("no-overflow")}})}l();function l(){if(e.animation){t.find(a._selectors.wrapper).addClass("show")}else{t.find(a._selectors.wrapper).css("opacity","1")}}setTimeout((function(){(0,s.executeFunction)(e.callbacks.open.after)}),0);if(e.deleteModal.active&&e.deleteModal.selector!==""){this._deleteModalSetup(e.deleteModal.selector,t)}if(e.preventSubmit){t.find("form").on("submit",(function(e){e.preventDefault()}))}t.initializeElements();n.removeClass("updating");i.css({visibility:"visible"});i.velocity({opacity:1},{complete(){n.removeClass("updating")},duration:350});r.velocity({opacity:1},{duration:350});o.removeClass("show");this._openModals[this._openModals.length-1].originalWidth=t.width();this.setPosition(t);O(document).trigger("simplemodal:open:after")},_verifyModalObject(e){if(typeof e==="undefined"){e=O(this.getTopModalSelector())}return e},_waitForFooterToLoad(e,t){var a=this;if(e.footer.custom.url!==""&&t.find(a._selectors.footerWrapper).html().length===0){var n=setInterval((function(){if(t.find(a._selectors.footerWrapper).html().length>0){clearInterval(n);a._showContent(e,t)}}),1e3)}else{a._showContent(e,t)}},_waitForResourcesToLoad(e,t){t=this._verifyModalObject(t);var a=t.find(this._selectors.body+" img[src], "+this._selectors.body+' link[type="text/css"]');var n=this,s=a.length,i=0;if(s>0){a.each((function(){var a=document.createElement("img");if(this.src){a.src=this.src}if(this.href){a.src=this.href}a.onload=a.onerror=function(){++i;if(i===s){n._waitForFooterToLoad(e,t)}}}))}else{n._waitForFooterToLoad(e,t)}},_watchForClose(){var e=this;O("body").on("click",this._selectors.close,(function(){e.closeModal()}));O(document).on("keydown",(function(t){let a=e._getTopModalOptions();if(a.closeOnEscape&&(t.which===27||t.keyCode===27)){e.closeModal()}}))},updateModal(e){e=this._mergeOptions(e);this._openModals[this._openModals.length-1].options=e;var t=this,a=O(this._selectors.container),n=O(this._selectors.body),i=O(this._selectors.footerWrapper),o=O(this._selectors.loader),r=O(this.getTopModalSelector());if(typeof window.event!=="undefined"&&window.event.altKey){r.addClass("panda")}O(document).trigger("simplemodal:open:before");var l=(0,s.executeFunction)(e.callbacks.open.before);if(l===false){return false}n.velocity({opacity:0},{begin(){a.addClass("updating");o.addClass("show")},complete(){if(e.url){O.get(e.url,(function(a){t._loadHtml(r,a,e)}))}else{t._loadHtml(r,e.html,e)}},duration:350});i.velocity({opacity:0},{duration:350})}};R.Body=c;R.Footer=F;R.Header=P;R.init();var B=R},80962:(e,t,a)=>{"use strict";a.d(t,{Ix:()=>n,U0:()=>i,lF:()=>s});var $=a(26570);const n=()=>{const e=window.BambooHR.Modal.isOpen();let t={};const a={content:$.__("Payroll will not be able to run for this user unless they have a valid Social Security Number."),primaryAction:()=>{if(e){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("OK, Got It"),alternativeActionText:"",primaryActionKey:"Enter",isOpen:true,title:$.__("Just So You Know...")};if(e){t={isOpen:true,sheetProps:a}}else{t=a}window.BambooHR.Modal.setState(t,e)};const s=e=>{const t=window.BambooHR.Modal.isOpen();let a={};const n={isOpen:true,icon:"fab-money-circle-54x54",iconColor:"danger",content:$.__("Before adding this employee to the '%1' pay schedule you need to update the employee's Social Security Number.",e),primaryAction:()=>{if(t){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("OK, Got It"),alternativeAction:null,title:$.__("Oops, That Won't Work...")};if(t){a={isOpen:true,sheetProps:n}}else{a=n}window.BambooHR.Modal.setState(a,t)};const i=(e,t,a)=>{const n=window.BambooHR.Modal.isOpen();let s={};const i={content:t,onClose:()=>{if(a&&typeof a==="function"){a(false)}},primaryAction:()=>{if(a&&typeof a==="function"){a(true)}if(n){window.BambooHR.Modal.setState({sheetProps:{isOpen:false}},true)}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("Yes"),iconColor:"danger",primaryActionKey:"Enter",isOpen:true,title:e};if(n){s={isOpen:true,sheetProps:i}}else{s=i}window.BambooHR.Modal.setState(s,n)}},53786:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});const n=new WeakMap;class s{static get className(){return"Sticky"}static getInstance(e){return n.get(e)}constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._element=e;this._settings={anchor:window,...t};this._stuck=false;this._verifySettings();if(!this._settings.alwaysStick){this._wireEvents()}this._addSpacerElement();n.set(this._element,this);if(this._settings.alwaysStick||this._settings.immediate){this._updateStickiness()}}get _elementRect(){return this._getRect(this._element)}get _spacerElementRect(){return this._getRect(this._spacerElement)}get _anchorElementRect(){return this._getRect(this._settings.anchor)}stick(){this._adjustSpacerHeight();this._element.style.position="fixed";if(this._settings.anchor){this._positionAtAnchor()}this._stuck=true;if(this._watchHeight&&!this._watchingHeight){this._watchHeight()}}unStick(){this._adjustSpacerHeight();this._element.style.position="";this._stuck=false;this._watchingHeight=false}destroy(){if(this._spacerElement&&this._spacerElement.parentNode){this._spacerElement.parentNode.removeChild(this._spacerElement)}this._unwireEvents()}_removeSpacerElement(){if(this._spacerElement?.parentNode){this._spacerElement.parentNode.removeChild(this._spacerElement)}this._spacerElement=null}_addSpacerElement(){const{spacerCSSClass:e}=this._settings;const t=this._element;const a=this._spacerElement=document.createElement("div");if(e){a.classList.add(e)}t.parentNode.insertBefore(a,t);a.appendChild(t)}_adjustSpacerHeight(){if(this._stuck){this._spacerElement.style.height=`${this._elementRect.height}px`}else{this._spacerElement.style.height=""}}_wireEvents(){this._boundScrollHandler=this._scrollHandler.bind(this);window.addEventListener("scroll",this._boundScrollHandler)}_unwireEvents(){window.removeEventListener("scroll",this._boundScrollHandler);this._boundScrollHandler=null}_shouldStick(){const{anchor:e,shouldStick:t}=this._settings;if(typeof t==="function"){return t(this._element,this._elementRect)}if(!e){console.warn(`Could not determine when to stick element ${this._element}`);return false}return this._spacerElementRect.top<this._anchorElementRect.bottom&&this._isFixed(e)}_shouldUnstick(){const{shouldUnstick:e}=this._settings;if(typeof e==="function"){return e(this._element,this._elementRect)}return this._elementRect.top<=this._spacerElementRect.top}_getRect(e){if(e===window){return{bottom:0,height:0,left:0,right:0,top:0,width:0}}return e.getBoundingClientRect()}_isFixed(e){if(e===window){return true}const t=window.getComputedStyle(e).getPropertyValue("position");return t==="fixed"}_positionAtAnchor(){this._element.style.top=`${this._anchorElementRect.bottom}px`}_updateStickiness(){const{alwaysStick:e,onAfterStick:t,onAfterUnstick:a,onBeforeStick:n,onBeforeUnstick:s}=this._settings;if(e||this._shouldStick()){if(typeof n==="function"){n()}this.stick();if(typeof t==="function"){t()}}else if(this._shouldUnstick()){if(typeof s==="function"){s()}this.unStick();if(typeof a==="function"){a()}}this._triggerUpdateEvent()}_triggerUpdateEvent(){this._element.dispatchEvent(new CustomEvent("ba:stickyUpdate",{bubbles:true,detail:{stuck:this._stuck}}))}_verifySettings(){const{anchor:e,shouldStick:t}=this._settings;if(!this._element){throw new Error("An element to make sticky must be provided.")}if(!e&&typeof t!=="function"){throw new Error("An element anchor option or shouldStick callback option is required to use Sticky.")}}_watchHeight(){if(this._watchingHeight){return}if(this._spacerElement.height!==this._anchorElementRect){this._adjustSpacerHeight()}window.requestAnimationFrame((()=>this._watchHeight()))}_scrollHandler(){this._updateStickiness()}}class i extends s{static get className(){return"StickyTableHeader"}constructor(e,t){if(!e.tHead){throw new Error(`${e} must contain a <thead>. No <thead> was found.`)}super(e.tHead.firstElementChild,t);this._tableElement=e;this._positionAtSpacer();this._updateStickiness()}get _hasPassedBottomOfParent(){const e=this._tableElement.getBoundingClientRect();return this._elementRect.bottom>e.bottom}stick(){this._element.style.position="fixed";if(this._settings.anchor){this._positionAtAnchor()}this._stuck=true}unStick(){this._positionAtSpacer();this._stuck=false}update(){this._addSpacerElement();this._updateStickiness()}_positionAtSpacer(){const e=window.getComputedStyle(this._tableElement);const t=e.getPropertyValue("position");if(t==="static"){this._tableElement.style.position="relative"}this._element.style.position="absolute";this._element.style.left=0;this._element.style.top=0;this._element.style.width="100%"}_positionAtAnchor(){super._positionAtAnchor();this._element.style.left=`${this._spacerElementRect.left}px`;this._element.style.width=`${this._spacerElementRect.width}px`;this._element.style["z-index"]=1}_wireEvents(){super._wireEvents();this._boundResizeHandler=this._resizeHandler.bind(this);window.addEventListener("resize",this._boundResizeHandler)}_unwireEvents(){super._unwireEvents();window.removeEventListener("resize",this._boundResizeHandler);this._boundResizeHandler=null}_resetCells(){const e=[].slice.call(this._element.children);const t=[].slice.call(this._spacerElement.children);t.forEach(((t,a)=>{const n=e[a];t.style.width=n.dataset.sthOriginalWidthStyle;n.style.width=n.dataset.sthOriginalWidthStyle;delete t.dataset.sthOriginalWidthStyle;delete n.dataset.sthOriginalWidthStyle}))}_addSpacerElement(){const e=this._spacerElement;this._spacerElement=this._element.cloneNode(true);this._spacerElement.style.visibility="hidden";this._spacerElement.style.position="static";const{spacerCSSClass:t}=this._settings;if(t){this._spacerElement.classList.add(t)}this._resetCells();if(e&&e.parentNode){this._element.parentNode.replaceChild(this._spacerElement,e)}else{this._element.parentNode.appendChild(this._spacerElement)}}_updateColumnWidths(){const e=[].slice.call(this._element.children);const t=[].slice.call(this._spacerElement.children);this._resetCells();e.forEach(((e,a)=>{const n=t[a];const s=`${n.offsetWidth}px`;e.dataset.sthOriginalWidthStyle=n.style.width;e.style.width=s}))}_updateStickiness(){super._updateStickiness();this._updateColumnWidths()}_resizeHandler(){this._positionAtSpacer();this._updateStickiness()}_scrollHandler(){super._scrollHandler();this._element.style.visibility=this._hasPassedBottomOfParent?"hidden":"visible"}setTableElement(e){if(e){this._removeSpacerElement();this._tableElement=e;this._element=e?.tHead?.firstElementChild;this._addSpacerElement()}}}},69835:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(73641);var s=a.n(n);var i=a(48853);var o=a(56445);var r=a.n(o);class l extends i.Z{static get className(){return"Tooltip"}constructor(e,t){t=(0,n.extend)({themeClass:"Balloon--tooltip",delay:300,tail:true,tailSize:8,minTailOnBalloon:6,triggerEvent:"hover",push:(0,o.ifFeature)("encore",8,10)},t);super(e,t)}static createStandard(e,t){if(t.template){throw new Error(`You misunderstand the purpose of creating a standard tooltip. You don't need a template option using this creation method.`)}const{title:a,content:n,...s}=t;s.template={name:"tooltip-standard",data:{title:a,content:n}};return super.create(e,s)}}},15640:(e,t,a)=>{"use strict";a.d(t,{si:()=>s.si,Tg:()=>r,eu:()=>s.eu});var n=a(19273);var s=a(40771);var i=a(17842);var o=a.n(i);function r(){return o().get("/settings/access_levels/group_list")}},19273:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Pe,m:()=>Ae});var n=a(73641);var s=a(56445);var i=a(38592);var o=a(17842);var r=a.n(o);var l=a(15640);var c=a(96064);var d=a(88604);var u=a(23321);var h=a.n(u);var p=a(37803);var m=a(96247);var f=a.n(m);var g=a(21106);var v=a.n(g);var y=a(45638);var b=a.n(y);var w=a(89835);var $=a(26570);function C(e){let{_bem:t,icon:a,isButton:n,isDropdown:s,isOption:i,isInput:o,$elem:r}=e;if(i){return(0,w.Z)("ba-option",{},void 0,(0,w.Z)("span",{className:"ba-icon-inline"},void 0,(0,w.Z)("span",{className:"ba-icon-inline"},void 0,(0,w.Z)("ba-icon",{"encore-color":"neutral-extra-strong","encore-name":"lock-regular","encore-size":"16"})),$.__("BambooHR Access Level")),(0,w.Z)("div",{className:`${t("label")} fab-marginLeft--24`}),(0,w.Z)("ba-option-group",{class:t("down-list")}),(0,w.Z)("div",{className:t("inputWrapper"),style:{display:"none !important"}}))}let l;let c;let d;let u;if(r&&r[0]){if(r[0].hasAttribute("width")){l=parseInt(r.attr("width"))}if(r[0].hasAttribute("name")){c=r.attr("name")}if(r[0].hasAttribute("type")){d=r.attr("type")}if(r[0].hasAttribute("size")){u=r.attr("size")}}if(n){return(0,w.Z)("ba-dropdown",{"button-icon":a,"button-outline":true,"button-secondary":true,"button-size":u||"teenie",type:d,class:t("^"),width:l})}if(o){return(0,w.Z)("ba-select",{"button-width":7,name:c,"not-clearable":true,width:l})}return(0,w.Z)("div",{className:t("^")},void 0,(0,w.Z)("div",{className:t("menu")},void 0,(0,w.Z)("div",{className:t("btn")},void 0,s&&(0,w.Z)("a",{},void 0,$.__("BambooHR Access Level"),(0,w.Z)("br",{}),(0,w.Z)("i",{className:t("label")}))),(0,w.Z)("ul",{className:t("down-list"),style:{display:"none"}})),(0,w.Z)("div",{className:t("inputWrapper"),style:{display:"none !important"}}))}var S=a(26570);function E(e){let{label:t,...a}=e;const{isButton:n,isInput:s,isExcluded:i,levelTypes:o}=a;return(0,w.Z)(u.Fragment,{},void 0,(0,w.Z)("ba-toggle-content",{},void 0,t),n&&h().createElement(F,a),o.filter((e=>e.name!=="all"&&!i(e.name))).map((e=>h().createElement(I,(0,d.Z)({},a,{key:e.name,levelType:e})))),!i("multiple")&&h().createElement(T,(0,d.Z)({anchor:"bottom","data-bi-id":"test-id"},a),h().createElement(x,(0,d.Z)({},a,{multiple:true}),S.__("Multiple Access Levels..."))),s&&h().createElement(Z,a))}function x(e){const{_bem:t,children:a,classes:n,accessLevel:s,isSelected:i,multiple:o=false,preview:r=false,resetPassword:l=false,managePayrollCompanyAccess:c=false}=e;const d=s&&i(s);const u=t("item",{"^checked":d},n);let h;let p="";if(o){h="multiple";p="multiple-access-levels-action"}else if(r){h="preview";p="preview-user-action"}else if(l){h="resetPassword";p="reset-user-password-action"}else if(s){h=s.id||"no_access"}else if(c){h="managePayrollCompanyAccess"}return(0,w.Z)("ba-option",{"action-only":!s||undefined,"data-access-level-selector-id":h,value:h},void 0,(0,w.Z)("div",{className:u,"data-bi-id":p},void 0,d&&(0,w.Z)("span",{className:t("ico","checked")},void 0,(0,w.Z)("ba-icon",{"encore-name":"check-solid","encore-size":"16"})),a))}function T(e){let{children:t,label:a,anchor:n}=e;return(0,w.Z)("ba-option-group",{anchor:n,label:a},void 0,t)}function k(e){const{accessLevel:t,isOption:a}=e;const{label:n,count:s}=t;return h().createElement(x,e,n,"",(0,w.Z)("span",{className:"ba-Dropdown__optionDescriptorText"},void 0,"(",s,")"))}function I(e){const{levelType:t}=e;let{levels:a,label:n}=t;if(!(Array.isArray(a)&&a.length>0)){a=[t];n=null}if(Array.isArray(a)){return h().createElement(T,(0,d.Z)({},e,{label:n}),a.map((t=>h().createElement(k,(0,d.Z)({},e,{key:t.id||t.name,accessLevel:t})))))}return h().createElement(k,(0,d.Z)({},e,{accessLevel:t}))}function A(e,t){if(!e){return false}const a=t.map((e=>{if(e?.levels){return e.levels}return e})).flat();const n=a.find((t=>t.id===e));if(!n){return false}return n.isPayrollPermission}function F(e){const{_bem:t,canPreview:a,isExcluded:n,hasEmail:s,firstName:i,levelTypes:o,accessLevelId:r}=e;const l=a===true&&!n("preview");const c=s&&!n("resetPassword");if(!l&&!c){return null}return h().createElement(T,(0,d.Z)({anchor:"top"},e),l&&h().createElement(x,(0,d.Z)({},e,{classes:"js-previewAs",preview:true}),(0,w.Z)("span",{className:t("ico","preview")},void 0,(0,w.Z)("ba-icon",{name:"fab-eye-16x12","encore-name":"eye-regular","encore-size":"16"})),S.__("Preview BambooHR as %1",i)),c&&window.SESSION_COMPANY.allowPasswordLogin===true&&h().createElement(x,(0,d.Z)({},e,{classes:"js-resetPassword",resetPassword:true}),S.__(`Reset User's Password`)),A(r,o)&&h().createElement(x,(0,d.Z)({},e,{classes:"js-managePayrollCompanyAccess",managePayrollCompanyAccess:true}),S.__(`Manage Payroll Access`)))}function Z(e){let{accessLevelIds:t,inputFieldName:a,noAccessFieldName:n,noAccessValue:s}=e;return(0,w.Z)(u.Fragment,{},void 0,t.map((e=>(0,w.Z)("input",{name:a,type:"hidden",value:e},e))),(0,w.Z)("input",{name:n,type:"hidden",value:s}))}const M=e=>microTemplate(v(),e);const N=e=>microTemplate(b(),e);const D=new(f())("AccessLevelSelector",null,{menu:()=>["dropdown-menu"],btn:e=>{let{isButton:t,icon:a}=e;return["btn",{btnSmall:t,btnIcon:t&&a!=="none"}]},label:e=>{let{isOption:t}=e;return["js-AccessLevelSelector__label",{"fab-MenuOption__note":t}]},"down-list":()=>["js-AccessLevelSelector__down-list","down-list"],inputWrapper:()=>["js-AccessLevelSelector__inputWrapper"],item:()=>["branded-border-before"]});function L(e,t){const{fieldType:a}=t;const n=(e,n,s)=>new(f())(D,a,s).className(e,n,t);return(0,p.renderToStaticMarkup)(h().createElement(e,(0,d.Z)({_bem:n},t)))}const P=e=>L(C,e);const O=e=>L(E,e);var R=a(21198);var B=a(98675);var H=a(60658);var j=a(26570);const z=new R.BEM("AccessLevelChangeModal");function q(e){const{clickAction:t}=e;return(0,w.Z)(B.u_,{content:(0,w.Z)("p",{className:z.elem("copy")},void 0,j.__("Changing your access level could cause you to lose access to BambooHR features and functionality. You may not be able to undo this action.")),headline:j.__("Are you sure you want to change your access level?"),icon:"fab-triangle-exclamation-54x54",iconColor:"attention",isOpen:true,onClose:()=>(0,H.Mr)(),primaryAction:()=>{if(t){t()}(0,H.Mr)()},primaryActionText:j.__("Yes, Change My Access Level"),title:j.__("Are You Sure? You May Lose Access...")})}const W=e=>(0,H.K4)(h().createElement(q,e));var U=a(26570);const V="ba-access-level-selector";const G=["input","button","li","ba-select","ba-option"];const Y=G.map((e=>`${e}[${V}]`)).join(", ");const K="/settings/access_levels/group_list";const X="/settings/access_levels/user_info";const J="/ajax/employees/multiple_group_selection.php";const Q="/settings/access_levels/save_employees_access_level";const ee="/settings/access_levels/preview_as_user/%1";const te=10;const ae=500;const ne=new WeakMap;const se=new WeakMap;const ie=new WeakMap;const oe=new WeakMap;const re=new WeakMap;const le=new WeakMap;const ce=new WeakMap;const de=new WeakMap;const ue=new WeakMap;const he=new WeakMap;const pe=new WeakMap;const me=new WeakMap;const fe=new WeakMap;const ge=new WeakMap;let ve=[];let _e;const ye=[];let be;const we=[];const Ce=[];const Se=[];const Ee={users:{},employees:{}};let xe;const Te={};function ke(e){if(ge.get(e)){return e}e.off(".AccessLevelSelector");ge.set(e,true);e.on("hover.AccessLevelSelector",null,e,(()=>Ze(e))).on("click.AccessLevelSelector","li[data-id]",e,(function(){const t=U(this).attr("data-id");Me(t,e)}));e.$wrapper.closest(".BhrForms").on("reset.AccessLevelSelector",(()=>{e.reset()}));e.$wrapper.closest("ba-dropdown, ba-select").on("ba:dropdownSelect ba:selectChange",(t=>{let{originalEvent:{type:a,target:n,detail:s}}=t;let i;if(a==="ba:dropdownSelect"){i=s.item.item.dataAccessLevelSelectorId}else if(a==="ba:selectChange"){i=U(n).find(`ba-option[value="${s.value}"]`).data("accessLevelSelectorId")}if(i){Me(i,e)}}));return e}function Ie(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),s=2;s<a;s++){n[s-2]=arguments[s]}let i=[];switch(t){case"change":i=[e.user.accessLevelIds,e.user];break}i.push(e);setTimeout((()=>{e.$wrapper.trigger(`AccessLevelSelector:${t}`,i.concat(n))}),0);return e}function Ae(e){if(e.userId!==null){window.location.href=window.sprintf(ee,[e.userId])}}function Fe(e){if((0,n.isPlainObject)(e.user)&&e.user.userId){(0,c.N)(e.user)}}function Ze(e){if(e.hasEmployee&&e.hasUser&&!e.hasUserData){e.fetch((()=>{e.refresh()}))}}function Me(e,t){const a=window.SESSION_USER&&window.SESSION_USER.isAdmin;const{employeeId:n,userId:s}=t.user;const{label:i}=t.tmplData;e=e||"no_access";if(e==="no_access"||typeof Te[e]!=="undefined"){if(a&&n===window.SESSION_USER.employeeId){return W({clickAction:()=>t.save(e)})}return t.save(e)}switch(e){case"multiple":{Ne(t);break}case"preview":{Ae(t);break}case"resetPassword":{Fe(t);break}case"managePayrollCompanyAccess":{const e={employeeId:n,userId:s,accessLevelName:i};Ie(t,"openManagePayrollCompanyAccessModal",e);break}default:{Rollbar.warn(`[AccessLevelSelector] invalid levelId: "${e}" (${typeof e}) `);break}}}function Ne(e){const{userId:t,employeeId:a}=e;const n=Te["payroll-admin"];r().get(J,{userId:t,employeeId:a,header:"employee"}).then((t=>{if(t.status===200){const{data:a}=t;const{user:{employeeName:n}}=e;window.BambooHR.Modal.setState({biId:"multiple-access-levels",isOpen:true,title:U.__("Multiple Access Levels"),primaryAction(){const t=document.querySelectorAll('#multiple-permissions input[type="checkbox"][name="groups"]:checked');const a=[...t].map((e=>e.value));e.save(a).then((()=>{window.BambooHR.Modal.setState({isOpen:false})}))},icon:"user-lock-regular",headline:n,headerType:"text",primaryActionText:U.__("Save"),dangerousContent:a})}}))}function De(e,t,a){const{employeeId:n,hasEmployee:s,userId:o,user:{firstName:l}}=e;let c=t.length>1?U.__("%1$s Access Levels",t.length):(Te[t[0]]||{}).label;let d;let u;let h=`/employees/updateEmails/${n}`;if(!s){h=`/settings/users/edit/${o}`}const p=M(e);const m=U.__("Add %1$s to %2$s",l,c);const f=()=>{const n=U("#access-levels-require-email-form");r().post(h,n.serialize()).then((function(n){let{data:s}=n;if(!s.success){const{error:e,errorMessage:t}=s;setMessage(t,"error");console.error(e);return}e.user.hasEmail=true;window.BambooHR.Modal.setState({isOpen:false});e.save(t,a).done((()=>{Ie(e,"changeEmail")}))}))};const g=e=>{const t=U("#access-levels-require-email-form");u=t.find('input[type="text"]');u.on("keyup paste change blur focus",(function(){var e=u.toArray().map((e=>e.value));if(e.map(i.validateEmail).includes(true)){window.BambooHR.Modal.setState({primaryAction:f},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}}))};window.BambooHR.Modal.setState({dangerousContent:p,isOpen:true,onOpen:g,primaryAction:null,primaryActionText:U.__("Save"),title:m})}function Le(e){return l.si.showSettingsModal(e)}class Pe{static get className(){return"AccessLevelSelector"}static fetchLevels(e){if((0,n.isFunction)(e)){we.push(e)}clearTimeout(be);be=setTimeout((()=>{U.getJSON(K).done((e=>{xe=e.levelTypes;xe.forEach((e=>{if(Array.isArray(e.levels)){e.levels.forEach((t=>{t.type=e.name;Te[t.id]=t;Te[t.name]=t}))}else if(e.id){Te[e.id]=e;Te[e.name]=e}delete Te.undefined}));(0,i.callFunctionQueue)(we);we.length=0}))}),te);return Pe}static fetchUser(e,t,a){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!s&&e===null){(t||n.noop)({accessLevelIds:[],noAccess:false});return Pe}if(Se.length+Ce.length>=ae){(t||n.noop)({});return Pe}let o=s?"employees":"users";Ee[o]=Ee[o]||{};Ee[o][e]=t;(s?Se:Ce).push(e);clearTimeout(_e);_e=setTimeout((()=>{U.post(X,{userIds:Ce,employeeIds:Se}).done((e=>{let{success:t,errorMessage:s,error:o,users:r}=e;if(!t){setMessage(s,"error");console.error(o);return}r.forEach((e=>{(Ee.users[e.userId]||Ee.employees[e.employeeId]||n.noop)(e)}));(0,i.callFunctionQueue)(ye,null,r);ye.length=0;(a||n.noop)(r)}));Ce.length=0;Se.length=0}),te);return Pe}static fetchEmployee(e,t,a){return Pe.fetchUser(e,t,a,true)}static hideNotLoaded(){Pe.$elements.css("visibility","hidden");return Pe}static each(){Pe.$elements.each(...arguments);return Pe}static init(){Pe.hideNotLoaded().refresh();return Pe}static refresh(){U((()=>{if(!Pe.$elements.length){return}Pe.hideNotLoaded();Pe.fetchLevels((()=>{ve=ve.filter((e=>{if(e&&e.$wrapper&&e.$wrapper.closest(document.documentElement).length>0){e.refresh();return true}}));Pe.each((function(){new Pe(this)}))}))}));return Pe}static get $elements(){return U(Y)}get $wrapper(){return ne.get(this)}get $downList(){return se.get(this)}get $inputWrapper(){return ie.get(this)}get $label(){return oe.get(this)}get type(){return re.get(this)}get isButton(){return this.type==="button"}get isInput(){return this.type==="input"}get isDropdown(){return this.type==="li"}get isOption(){return this.type==="ba-option"}get userId(){return le.get(this)}get accessLevelId(){return de.get(this)}get employeeId(){return ce.get(this)}get user(){let e=ue.get(this);if(!e){e={};ue.set(this,e)}return e}get hasUser(){return!!this.userId}get hasEmployee(){return!!this.employeeId}get hasUserData(){return!!(this.user.userId||this.user.employeeId)}get icon(){return he.get(this)||"user-lock-regular"}get label(){if(this.user.noAccess){return U.__("No Access")}let e=this.user.accessLevelIds||[];let t=e.length;let a;let n;switch(t){case 0:a=pe.get(this);break;case 1:n=e[0];a=(Te[n]||{}).label;break;default:a=U.__("%1 Access Levels",t);break}return a}get exclude(){return me.get(this)}get tmplData(){var e=this;var t="accessLevelIds";var a="noAccess";if(this.userId){t+=`[${this.userId}]`;a+=`[${this.userId}]`}return{accessLevelId:this.accessLevelId,label:this.label,levelTypes:xe,fieldType:this.type,isButton:this.isButton,isInput:this.isInput,isDropdown:this.isDropdown,isOption:this.isOption,icon:this.icon,firstName:this.user.firstName,hasEmail:this.user.hasEmail,canPreview:!!this.user.canPreview,accessLevelIds:this.user.accessLevelIds,inputFieldName:t+"[]",noAccessValue:JSON.stringify(this.user.noAccess),noAccessFieldName:a,isSelected(t){if(!t){return false}let a=e.user.accessLevelIds.some((e=>String(e)===String(t.id)));return a&&e.user.noAccess!==true||e.user.noAccess==true&&t.name==="no_access"},isExcluded(t){if((0,n.isString)(t)){t={type:t}}let a=t.type||t.name;return!e.hasEmployee&&a=="employee"||e.exclude.includes(t.type)||e.exclude.includes(t.id)||e.exclude.includes(t.name)}}}constructor(e){var t=U(e);var a=e.nodeName.toLowerCase();re.set(this,a);var s=t.attr("data-icon");he.set(this,s);var i=t.attr("data-placeholder")||`${U.__("None Selected")}`;pe.set(this,i);var o=(t.attr("data-exclude")||"").trim().split(/\s*,\s*/g);me.set(this,o);var r=t.attr("data-user-id")||null;r=(0,n.isString)(r)&&r.trim()==="null"?null:r;le.set(this,r);var l=t.attr("data-employee-id")||null;l=(0,n.isString)(l)&&l.trim()==="null"?null:l;ce.set(this,l);var c=t.attr("data-access-level-id")||null;de.set(this,c);this.fetch((a=>{if(a.isOwner){t.remove();return}me.set(this,(0,n.union)(this.exclude||[],a.exclude||[]));var s=U(P({...this.tmplData,$elem:t}));ne.set(this,s);Object.entries(e.dataset).forEach((e=>{let[t,a]=e;s.attr((0,n.kebabCase)(`data ${t}`),a)}));let i;if(s.is("ba-dropdown, ba-select")){i=s}else{i=s.find(".js-AccessLevelSelector__down-list")}se.set(this,i);var o=s.find(".js-AccessLevelSelector__inputWrapper");ie.set(this,o);var r=s.find(".js-AccessLevelSelector__label");oe.set(this,r);s.data("AccessLevelSelector",this);if(this.isDropdown){t.html(s).addClass("hasSublist").css("visibility","").data("AccessLevelSelector",this)}else{t.replaceWith(s)}ke(this);this.refresh();Ie(this,"init")}));ve.push(this)}on(){this.$wrapper.on(...arguments);return this}off(){this.$wrapper.off(...arguments);return this}reset(){this.save(null);Ie(this,"reset");return this}fetch(e,t){let a=this.hasEmployee&&!this.hasUser;let s=a?this.employeeId:this.userId;Pe.fetchUser(s,(t=>{ue.set(this,t);fe.set(this,(0,n.clone)(t));(e||n.noop)(t)}),t,a);return this}refresh(){const{tmplData:e}=this;this.$downList.html(O(e));this.$inputWrapper.html(N(e));this.$label.text(this.label);Ie(this,"refresh");return this}save(e,t){let a=[];let s=e==="no_access";let i=t||U.Deferred();const o=Te["payroll-admin"];if(Array.isArray(e)){a=e.map((e=>String(e)))}else if(e==="no_access"){a=this.user.accessLevelIds||[];s=true}else if(e===null){let e=fe.get(this)||{};a=e.accessLevelIds||[];s=!!e.noAccess}else{a=[e]}if(o&&!s&&a.includes(o.id)&&!o.defaultESS&&o.selfAccessLevel=="none"&&this.user&&this.user.firstName){Le(this.user).then((e=>{let{employeeAccessLevel:t}=e;o.defaultESS=t;o.selfAccessLevel="NotNone";this.save(a,i)}));return i.promise()}if(this.isInput){this.user.accessLevelIds=a;this.user.noAccess=s;this.refresh();Ie(this,"change");i.resolve(this.user)}else if(this.userId||this.employeeId){if(!this.user.hasEmail){De(this,a,i);return i.promise()}let e={userIds:[this.userId],employeeIds:[this.employeeId],editType:"change",accessLevelIds:a,noAccess:s};U.post(Q,e).done((e=>{if(!e.success){setMessage(e.errorMessage,"error");console.error(e.error);i.reject(e.error);return}let t=e.users[this.userId]||(0,n.find)(e.users,{employeeId:this.employeeId})||{};le.set(this,t.userId||this.userId);this.user.userId=this.userId;this.user.accessLevelIds=t.accessLevelIds||a;this.user.noAccess=t.noAccess||s;this.user.canPreview=t.canPreview;this.refresh();Ie(this,"change");i.resolve(this.user)}))}return i.promise()}}U(Pe.init);U(window).on("pushState replaceState popState refreshState",Pe.init)},40771:(e,t,a)=>{"use strict";a.d(t,{si:()=>T,eu:()=>Z,QW:()=>M});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(56445);var r=a(17842);var l=a.n(r);var c=a(56921);var d=a(13354);var u=a(7167);var h=a(4715);var p=a(60042);var m=a.n(p);var f=a(39030);var g=a(405);var $=a(26570);const v=(0,f.m)((e=>{let{palette:t,typography:a}=e;return{optionNote:{fontSize:a?.teenie?.fontSize},optionNoteNotActive:{color:t.gray[700]}}}));function y(e){let{employeeAccessLevels:t=[],employeeAccessLevel:a,onChange:i}=e;const o=v();const[r,l]=(0,s.useState)(a);const c=(e,t)=>{if(e.value==="full"){return(0,n.Z)("div",{},void 0,(0,n.Z)("div",{},void 0,e.text),(0,n.Z)("div",{className:m()(o.optionNote,{[o.optionNoteNotActive]:!t.isActive})},void 0,$.__("Allows them to see the same info about themselves as they can see about others.")))}return e.text};return(0,n.Z)(g.S,{id:"AccessLevelsSettingsModal__employeeAccessLevel",isClearable:false,items:t,onChange:e=>{let[t]=e;l(t);if(typeof i==="function"){i(t)}},selectedValues:[r],width:7,renderOptionContent:c})}var b=a(26570);function w(e){let{onEmployeeAccessLevelChange:t,url:a}=e;const[o,r]=(0,s.useState)(null);const{user:p,employeeAccessLevels:m=[],employeeAccessLevel:f}=o||{};(0,s.useEffect)((()=>{if(o){return r(null)}if(a&&typeof a==="string"){l().get(a).then((e=>{r({...e.data,employeeAccessLevels:e.data.employeeAccessLevels.map((e=>{let{value:t,label:a}=e;return{text:a,value:t}}))})}))}}),[a]);(0,s.useEffect)((()=>{if(o){window.BambooHR.Modal.setState({isLoading:false},true)}}),[o]);return o&&(0,n.Z)(s.Fragment,{},void 0,(0,n.Z)("fieldset",{className:"fab-FormSection no-margin"},void 0,(0,n.Z)("legend",{},void 0,(0,n.Z)(c.F,{flexDirection:"column"},void 0,(0,n.Z)(d.H,{color:"primary",size:"extra-small"},void 0,p?(0,n.Z)(s.Fragment,{},void 0,p==="true"?(0,n.Z)(s.Fragment,{},void 0,b.__(`Hold on!`),"",b.__(`Before you add a Payroll Admin, you need to set a default Employee Access Level that will apply to all Payroll admins.`)):(0,n.Z)(s.Fragment,{},void 0,b.__(`Before %1$s can become a Payroll Admin, you need to set a default Employee Access Level for Payroll admins.`,p.firstName)),"",b.__(`You'll only need to do this once, and it can be changed later in Payroll settings.`)):(0,n.Z)(s.Fragment,{},void 0,b.__(`Set what Payroll Admins can see about themselves.`))),(0,n.Z)(u.B,{size:"medium"},void 0,p?(0,n.Z)(s.Fragment,{},void 0,b.__(`This determines what information they will be able to see about themselves.`),"",b.__(`If they are also in a Custom Access Level, their permissions will be combined.`)):(0,n.Z)(s.Fragment,{},void 0,b.__(`This is done by choosing the Employee Access Level.`),"",b.__(`Note that if they are also in a Custom Access Level, their permissions will be combined.`)))))),(0,n.Z)(h.D,{color:"neutral-weak"}),(0,n.Z)("fieldset",{className:"fab-FormSection no-padding"},void 0,(0,n.Z)("div",{className:"fab-FormRow no-margin"},void 0,(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"AccessLevelsSettingsModal__employeeAccessLevel"},void 0,b.__(`Which Employee Access Level should Payroll Admins have?`)),(0,n.Z)("div",{className:"fab-InputWrapper"},void 0,i().createElement(y,{onChange:t,employeeAccessLevels:m,employeeAccessLevel:f})))))))}var C=a(26570);const S="/access_levels/payroll-admin/edit";function E(e){let t=C.__("Payroll Admin Settings");let a=C.__("Save");const s=new URL(S,window.location.href);const i={};if(e){t=C.__("Payroll Admin Employee Access Level");if(typeof e==="object"){const{firstName:t,employeeId:n,userId:i}=e;a=C.__("Save & Add %1$s",t);s.searchParams.append("user[firstName]",t);s.searchParams.append("user[employeeId]",n);s.searchParams.append("user[userId]",i)}else{s.searchParams.append("user","true")}}return new Promise(((e,o)=>{window.BambooHR.Modal.setState({isOpen:true,title:t,headerType:"text",headline:C.__("Payroll Admin"),icon:"lock-regular",isLoading:true,primaryActionText:a,primaryAction:()=>{if(!i.employeeAccessLevel){window.BambooHR.Modal.setState({isOpen:false});return}x(i).then(e).catch(o)},content:(0,n.Z)(w,{onEmployeeAccessLevelChange:e=>{i.employeeAccessLevel=e},url:s.href})})}))}function x(e){let{employeeAccessLevel:t}=e;window.BambooHR.Modal.setState({isProcessing:true},true);return l().post(S,{employeeAccessLevel:t}).then((e=>{let{data:a}=e;if(!a.success){throw new Error(a)}if(a.message){window.setMessage(a.message,"success")}window.BambooHR.Modal.setState({isOpen:false});return{...a,employeeAccessLevel:t}})).catch((e=>{window.BambooHR.Modal.setState({isProcessing:false},true);window.setMessage(e.errorMessage||window.DEFAULT_ERROR_MESSAGE,"error");throw new Error(e.error||e)}))}var T={showSettingsModal:E};var k=a(98853);var I=a.n(k);var A=a(70004);var F=a(40724);const Z=(e,t,a)=>{const s=document.createElement("div");document.body.appendChild(s);const i=(0,A.bB)({children:(0,n.Z)(F.x5,{employeeId:t,onClose:(e,t)=>{if(e&&typeof a==="function"){a(t)}if((0,o.isEnabled)("REACT_18_RENDER")){i.unmount()}else{I().unmountComponentAtNode(s)}document.body.removeChild(s)},route:"/access-levels/assignment-modal",userId:e}),attachedElement:s})};const M=e=>{let{accessLevel:t,onSubmitCallback:a,user:s}=e;const i=document.createElement("div");document.body.appendChild(i);(0,A.bB)({children:(0,n.Z)(F.x5,{accessLevel:t,onSubmitCallback:a,route:"/access-levels/non-employee-user-modal",user:s}),attachedElement:i})}},66981:(e,t,a)=>{"use strict";a.d(t,{T:()=>M});var n=a(89835);var s=a(88604);var i=a(23321);var o=a.n(i);var r=a(84479);var l=a(70004);var c=a(53534);var d=a(60658);var u=a(76725);var h=a(98675);var p=a(73641);var m=a(59592);var f=a(17842);var g=a.n(f);var v=a(85656);function y(e,t,a,n){const s=g().prepareData({action:"new-section",ajax:1,field:a,name:n},g().prepareDataTypes.FORM_DATA);e=(0,v.extendURL)({fieldId:t},e);return g().post(e,s).then((function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const{data:t}=e;return t.ret==="SUCCESS"||t.response==="SUCCESS"?t.id||t.data.id:Promise.reject({data:t})}))}var $=a(26570);function b(e){const{fieldId:t,isOpen:a,label:s=$.__("Item"),onCancel:r,onSave:l,name:c,url:d="/ajax/list_insert.php"}=e;const u=(0,i.useRef)();const f=(0,p.uniqueId)("add-item");const[g,v]=(0,i.useState)("");const b=async()=>{if(!u.current||!$(u.current).valid()){return}try{const e=await y(d,t,c,g);l(g,e);(0,m.f)($.__("The %s was added successfully.",s),"success")}catch(e){const t=e.data&&(e.data.message||e.data.error)?e.data.message||e.data.error:$.__("Uh oh. Something went wrong. Please try again.");(0,m.f)(t,"error")}};const w=()=>{if(u.current){$(u.current).bhrValidate()}};const C={isOpen:a,onClose:r,onOpen:w,primaryAction:b,primaryActionText:$.__("Save"),title:$.__("Add %s",s)};(0,i.useEffect)((()=>{if(!a){v("")}}),[a]);return o().createElement(h.u_,C,o().createElement("form",{className:"BhrForms",ref:u},(0,n.Z)("div",{className:"fieldBox required"},void 0,(0,n.Z)("label",{className:"fab-Label fab-Label--required",htmlFor:f},void 0,$.__("%s Name",s)),(0,n.Z)("input",{className:"fab-TextInput fab-TextInput--width7",id:f,name:c,onChange:e=>v(e.currentTarget.value),required:true,type:"text",value:g}))))}var w=a(89998);function C(e,t,a){const n=g().prepareData({action:"new-section",ajax:1,field:t,name:a.name,acaStatus:a.acaStatus===""?null:a.acaStatus},g().prepareDataTypes.FORM_DATA);const s=(0,v.extendURL)({fieldId:e},"/ajax/list_insert.php");return g().post(s,n)}function S(e){const{data:t}=e;if(!t){return false}return t.ret==="SUCCESS"||t.response==="SUCCESS"}var E=a(26570);function x(e){const{acaStatuses:t,fieldId:a,fieldName:s,onClose:o,onSave:r,showAcaStatus:l}=e;const[c,d]=(0,i.useState)(false);const u=e=>{C(a,s,e).then((t=>{d(false);if(S(t)){window.setMessage(E.__("The Employment Status was added successfully."),"success");r(e.name,t.data.id||t.data.data.id)}else{const e=t.data&&(t.data.message||t.data.error)?t.data.message||t.data.error:"";window.setMessage(e||window.DEFAULT_ERROR_MESSAGE,"error")}})).catch((e=>{window.Rollbar.error("Failed to save employment status",e);d(false)}))};const p=()=>{d(true)};const m=()=>{o()};return(0,n.Z)(h.u_,{isOpen:true,isProcessing:c,onClose:m,primaryAction:p,primaryActionText:E.__("Save"),title:E.__("Add Employment Status")},void 0,(0,n.Z)(w.Y,{acaStatuses:t||[],isProcessing:c,postFormData:u,setIsProcessing:d,showAcaStatus:l}))}var T=a(56445);var k=a(97642);var I=a(51178);var A=a(88721);var F=a(79340);var Z=a(26570);function M(e){let{component:t,endpointUrl:a="/ajax/list_insert.php",field:i,onCancel:r,onSave:l,open:c,title:d}=e;const{controlled:u,formState:{errors:h},fields:f,handleSubmit:g,reset:v}=(0,k.u)([{name:"value"}]);const b=async e=>{try{const{value:t}=e;const n=`field_${i.id}`;const s=await y(a,i.id,n,t);l({text:t,value:`${s}`})}catch(e){const t=(0,p.unescape)(e?.data?.message)||Z.__("Oops! Something went wrong. Please try again later.");(0,m.f)(t,"error")}};const w=()=>{(0,m.f)(Z.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")};const C=t.Constraint.Spacing.LARGE;return(0,n.Z)(t,{isOpen:c,onCloseComplete:v,onRequestClose:r},void 0,(0,n.Z)(t.Body,{renderFooter:(0,n.Z)(t.Footer,{actions:[(0,n.Z)(I.T,{onClick:r},"cancel",Z.__("Cancel")),(0,n.Z)(A.B,{onClick:g(b,w)},"save",Z.__("Save"))]}),renderHeader:(0,n.Z)(t.Header,{title:d})},void 0,(0,n.Z)(t.Constraint,{spacingOverrides:{bottom:C,top:C}},void 0,u((e=>o().createElement(F.T,(0,s.Z)({},e,{label:i.label,status:h.value?"error":undefined,width:7}))),f.value))))}var N=a(26570);let D=null;let L=null;function P(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const a=a=>function(){a(...arguments);P(e,{...t,isOpen:false})};const{isOpen:n=true,onCancel:i,onSave:r}=t;const d=o().createElement(b,(0,s.Z)({},t,{isOpen:n,onCancel:a(i),onSave:a(r)}));if((0,T.isEnabled)("REACT_18_BA_DROPDOWN_AND_SELECT")){L=(0,l.bB)({children:d,attachedElement:e,root:L})}else{(0,c.s)(d,e)}}function O(e,t){const{fieldId:a,fieldName:s,onCancel:i,onSave:o,settings:r}=t;const l=e=>function(){e(...arguments);(0,d.Mr)()};if(e==="employmentStatus"){let e=false;let t=[];if(r){e=Boolean(r.showAcaStatus);t=r.acaStatuses}else{const a=(0,u.V)("#js-employmentStatusModalData",true);if(a){e=Boolean(a.showAcaStatus);t=a.acaStatuses}}(0,d.K4)((0,n.Z)(x,{acaStatuses:t,fieldId:a,fieldName:s,onClose:l(i),onSave:l(o),showAcaStatus:e}))}}N(document).on("ba:selectAddItem",(e=>{const{originalEvent:t,target:a}=e;const{detail:n}=t;const s=N(a);const i=s.attr("data-add-item-field-id");const o=s.attr("data-add-item-label");const l=s.attr("data-skip-default-modal");const c=s.attr("name")||s.attr("data-name");if(t.defaultPrevented||!i||l){const e=(0,r.createLogger)("AddItem.mod");if(!i){e.warn('`<ba-select>` is missing the required "data-add-item-field-id" attribute. Prevent default on "ba:selectAddItem" to remove this warning.')}if(!c){e.warn('`<ba-select>` is missing a required value in the "name" attribute.')}return}const d=s.attr("data-custom-modal-key");if(d){const e={fieldId:i,label:o,onCancel:()=>n.reject(),onSave:(e,t)=>{n.resolve([{selected:true,text:e,value:t}])},fieldName:c,settings:n.settings};O(d,e);return}if(!D||!D.length){D=N("<div>").appendTo(document.body)}const u={fieldId:i,label:o,onCancel:()=>n.reject(),onSave:(e,t)=>{n.resolve([{selected:true,text:e,value:t}])},name:c,url:s.attr("data-add-item-url")};P(D[0],u)}))},98256:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(23321);var s=a.n(n);var i=a(98675);var o=a(56445);function r(e){const{id:t,message:a,title:n,onClose:o,visible:r,onDelete:c,primaryActionText:d,secondaryActionText:u}=e;return s().createElement(i.u_,l(r,o,t,c,n,a,d,u))}function l(e,t,a,n,s,i,r,l){return{alternativeAction:null,headline:i,icon:(0,o.ifFeature)("encore","trash-can-regular","fab-trash-can-43x48"),iconColor:"danger",iconV2Color:"error-strong",isOpen:e,onClose:t,primaryAction:()=>n(a),secondaryAction:t,primaryActionText:r,secondaryActionText:l,title:s}}},83108:(e,t,a)=>{"use strict";a.d(t,{dX:()=>h,kh:()=>U,ys:()=>N,q3:()=>M,O_:()=>F,bI:()=>G,J_:()=>oe,Uj:()=>O,cZ:()=>R,I6:()=>B,Js:()=>H,Qc:()=>re});var n=a(89835);var s=a(23321);var i=a.n(s);var $=a(26570);function o(e){const{isAccepted:t,onChange:a}=e;return(0,n.Z)("div",{className:"DataProcessingAgreeementAgreement"},void 0,(0,n.Z)("label",{className:"fab-Checkbox"},void 0,(0,n.Z)("input",{checked:t,className:"fab-Checkbox__input",onChange:e=>a(e.target.checked),type:"checkbox"}),(0,n.Z)("span",{className:"fab-Checkbox__label"},void 0,$.__("I agree to the Data Processing Agreement"))),(0,n.Z)("div",{className:"DataProcessingAgreeementAgreement__summary"},void 0,(0,n.Z)("p",{},void 0,$.__(`By accepting the Data Processing Agreement (DPA), I confirm that I am duly authorized to represent my company and accept the DPA on its behalf and that my company has employees in the European Union, EEA, the United Kingdom or Switzerland.`),"",(0,n.Z)("a",{className:"DataProcessingAgreeementAgreement__link",href:"https://www.bamboohr.com/data-processing-agreement/",rel:"noopener noreferrer",target:"_blank"},void 0,$.__("Read Full DPA")))))}var r=a(37194);var l=a(21198);function c(e){const{children:t,isOpen:a}=e;const n=(0,s.useRef)();const o=(0,s.useRef)();const r={height:0,overflow:"hidden",transition:"height 200ms ease-in-out"};const l=(0,s.useCallback)((()=>{const e=n.current;if(a){o.current=e.scrollHeight;e.style.height=""}else{e.style.display="none"}}),[a]);(0,s.useEffect)((()=>{const e=n.current;if(o.current===undefined){o.current=e.scrollHeight}if(a){e.style.display="";e.style.height=`${e.scrollHeight}px`;return}window.requestAnimationFrame((()=>{e.style.height=`${o.current}px`;window.requestAnimationFrame((()=>{e.style.height=0}))}))}),[a]);(0,s.useEffect)((()=>{const e=n.current;if(!a){e.style.display="none"}}),[]);return i().createElement("div",{ref:n,onTransitionEnd:l,style:r},t)}var d=a(26570);const u=new l.BEM("DataProcessingAgreementConditionalAgreement");function h(e){const{hasEmployees:t,isAccepted:a,onHasEmployeesChange:s,onIsAcceptedChange:i}=e;const l=e=>{s(e.target.value!=="no")};return(0,n.Z)("div",{className:u.elem()},void 0,(0,n.Z)(r.Message,{text:d.__("Does your company have employees in the **European Union**, **EEA**, the **United Kingdom** or **Switzerland**?")}),(0,n.Z)("fieldset",{className:`${u.elem("answers")} fab-RadioGroup`},void 0,(0,n.Z)("label",{className:"fab-Radio"},void 0,(0,n.Z)("input",{checked:!t,className:"fab-Radio__input",name:"hasEmployees",onChange:l,type:"radio",value:"no"}),(0,n.Z)("span",{className:"fab-Radio__label"},void 0,d.__(`No, we don't`))),(0,n.Z)("label",{className:"fab-Radio"},void 0,(0,n.Z)("input",{checked:t,className:"fab-Radio__input",name:"hasEmployees",onChange:l,type:"radio",value:"yes"}),(0,n.Z)("span",{className:"fab-Radio__label"},void 0,d.__(`Yes, we do`)))),(0,n.Z)(c,{isOpen:t},void 0,(0,n.Z)("div",{className:u.elem("agreement")},void 0,(0,n.Z)("p",{className:u.elem("requiredMessage")},void 0,d.__(`In order to use BambooHR, youll need to agree to the following.`)),(0,n.Z)(o,{isAccepted:a,onChange:i}))))}var p=a(98675);var m=a(59592);var f=a(56445);var g=a(26570);const v=g.__(`Got it! Thank you for accepting our Data Processing Agreement.`);const y=g.__(`Got it! Thank you for responding to our Data Processing Agreement question.`);const b=(0,f.ifFeature)("encore",g.__(`If you have employees in certain countries, you'll need to agree to something called a Data Processing Agreement.`),g.__(`If you have employees in certain countries,\n you'll need to agree to something called a Data\n Processing Agreement.`));const w=g.__("GDPR Compliance");var C=a(60042);var S=a.n(C);var E=a(14386);var x=a(619);function T(e){const{hasSeparator:t=true,icon:a,children:s}=e;return(0,n.Z)("div",{className:S()("DataProcessingAgreementModalHeadline",{"DataProcessingAgreementModalHeadline--hasSeparator":t})},void 0,(0,f.ifFeature)("encore",(0,n.Z)(E.I,{color:"primary-strong",name:a,size:60}),(0,n.Z)(x.I,{brand:true,name:a})),s?(0,n.Z)("h3",{},void 0,s):null)}var k=a(26570);const I=k.__(`Sounds Good! We'll ask again in a week.`);const A=(0,f.ifFeature)("encore","earth-europe-regular","fab-eu-globe-58x58");const F=Object.seal({COMPLETE_LATER:"complete_later",DECLINED:"declined",NEEDS_PROMPT:"needs_prompt",NEEDS_TO_SIGN:"needs_to_sign",SIGNED:"signed",UPDATE_PENDING:"update_pending"});const Z=!!window.SESSION_USER?.isAdmin;const M="dpa_update_postponed_on";function N(){return(0,n.Z)(T,{icon:A},void 0,(0,n.Z)(r.Message,{text:b}))}var D=a(17842);var L=a.n(D);var P=a(50463);function O(e,t){return z(e,{status:F.SIGNED},t)}function R(e,t){return z(e,{status:F.COMPLETE_LATER},t)}function B(e,t){return z(e,{status:F.DECLINED},t)}function H(){return j().then((function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return e[0]}))}function j(){return L().get("/data_processing_agreements",{latest:true}).then((function(){let{data:e=[]}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return e}))}function z(e,t){let{setSessionMessage:a=false}=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return L().put(`/data_processing_agreements/${e}?setSessionMessage=${a?"true":"false"}`,t)}function q(e,t){localStorage.setItem(M,P.ou.local().toISO());return z(e,{status:F.UPDATE_PENDING},t)}var W=a(26570);function U(e){const{agreement:t={},hasCloseButton:a=false,hasCompleteLaterButton:i=true,isOpen:o,onClose:r}=e;const[l,c]=(0,s.useState)(false);const[d,u]=(0,s.useState)(false);const[f,g]=(0,s.useState)(false);const b=!l||d;const C=async()=>{g(true);try{if(d){await O(t.id)}else{await B(t.id)}g(false);(0,m.f)(d?v:y,"success");r()}catch(e){g(false);(0,m.f)(W.__(`Oops. Something went wrong. Please try again.`),"error")}};const S=async()=>{g(true);try{await R(t.id);(0,m.f)(I,"success");g(false);r()}catch(e){g(false);(0,m.f)(W.__(`Oops. Something went wrong. Please try again.`),"error")}};return(0,n.Z)(p.u_,{alternativeAction:null,contentHasMaxHeight:false,hasCloseButton:a,isOpen:o,isProcessing:f,onClose:r,primaryAction:b?C:null,primaryActionText:W.__("Done"),secondaryAction:i?S:undefined,secondaryActionText:i?W.__("Complete Later"):undefined,title:w},void 0,(0,n.Z)(N,{}),(0,n.Z)(h,{hasEmployees:l,isAccepted:d,onHasEmployeesChange:c,onIsAcceptedChange:u}))}var V=a(26570);function G(e){const{agreement:t,isOpen:a,onClose:i=(()=>{})}=e;const[l,c]=(0,s.useState)(false);const d=async()=>{try{await O(t.id);i();(0,m.f)(V.__("Another win! Thanks for accepting our Data Processing Agreement."),"success")}catch(e){console.error(e);(0,m.f)(V.__("Huh? Something went wrong while accepting the Data Processing Agreement. Please contact support."),"error")}};return(0,n.Z)(p.u_,{alternativeAction:null,hasCloseButton:false,isOpen:a,primaryAction:l?d:null,primaryActionText:V.__("Save")},void 0,(0,n.Z)(T,{icon:A},void 0,(0,n.Z)(r.Message,{text:V.__("Someone At Your Company Requested Our\n Data Processing Agreement.")})),(0,n.Z)("div",{style:{marginTop:"24px"}},void 0,(0,n.Z)(o,{isAccepted:l,onChange:e=>c(e)})))}var Y=a(39030);var K=a(72956);var X=a(21936);var J=a(88721);var Q=a(51178);var ee=a(8319);var te=a(77343);var ae=a(38162);var ne=a(26570);const se=(0,Y.m)((e=>({checkboxLine:{display:"flex",alignItems:"center",marginTop:e.spacing(3),marginBottom:e.spacing(1)},label:{color:e.palette.grey[800]},icon:{width:50,height:54},link:{marginLeft:e.spacing(1)},confirmationdetails:{fontSize:e.typography.fabricFontSize("small"),color:e.palette.grey[800],paddingBottom:e.spacing(1.5)}})));const ie=ne.__("Based on a recent changes in the E.U. courts, we have updated our Data Processing Agreement. For companies with employees in certain countries, we recommend agreeing to our updated version.");function oe(e){let{agreement:t,isOpen:a,onClose:i=(()=>{})}=e;const[o,r]=(0,s.useState)("");const[l,c]=(0,s.useState)(false);const[d,u]=(0,s.useState)(true);const h=se();(0,s.useEffect)((()=>{if(a){L().get("/data_processing_agreement_message").then((e=>{r(e.data.message||ie)})).catch((e=>{console.error(e)})).finally((()=>{u(false)}))}}),[a]);const p=async()=>{if(l){try{await O(t.id);i();(0,m.f)(ne.__("Another win! Thanks for accepting our Data Processing Agreement."),"success")}catch(e){console.error(e);(0,m.f)(ne.__("Huh? Something went wrong while accepting the Data Processing Agreement. Please contact support."),"error")}}};const f=async()=>{try{await q(t.id)}catch(e){console.error(e)}i()};return(0,n.Z)(K.S,{isOpen:a,onRequestClose:f},void 0,d?(0,n.Z)(X.L,{}):(0,n.Z)(K.S.Body,{renderFooter:(0,n.Z)(K.S.Footer,{actions:[(0,n.Z)(J.B,{disabled:!l,onClick:p,type:"button"},"close-preview",ne.__("Save")),(0,n.Z)(Q.T,{onClick:f,type:"button"},"cancel-preview",ne.__("Cancel"))]}),renderHeader:(0,n.Z)(K.S.Header,{title:ne.__("Updated Data Processing Agreement")})},void 0,(0,n.Z)(K.S.Constraint,{spacingOverrides:{top:ee.C.LARGE}},void 0,(0,n.Z)(K.S.HeroHeadline,{hasSeparator:true,icon:(0,n.Z)(ae.Z,{className:h.icon}),subtext:o,text:ne.__("Hear Ye, Hear Ye!")}),(0,n.Z)("div",{},void 0,(0,n.Z)("div",{className:h.checkboxLine},void 0,(0,n.Z)(te.C,{checked:l,classes:{labelContent:h.label},label:ne.__("I agree to the Data Processing Agreement."),onChange:(e,t)=>{c(t.target.checked)}}),(0,n.Z)(Q.T,{className:h.link,href:"https://www.bamboohr.com/data-processing-agreement/",target:"_blank"},void 0,ne.__("Read full DPA"))),(0,n.Z)("p",{className:h.confirmationdetails},void 0,ne.__("By accepting the Data Processing Agreement (DPA), I confirm that I am duly authorized to represent my company and accept the DPA on its behalf and that my company has employees in the European Union, EEA, the United Kingdom or Switzerland."))))))}function re(){const[e,t]=(0,s.useState)();const a=async()=>{try{const e=await H();if(!e){return}t(e);return e}catch(e){console.error("Failed to get the DPA agreement!")}};(0,s.useEffect)((()=>{if(Z){a()}}),[]);return{currentDpa:e,refresh:a}}},99493:(e,t,a)=>{"use strict";a.d(t,{P:()=>Z});var n=a(88604);var s=a(89835);var i=a(23321);var o=a.n(i);var r=a(26242);var l=a(7167);var c=a(60042);var d=a.n(c);var u=a(14386);var h=a(37194);var $=a(26570);function p(e){const{description:t,example:a}=e;const[n,o]=(0,i.useState)(false);return(0,s.Z)("div",{className:"EEO1Description"},void 0,(0,s.Z)("button",{className:"EEO1Description__toggle fab-TextButton fab-link",onClick:()=>m(n,o),type:"button"},void 0,(0,s.Z)("span",{className:d()("EEO1Description__caret",{"EEO1Description__caret--isRotatedDown":n})},void 0,(0,s.Z)(u.I,{name:"caret-right-solid",color:"neutral-strong",size:14})),$.__("Description and examples")),(0,s.Z)("div",{className:d()("EEO1Description__body",{"EEO1Description__body--isVisible":n})},void 0,(0,s.Z)("p",{className:"EEO1Description__paragraph"},void 0,t),(0,s.Z)("p",{className:"EEO1Description__paragraph"},void 0,(0,s.Z)(h.Message,{strong:{tag:"strong"},text:$._("**Includes:**")}),"",a)))}function m(e,t){return t(!e)}var f=a(44816);var g=a(26570);function v(e){const{category:t,description:a,example:n,jobTitleIds:i,jobTitles:o,onChange:c}=e;return(0,s.Z)("div",{className:"EEO1Category"},void 0,(0,s.Z)(r.L,{marginTop:"24px",marginBottom:"16px"},void 0,(0,s.Z)(l.B,{color:"neutral-extra-strong",size:"large",weight:"semibold"},void 0,t)),(0,s.Z)("div",{className:"EEO1Category__body"},void 0,(0,s.Z)(p,{description:a,example:n}),(0,s.Z)("label",{className:"EEO1Category__label fab-Label",htmlFor:"jobTitles"},void 0,g.__("Select Job Titles")),(0,s.Z)(f.ZP,{className:"EEO1Category__select",data:w(i,o),id:"jobTitles",onChange:c,settings:{multiselect:true},width:9})))}function y(e,t){const a=[];e.allIds.filter((n=>{t.forEach((t=>{const s=e.allIds.find((a=>a===n&&e.byId[a].id===t));if(s){a.push(s)}}))}));return a}function b(e){return e.allIds.filter((t=>!e.byId[t].selected))}function w(e,t){const a=y(t,e);const n=b(t);const s=a.map((e=>t.byId[e]));const i=n.map((e=>t.byId[e]));const o=s.concat(i).map((e=>({displayText:e.name,value:e.id,selected:e.selected||false})));return{items:o,placeholder:"--Select--"}}var C=a(13354);var S=a(26570);function E(e){const{isSettingsPage:t,settingsPageId:a}=e;return(0,s.Z)("header",{className:"EEO1Header"},void 0,(0,s.Z)(C.H,{size:"small",color:"neutral-strong"},void 0,S.__("Categorize Your Job Titles")),(0,s.Z)(l.B,{size:"small",color:"neutral-weak"},void 0,x(t,a)))}function x(e,t){if(e){return S.__("To give you the data you need, we need to know the right EEO categories for your job titles.")}return(0,s.Z)(h.Message,{link:(0,h.ExternalLink)(`/settings/list.php?id=${t}`),text:S.__("To give you the data you need in this report, we need to know the right EEO categories for your job titles. If necessary, you can edit your job titles in [settings].")})}var T=a(98675);var k=a(17842);var I=a.n(k);function A(e){return I().post("/reports/eeo_category_mapping/save",e)}var F=a(26570);function Z(e){const{canAutoOpen:t=true,data:a,isOpen:l,isSettingsPage:c,onClose:d,onCloseAfterSave:u}=e;if(!a){return null}const[h,p]=(0,i.useState)(a);const{categories:m,jobTitles:f,settingsPageId:g}=h;const[y,b]=(0,i.useState)(L(m));const[w,C]=(0,i.useState)(false);const[S,x]=(0,i.useState)(false);(0,i.useEffect)((()=>{if(t){x(M(f,w,C))}}),[]);(0,i.useEffect)((()=>{if(l){x(l)}}),[l]);const k=(0,s.Z)(r.L,{padding:2},void 0,(0,s.Z)(E,{isSettingsPage:c,settingsPageId:g}),(0,s.Z)("div",{className:"EEO1CategoriesModal__body"},void 0,m.allIds.map((e=>o().createElement(v,(0,n.Z)({key:e,jobTitles:f,onChange:t=>j(t,e,h,p,b)},m.byId[e]))))));return o().createElement(T.u_,P(w,C,S,x,d,y,f,(()=>p(a)),u),k)}function M(e,t,a){const n=N(e);if(!t&&n){a(true)}return n}function N(e){return e.allIds.every((t=>!e.byId[t]||!e.byId[t].selected))}function D(e){return e.allIds.some((t=>!e.byId[t]||!e.byId[t].selected))}function L(e){const t={};e.allIds.forEach((a=>{t[a]={categoryId:e.byId[a].id,jobTitleIds:e.byId[a].jobTitleIds}}));return t}function P(e,t,a,n,s,i,o,r,l){const c=z(t,n,s,r);const d=q(i,o,(()=>{n(false);s(false);if(e){t(false)}if(l){l()}}));const u=F.__("Set up EEO-1 Categories");return{contentHasMaxHeight:false,contentHasPadding:false,isOpen:a,onClose:c,primaryAction:d,title:u}}function O(e,t,a){const n=t;if(!a){const t=n.categories.byId[e];t.jobTitleIds.forEach((e=>{n.jobTitles.byId[e].selected=false}));t.jobTitleIds=[];return n}n.jobTitles.allIds.forEach((t=>{const s=n.categories.byId[e];const i=n.jobTitles.byId[t];if(a&&a.value===i.id){const e=!i.selected;i.selected=e;if(e){s.jobTitleIds.push(a.value)}else{s.jobTitleIds=s.jobTitleIds.filter((e=>e!==a.value))}}}));return n}function R(e){if(e===1){return F.__("1 job title still needs an EEO category.")}return F.__("%1 job titles still need EEO categories.",e,{note:'The "%1" placeholder is the number of job titles.'})}function B(e){return e.allIds.filter((t=>!e.byId[t]||!e.byId[t].selected)).length}function H(e){const t=B(e);if(D(e)){window.setMessage(`\n\t\t\t\t${F.__("EEO Categories assigned but jobs left behind:")}\n\t\t\t\t${R(t)}\n\t\t\t`,"error")}else{window.setMessage(F.__("EEO Categories Assigned"),"success")}}function j(e,t,a,n,s){const i=O(t,a,e);const o=L(i.categories);n(i);s(o)}function z(e,t,a,n){return()=>{e(false);t(false);a(false);n()}}function q(e,t,a){return()=>W(e,t,a)}function W(e,t,a){const n={categories:e};return A(n).then((()=>{a();H(t)}),(e=>{window.setMessage(e,"info");console.error(e);return Promise.reject("Failed to submit")}))}},51124:(e,t,a)=>{"use strict";var $=a(26570);$((function(){const e=$("form#edit_form.js-email-alerts");if(e.length){window.filterSettings={postFunc:window.setHiddenVar,listOnly:true,updateLink:false};const e=$(".input-list").autoInputList({autocompleteUrl:"/ajax/quicksearch.php",description:$.__("Name, Department, Location, or Email..."),extraParams:{l:1,active:1},formatAutoItem(e){let[t,a,n]=e;return`\n\t\t\t\t\t<span class="qs_status icon ${n}"></span>\n\t\t\t\t\t<span class="qs_status ${n}">\n\t\t\t\t\t\t${t}\n\t\t\t\t\t</span>\n\t\t\t\t`},startingItems:window.startingItems,formatTagItem(e,t){if(t){if(typeof t==="string"){t=t.split("|")}const[e,a,n]=t;$(`\n\t\t\t\t\t\t<span class="item">\n\t\t\t\t\t\t\t${e}\n\t\t\t\t\t\t\t<input type="hidden" name="ids[]" value="${a}" />\n\t\t\t\t\t\t\t<ba-icon class="remove" name="fab-x-8x8" encore-name="xmark-regular" encore-size="10" encore-class="fab-marginLeft--4 remove"></ba-icon>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t`).insertBefore(".input-list span.input");$(".free").val("");$("#input-list-check").prop("checked",true);$(document).on("click",".item .remove",(function(){$(this).closest("span.item").remove();return false}))}}});if($("#input-list-check").is(":checked")){e.activate()}$("#input-list-check").change((function(){const t=$(this);if(t.is(":checked")){e.activate()}else{e.deactivate()}}));const t=$(".timepicker");t.timepicker({step:60,useSelect:true});t.on("timeFormatError",(function(){setMessage($.__("Please enter a valid time of day, of the form 12:00am, or select a time from the dropdown."),"error");$(this).val("12:00am")}));$("#edit_form input:first").focus();window.updateFilter();$(document).on("click","a.bicon-remove",(function(){$(this).parents(".reminder-row:first").remove()}));window.addReminder=function(){$(".reminder-row:first").clone().show().find(".chzn-container").remove().end().append('<a class="bicon-remove" title="remove" href="javascript:void(0)"></a>').find("input").val("").end().find("select").each((function(e,t){t.selectedIndex=0})).end().insertAfter(".reminder-row:last").find("select").removeClass("chzn-done").removeAttr("id").show().chosen(bhrChosenOptions)}}}))},48126:(e,t,a)=>{"use strict";a.d(t,{N:()=>k});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(17842);var r=a.n(o);var l=a(72956);var c=a(88721);var d=a(8319);var u=a(21936);var h=a(13999);var p=a(4715);var m=a(26242);var f=a(7167);var g=a(14386);var v=a(7070);var y=a(50463);var b=a(51178);var w=a(67856);var $=a(26570);const C=e=>{let{teams:t}=e;const a=t.length>1;const o=(0,s.useRef)(null);return(0,n.Z)(m.L,{paddingBottom:"10px"},void 0,(0,n.Z)(f.B,{color:"neutral-weak",icon:(0,n.Z)(g.I,{color:"neutral-strong",name:"users-regular",size:16})},void 0,`${t[0]}, `,a&&i().createElement(i().Fragment,null,i().createElement(b.T,{ref:o,inline:true},$.__("  +%s more",t.length-1)),(0,n.Z)(w.T,{anchorRef:o,content:t.slice(1).join(", "),placement:"bottom"}))))};var S=a(71141);var E=a(26570);const x=e=>{const{employee:t}=e;const[a,i]=(0,s.useState)(y.ou.local());const o=(0,v.y)();(0,s.useEffect)((()=>{const e=setInterval((()=>t()),1e3);const t=()=>i(y.ou.local());return()=>clearInterval(e)}),[]);const r=()=>{if(t.jobTitle&&t.department){return E.__("%1 in %2",t.jobTitle,t.department)}else if(t.jobTitle&&!t.department){return t.jobTitle}else if(!t.jobTitle&&t.department){return t.department}};const l=()=>{if(!t.ext){return t.workPhone}return`${t.workPhone} Ext ${t.ext}`};return(0,n.Z)("div",{className:o.container},void 0,(0,n.Z)(h.A,{alt:"profile",size:160,srcSet:t.imgUrl}),(0,n.Z)("div",{className:o.contentContainer},void 0,(0,n.Z)("div",{className:o.primaryContentContainer},void 0,(0,n.Z)("div",{className:o.infoContainer},void 0,(0,n.Z)("div",{className:o.employeeName},void 0,t.prefName?`${t.prefName} ${t.lastName}`:`${t.firstName} ${t.lastName}`),t.pronouns&&(0,n.Z)("div",{className:o.pronouns},void 0,`(${t.pronouns})`)),(t.jobTitle||t.department)&&(0,n.Z)("div",{className:o.jobInfo},void 0,r()),t.location&&(0,n.Z)("div",{className:o.jobInfo},void 0,t.location,t.timezone&&(0,n.Z)("span",{},void 0," ","|"," ",a.setZone(t.timezone).toLocaleString(y.ou.TIME_SIMPLE)," ","local time")),t.division&&(0,n.Z)("div",{className:o.jobInfo},void 0,t.division)),(0,n.Z)(p.D,{color:"neutral-extra-weak"}),(0,n.Z)("div",{className:o.secondaryContentContainer},void 0,t.email&&(0,n.Z)(m.L,{paddingBottom:"10px"},void 0,(0,n.Z)(f.B,{color:"neutral-weak",icon:(0,n.Z)(g.I,{color:"neutral-strong",name:"envelope-regular",size:16})},void 0,t.email)),t.workPhone&&(0,n.Z)(m.L,{paddingBottom:"10px"},void 0,(0,n.Z)(f.B,{color:"neutral-weak",icon:(0,n.Z)(g.I,{color:"neutral-strong",name:"buildings-regular",size:16})},void 0,l())),t.personalPhone&&(0,n.Z)(m.L,{paddingBottom:"10px"},void 0,(0,n.Z)(f.B,{color:"neutral-weak",icon:(0,n.Z)(g.I,{color:"neutral-strong",name:"mobile-regular",size:16})},void 0,t.personalPhone)),t.reportsTo&&(0,n.Z)(m.L,{paddingBottom:"10px"},void 0,(0,n.Z)(f.B,{color:"neutral-weak",icon:(0,n.Z)(g.I,{color:"neutral-strong",name:"circle-user-regular",size:16})},void 0,`Reports to ${t.reportsTo}`)),t.directReports.length>0&&(0,n.Z)(m.L,{paddingBottom:"10px"},void 0,(0,n.Z)(f.B,{color:"neutral-weak",icon:(0,n.Z)(g.I,{color:"neutral-strong",name:"sitemap-regular",size:16})},void 0,`${t.directReports.length} direct reports`)),(0,S.isEnabled)("CORE_EMPLOYEE_TEAMS")&&t.teams&&t.teams.length>0&&(0,n.Z)(C,{teams:t.teams}))))};var T=a(26570);const k=e=>{const{isOpen:t,onClose:a,employeeId:i}=e;const[o,h]=(0,s.useState)();const p=()=>r().get(`/employee_directory/employee/${i}`).then((e=>{let{data:t}=e;h(t)})).catch((()=>{window.setMessage(window.DEFAULT_ERROR_MESSAGE,"error");a()}));const m=()=>{h(null);a()};return(0,n.Z)(l.S,{isOpen:t,onOpenComplete:p,onRequestClose:m},void 0,(0,n.Z)(l.S.Body,{renderFooter:()=>(0,n.Z)(l.S.Footer,{actions:[(0,n.Z)(c.B,{onClick:a,type:"button"},"close",T.__("Close"))]}),renderHeader:o?(0,n.Z)(l.S.Header,{hasCloseButton:true,title:T.__("All About %1",o.prefName||o.firstName)}):undefined,size:d.a.MEDIUM},void 0,(0,n.Z)(l.S.Constraint,{},void 0,o?(0,n.Z)(x,{employee:o}):(0,n.Z)(u.L,{}))))}},7852:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>u,Rp:()=>c});var n=a(73641);var s=a(41201);var i=a(25355);var o=a.n(i);var r=a(56445);function l(e,t){const{employee_file_data:a,company_file_data:i,esignatures:o,ext:r,img_sizes:l,is_current_signer:c,required:d,workflow_instance_id:u,esignature_instance_id:h}=e;let p=r;let m;if((0,s._c)(e)){const{can_sign:e,completed:s,has_signed:r,cancelled:l,whose_turn:c,is_current_signer:h}=o;switch(true){case l:p="Request Canceled";break;case a&&a.id&&r:p="Signed";m="signed";break;case i&&i.id&&r:p="Signed";m="signed";break;case o.completed&&!r:p="Signed";m="signed";break;case e:p=d==="yes"?"Sign Now":"Signature Optional";m=d==="yes"?"sign":"optional";break;case r:p="Signed";m="signed";break;case c&&c.length>0:p="Signers Pending";break;case t&&!(0,n.isNil)(h)&&h:p="Chose not to sign";break;case t&&!(0,n.isNil)(h)&&!h:p="No signature needed";break;case!t&&!(0,n.isNil)(u)&&u&&!(0,n.isNil)(h)&&h:p="Signature Optional";m="optional";break;case!t&&!(0,n.isNil)(u)&&u&&!(0,n.isNil)(h)&&!h:p="Signers Pending";break;default:p="Esignature";break}}return m?{className:m,icon:l.small,text:p}:{icon:l.small,text:p}}function c(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const{ext:n,id:i,name:o,scan_info:r,required:c,can_see_file:d,esignatures:u,employee_file_data:h,company_file_data:p,original_file_name:m,esignature_instance_id:f}=e;const g=c&&c==="yes";const v=(0,s.pK)(e);return{action:v?"":(0,s.s7)(e,t),classNames:[],data:(0,s.hP)(e),disabled:v,ext:n,esignatureInstanceId:f?f:0,fileId:i,info:l(e,a),isSafe:!r,isEsig:(0,s._c)(e),name:o,mode:"display",originalName:m,status:"",required:g||false,theme:"dark"}}var $=a(26570);const d={fileCardFromElement(e){return w(e.dataset.canSee?"1":"0",e.dataset.ext,e.dataset.fileId,e.dataset.icon,e.id.replace("check",""),e.dataset.name,e.dataset.required,null,e.dataset.originalName,e.dataset.fileDataId)},fileCardFromArray(e){const t=[];e.forEach((e=>{if(e.hasOwnProperty("fileId")){const{canSeeFile:a,ext:n,fileId:s,icon:i,id:o,name:r,required:l,original_file_name:c,fileDataId:d}=e;t.push(w(a||e.can_see_file,e.is_esignature_template==="yes"?"Esignature":n,s,e.is_esignature_template?e.img_sizes.small:i,o,r,l,null,c,d))}else{t.push(this.fileCardFromFile(e))}}));return t},fileCardFromFile(e){let t=e.ext;let a="no";let n=null;if((0,s._c)(e)){t="Esignature";a="yes";n=m(e)}return w(e.can_see_file,t,e.file_id,e.img_sizes.small,`${e.file_id}-${a}-${e.required||"no"}`,e.name,e.required,n,e.original_file_name)},renderFileCards(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"display";let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"dark";let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const r=t&&t.length>0;const l=document.querySelector(e);if(r===false){console.warn("No files passed to renderFileCards: exiting function early.");return}if(a!=="display"){t.map((e=>{e.mode=a}))}if(l){t=(0,n.sortBy)(t,[e=>e.name.toLowerCase()]);l.innerHTML=window.microTemplate(o(),{files:t,theme:s,newUploadedFiles:i});h()}}};var u=d;function h(){const e=(0,n.toArray)(document.querySelectorAll(".FileCard:not(.FileCard--display)"));const t=(0,n.toArray)(document.querySelectorAll(".FileCard.FileCard--display"));e.forEach((e=>{e.addEventListener("change",v,false);e.addEventListener("click",f,false)}));t.forEach((e=>{e.addEventListener("click",p,false)}))}function p(){g(this.dataset)}function m(e){if(!(0,n.isNull)(document.getElementById("OfferLetter-form"))){if((0,s.uf)(e)){return false}if((0,s.uW)(e)){return true}}}function f(e){if(e.target.classList.contains("js-fc-modal")){y(this,e.target.dataset.isComplete)}else if(e.target.classList.contains("js-fc-close")){const e=new CustomEvent("fileCard:remove",{detail:{fileId:this.dataset.fileId,key:this.dataset.key}});document.dispatchEvent(e);$(this).remove()}}function g(e){let t=null;try{t=JSON.parse(e.actionData)}catch(e){console.error(e)}if(t){switch(e.action){case"companyPreviewFile":window.previewFile(t.companyFileMostRecentId,t.companyFileId,t.companyFileName,false,"div",true);break;case"companyShowFile":window.showFile(t.companyFileMostRecentId,t.companyFileId,t.companyFileName,false,"div",true);break;case"esigOpenModal":if(parseInt(t.esignatureInstanceId)>0){window.openEsignatureSigningModal(t.esignatureInstanceId)}else{window.lazySigs((function(e){e.Signing.openModal(t.esignatureTemplateId,t.esignatureWorkflowId,t.workflowInstanceId,"Esignatures.init(Esignatures.TYPE_SIGNING)",t.name)}))}break;case"esigOpenPreviewModeModal":if(parseInt(t.esignatureInstanceId)>0){window.openEsignatureSigningModal(t.esignatureInstanceId,true)}else{window.lazySigs((function(e){e.Signing.openPreviewModeModal(t.esignatureTemplateId,t.workflowInstanceId,t.name)}))}break;case"previewFile":window[e.action](t.mostRecentFileDataId,t.fileId,t.name,false,"div");break;case"previewEmployeeFile":window[e.action](t.employeeFileMostRecentId,t.employeeFileId,t.employeeFileName,"li");break;case"showFile":window[e.action](t.mostRecentFileDataId,t.fileId,t.name,false,"div");break;case"showFileNoAccess":window[e.action](t.name);break;default:break}}}function v(e){if(e.target.classList.contains("js-fc-toggle-required")){const{fileId:t}=e.target.dataset;const a=document.querySelector(`#filesinput-${t}`);const n=e.target.parentNode;const s=e.target.checked?"yes":"no";b(n,e.target.checked);a.value=a.value.replace(/[^-]+$/,s)}}function y(e,t){let a={navHeader:$.__("Are you sure you want to remove this signed document?"),navMessage:$.__("This document is already signed. Removing it will cancel the request and discard the signed document."),actionBtn:$.__("Yes, Remove Document"),cancelBtn:$.__("No, Don't remove it")};if(t==="false"){a={navHeader:$.__("Are you sure you want to cancel this signature request?"),navMessage:$.__("This signature request has been partially completed and is waiting on other signers. Removing it will cancel the request and discard the partially-signed document."),actionBtn:$.__("Yes, Cancel Signature Request"),cancelBtn:$.__("No, Don't Cancel it")}}window.BambooHR.Modal.setState({header:a.navHeader,dangerousContent:`<p style="text-align: center;">${a.navMessage} </p>`,icon:(0,r.ifFeature)("encore","triangle-exclamation-solid","fab-triangle-exclamation-48x48"),iconColor:(0,r.ifFeature)("encore","warning-strong","attention"),iconV2Color:"warning-strong",isOpen:true,sheetProps:null,primaryAction:()=>{const t=new CustomEvent("fileCard:remove",{detail:{fileId:e.dataset.fileId,key:e.dataset.key}});document.dispatchEvent(t);$(e).remove();window.BambooHR.Modal.setState({isOpen:false})},primaryActionText:a.actionBtn,alternativeActionText:a.cancelBtn,title:$.__("Just Checking...")})}function b(e,t){let a=$.__("Click to make the signature required.");let n=$.__("Signature Optional");const s=BambooHR.Components.Tooltip.selectTooltips(e)[0];if(t){n=$.__("Signature Required");a=$.__("Click to make the signature optional.")}if(s.tooltipEl){s.hide();s.tooltipEl.innerHTML=`<p class="lead">${n}</p><br />${a}`}else{s.options.content=a;s.options.lead=n}}function w(e,t,a,n,s,i,o){let r=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;let l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;let c=arguments.length>9?arguments[9]:undefined;return{action:null,classNames:[],data:{canSeeFile:e,isComplete:r},disabled:false,fileId:a,fileDataId:c,id:s,info:{icon:n,text:t},isSafe:true,name:i,originalName:l,status:"",required:o,theme:"dark"}}},1491:(e,t,a)=>{"use strict";a.d(t,{J:()=>o,h:()=>c});var n=a(89835);var s=a(23321);var i=a(40724);const o=e=>{let{isOpen:t,onClose:a}=e;return(0,n.Z)(i.x5,{customClassNamePrefix:"global-employee-type-selection-modal",isOpen:t,onClose:a,route:"/global-employment/new-employee-modal"})};var r=a(70004);var l=a(37634);const c=()=>{const e=document.createElement("div");e.id="employee-type-selection-modal-container";document.body.appendChild(e);const t=(0,l.s)(e);const a=()=>{(0,r.bB)({children:(0,n.Z)(o,{isOpen:false,onClose:()=>{}}),root:t})};(0,r.bB)({children:(0,n.Z)(o,{isOpen:true,onClose:a}),root:t})}},16065:(e,t,a)=>{"use strict";a.d(t,{gU:()=>I,zs:()=>Pe,AQ:()=>_e,lr:()=>Ke,K9:()=>n,Wm:()=>Je});var n={};a.r(n);a.d(n,{ACCOUNT_ENDPOINT:()=>r,BASE_ENDPOINT:()=>o,getCanSelfServeCancel:()=>v,getCancellationFeatureReasonOptions:()=>p,getCancellationFeatureReasonOptionsAll:()=>m,getCancellationFeatureStatus:()=>l,getCancellationStatusAll:()=>c,getExtraJobOpenings:()=>u,getNextBillingDates:()=>d,getRemainingJobOpenings:()=>h,stopCancellation:()=>g,submitCancellation:()=>f});var s=a(17842);var i=a.n(s);const o="/settings/cancellation";const r="/settings/account/cancellation";function l(e){return i().get(`${o}/${e}/status`)}function c(){return i().get(`${o}/status_all`)}function d(){return i().get(`${r}/next_billing_dates`)}function u(){return i().get(`${o}/extra_job_openings`)}function h(){return i().get(`${o}/remaining_job_openings`)}function p(e){return m().then((t=>{const a=Array.isArray(e)?e:[e];const n=t.data.filter((e=>a.includes(e.feature)));return{data:n}}))}function m(){return i().get(`${o}/reason_options_all`)}function f(e){return i().post(`${o}/start`,e)}function g(e){return i().post(`${o}/stop`,e)}function v(){return i().get(`${r}/account_cancellation_eligibility`)}var y=a(89835);var b=a(23321);var w=a.n(b);var C=a(41425);var S=a(82543);var E=a.n(S);var $=a(26570);const x=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";const t=E()(e);return t.isValid()?t.format("L"):""};const T=function(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];const n=a.length>0?[...a]:[];return[...n,{text:$.__("Cancel %1",t),value:"cancelProducts",isDisabled:e?.pending_cancellation,note:e?.pending_cancellation?$.__("Request sent %1 by %2",x(e.date_requested),e.user_who_requested_cancellation):null}]};var k=a(26570);const I=e=>{let{cancellationData:t,handleOnSelect:a,title:n,biId:s,customDropdownItems:i}=e;const o=e=>{a(e)};return(0,y.Z)(C.D,{ButtonProps:{ariaLabel:k.__("Cancellation"),color:"secondary",icon:"gear-regular",size:"small",variant:"outlined"},items:T(t,n,i),onSelect:e=>o(e),type:C.a.ICON})};var A=a(88604);var F=a(72956);var Z=a(52764);var M=a(85052);var N=a(73641);var D=a(51738);var L=a(51178);var P=a(88721);var O=a(42579);var R=a(26570);const B=e=>{let{isOpen:t,isProcessing:a,onRequestClose:n,onSubmit:s,productName:i}=e;const[o,r]=(0,b.useState)("");(0,b.useEffect)((()=>{(0,O.Z)().then((e=>{r(e?.name||"")}))}),[]);const l="in-app-cancellation-confirmation-sheet";const c=i?R.__("Are you sure you want to cancel %s for %s?",i,o):R.__("Are you sure you want to submit this cancellation request for %s?",o);return(0,y.Z)(D.S,{isOpen:t,isProcessing:a,onRequestClose:n},void 0,(0,y.Z)(D.S.Body,{renderFooter:(0,y.Z)(D.S.Footer,{actions:[(0,y.Z)(L.T,{"data-bi-id":`${l}-cancel-button`,onClick:n,type:"button"},`${l}-cancel-button`,R.__("Cancel")),(0,y.Z)(P.B,{"data-bi-id":`${l}-submit-button`,onClick:s,type:"button"},`${l}-sheet-submit-button`,R.__("Submit Cancellation Request"))]}),renderHeader:(0,y.Z)(D.S.Header,{title:R.__("Just Checking...")})},void 0,(0,y.Z)(D.S.Constraint,{},void 0,(0,y.Z)(D.S.HeroHeadline,{icon:"triangle-exclamation-solid",text:c,subtext:R.__("After submitting you will receive an email with instructions for exporting your data.")}))))};var H=a(7167);var j=a(56921);var z=a(26570);function q(e){let{isOpen:t,onClose:a}=e;return(0,y.Z)(F.S,{isOpen:t,onRequestClose:a},void 0,(0,y.Z)(F.S.Body,{renderFooter:(0,y.Z)(F.S.Footer,{actions:[(0,y.Z)(P.B,{"data-bi-id":"billing-contact-us-cancel-modal-close",onClick:a,type:"button",variant:"contained"},"got-it-button",z.__("Got It"))]}),renderHeader:(0,y.Z)(F.S.Header,{title:z.__("Cancel BambooHR Account")})},void 0,(0,y.Z)(F.S.Constraint,{},void 0,(0,y.Z)(F.S.HeroHeadline,{icon:"phone-regular",subtext:(0,y.Z)(H.B,{weight:"medium"},void 0,z.__("7 AM and 5 PM MT Monday - Friday")),text:"1-833-598-0776"}),(0,y.Z)(j.F,{marginTop:1,marginX:2,textAlign:"center"},void 0,(0,y.Z)(H.B,{},void 0,z.__("We're here to help. Give us a call and we'll walk you through the cancellation process, including scheduling your cancellation date and making sure your account data is handled properly."))))))}var W=a(8319);var U=a(26570);const V=e=>{let{biId:t,children:a,disablePrimaryButton:n,isLastStep:s,onClose:i,onNext:o,onPrevious:r,renderHeader:l}=e;return(0,y.Z)(F.S.Body,{renderFooter:(0,y.Z)(F.S.Footer,{actions:[(0,y.Z)(L.T,{"data-bi-id":`${t}-cancel-button`,onClick:i,type:"button"},`${t}-cancel-button`,U.__("Cancel")),...r?[(0,y.Z)(P.B,{color:"secondary","data-bi-id":`${t}-back-button`,onClick:r,type:"button"},`${t}-back-button`,U.__("Back"))]:[],(0,y.Z)(P.B,{"data-bi-id":`${t}-next-button`,disabled:n,onClick:o,type:"button"},`${t}-next-button`,s?U.__("Submit"):U.__("Next"))]}),renderHeader:l,size:W.a.SMALL},void 0,(0,y.Z)(F.S.Constraint,{},void 0,a))};var G=a(55542);var Y=a(77285);var K=a(39030);const X=(0,K.m)((e=>{let{spacing:t}=e;return(0,K.c)({form:{display:"grid",paddingBottom:t(3)},selectField:{marginTop:t(2)},subText:{marginTop:t(-1),color:"#686868"},contentText:{marginTop:t(2)}})}));var J=a(26570);const Q=e=>{let{nextBillingDates:t,onNext:a,setIsLoading:n,...s}=e;const i=X();const[o,r]=(0,b.useState)(t[1]?.value);const[l,c]=(0,b.useState)();const[d,p]=(0,b.useState)([]);const[m,f]=(0,b.useState)(0);const[g,v]=(0,b.useState)(0);const C=[{isDisabled:true,text:J.__("Job Openings must be cancelled in groups of 10."),value:"note"}];const S=e=>{r(e.target.value)};const E=e=>{c(e.target.value)};const x=()=>{a({cancellation_date:o,job_opening_data:{number_to_cancel:l}})};(0,b.useEffect)((()=>{n(true);u().then((e=>{f(e.data.extraJobPostings+25);const t=Math.round(e.data.extraJobPostings/10);const a=[];for(let e=1;e<=t;e++){a.push({text:e*10,value:e*10})}p(a)})).catch((()=>{window.setMessage(J.__("Oops! Looks like we had some trouble loading the form. Refresh the page and try again!"),"error")})).finally((()=>{n(false)}));h().then((e=>{v(e.data.remainingJobOpenings)})).catch((()=>{window.setMessage(J.__("Oops! Looks like we had some trouble loading the form. Refresh the page and try again!"),"error")}))}),[]);const T=!o||!l;return w().createElement(V,(0,A.Z)({},s,{disablePrimaryButton:T,onNext:x}),(0,y.Z)(F.S.UpperContent,{},void 0,(0,y.Z)(G.B,{iconName:"fab-ats-38x46",iconColor:"#555555",imageHeight:"auto",imageWidth:"auto",title:J.__("You currently have %s total job openings",m),TitleProps:{color:"textPrimary",variant:"h5"}},void 0,(0,y.Z)("p",{className:i.subText},void 0,J.__("%s extra are not being used",g)))),(0,y.Z)("div",{className:i.form},void 0,(0,y.Z)("p",{className:i.contentText},void 0,J.__("We hope you found the candidates you were looking for! Please fill out the information below to cancel your job openings.")),(0,y.Z)(Y.S,{className:i.selectField,items:t,label:J.__("Desired Cancellation Date"),onChange:S,width:6,placeholder:"mm/dd/yyyy",id:"job-openings-cancellation-date",required:true,value:o}),(0,y.Z)(Y.S,{className:i.selectField,items:[...C,...d],label:J.__("Number of Job Openings to Cancel"),onChange:E,width:6,id:"job-openings-number-to-cancel",required:true,value:l})))};var ee=a(26242);var te=a(84164);var ae=a(54544);var ne=a(81709);var se=a(26570);const ie=[{label:se.__("Yes"),value:"yes"},{label:se.__("No"),value:"no"}];const oe=(0,N.times)(4,(e=>{const t=`${e+1}`;return{text:t,value:t}}));const re=[E()().subtract(1,"years").format("YYYY"),E()().format("YYYY")];const le=re.map((e=>({text:e,value:e})));var ce=a(26570);const de=e=>{let{onNext:t,isCancellingAccount:a,...n}=e;const[s,i]=(0,b.useState)({final_pay_date:null,use_federal_id_after_final_date:null,pay_through_quarter:null,pay_through_year:null});const o=e=>{i({...s,...e})};const r=()=>{t({payroll_data:s})};const l=!s.final_pay_date||!s.use_federal_id_after_final_date||!s.pay_through_quarter||!s.pay_through_year;return w().createElement(V,(0,A.Z)({},n,{disablePrimaryButton:l,onNext:r}),(0,y.Z)(ee.L,{marginBottom:2},void 0,(0,y.Z)(H.B,{},void 0,ce.__("We'll be sad to see you go! Please fill out the following and we will be in touch to process your cancellation."))),(0,y.Z)("form",{},void 0,a&&(0,y.Z)(ee.L,{marginBottom:1},void 0,(0,y.Z)(te.I,{icon:"circle-info-solid",status:te.a.info,title:ce.__("Your final pay date must be before your desired cancellation date")})),(0,y.Z)(ee.L,{marginBottom:2},void 0,(0,y.Z)(ae.D,{id:"final_pay_date",label:ce.__("Final Pay Date"),minDate:E()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),onChange:e=>o({final_pay_date:e.value}),required:true,value:s.final_pay_date})),(0,y.Z)(ee.L,{marginBottom:2},void 0,(0,y.Z)(ne.R,{items:ie,label:ce.__("Will you be processing payroll using this Federal ID after your final pay date?"),name:"use_federal_id_after_final_date",onChange:e=>o({use_federal_id_after_final_date:e.value}),value:s.use_federal_id_after_final_date||""})),(0,y.Z)(ee.L,{marginBottom:2},void 0,(0,y.Z)(Y.S,{id:"pay_through_quarter",items:oe,isClearable:false,label:ce.__("Please file taxes through quarter:"),onChange:e=>{const t=e.target.value[0];o({pay_through_quarter:t,pay_through_year:t!=="4"?le[1].value:null})},value:[s.pay_through_quarter||""],width:6})),(0,y.Z)(ee.L,{marginBottom:2},void 0,(0,y.Z)(Y.S,{id:"pay_through_year",items:s.pay_through_quarter==="4"?le:[le[1]],isClearable:false,disabled:!s.pay_through_quarter,label:ce.__("Please file taxes through year:"),onChange:e=>o({pay_through_year:e.target.value[0]}),value:[s.pay_through_year||""],width:6}))))};var ue=a(85617);var he=a(26570);const pe=e=>{let{onNext:t,reasons:a,...n}=e;const[s,i]=(0,b.useState)({new_processing_method:null,new_processing_method_details:null,reason:null,reason_details:null});const o=e=>{i({...s,...e})};const r=()=>{const{reason:e,reason_details:a,...n}=s;t({reason:e,reason_details:a,payroll_data:n})};const l=s.new_processing_method?.toLowerCase()==="other";const c=!s.new_processing_method||l&&!s.new_processing_method_details||!s.reason||!s.reason_details;return w().createElement(V,(0,A.Z)({},n,{disablePrimaryButton:c,onNext:r}),(0,y.Z)(ee.L,{marginBottom:2},void 0,(0,y.Z)(Y.S,{id:"new_processing_method",isClearable:false,items:a.payroll_new_processing_methods||[],label:he.__("What is your new payroll processing method?"),onChange:e=>o({new_processing_method:e.target.value[0]}),required:true,showSearch:"never",value:[s.new_processing_method||""],width:6})),(0,y.Z)(ee.L,{marginBottom:2},void 0,(0,y.Z)(ue.T,{id:"new_processing_method_details",label:he.__("Please provide any additonal details here"),minRows:3,onChange:e=>o({new_processing_method_details:e.target.value}),required:l,value:s.new_processing_method_details||"",width:100})),(0,y.Z)(ee.L,{marginBottom:2},void 0,(0,y.Z)(Y.S,{id:"reason",isClearable:false,items:a.payroll||[],label:he.__("Reason for cancelling payroll account"),onChange:e=>o({reason:e.target.value[0]}),required:true,showSearch:"never",value:[s.reason||""],width:100})),(0,y.Z)(ee.L,{marginBottom:2},void 0,(0,y.Z)(ue.T,{id:"reason_details",label:he.__("Please provide any additonal details here"),minRows:3,onChange:e=>o({reason_details:e.target.value}),required:true,value:s.reason_details||"",width:100})))};var me=a(26570);const fe=e=>{let{onNext:t,reasons:a,...n}=e;const[s,i]=(0,b.useState)({reason_not_using_federal_id:null,reason_not_using_federal_id_details:null});const o=e=>{i({...s,...e})};const r=()=>{t({payroll_data:s})};const l=s.reason_not_using_federal_id?.toLowerCase()==="other";const c=!s.reason_not_using_federal_id||l&&!s.reason_not_using_federal_id_details;return w().createElement(V,(0,A.Z)({},n,{disablePrimaryButton:c,onNext:r}),(0,y.Z)(ee.L,{marginBottom:2},void 0,(0,y.Z)(Y.S,{id:"reason_not_using_federal_id",isClearable:false,items:a.payroll_no_use_fed_id_reasons,label:me.__("Reason for no longer processing with this Federal ID"),onChange:e=>o({reason_not_using_federal_id:e.target.value[0]}),required:true,showSearch:"never",value:[s.reason_not_using_federal_id||""],width:100})),(0,y.Z)(ee.L,{marginBottom:2},void 0,(0,y.Z)(ue.T,{id:"reason_not_using_federal_id_details",label:me.__("Please provide any additional details here"),minRows:3,onChange:e=>o({reason_not_using_federal_id_details:e.target.value}),required:l,value:s.reason_not_using_federal_id_details||"",width:100})))};const ge=e=>{let{formValues:t,...a}=e;if(t?.payroll_data?.use_federal_id_after_final_date===ie[0].value){return w().createElement(pe,a)}return w().createElement(fe,a)};var ve=a(77343);let _e=function(e){e["ACCOUNT"]="account";e["PAYROLL"]="payroll";e["PERFORMANCE"]="performance";e["TIME_TRACKING"]="time_tracking";e["JOB_OPENINGS"]="job_openings";e["BENEFIT_ADMIN"]="benefit_admin";return e}({});let ye=function(e){e["ACCOUNT"]="account";e["PAYROLL"]="payroll";e["PAYROLL_NEW_PROCESSING_METHODS"]="payroll_new_processing_methods";e["PAYROLL_NO_FED_ID_REASONS"]="payroll_no_use_fed_id_reasons";e["PAYROLL_ACK_1"]="payroll_ack_1_option";e["PAYROLL_ACK_2"]="payroll_ack_2_option";e["PERFORMANCE"]="performance";e["TIME_TRACKING"]="time_tracking";e["JOB_OPENINGS"]="job_openings";e["BENEFIT_ADMIN"]="benefit_admin";return e}({});var be=a(40635);async function we(){const e=await be.Ajax.get("/settings/cancellation/package");return e.data.discount_package}var Ce=a(26570);const Se=e=>{let{formValues:t,reasons:a,onNext:n,types:s,...i}=e;const[o,r]=(0,b.useState)(false);const[l,c]=(0,b.useState)(false);const[d,u]=(0,b.useState)(false);const[h,p]=(0,b.useState)(true);const[m,f]=(0,b.useState)({ack_1_response:false});const g=e=>{f({...m,...e})};const v=e=>{r(e)};const C=t?.payroll_data?.pay_through_quarter;const S=(new Date).getFullYear();const E=t?.payroll_data?.pay_through_year;const x=t?.payroll_data?.use_federal_id_after_final_date;const T={quarterYes:Ce.__("I understand that taxes will be filed and paid through quarter %s %s. If any payrolls have been processed after quarter %s %s, unemployment funds will be returned to your bank account once the account reconciliation is complete. Year %s W2s and annual filings WILL NOT be done by BambooHR.",C,S,C,S,S),quarterNo:Ce.__("If you are no longer planning on processing payroll using this Federal ID, you should select quarter 4 on step 2 of this form unless you are planning to file W2s and annual fiIings yourself. Taxes will be filed and paid through quarter %s %s. If any payrolls have been processed after quarter %s %s, unemployment funds will be returned to your bank account once the account reconciliation is complete. Year %s W2s and annual filings WILL NOT be done by BambooHR.",C,S,C,S,S),year:Ce.__("I understand that taxes will be filed and paid through quarter 4 %s. Year %s W2s and annual filings WILL be done by BambooHR.",E,E)};const k=()=>{n({payroll_data:m})};(0,b.useEffect)((()=>{if(!s||s.includes(_e.ACCOUNT)){c(false);return}const e=async()=>{const e=await we();c(e)};e()}),[]);(0,b.useEffect)((()=>{if(l){p(!d||!m.ack_1_response||!o)}else{p(!m.ack_1_response||!o)}}),[l,d,m,o]);return w().createElement(V,(0,A.Z)({},i,{disablePrimaryButton:h,onNext:k}),(0,y.Z)(ee.L,{marginBottom:3},void 0,(0,y.Z)(H.B,{},void 0,Ce.__("Please read through and check the following statements:"))),(0,y.Z)(j.F,{rowGap:3,flexDirection:"column"},void 0,(0,y.Z)(ve.C,{label:a.payroll_ack_1_option?.[0]?.text||"",onChange:e=>g({ack_1_response:e.checked}),value:a.payroll_ack_1_option?.[0]?.value||"",checked:m.ack_1_response}),C=="4"&&(0,y.Z)(ve.C,{label:T.year,onChange:e=>v(e.checked),value:"",checked:o}),x=="yes"&&C!="4"&&(0,y.Z)(ve.C,{label:T.quarterYes,onChange:e=>v(e.checked),value:"",checked:o}),x=="no"&&C!="4"&&(0,y.Z)(ve.C,{label:T.quarterNo,onChange:e=>v(e.checked),value:"",checked:o}),l&&(0,y.Z)(ve.C,{value:"cancellation-discount-checkbox",onChange:()=>{u(!d)},checked:d,biId:"cancellation-discount-checkbox",id:"cancellation-discount-checkbox",name:"cancellation-discount-checkbox",label:Ce.__("I acknowledge that cancelling this feature will remove my 15%% bundle discount.")})))};var Ee=a(37091);var xe=a(405);var Te=a(56445);var ke=a(26570);const Ie={[_e.ACCOUNT]:{title:ke.__("Cancel BambooHR Account"),productName:ke.__("Full BambooHR Account")},[_e.PAYROLL]:{content:[de,ge,Se],title:ke.__("Cancel Payroll"),productName:ke.__("Payroll")},[_e.JOB_OPENINGS]:{content:[Q],title:ke.__("Manage Job Openings"),productName:ke.__("Job Openings")},[_e.PERFORMANCE]:{title:ke.__("Cancel Performance Management"),productName:ke.__("Performance Management")},[_e.TIME_TRACKING]:{title:ke.__("Cancel Time Tracking"),productName:ke.__("Time Tracking")},[_e.BENEFIT_ADMIN]:{title:ke.__("Cancel Benefits Administration"),productName:ke.__("Benefits Administration")}};var Ae=a(26570);const Fe=["other","other reason...","other reason"];const Ze={[_e.ACCOUNT]:{label:`${Ae.__("What is your primary reason for cancelling?")}*`,detailsLabel:`${Ae.__("Are there any additional reasons you are cancelling that aren't listed above?")}*`,valuesThatTriggerDetails:[...Fe,"we don't use our bamboohr account","bamboohr doesn't have the functionality we need"]},[_e.PERFORMANCE]:{label:`${Ae.__("What is your primary reason for cancelling Performance Management?")}*`,detailsLabel:`${Ae.__("Could you describe why you are cancelling Performance Management?")}*`,valuesThatTriggerDetails:[...Fe,"missing functionality"]},[_e.TIME_TRACKING]:{label:`${Ae.__("What is your primary reason for cancelling Time Tracking?")}*`,detailsLabel:`${Ae.__("Could you describe why you are cancelling Time Tracking?")}*`,valuesThatTriggerDetails:[...Fe,"missing functionality"]},[_e.BENEFIT_ADMIN]:{label:`${Ae.__("What is your primary reason for cancelling Benefits Administration?")}*`,detailsLabel:`${Ae.__("Could you describe why you are cancelling Benefits Administration?")}*`,valuesThatTriggerDetails:[...Fe,"missing functionality"]}};function Me(e){let{isLastStep:t,nextBillingDates:a,onClose:n,onNext:s,productKeys:i,reasons:o,renderHeader:r,biId:l,onPrevious:c}=e;const[d,u]=(0,b.useState)({cancellation_date:a[1]?.value});const[h,p]=(0,b.useState)(false);const[m,f]=(0,b.useState)(false);const g=[_e.ACCOUNT,_e.PERFORMANCE,_e.TIME_TRACKING,_e.BENEFIT_ADMIN];const v=(0,b.useMemo)((()=>i.filter((e=>g.includes(e)))),[i,g]);const w=e=>{if(e.includes(_e.ACCOUNT)){return Ae.__("We'll be sad to see you go! Please fill out the following and we will be in touch to process your cancellation.")}if((0,Te.isEnabled)("GT_CLOCKS_INTEGRATION_BETA")&&e.length===1){return Ae.__("We're bummed you won't be using %1 anymore! Please fill out the following and we will process your cancellation.",Ie[e[0]].productName)}return Ae.__("We're bummed you won't be using those products anymore! Please fill out the following and we will be in touch to process your cancellation.")};const C=w(i);const S=()=>{if(h&&!m&&!v.includes(_e.ACCOUNT)){return false}const e=!!d.cancellation_date;const t=v.every((e=>!!d[e]?.reason));const a=v.every((e=>{const t=d[e]?.reason;if(!t){return false}if(Ze[e].valuesThatTriggerDetails.includes(t?.toLowerCase())){return!!d[e].reason_details}return true}));const n=v.every((e=>{const t=d[e]?.reason;if(!t){return false}return!!d[e].reason_details}));return e&&t&&a&&n};(0,b.useEffect)((()=>{const e=async()=>{const e=await we();p(e)};const t=[_e.BENEFIT_ADMIN,_e.PAYROLL];const a=v.filter((e=>t.includes(e)));if(a.length>0&&!v.includes(_e.ACCOUNT)){e()}else{p(false)}}),[v]);return(0,y.Z)(V,{biId:l,disablePrimaryButton:!S(),isLastStep:t,onClose:n,onNext:()=>s(d),onPrevious:c,renderHeader:r},void 0,(0,y.Z)("form",{},void 0,(0,y.Z)(j.F,{flexDirection:"column",gap:2},void 0,v.length===1&&v.includes(_e.TIME_TRACKING)&&(0,y.Z)(te.I,{status:te.a.info,title:Ae.__("Canceling Time Tracking will also cancel BambooHR Time Clocks and support for all Time Clocks will end on your next billing date.")}),(0,y.Z)(H.B,{},void 0,C),(0,y.Z)(Y.S,{id:"cancel-date",isClearable:false,items:a,label:`${Ae.__("Desired Cancellation Date")}*`,onChange:e=>{const t={...d};t.cancellation_date=e.target.value;u(t)},renderOptionContent:e=>e.value==="note"&&(0,y.Z)(H.B,{},void 0,e.text),value:d.cancellation_date,width:6}),v.map((e=>{const t=o[e];return(0,y.Z)(j.F,{flexDirection:"column",gap:2,marginBottom:2},e,(0,y.Z)(j.F,{flexDirection:"column",gap:.5},void 0,(0,y.Z)(Ee.L,{htmlFor:`${e}-reason`},void 0,Ze[e].label),(0,y.Z)(xe.S,{isClearable:false,items:t,name:`${e}-reason`,onChange:t=>{const a=t[0];const n={...d};if(e in n){n[e].reason=a}else{n[e]={feature:e,reason:a}}u(n)},selectedValues:[d[e]?.reason],width:100})),(0,y.Z)(ue.T,{id:`${e}-cancel-reason-details`,label:Ae.__("What additional details can you provide us with?*"),maxRows:5,minRows:5,onChange:t=>{const a=t.target.value;const n={...d};if(e in n){n[e].reason_details=a}else{n[e]={reason_details:a}}u(n)},placeholder:Ae.__("What additional details can you provide us with?"),value:d[e]?.reason_details}))})),h&&(0,y.Z)(j.F,{flexDirection:"column",marginTop:5},void 0,(0,y.Z)(ve.C,{biId:"cancellation-discount-checkbox",checked:m,id:"cancellation-discount-checkbox",label:Ae.__("I acknowledge that cancelling this feature will remove my 15%% bundle discount."),name:"cancellation-discount-checkbox",onChange:()=>{f(!m)},value:"cancellation-discount-checkbox"})))))}var Ne=a(26570);const De="in-app-cancellation-modal";const Le=e=>(0,y.Z)(F.S.Header,{title:e});const Pe=e=>{let{isOpen:t,onClose:a,onSubmitSuccess:n=N.noop,types:s}=e;const[i,o]=(0,b.useState)(true);const[r,l]=(0,b.useState)(0);const[c,u]=(0,b.useState)(false);const[h,p]=(0,b.useState)({});const[g,C]=(0,b.useState)(false);const[S,x]=(0,b.useState)(true);const[T,k]=(0,b.useState)({});const[I,D]=(0,b.useState)([]);const L=!!Object.keys(T).length;(0,b.useEffect)((()=>{if(t&&!L){x(true);const e=m();const t=d();const n=v();Promise.all([e,t,n]).then((e=>{let[t,a,n]=e;const s=t.data.reduce(((e,t)=>{e[t.feature]=t.options.map((e=>({text:e.label,value:e.value})));return e}),{});const i=a.data.next_billing_dates.map((e=>({text:E()(e).format("DD MMM YYYY"),value:e})));i.unshift({isDisabled:true,text:Ne.__("Cancellations can only be processed on billing dates."),value:"note"});const r=!!n.data.canSelfServeAccountCancel;k(s);D(i);o(r)})).catch((()=>{(0,M.logError)("One or more cancellation request modal API requests failed: BILLING");window.setMessage(Ne.__("Oops! Looks like we had some trouble loading the form. Refresh the page and try again!"),"error");a()})).finally((()=>{x(false)}))}}),[t,L,a]);const P=()=>{l(0);p({})};const O=()=>{a()};const R=()=>{u(false)};const H=()=>{u(true)};const j=()=>{if(!g){C(true);const e=Object.entries(h).reduce(((e,t)=>{let[a,n]=t;if(Object.values(_e).includes(a)&&typeof n==="object"){e.cancellations.push(n)}else{e[a]=n}return e}),{cancellations:[]});const t=`Your account cancellation request has been sent to our team! Further instructions will be emailed shortly.`;const a=e.cancellations.find((e=>e.feature===_e.PAYROLL));let s=true;if(a&&e.cancellation_date){if(E()(a.payroll_data.final_pay_date).isBefore(E()(e.cancellation_date))){s=true}else{s=false;window.setMessage(Ne.__("Oops! Your final pay date is after your desired cancellation date. Please update and try again!"),"error");C(false)}}if(s){f(e).then((()=>{window.setMessage(t,"success");R();O();n()})).catch((()=>{window.setMessage(Ne.__("Oops! Looks like we had some trouble submitting your request. Refresh the page and try again!"),"error")})).finally((()=>{C(false)}))}}};const z=(e,t)=>a=>{if(a){p((t=>{const n=e?{[e]:{feature:e,...a},...a.cancellation_date?{cancellation_date:a.cancellation_date}:{}}:a;return(0,N.merge)(t,n)}))}if(t){H()}else{l((e=>e+1))}};const W=()=>{l((e=>e-1))};const U=(0,b.useMemo)((()=>{const[e,t]=s.reduce(((e,t)=>{const a=Ie[t];e[a?.content?1:0].push(t);return e}),[[],[]]);const a=[];let n=false;const i={nextBillingDates:I,onClose:O,reasons:T,setIsLoading:x};if(e.length){const s=t.length===0;const o=`${De}-standard-form`;const r=e=>{if(e.includes(_e.ACCOUNT)){n=true;return Ie[_e.ACCOUNT].title}if((0,Te.isEnabled)("GT_CLOCKS_INTEGRATION_BETA")&&e.length===1){return Ie[e[0]].title}return Ne.__("Cancel BambooHR Products")};const l=r(e);a.push(w().createElement(Me,(0,A.Z)({biId:o,isLastStep:s,key:o,onNext:z(null,s),productKeys:e,renderHeader:Le(l)},i)))}if(t.length){const e=t.reduce(((e,o,r)=>{const{content:l,title:c}=Ie[o];const d=r===t.length-1;const u=l.map(((e,t)=>{const u=!a.length&&r===0&&t===0;const p=t===l.length-1;const m=d&&p;const f=`in-app-cancellation-modal-${o}-${t}`;return w().createElement(e,(0,A.Z)({biId:f,formValues:h[o]||{},isCancellingAccount:n,isLastStep:m,key:f,onNext:z(o,m),onPrevious:u?undefined:W,renderHeader:Le(c),types:s},i))}));e.push(...u);return e}),[]);a.push(...e)}return a}),[s,r,T,I]);const V=s.length===1?Ie[s[0]]?.productName:undefined;const G=(0,y.Z)(B,{isOpen:c,isProcessing:g,onRequestClose:R,onSubmit:j,productName:V});if((0,Te.isEnabled)("SELF_SERVE_CANCEL_ELIGIBILITY")&&s.includes(_e.ACCOUNT)&&!i){return(0,y.Z)(q,{isOpen:t,onClose:a})}if(U.length>1){return w().createElement(w().Fragment,null,(0,y.Z)(Z.MultiStepModal,{biId:De,currentStep:r,isLoading:S,isOpen:t,onCloseComplete:P,onRequestClose:O,steps:U}),G)}return w().createElement(w().Fragment,null,(0,y.Z)(F.S,{isLoading:S,isOpen:t,isProcessing:g,onCloseComplete:P,onRequestClose:O},void 0,U[0]),G)};var Oe=a(59755);var Re=a(26570);let Be=function(e){e["ACCOUNT"]="account";e["PAYROLL"]="payroll";e["PERFORMANCE"]="performance";e["TIME_TRACKING"]="time_tracking";e["BENEFIT_ADMIN"]="benefit_admin";return e}({});const $e={[Be.ACCOUNT]:Re.__("Full BambooHR Account"),[Be.PAYROLL]:Re.__("Payroll"),[Be.PERFORMANCE]:Re.__("Performance Management"),[Be.TIME_TRACKING]:Re.__("Time Tracking"),[Be.BENEFIT_ADMIN]:Re.__("Benefits Administration")};var He=a(62690);var je=a(26570);const ze="in-app-cancellation-product-selection-modal";const qe={[_e.ACCOUNT]:je.__("Full BambooHR Account"),[_e.PERFORMANCE]:je.__("Performance Management"),[_e.TIME_TRACKING]:je.__("Time Tracking"),[_e.PAYROLL]:je.__("Payroll"),[_e.BENEFIT_ADMIN]:je.__("Benefits Administration")};var We=a(26570);const Ue=e=>{let{cancellationStatuses:t,isOpen:a,onNext:n,onClose:s}=e;const[i,o]=(0,b.useState)([]);const[r,l]=(0,b.useState)([]);(0,b.useEffect)((()=>{if(!t||!t.reduce){return}const e=t.reduce(((e,t)=>{const{feature:a,pending_cancellation:n}=t;if(a in qe&&!n){e.push({value:a,label:qe[a]})}return e}),[]);l(e)}),[t]);const c=(e,t)=>{const{target:a}=t;const n=e.value;if(a.value===_e.ACCOUNT&&a.checked){const e=r.map((e=>e.value));o(e)}else if(i.length===r.length&&!a.checked){const e=n.filter((e=>e!==_e.ACCOUNT));o(e)}else{o(n)}};return(0,y.Z)(F.S,{isOpen:a,onCloseComplete:()=>o([]),onRequestClose:s},void 0,(0,y.Z)(F.S.Body,{renderFooter:(0,y.Z)(F.S.Footer,{actions:[(0,y.Z)(L.T,{"data-bi-id":`${ze}-cancel-button`,onClick:s,type:"button"},`${ze}-cancel-button`,We.__("Cancel")),(0,y.Z)(P.B,{"data-bi-id":`${ze}-next-button`,disabled:i.length===0,onClick:()=>n(i),type:"button"},`${ze}-next-button`,We.__("Next"))]}),renderHeader:(0,y.Z)(F.S.Header,{title:We.__("Cancel BambooHR Products")}),size:W.a.MEDIUM},void 0,(0,y.Z)(F.S.Constraint,{},void 0,(0,y.Z)(ee.L,{marginBottom:2,marginTop:1.5},void 0,(0,y.Z)("form",{},void 0,(0,y.Z)(He.C,{items:r,label:We.__("What BambooHR products do you want to cancel?"),onChange:c,value:i}))))))};var Ve=a(50463);var Ge=a(37194);var Ye=a(26570);const Ke=e=>{let{cancellationData:t,updateCancellationData:a,isAddon:n,render:s}=e;const[i,o]=(0,b.useState)(false);const[r,l]=(0,b.useState)(false);const[c,d]=(0,b.useState)(false);const[u,h]=(0,b.useState)([]);const[p,m]=(0,b.useState)(null);const[f,g]=(0,b.useState)(null);const[v,S]=(0,b.useState)(false);const E=()=>{h([]);o(false)};const x=e=>Ve.ou.fromISO(e).toLocaleString(Ve.ou.DATE_MED);const T=e=>Ve.ou.fromISO(e).minus({days:1}).toLocaleString(Ve.ou.DATE_MED);const k=e=>{if(e==="moreDetail"){window.location.href="/app/settings/cancellation"}else if(e==="stopCancellation"){d(true)}else if(e==="cancelAdditional"){if(v){o(true)}else{l(true)}}};const I=()=>{if(!p||!f){return}const e=[{text:"More Detail",value:"moreDetail"},{text:"Stop Cancellation Request",value:"stopCancellation"}];if(!p.find((e=>e.feature===_e.ACCOUNT))&&f.length>0&&!n){e.push({text:"Cancel Additional Products",value:"cancelAdditional"})}return(0,y.Z)(C.D,{ButtonProps:{size:"teenie",variant:"outlined"},items:e,onSelect:k},void 0,Ye.__("Options"))};const A=(e,t)=>{let a=Ye.__("");e.forEach(((n,s)=>{if(e.length>2&&s===e.length-1){a+="and "}if(t){a+=x(n)}else{a+=n}if(e.length===2&&s===0){a+=", and "}else if(e.length>2&&s!==e.length-1){a+=", "}}));return a};const F=()=>{if(!p){return}const e=[];const t=Array.from(new Set(p.map((e=>e.user_who_requested_cancellation))));t.forEach((t=>{const a=p.filter((e=>e.user_who_requested_cancellation===t));const n=Array.from(new Set(a.map((e=>e.date_requested))));const s=n.sort(((e,t)=>Number(new Date(e))-Number(new Date(t))));e.push({user:t,datesRequested:s})}));const a=p.filter((e=>e.feature===_e.PAYROLL));const n=[];if(p.length>0){const e=Array.from(new Set(p.map((e=>e.cancellation_date))));e.forEach((e=>{const t=p.filter((t=>t.cancellation_date===e));const a=Array.from(new Set(t.map((e=>$e[e.feature]))));n.push({names:a,date:e})}))}return w().createElement(w().Fragment,null,(0,y.Z)(ee.L,{marginBottom:1.5,marginTop:.5},void 0,(0,y.Z)(H.B,{},void 0,Ye.__("BambooHR Product cancellation was requested on "),e.map(((t,a)=>{const n=A(t.datesRequested,true);if(a===e.length-1){return(0,y.Z)(Ge.Message,{params:[n,t.user],text:Ye.__("{1}, by **{2}**")},t)}else{return(0,y.Z)(Ge.Message,{params:[n,t.user],text:Ye.__("{1}, by **{2}** and on ")},t)}})))),(0,y.Z)(ee.L,{marginLeft:.5},void 0,(p.length>0||a.length>0)&&(0,y.Z)(Oe.L,{},void 0,p.length>0&&n.map((e=>{const t=A(e.names,false);return(0,y.Z)(Oe.L.Item,{},t,(0,y.Z)(Ge.Message,{params:[t,T(e.date)],text:Ye.__("Access to {1} will end on **{2}** at **11:59PM Mountain Time**")}))})),a.length>0&&a[0].cancellation_details!=undefined&&(0,y.Z)(Oe.L.Item,{},void 0,(0,y.Z)(Ge.Message,{params:[x(a[0].cancellation_details.final_pay_date)],text:Ye.__("Final Payroll will run on **{1}**")})))))};(0,b.useEffect)((()=>{if(!t||!t.filter){return}m(t.filter((e=>e.pending_cancellation!==false)));g(t.filter((e=>e.pending_cancellation!==true)));S(t.length>1)}),[t]);const M={body:F(),header:Ye.__("Were Sad to See You Go"),icon:"face-frown-solid",customAction:I(),info:true};const N=w().createElement(w().Fragment,null,(0,y.Z)(Ue,{cancellationStatuses:t,isOpen:i,onClose:E,onNext:e=>{h(e);l(true)}}),(0,y.Z)(Pe,{isOpen:r,onClose:()=>l(false),onSubmitSuccess:()=>{a();E()},types:v?u:[_e.ACCOUNT]}),(0,y.Z)(Je,{isOpen:c,onClose:()=>d(false),onSubmitSuccess:a,cancellationData:t}));return w().createElement(w().Fragment,null,s?s(M):(0,y.Z)(ee.L,{marginBottom:2,marginTop:1},void 0,w().createElement(Z.InPageMessaging,M)),N)};var Xe=a(26570);const Je=e=>{let{isOpen:t,onClose:a,onSubmitSuccess:n,cancellationData:s}=e;const[i,o]=(0,b.useState)(false);const[r,l]=(0,b.useState)(false);const[c,d]=(0,b.useState)([]);const[u,h]=(0,b.useState)();const[p,m]=(0,b.useState)([]);(0,b.useEffect)((()=>{if(!s||!s.reduce){return}const e=s.reduce(((e,t)=>{const{feature:a,pending_cancellation:n}=t;if(a in $e&&n){e.push({value:a,label:$e[a]})}return e}),[]);d(e)}),[s]);(0,b.useEffect)((()=>{h({products:p})}),[p]);const f=()=>{a()};const v=(e,t)=>{const{target:a}=t;const n=e.value;const s=c.find((e=>e.value==Be.ACCOUNT));if(a.value!=Be.ACCOUNT){if(!n.includes(Be.ACCOUNT)&&s){const e=[...n,Be.ACCOUNT];m(e)}else{m(n)}}else if(a.value===Be.ACCOUNT&&!a.checked){m([])}else{m(n)}};const w=()=>{if(!i){o(true);const e=Xe.__("Cancellation Request was successfully withdrawn.");g(u).then((()=>{window.setMessage(e,"success");f()})).catch((()=>{window.setMessage(Xe.__("Oops! Looks like we had some trouble submitting your request. Refresh the page and try again!"),"error")})).finally((()=>{n();o(false)}))}};return(0,y.Z)(F.S,{isLoading:r,isOpen:t,isProcessing:i,onCloseComplete:()=>m([]),onRequestClose:f},void 0,(0,y.Z)(F.S.Body,{renderFooter:(0,y.Z)(F.S.Footer,{actions:[(0,y.Z)(P.B,{onClick:f,type:"button",variant:"outlined"},"secondary",Xe.__("Cancel")),(0,y.Z)(P.B,{disabled:!p||p.length===0,onClick:w,type:"button"},"primary",Xe.__("Stop Cancellation"))]}),renderHeader:(0,y.Z)(F.S.Header,{hasCloseButton:true,title:Xe.__("Ive Had a Change of Heart")})},void 0,(0,y.Z)(F.S.Constraint,{},void 0,(0,y.Z)(j.F,{flexDirection:"column",gap:2},void 0,(0,y.Z)(H.B,{},void 0,Xe.__("Stopping this cancellation request will allow your BambooHR service and billing to continue without interruption.")),(0,y.Z)(He.C,{items:c,label:Xe.__("Select the products for which you would like to stop cancellation."),onChange:v,value:p})))))}},27267:(e,t,a)=>{"use strict";a.r(t);a.d(t,{Modal:()=>o,ajaxModalDialog:()=>S,attachModalEvents:()=>C,closeModalDialog:()=>w,doModalDialog:()=>y,modalDialogAlert:()=>r,modalFormSubmit:()=>T,modalSubmit:()=>E,recenterDialog:()=>b,setBackgroundModalIdSelector:()=>f,showInlineModal:()=>l,showModalDialog:()=>m,showModalPopup:()=>v,showStackedModalDialog:()=>g});var n=a(21198);var s=a.n(n);var i=a(34825);var $=a(26570);const o={init:function(){this._ScrollBarWidth=this.getScrollBarWidth();this.addUIElements()},_ids:["navMain","content"],_elements:[],_ScrollBarWidth:0,addUIElements:function(){this._elements=[];if(document.getElementsByTagName("header")[0]){this._elements.push(document.getElementsByTagName("header")[0])}for(let e=0;e<this._ids.length;e++){if(document.getElementById(this._ids[e])){this._elements.push(document.getElementById(this._ids[e]))}}if(document.getElementsByTagName("footer")[0]){this._elements.push(document.getElementsByTagName("footer")[0])}},disableNoScroll:function(){var e;$("html").removeClass("noscroll");if(this._ScrollBarWidth>0){if(document.getElementsByClassName("ui-dialog")[0]){e=document.getElementsByClassName("ui-dialog")[0];if(e!==undefined){e.style.marginLeft="-"+e.offsetWidth/2+"px"}}else{var t=$(".SimpleModal");t.each((function(){var e=$(this);if(e.hasClass("full-screen")){return}e.css("left","calc(50% - "+e[0].offsetWidth/2+"px)")}))}for(var a=0;a<this._elements.length;a++){this._elements[a].style.paddingRight=null}}},enableNoScroll:function(){var e;var t;var a=this;if(this._ScrollBarWidth>0){if(document.getElementsByClassName("ui-dialog")[0]){e=document.getElementsByClassName("ui-dialog")[0];t=e.offsetWidth/2+this._ScrollBarWidth/2;e.style.marginLeft="-"+t+"px"}else{var n=$(".SimpleModal");n.each((function(){var e=$(this);if(e.hasClass("full-screen")){return}t=e[0].offsetWidth/2+a._ScrollBarWidth/2;e.css("left","calc(50% - "+t+"px)")}))}for(var s=0;s<this._elements.length;s++){this._elements[s].style.paddingRight=this._ScrollBarWidth+"px"}}$("html").addClass("noscroll")},getScrollBarWidth:function(){var e=document.createElement("p");e.style.width="100%";e.style.height="200px";var t=document.createElement("div");t.style.position="absolute";t.style.top="0px";t.style.left="0px";t.style.visibility="hidden";t.style.width="200px";t.style.height="150px";t.style.overflow="hidden";t.appendChild(e);document.body.appendChild(t);var a=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;if(a==n){n=t.clientWidth}document.body.removeChild(t);return a-n}};function r(e,t,a,n,s,i){var o={modal:true};if(typeof i!="undefined"){$.extend(o,i)}var r="";if(t.jquery){r=t.html()}else{r='<span class="ui-icon ui-icon-alert"></span><p class="alert">'+t+"</p>"}m(e,r,a,n,s,o);return false}function l(e,t,a,n,s,i){var o={inline_modal_id:t};if(typeof i!="undefined"){$.extend(o,i)}m(e,undefined,a,n,s,o)}var c;var d=false;var u=false;var h=0;var p;Object.defineProperties(window,{modalIdSelector:{get(){return c},set(e){c=e}}});function m(e,t,a,n,s,i){c="#modal-dialog";d=n;var r=s;if(typeof s=="undefined"){r=false}if(typeof i!="undefined"&&typeof i.inline_modal_id!="undefined"){c="#"+i.inline_modal_id}if(typeof i!="undefined"&&typeof i.stacked_modal_id!="undefined"){c="#"+i.stacked_modal_id}var l={};var u=h++;var p=c;if(!i||!i.omit_cancel_button){l[$.__("Cancel")]=function(){var e=c;c=p;closeMessage();if(typeof r=="function"){if(r()){w()}}else{w()}c=e;return false}}l[a]=function(){if($("form[bhrvalidate-initiated]",c).length>0){if(!$("form[bhrvalidate-initiated]",c).valid()){return false}}var e=c;c=p;if(typeof d=="function"){if(d()){w()}}else{document.location.href=d;w()}c=e};var m={};$.extend(m,i);m.open=function(e,t){$(this).parents(".ui-dialog-buttonpane button:eq(0)").blur();$(this).parents(".ui-dialog-buttonpane button:eq(1)").focus();$(c+" form").submit((function(){return false}));const a=$(".ui-dialog-buttonpane button",$(c).parent());a.addClass("btn btnAction");if(i&&i.biId){a.attr("data-bi-id",`${i.biId}-action-primary`)}if(typeof i!="undefined"&&typeof i.stacked_modal_id!="undefined"){$(".ui-dialog-buttonpane button",$(c).parent()).addClass("btnSmall")}if(typeof m.cancel_message!="undefined"&&!m.omit_cancel_button){$(".ui-dialog-buttonset button:first",$(c).parent()).remove();$(".ui-dialog-buttonset",$(c).parent()).append('<span class="cancel-option"><a href="#" class="'+m.cancel_class+'">'+m.cancel_message+"</a></span>");$(".ui-dialog-buttonset .cancel-option a",$(c).parent()).click(l[$.__("Cancel")])}if(typeof m.additional_footer_html!="undefined"){$(".ui-dialog-buttonset",$(c).parent()).prepend(m.additional_footer_html)}if(typeof m.open_callback=="function"){m.open_callback(e,t)}if(typeof m.inline_modal_id=="undefined"){C(c)}var n=$(c).find(":text:visible:enabled:first");if(n.length==0){n=$(c).find("textarea")}if(!n.hasClass("chzn_selected")){n.focus()}if(m.disable_buttons==true){$(".ui-dialog-buttonset button",$(c).parent()).not(".cancel").button("disable");$("body").on("keyup click",".ui-dialog input,.ui-dialog textarea",(function(){if($(this).val()!==""){$(".ui-button").button("enable")}}))}};m.close=function(e,t){if(typeof m.close_callback=="function"){m.close_callback()}$("div.ui-dialog",$(c)).addClass("displaynone");if(typeof m.inline_modal_id=="undefined"){$(c).remove()}o.disableNoScroll()};if(m.buttons!==undefined&&m.buttons==="hide"){m.buttons=null}else{m.buttons=l}if(typeof m.cancel_message=="undefined"){m.cancel_message=$.__("Cancel")}y(e,t,m);if(m.disableCloseOnEnter!=true){$(c+":not(.keyup-bound)").off("keyup");$(c+":not(.keyup-bound)").keyup((function(e){$(c).addClass("keyup-bound");if(e.keyCode==13){var t=$.focused();if(t!==null&&$(t).parents(c).length>0&&!$(t).is("textarea")&&!$(t).hasClass("ac_input")&&!$(t).hasClass("chzn_selected")){l[a]()}}}))}$(".ui-dialog-titlebar-close").on("mousedown",(function e(){if(typeof m.close_callback=="function"){m.close_callback()}$(c).dialog("destroy");o.disableNoScroll();$(document).trigger("modalDialog:closed")}));if(!m.omit_validation&&$.isFunction($.fn.bhrValidate)){$('.BhrForms:not(".js-noValidate")',c).bhrValidate({})}return false}function f(e){p=e}function g(e,t,a,n,s,i){var o={stacked_modal_id:"stacked-modal-dialog"};if(typeof i!="undefined"){$.extend(o,i)}if(!p){p="#modal-dialog"}var r=s||function(e,t){$(c).dialog("close")};o.dialogClass+=" stacked-dialog";return m(e,t,a,n,r,o)}function v(e,t,a){c="#modal-dialog";var n={modal:true};var s=$.__("Ok");if(typeof a!="undefined"&&typeof a.okString!="undefined"&&a.okString.length>0){s=a.okString}n.buttons=[{text:s,click:function(){w()},class:"btn btnAction"}];if(typeof a!="undefined"){$.extend(n,a)}y(e,t,n);return false}function y(e,t,a){w();$(window).scrollLeft(0);var s="auto";var i={resizable:false,draggable:false,modal:true,width:s,height:"auto"};i.close=function(e,t){$("div.ui-dialog").addClass("displaynone");if(typeof i.inline_modal_id=="undefined"){$(c).remove()}};i.overlay={backgroundColor:"#000"};i.position={using:function(e,t){var a=(t.target.height-t.element.height)/3+t.target.top;var n="-"+Math.floor(t.element.width/2)+"px";$(this).css({top:a>0?a:0,left:"50%","margin-left":n})}};$.extend(i,a);if(typeof i.stacked_modal_id!="undefined"){var r=i.stacked_modal_id;if(!$("#"+r).length){$("body").append('<div id="'+r+'" title=""></div>')}var l=$(p).position().top+$(p).parent().position().top+5;var d;i.position={using:function(e,t){d="-"+Math.floor(t.element.width/2);$(this).css({top:l,left:e.left,minWidth:$(this).css("width"),borderTop:"none"});$(this).parent().css({top:$(p).parent().position().top})}};i.show={effect:"slideDown",complete:function(){$("#stacked-modal-dialog").parent().css({left:"50%","margin-left":d+"px"})},duration:350};i.hide={effect:"slideUp",duration:350}}else if(typeof i.inline_modal_id=="undefined"){if(!$("#modal-dialog").length){$("body").append('<div id="modal-dialog" title=""></div>')}}else{$("div.ui-dialog").removeClass("displaynone")}if(typeof i.inline_modal_id=="undefined"){$(c).html(t)}i.title=e;if(!i.create&&i.maxWidth){i.create=function(){$(this).css("maxWidth",i.maxWidth)}}$(c).dialog(i);$(".ui-widget-overlay").zIndex((0,n.getMaxZIndex)()+10);$(c).closest(".ui-dialog").zIndex((0,n.getMaxZIndex)()+10);if(a.privacy_link==true){$(".ui-dialog-buttonpane").append('<a href="http://www.bamboohr.com/privacy.php" class="privacyLink" target="_blank" rel="nofollow noopener noreferrer">'+$.__("Privacy Policy")+"</a>")}if(typeof a.button_pane_link!="undefined"){$(".ui-dialog-buttonpane").append('<a href="'+a.button_pane_link.url+'" class="privacyLink" target="_blank" rel="nofollow noopener noreferrer">'+a.button_pane_link.text+"</a>")}o.enableNoScroll();$(document).trigger("modalDialog:opened")}function b(){var e=$(".ui-dialog").width();$(".ui-dialog").css("margin-left",-Math.floor(e/2))}function w(e){var t;$("html").removeClass("noscroll");if(e===undefined){t=c}else{t=e}if($(t+".ui-dialog-content").length==0){return}$(t+".ui-dialog-content").dialog("destroy");$(t+" form").removeAttr("submitting");$(t).hide();o.disableNoScroll();$(document).trigger("modalDialog:closed")}function C(e){$(e).initializeElements();$("textarea[maxlength]").each((function(){$(this).limitCount($(this).attr("maxlength"))}))}function S(e,t,a,n,s,i){if(typeof i=="undefined"){i={}}$.get(t,i.url_data,(function(t){m(e,t,a,n,s,i)}));return false}function E(e,t,a){var n=$(c+" form");if(typeof t!="undefined"&&!t(n[0])){return false}window.BambooHR.Modal.setState({isProcessing:true},true);var s=BambooHR.Utils.Form.ajaxSubmit(n,a);if(s){s.then((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++){a[n]=arguments[n]}const s=a[0];e.apply(this,a);if(s.result.toLowerCase()==="success"){window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true)}})).fail((function(){window.BambooHR.Modal.setState({isProcessing:false},true)}))}return true}function x(e,t,a){var n="#modal-popup .save-button";if(typeof t!="undefined"){n="form#"+t+" .save-button"}$(n).click((function(){return T($(this).closest("form")[0],e,a)}));$("form#"+t).submit((function(){return T($(this)[0],e,a)}))}function T(e,t,a){var n=e.action;var s=$(e).serializeArray();if(typeof a!="undefined"){if(a(e)){$.post(n,s,t,"json")}}else{$.post(n,s,t,"json")}return false}(function(){if($.ui&&$.ui.dialog){$.ui.dialog.overlay.events=$.map("focus,keydown,keypress".split(","),(function(e){return e+".dialog-overlay"})).join(" ")}})()},68043:(e,t,a)=>{var $=a(26570);window.EmployeeComments={remove:function(e){e.fadeOut("fast",(function(){$.when($(this).remove()).then((function(){if(typeof calculateHeight==="function"){window.calculateHeight()}}))}))},getCommentId:function(e){let t=e.split("-");return t[1]},deleteNewFiles:function(e){e.siblings(".files").find(".newFile").each((function(){let e=window.EmployeeComments.getCommentId($(this).attr("id"));if(window.deleteTempFile(e)){$(this).remove()}}))},buildCommentFileUploader:function(e,t,a,n,s){let i={};i.onFallbackSuccess=function(t,a){if(s=="true"){$("#thread-"+e+" .add-reply .files").append(a)}else{$("#comment-"+e).find(".files").append(a)}};i.removeFile=function(e){if(e.attr("id")!=""){let t=window.EmployeeComments.getCommentId(e.attr("id"));if(window.deleteTempFile(t)){return true}}else{return true}return false};i.setDragOverValues=function(e){e.addClass("dragOver").find(".links-msg").text($.__("Drop to upload")).show()};i.linkHTML=t;i.uploaderId=e;$(n).fileUploader(i)}}},92544:(e,t,a)=>{"use strict";a.d(t,{Tl:()=>m,e8:()=>f});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(88604);var r=a(393);var l=a(56445);var c=a(14386);var $=a(26570);function d(e){const{SESSION_COMPANY:{id:t,name:a}}=window;return i().createElement(r.Z,(0,o.Z)({imageIcon:(0,l.ifFeature)("encore",undefined,"fab-company-circle-30x30"),imageJSX:(0,l.ifFeature)("encore",(0,n.Z)(c.I,{color:"neutral-extra-strong",name:"building-regular",size:30})),isModalHeader:false,subTitle:$.__(`Company ID: %1$s`,t),title:a},e))}var u=a(4715);var h=a(26570);const p=function(){let{isSheet:e=false,...t}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new Promise((a=>{if(!window.IS_TICKET_LOGIN){return a()}t={isOpen:true,title:h.__(`Hold on. Not so fast...`),headline:h.__(`Are you sure?`),icon:(0,l.ifFeature)("encore","building-circle-arrow-right-solid","fab-triangle-exclamation-48x48"),iconV2Color:(0,l.ifFeature)("encore","primary-strong"),iconColor:"attention",primaryActionText:h.__(`Yes`),content:(0,n.Z)(s.Fragment,{},void 0,(0,n.Z)("p",{className:"TicketLoginModal__message"},void 0,[h.__(`Please, double check that you are uploading the right file to the right company.`),h.__(`This action has serious data security implications.`)].join(" ")),(0,l.ifFeature)("encore",(0,n.Z)(u.D,{marginTop:2.5})),(0,n.Z)("div",{className:"TicketLoginModal__badgeWrapper"},void 0,(0,n.Z)(d,{}))),primaryAction(){g(e);setTimeout(a,0)},onClose(){g(e)},...t};if(e){t={sheetProps:t}}window.BambooHR.Modal.setState(t,e)}))};const m=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return p({headline:h.__(`Are you sure you want to import this file for this company?`),primaryActionText:h.__(`Yes, Upload The File`),...e})};const f=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return m({headline:h.__(`Are you sure you want to upload this file for this company?`),...e})};const g=e=>window.BambooHR.Modal.setState({sheetProps:null},e)},31235:(e,t,a)=>{"use strict";a.d(t,{WD:()=>v,Ml:()=>g,N8:()=>S,mX:()=>k});var n=a(89835);var s=a(23321);var i=a(73641);var o=a(56445);var r=a(88721);var l=a(21198);var c=a(59592);var d=a(38592);var u=a(69679);var h=a(37194);var moment=a(82543);var $=a(26570);const p=new l.BEM("BackupCodes");function m(e){const{codes:t,date:a,shouldChunk:i=true}=e;const[o,r]=(0,s.useState)([]);const[l,c]=(0,s.useState)(null);(0,s.useEffect)((()=>{if(i){const e=t.map(((e,t)=>{const{backupCode:a,...n}=e;let s=a;if(a.length>=2){const e=Math.floor(a.length/2);s=a.split("");s.splice(e,0," ");s=s.join("")}return{backupCode:s,...n}}));r(e)}}),[i,t]);(0,s.useEffect)((()=>{if(a){const e=moment(a).format("MMM D, YYYY");c(e||null)}}),[a]);return(0,n.Z)("div",{className:p.elem("wrapper")},void 0,(0,n.Z)("ul",{className:p.elem("list")},void 0,o.map((e=>{const{backupCode:t,dateUsed:a,id:s}=e;return(0,n.Z)("li",{className:p.elem("code",{used:!!a})},`backupCode-${s}`,t)}))),l&&(0,n.Z)("span",{className:p.elem("date")},void 0,(0,n.Z)(h.Message,{text:$._("Generated on {1}"),params:[l]})))}var f=a(26570);const g=f.__("2-Step Login Backup Codes");const v=f.__("Keep these codes safe, but accessible.");const y=f.__("Uh-oh. Something went wrong, please try this again later.");var b=a(26570);const w=new l.BEM("BackupCodesContent");const C=w.elem("printWrapper");function S(e){const{onEndGeneratingNewCodes:t=i.noop,onStartGeneratingNewCodes:a=i.noop,printRequestCount:l=0,userId:h=window.SESSION_USER.id}=e;const[p,f]=(0,s.useState)(null);const[g,S]=(0,s.useState)(null);const[E,x]=(0,s.useState)(false);const T=()=>{const e=u.HW;x(true);a();e(h).then((e=>{const{data:a}=e;if((0,i.isArray)(a)&&!(0,i.isEmpty)(a)){f(a);S(a[0].dateGenerated);t(a)}else{t()}})).catch((()=>{t();(0,c.f)(y,"error")})).finally((()=>{x(false)}))};(0,s.useEffect)((()=>{T()}),[]);(0,s.useEffect)((()=>{if(l>0){(0,d.printDiv)(`.${C}`)}}),[l]);return(0,n.Z)("div",{className:C},void 0,(0,n.Z)("h4",{className:w.elem("printHeader")},void 0,v),(0,n.Z)("div",{className:w.elem("copy")},void 0,(0,n.Z)("p",{},void 0,(0,o.ifFeature)("encore",b.__("If you lose your phone or otherwise can't get codes via SMS or an Authenticator, you can use backup codes to sign in with 2-Step Login."),b.__("If you lose your phone or otherwise can't get codes via an Authenticator, you can use backup codes to sign in with 2-Step Login."))),(0,n.Z)("br",{}),(0,n.Z)("p",{},void 0,b.__("After you use a backup code to sign in, it becomes inactive.")),(0,n.Z)("p",{},void 0,b.__("You can generate a new set of 10 codes whenever you want. After creating a new set, the old set automatically becomes inactive."))),p&&(0,n.Z)("div",{},void 0,(0,n.Z)(m,{codes:p,date:g}),(0,n.Z)("div",{className:w.elem("buttonWrapper")},void 0,(0,n.Z)(r.B,{clickAction:()=>T(),iconBefore:(0,o.ifFeature)("encore","arrow-rotate-right-regular","fab-circle-arrow-16x16"),isDisabled:E,outline:true,secondary:true,text:b.__("Generate New Codes")}))))}var E=a(41201);var x=a(26570);const T=e=>{const t=e.reduce(((e,t)=>{const{backupCode:a,dateUsed:n}=t;let s=a;if(n){s=s.concat(x.__(" (used)"))}return e.concat(s,"\n")}),"");return t};const k=async function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window.SESSION_USER?.id;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;try{if(t){(0,E.Sv)({fileName:"backup-codes.txt",fileData:T(t)});return}const a=await(0,u.HW)(e);const n=T(a.data);(0,E.Sv)({fileName:"backup-codes.txt",fileData:n})}catch(e){(0,c.f)(y,"error")}}},10224:(e,t,a)=>{"use strict";a.d(t,{p:()=>d});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(98675);var r=a(60658);var l=a(31235);var $=a(26570);function c(e){const{userId:t}=e;const[a,i]=(0,s.useState)(false);const[c,d]=(0,s.useState)(0);return(0,n.Z)(o.u_,{additionalAction:()=>d((e=>e+1)),additionalActionText:$.__("Print"),additionalActionButtonType:"button",alternativeAction:null,content:(0,n.Z)(l.N8,{onStartGeneratingNewCodes:()=>i(true),onEndGeneratingNewCodes:()=>i(false),printRequestCount:c,userId:t}),headerType:"text",headline:l.WD,icon:"fab-lock-person-18x18",iconColor:"theme",isOpen:true,isProcessing:a,onClose:()=>(0,r.Mr)(),primaryAction:()=>(0,r.Mr)(),primaryActionText:$.__("Done"),secondaryAction:()=>(0,l.mX)(t),secondaryActionText:$.__("Download"),title:l.Ml})}const d=e=>(0,r.K4)(i().createElement(c,e))},9080:(e,t,a)=>{"use strict";a.d(t,{U:()=>p});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(26242);var r=a(7167);var l=a(98675);var c=a(60658);var d=a(69679);var u=a(59929);var $=a(26570);function h(e){const{userId:t,name:a,onReset:i=(()=>{}),isResettingOwnMfa:h}=e;const[p,m]=(0,s.useState)(false);return(0,n.Z)(l.u_,{content:(0,n.Z)(o.L,{marginX:3},void 0,(0,n.Z)(r.B,{justify:"center"},void 0,a?$.__("The next time %s logs in, they will be directed to set up an authentication app and be able to scan the QR code.",a):$.__("The next time you log in, you will be directed to set up an authentication app and be able to scan the QR code."))),headline:a?$.__(`Reset %s's 2-Step Login?`,a):$.__("Reset Your 2-Step Login?"),icon:"lock-regular",iconV2Color:"primary-strong",isOpen:true,isProcessing:p,onClose:()=>(0,c.Mr)(),primaryAction:()=>{m(true);(0,d.lQ)(t).then((()=>{i();m(false);const e=a?$.__("2-Step Login has been reset for %1$s",a):$.__("2-Step Login has been reset.");window.setMessage(e,"success");if(t===window.SESSION_USER?.id||h){(0,u.P)()}(0,c.Mr)()})).catch((()=>{m(false);window.setMessage($.__("Uh-oh. Something went wrong, please try again!"),"error")}))},primaryActionText:$.__("Yes, Reset"),title:$.__("Just making sure...")})}const p=e=>(0,c.K4)(i().createElement(h,e))},73565:(e,t,a)=>{"use strict";a.d(t,{WD:()=>s.WD,N8:()=>s.N8,CW:()=>u.f4,yy:()=>d,M_:()=>r,kR:()=>u.kR,VG:()=>u.VG,Gu:()=>u.Gu,mK:()=>u.mK,lQ:()=>u.lQ,Ub:()=>u.Ub,mX:()=>s.mX,VK:()=>u.VK,K7:()=>p,PK:()=>b.P,AS:()=>g,g9:()=>v,dM:()=>y,Ut:()=>n.U});var n=a(9080);var s=a(31235);var i=a(10224);var o=a(89100);let r=function(e){e["ACCESS_LEVEL"]="accessLevel";e["COMPANY"]="company";e["USER_OPT_IN"]="userOptIn";return e}({});const l=3;const c=[0,2e3,3e3,4e3];let d=function(e){e["VALID"]="tokenValid";e["INVALID"]="tokenInvalid";e["ERROR"]="unexpectedError";return e}({});var u=a(69679);const h="remember_token";function p(){if((0,o.canUseLocalStorage)()){const e=localStorage.getItem(h);return e}return null}let m=0;const f=e=>new Promise((t=>setTimeout(t,e)));async function g(e,t){if(!t){return d.INVALID}try{m++;const{status:n}=await(0,u.EZ)(e,t);if(n===200){m=0;return d.VALID}return a()}catch(e){if(e?.response?.status===401&&e?.response?.data?.errorCode==="Invalid JWT"){return d.INVALID}return a()}function a(){if(m<=l){const a=c[m];console.log(`Error validating remember token, retrying in ${a/1e3} seconds...`);return f(a).then((()=>g(e,t)))}m=0;return d.ERROR}}function v(){if((0,o.canUseLocalStorage)()){localStorage.removeItem(h)}}function y(e){if((0,o.canUseLocalStorage)()){localStorage.setItem(h,e)}}var b=a(59929)},59929:(e,t,a)=>{"use strict";a.d(t,{P:()=>i});var n=a(9080);var s=a(10224);var $=a(26570);$("body").off("click.manage-nav-reset-mfa").on("click.manage-nav-reset-mfa",".js-manage-nav-reset-mfa",(e=>{const{userId:t}=e.target.dataset;(0,n.U)({userId:t,isResettingOwnMfa:true})}));$("body").off("click.manage-nav-backup-codes").on("click.manage-nav-backup-codes",".js-manage-nav-backup-codes",(e=>{const{userId:t}=e.target.dataset;(0,s.p)({userId:t})}));function i(){const e=document.querySelectorAll(".js-manage-nav-mfa-option");if(e.length){e.forEach((e=>e.classList.add("hidden")))}}function o(){const e=document.querySelectorAll(".js-manage-nav-mfa-option");if(e.length){e.forEach((e=>e.classList.remove("hidden")))}}},69679:(e,t,a)=>{"use strict";a.d(t,{EZ:()=>p,Gu:()=>o,HW:()=>h,Ub:()=>l,VG:()=>d,VK:()=>m,f4:()=>i,kR:()=>c,lQ:()=>u,mK:()=>r});var n=a(17842);var s=a.n(n);const i="/multi_factor_authentication";function o(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window.SESSION_USER?.id;return s().get(`${i}/${e}`)}function r(e){return s().post(i,e)}function l(e){return s().put(i,e)}function c(){return s()["delete"](i)}function d(){return s().get(`${i}/users`)}function u(e){return s()["delete"](`${i}/${e}`)}function h(e){return s().post(`${i}/${e}/backup_codes`)}function p(e,t){return s().request({headers:{rememberToken:`Bearer ${t}`},method:"post",url:`${i}/${e}/validate_remember_token`})}function m(){return s().get("/multi_factor_authentication/account_configuration")}},98976:(e,t,a)=>{"use strict";a.d(t,{q:()=>o});var n=a(89835);var s=a(23321);var i=a(40724);const o=e=>{let{employeeId:t,isEmployeeNewHirePacket:a,isNewEmployeeForm:s}=e;return(0,n.Z)(i.x5,{customClassNamePrefix:"employee-pay-info-direct-deposit-tab",employeeId:t,isEmployeeNewHirePacket:a,isNewEmployeeForm:s,payroll:{payrollServicesHost:window.PAYROLLSERVICES_HOST},route:"/employees/pay_info/direct_deposit_summary"})}},65832:(e,t,a)=>{"use strict";a.d(t,{c:()=>M});var n=a(89835);var s=a(44119);var i=a(23321);var o=a.n(i);var r=a(98675);var l=a(79340);var c=a(44816);var d=a(17842);var u=a.n(d);var h=a(73641);var p=a(14386);var $=a(26570);const m={city:{error:false,value:""},email:{value:""},id:null,isProcessing:false,name:{error:false,value:""},phone:{error:false,value:""},state:{error:false,value:""},street1:{error:false,value:""},street2:{value:""},zip:{error:false,value:""}};const f={city:{placeholder:$.__("City"),size:"long fab-TextInput--width5"},email:{icon:(0,n.Z)(p.I,{color:"neutral-weak",name:"envelope-solid",size:16}),placeholder:$.__("Email"),size:"xlong fab-TextInput--width8"},phone:{icon:(0,n.Z)(p.I,{color:"neutral-weak",name:"mobile-screen-button-solid",size:16}),placeholder:$.__("Phone"),size:"xlong fab-TextInput--width6"},street1:{placeholder:$.__("Street 1"),size:"xxlong fab-TextInput--width8"},street2:{placeholder:$.__("Street 2"),size:"xxlong fab-TextInput--width8"},zip:{placeholder:$.__("ZIP"),size:"xshort fab-TextInput--width3"}};const g=$.__("Whoops... No worries. Please fix any missing or incorrect information and try again.");const v=$.__(`Uh oh...something went wrong, and the payee wasn't saved. Try it again?`);var y=a(56921);var b=a(51178);var w=a(21198);var C=a(59592);var S=a(26570);function E(e){const{name:t,street1:a,city:n,state:s,zip:i,phone:o}=e;let r=true;if(!t.value){t.error=true;r=false}if(!a.value){a.error=true;r=false}if(!n.value){n.error=true;r=false}if(!s.value){s.error=true;r=false}if(!i.value){i.error=true;r=false}if(!o.value){o.error=true;r=false}if(!r){return{success:r,errorData:{isProcessing:false,name:t,street1:a,city:n,state:s,zip:i,phone:o}}}return{success:r}}function x(e,t){return(0,w.classNameFromObject)({fieldBox:true,required:e,error:t})}function T(e,t){if(e&&typeof e==="object"&&e.hasOwnProperty("id")&&e.name&&e.street1&&e.hasOwnProperty("street2")&&e.city&&e.state&&e.zip&&e.phone&&e.hasOwnProperty("email")){return{success:true,data:{employeeId:t,id:e.id,payeeName:e.name.value,addressLine1:e.street1.value,addressLine2:e.street2.value,city:e.city.value,stateId:e.state.value,zipcode:e.zip.value,phone:e.phone.value,email:e.email.value}}}return{success:false}}function k(e){if(e&&typeof e==="object"&&e.hasOwnProperty("id")&&e.hasOwnProperty("payeeName")&&e.hasOwnProperty("addressLine1")&&e.hasOwnProperty("addressLine2")&&e.hasOwnProperty("city")&&e.hasOwnProperty("stateId")&&e.hasOwnProperty("zipcode")&&e.hasOwnProperty("phone")&&e.hasOwnProperty("email")){return{success:true,data:{id:e.id,name:{value:e.payeeName?e.payeeName:""},street1:{value:e.addressLine1?e.addressLine1:""},street2:{value:e.addressLine2?e.addressLine2:""},city:{value:e.city?e.city:""},state:{value:e.stateId?e.stateId:""},zip:{value:e.zipcode?e.zipcode:""},phone:{value:e.phone?e.phone:""},email:{value:e.email?e.email:""}}}}return{success:false}}const I=(e,t)=>{let{errorOrigin:a,errorType:n,globalPayeeType:s}=e;let i;if(s){if(s==="CS"){i="Child Support"}else{i="Tax Levy"}}if(a===2&&n===1){(0,C.f)(S.__('Bummer! Looks like "%s" is already used. Please try a unique name',t.payeeName),"error")}if(a===2&&n===2){(0,C.f)(S.__("Looks like this address is already being used. Please update, or use existing payee with this address."),"error")}if(a===2&&n===3){(0,C.f)(S.__("Bummer! Looks like this Payee Name, and Address is already used. Please update below."),"error")}if(a===1&&n===1){(0,C.f)(S.__("Bummer! Looks like this payee name is associated with an existing %s payee. Please update.",i),"error")}if(a===1&&n===2){(0,C.f)(S.__("Bummer! Looks like this address is associated with an existing %s payee. Please update.",i),"error")}if(a===1&&n===3){(0,C.f)(S.__("Bummer! Looks like this payee name, and address is associated with an existing %s payee. Please update.",i),"error")}};const A=(e,t,a,s,i,r,l,c)=>{const d=()=>{const n=a.find((e=>e.id===t.toString())).stateId;l(true);r([n]);i([t.toString()]);e()};return o().createElement(o().Fragment,null,(0,n.Z)(y.F,{flexDirection:"row"},void 0,(0,n.Z)("span",{className:`subscript__text ${s}`},void 0,S.__("This %s already exists. ",s)),c!=="edit"&&(0,n.Z)(b.T,{className:`subscript__button ${s}`,onClick:d,type:"button"},void 0,S.__("Use existing payee"))))};const F=(e,t,a,n,s,i,r,l,c,d,u,h)=>{let{errorOrigin:p,errorType:m,globalPayeeType:f,customPayeeId:g}=h;if(p===2){if(m===1||m===3){e(true);t(true);s(A(r,g,l,"name",i,c,d,u))}if(m===2){a(true);n(true);s(A(r,g,l,"address",i,c,d,u))}}if(p===1){let i;if(f==="CS"){i="Child Support"}else{i="Tax Levy"}s(o().createElement(o().Fragment,null,S.__("Please update, or set this deduction up as a %s deduction.",i)));if(m===1||m===3){e(true);t(true)}if(m===2){a(true);n(true)}}};var Z=a(26570);class M extends i.Component{static get className(){return"PayeeModal"}constructor(e){super(e);(0,s.Z)(this,"_resetState",(()=>this.setState(this._originalState)));(0,s.Z)(this,"_closeModal",(()=>{const{onClose:e}=this.props;this._resetState();e()}));(0,s.Z)(this,"_getStateSelectData",(()=>{let e;let t;if(this.props.type!=="edit"&&!this.props.isFromSettingsPage){e=this.props.allStates;if(this.props.selectedState&&this.props.selectedState.length>0){t=this.props.selectedState[0]}}else{e=this.state.allStates;t=this.state.state.value}const a=e?.map((e=>({displayText:e.name,value:e.id,selected:e.id===t})));return{data:{items:a},settings:{placeholder:"State"},className:"xshort",onChange:this._handleStateSelectChange}}));(0,s.Z)(this,"setShowNameSubscript",(e=>{this.setState({showNameSubscript:e})}));(0,s.Z)(this,"setShowAddressSubscript",(e=>{this.setState({showAddressSubscript:e})}));(0,s.Z)(this,"setSubscriptContent",(e=>{this.setState({subscriptContent:e})}));(0,s.Z)(this,"setNameError",(e=>{const t=(0,h.cloneDeep)(this.state.name);t.error=e;this.setState({name:t})}));(0,s.Z)(this,"setAddressError",(e=>{const t=(0,h.cloneDeep)(this.state.street1);t.error=e;this.setState({street1:t})}));(0,s.Z)(this,"_getAllStateData",(()=>{u().get("/ajax/get_states?country=1").then((e=>{if(e.status===200&&e.data&&e.data.data){this.setState({allStates:e.data.data})}}))}));(0,s.Z)(this,"_savePayee",((e,t)=>{const{onSaveSuccess:a,onClose:n,type:s}=this.props;u().request({method:t,url:"/payroll/non_benefit_deductions/payee",data:e}).then((t=>{if(t.status===200||t.status===201){if(t.data.errorOrigin){I(t.data,e);F(this.setShowNameSubscript,this.setNameError,this.setShowAddressSubscript,this.setAddressError,this.setSubscriptContent,this.props.setSelectedPayee,this._closeModal,this.props.customPayees,this.props.setSelectedState,this.props.setIsPayeeFromValidator,s,t.data);this.setState({isProcessing:false})}else{if(typeof a==="function"){a(t.data)}if(s==="edit"){this._originalState=this.state}this._resetState();n()}}else{window.setMessage(v,"error");this.setState({isProcessing:false})}})).catch((()=>{window.setMessage(v,"error");this.setState({isProcessing:false})}))}));(0,s.Z)(this,"_handleStateSelectChange",(e=>{if(this.props.type!=="edit"&&!this.props.isFromSettingsPage){const{setSelectedState:t}=this.props;const a=e?[e.value]:[];t(a)}this.setState({state:{value:e?e.value:"",error:false}})}));(0,s.Z)(this,"_handleInputChange",((e,t)=>{const a={};a[t]={value:e?e.target.value:"",error:false};this.setState(a)}));(0,s.Z)(this,"_handleSaveClick",(()=>{this.setShowAddressSubscript(false);this.setAddressError(false);this.setShowNameSubscript(false);this.setNameError(false);this.setSubscriptContent(null);const e=E(this.state);const{type:t}=this.props;if(e.success){const{employeeId:e}=this.props;const a=T(this.state,e);if(a.success){const e=t==="edit"?"put":"post";this._savePayee(a.data,e)}else{window.setMessage(g,"error");this.setState({isProcessing:false})}}else{window.setMessage(g,"error");this.setState(e.errorData)}}));(0,s.Z)(this,"_renderInputFieldBox",((e,t)=>{const a=f[e];const s=this.state[e];return(0,n.Z)("div",{className:x(t,s.error)},void 0,(0,n.Z)("div",{className:"fab-InputWrapper"},void 0,(0,n.Z)("input",{className:`fab-TextInput ${a.icon?"fab-TextInput--withNub":""} ${a.size} ${s.error?"fab-TextInput--error":""}`,onChange:t=>this._handleInputChange(t,e),placeholder:a.placeholder,type:"text",value:s.value}),a.icon&&(0,n.Z)("span",{className:"fab-TextInputNub"},void 0,(0,n.Z)("span",{className:"fab-TextInputNub__icon"},void 0,a.icon))))}));(0,s.Z)(this,"_renderValidationInputFieldBox",((e,t)=>{const a=f[e];const s=this.state[e];return(0,n.Z)(l.T,{onChange:t=>this._handleInputChange(t,e),placeholder:a.placeholder,value:s.value})}));const{type:t,payeeData:a}=this.props;let i=(0,h.cloneDeep)(m);if(t==="edit"&&a){const e=k(a);if(e.success){i=(0,h.merge)(i,e.data)}}const o={showNameSubscript:false,showAddressSubscript:false,subscriptContent:null};i=(0,h.merge)(i,o);this._originalState=(0,h.cloneDeep)(i);this.state=i}componentDidMount(){if(this.props.type==="edit"&&this.props.isFromSettingsPage){this._getAllStateData()}}componentDidUpdate(e,t,a){if(e.selectedState!==this.props.selectedState&&this.props.selectedState.length>0){const e={value:this.props.selectedState[0],error:false};this._originalState.state=e;this.setState({state:e})}}render(){const{name:e,state:t,isProcessing:a}=this.state;const{isFromSettingsPage:s,visible:i,onClose:l,type:d}=this.props;let u;let h;let p;let m;if(d!=="edit"&&!s){u=this.props.allStates}else{u=this.state.allStates}h=this.state.showNameSubscript;p=this.state.showAddressSubscript;m=this.state.subscriptContent;return(0,n.Z)(r.u_,{isOpen:i,isProcessing:a,onClose:()=>{this._resetState();l()},primaryAction:()=>{this.setState({isProcessing:true},this._handleSaveClick)},primaryActionText:Z.__("Save"),title:d==="edit"?Z.__("Edit Payee"):Z.__("Add Payee")},void 0,(0,n.Z)("form",{className:"BhrForms Payee__form BhrForms--modal-override fab-Form"},void 0,(0,n.Z)("fieldset",{},void 0,(0,n.Z)("div",{className:"fieldRow fab-FormRow"},void 0,(0,n.Z)("div",{className:x(true,e.error)},void 0,(0,n.Z)("label",{className:`fab-Label fab-Label--required ${e.error?"fab-Label--error":""}`,htmlFor:"name"},void 0,"Payee Name"),(0,n.Z)("input",{className:`xlong fab-TextInput fab-TextInput--width8 ${e.error?"fab-TextInput--error":""}`,id:"name",onChange:e=>this._handleInputChange(e,"name"),type:"text",value:e.value}))),h&&(0,n.Z)("div",{className:"subscript"},void 0,m),(0,n.Z)("div",{className:"fieldGroup required",id:"address"},void 0,(0,n.Z)("label",{className:`fab-Label fab-Label--required ${this.state.street1.error?"fab-Label--error":""}`,htmlFor:"address"},void 0,"Address"),(0,n.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("street1",false)),p&&(0,n.Z)("div",{className:"subscript"},void 0,m),(0,n.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("street2",false)),(0,n.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("city",false),(0,n.Z)("div",{className:x(false,t.error)},void 0,u&&o().createElement(c.ZP,this._getStateSelectData())),this._renderInputFieldBox("zip",false))),(0,n.Z)("div",{className:"fieldGroup",id:"contactInfoPhone"},void 0,(0,n.Z)("label",{className:"fab-Label fab-Label--required",htmlFor:"contactInfoPhone"},void 0,Z.__("Phone")),(0,n.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("phone",true))),(0,n.Z)("div",{className:"fieldGroup",id:"contactInfoEmail"},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"contactInfoEmail"},void 0,Z.__("Email")),(0,n.Z)("div",{className:"fieldRow fab-FormRow"},void 0,this._renderInputFieldBox("email",false))))))}}},84939:(e,t,a)=>{"use strict";a.d(t,{P:()=>u});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(56921);var r=a(86511);var l=a(60042);var c=a.n(l);function d(e,t){const a=e.replace(/[^0-9.]/g,"");const n=t==="percent"?Math.min(parseFloat(a),100)+"%":"$"+parseFloat(a).toFixed(2);return n}var $=a(26570);function u(e){const{type:t,data:a,viewOnly:l,is2020:u,setAdditionalWithholding:h=(()=>{}),setCurrencyType:p}=e;const m=(0,s.useRef)();const f=(0,s.useRef)();const g=(0,s.useRef)();const[v,y]=(0,s.useState)(a.type);(0,s.useLayoutEffect)((()=>{if(a.type&&!v){y(a.type)}}),[a.type,v]);(0,s.useLayoutEffect)((()=>{if(f.current.checked){m.current.classList.add("currency-field")}else if(g.current.checked){m.current.classList.add("percent-field")}}),[]);const b=c()("fab-TextToggle",{"fab-TextToggle--disabled":l});const w=c()("fab-Label",{"fab-Label--disabled":l});const C="fab-TextToggle__input";const S="fab-TextToggle__input";const E="fab-TextToggle__label bhrToggle__label bhrToggle--btn__label";const x="fab-TextToggle__handle bhrToggle__handle bhrToggle--btn__handle";const T=`.js-${t}AdditionalWithholding`;const k=a?.range?.max||999999999.99;const I=e=>{h(d(e.target.value,a.type))};return(0,n.Z)("div",{className:"AdditionalWithholding fab-FormColumn"},void 0,(0,n.Z)("label",{className:w,htmlFor:`${t}Additional`},void 0,u?$.__("Extra Withholding"):$.__("Additional Withholding")),(0,n.Z)(o.F,{alignItems:"center",gap:1},void 0,(0,n.Z)("div",{className:b},void 0,i().createElement("input",{className:C,"data-currency-toggle":"$","data-field-class":`js-${t}AdditionalWithholding`,"data-flag":"currency",defaultChecked:v==="currency"?"checked":null,disabled:l,id:`${t}Currency`,name:`${t}[withholdExtraType]`,onBlur:A,onChange:e=>{window.BambooHR.Utils.formatCurrencyPercentToggle(e.target,T,2,false,",",".");p(e.target.value==="%"?"percent":"currency");h(d(a.amount,e.target.value==="%"?"percent":"currency"))},ref:f,type:"radio",value:"$"}),(0,n.Z)("label",{className:E,htmlFor:`${t}Currency`},void 0,"$"),i().createElement("input",{className:S,"data-currency-toggle":"%","data-field-class":`js-${t}AdditionalWithholding`,"data-flag":"percent",defaultChecked:v==="percent"?"checked":null,disabled:l,id:`${t}Percentage`,name:`${t}[withholdExtraType]`,onBlur:A,onChange:e=>{window.BambooHR.Utils.formatCurrencyPercentToggle(e.target,T,2,false,",",".");p(e.target.value==="%"?"percent":"currency");h(d(a.amount,e.target.value==="%"?"percent":"currency"))},ref:g,type:"radio",value:"%"}),(0,n.Z)("label",{className:E,htmlFor:`${t}Percentage`},void 0,"%"),(0,n.Z)("span",{className:x})),(0,n.Z)(o.F,{alignItems:"center",gap:1},void 0,i().createElement("input",{className:`AdditionalWithholding__amount fab-TextInput fab-TextInput--width5 js-${t}AdditionalWithholding`,"data-allow-negative-amount":a.allowNegativeAmount,"data-cursymbol":"$","data-decimal-char":".","data-range-max":k,"data-range-min":a?.range?.min||0,"data-thousands-separator":",",defaultValue:a.amount,disabled:l,id:`${t}Additional`,name:`${t}[withholdExtraValue]`,onBlur:A,onChange:I,ref:m,type:"text"}),(0,n.Z)(r.F,{},void 0,$.__("Per Pay Period")))));function A(){if(!f.current||!g.current){return}const e=a?!a.allowNegativeAmount:true;if(f.current.checked){window.BambooHR.Utils.formatCurrencyPercentToggle(f.current,T,2,e,",",".")}else if(g.current.checked){window.BambooHR.Utils.formatCurrencyPercentToggle(g.current,T,2,true)}const t=".js-stateAdditionalWithholding";const n=".js-fedAdditionalWithholding";const s=$(t);const i=$(n);const o=s.length>0?parseFloat(s.val().replace("$","").replaceAll(",",""))||0:0;const r=i.length>0?parseFloat(i.val().replace("$","").replaceAll(",",""))||0:0;const l=o>k;const c=r>k;if(l){s.val(k);s.blur()}if(c){i.val(k);i.blur()}if(l&&c){setMessage($.__("Additional State and Federal Withholding amounts must be less than $1,000,000,000.00"),"error")}else if(l){setMessage($.__("Additional State Withholding amount must be less than $1,000,000,000.00"),"error")}else if(c){setMessage($.__("Extra Federal Withholding amount must be less than $1,000,000,000.00"),"error")}}}},54708:(e,t,a)=>{"use strict";a.d(t,{M:()=>K});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(56921);var r=a(37091);var l=a(26242);var c=a(81709);var d=a(405);var u=a(84164);var h=a(77343);var p=a(37194);var m=a(60042);var f=a.n(m);var g=a(84939);var v=a(77376);var y=a(2842);var $=a(26570);const b=$.__("Does federal tax withholding apply to this employee?");const w=$.__("Does federal tax withholding apply to you?");const C=$.__("No, employee is federal tax exempt (this is uncommon)");const S=$.__("No, I am federal tax exempt (this is uncommon)");const E=$.__("Federal Income Tax and Any Additional Withholdings Wont Be Deducted From This Employees Paychecks");const x=$.__("Federal Income Tax Wont Be Withheld From Your Paychecks");const T=$.__("You Are Exempt From FICA");const k=$.__("Social Security and Medicare taxes wont be collected from your paychecks or reported on your W-2.");const I=$.__("Uh oh, something went wrong with your FICA or FUTA");const A=$.__("Please refresh your page and try again.");const F=$.__("Federal Unemployment Taxes Wont Be Withheld From This Employees Paycheck");const Z=$.__("Social Security, and Medicare Taxes Wont Be Withheld From This Employees Paycheck");const M=$.__("Federal Unemployment, Social Security, and Medicare Taxes Wont Be Withheld From This Employees Paycheck");const N=$.__("These taxes wont be collected and income wont be reported on their W-2.");const D=$.__("These taxes wont be collected and income wont be reported on their W-2.");const L=$.__("These taxes wont be collected and income wont be reported on their W-2.");function P(e,t,a){if(a){if(e&&!t){return{header:F,body:N}}if(!e&&t){return{header:Z,body:D}}return{header:M,body:L}}if(t){return{header:T,body:k}}return{header:I,body:A}}function O(e){const t=e.replace(/[^0-9.]/g,"");const a="$"+parseFloat(t).toFixed(2);return a}var R=a(86930);var B=a(14386);var H=a(91118);var j=a(7167);var z=a(26570);function q(){const e=(0,s.useRef)(null);const[t,a]=(0,s.useState)(false);return(0,n.Z)("div",{},void 0,i().createElement(R.I,{"aria-label":z.__("FedWithholdingExemptionNote"),color:"primary",floatingIcon:true,icon:(0,n.Z)(B.I,{name:"circle-question-regular",size:12}),noBoundingBox:true,onClick:()=>a(true),ref:e,size:"teenie",type:"button"}),(0,n.Z)(H.P,{anchorEl:e.current,onClose:()=>a(false),open:t,placement:"right",title:z.__(`Exemption Options`)},void 0,(0,n.Z)(j.B,{},void 0,z.__("FUTA provides federal unemployment compensation to workers who lose their jobs, while FICA funds Social Security and Medicare.")),(0,n.Z)(l.L,{marginTop:1},void 0,z.__("If an employee is exempt from FUTA or FICA, these taxes wont be collected, and income wont be reported on their W-2."))))}var W=a(26570);function U(){const e=(0,s.useRef)(null);const[t,a]=(0,s.useState)(false);return(0,n.Z)("div",{},void 0,i().createElement(R.I,{"aria-label":W.__("FedWithholdingEmployeeExemptionNote"),color:"primary",floatingIcon:true,icon:(0,n.Z)(B.I,{name:"circle-question-regular",size:12}),noBoundingBox:true,onClick:()=>a(true),ref:e,size:"teenie",type:"button"}),(0,n.Z)(H.P,{anchorEl:e.current,onClose:()=>a(false),open:t,placement:"right",title:W.__(`Tax Exemptions`)},void 0,W.__("In rare cases, you may not be required to have federal taxes withheld. Please contact your companys admin if you need to make changes to your federal tax withholdings.")))}var V=a(17611);var G=a(26570);const Y=[{text:G.__("Single, or Married Filing Separately"),value:"Single"},{text:G.__("Married Filing Jointly"),value:"Married"},{text:G.__("Head of Household"),value:"marriedSingleRate"}];function K(e){const{filingStatus:t,twoJobs:a=false,dependentsAmount:m="",headerHeadlineSize:T,otherIncome:k="",deductions:I="",viewOnly:A=false,additionalWithholding:F={amount:0,type:"currency"},ignoreStatusExemptions:Z=false,isEmployerView:M,futaExempt:N=false,ficaExempt:D=false,showExemptions:L=true,showWithholding:R,usesSectionComponent:B}=e;const{amount:H,type:j}=F;const[z,W]=(0,s.useState)(t);const[K,X]=(0,s.useState)(D);const[J,Q]=(0,s.useState)(N);const[ee,te]=(0,s.useState)(Z);const[ae,ne]=(0,s.useState)(m);const[se,ie]=(0,s.useState)(k);const[oe,re]=(0,s.useState)(I);const[le,ce]=(0,s.useState)(a);const[de,ue]=(0,s.useState)(Number(H)&&j?(0,V.Xh)(H,j):(0,V.Xh)(0,j??"%"));const[he,pe]=(0,s.useState)(j);const me=(0,n.Z)(o.F,{flexDirection:"column"},void 0,(0,n.Z)(o.F,{marginBottom:1},void 0,G.__("Just so you know, federal taxable wages will still be reported as income on their W-2.")),(0,n.Z)("div",{},void 0,(0,n.Z)(p.Message,{link:(0,p.ExternalLink)("https://www.irs.gov/pub/irs-pdf/fw4.pdf"),text:G._("**Please note:** The IRS requires annual updates to employees [W-4 form] when they are exempt.")})));const fe=(0,n.Z)(o.F,{flexDirection:"column"},void 0,(0,n.Z)(o.F,{marginBottom:1},void 0,G.__("Just so you know, federal taxable wages will still be reported as income on your W-2.")),(0,n.Z)("div",{},void 0,(0,n.Z)(p.Message,{link:(0,p.ExternalLink)("https://www.irs.gov/pub/irs-pdf/fw4.pdf"),text:G._("**Please note:** The IRS requires annual updates to your [W-4 form] when you are exempt.")})));const ge=f()("fab-Label fab-Label--required",{"fab-Label--disabled":ee||A});const ve=f()("fab-Label",{"fab-Label--disabled":A});return(0,n.Z)(v.Z,{hidden:R===false,usesSectionComponent:B},void 0,(0,n.Z)("fieldset",{},void 0,(0,n.Z)(y.r,{hasPopover:true,headlineSize:T,popoverContent:(0,n.Z)(p.Message,{link:(0,p.ExternalLink)("https://apps.irs.gov/app/withholdingcalculator/"),text:G._("This determines how much you will withhold from your paycheck for federal taxes. The IRS has provided a handy [withholding calculator] to help you figure out what to elect.")}),popoverIcon:"circle-question-regular",popoverPlacement:"bottom",popoverTitle:G.__("Federal Tax Withholding")},void 0,G.__("Federal Tax Withholding")),(0,n.Z)(o.F,{alignItems:"center",width:"100%"},void 0,(0,n.Z)(o.F,{flexDirection:"column"},void 0,(0,n.Z)(o.F,{marginTop:2},void 0,(0,n.Z)(r.L,{disabled:A},void 0,M?b:w),M===false&&A?(0,n.Z)(l.L,{marginBottom:"10px",marginLeft:1},void 0,(0,n.Z)(U,{})):null),(0,n.Z)(o.F,{marginTop:1},void 0,(0,n.Z)(l.L,{marginRight:1},void 0,(0,n.Z)(c.a,{checked:ee===false,"data-bi-id":"yes-fed-tax-withholding",disabled:A,label:G.__("Yes"),onChange:()=>{te(false)},size:"small",value:!ee})),(0,n.Z)(c.a,{checked:ee===true,"data-bi-id":"no-fed-tax-exempt",disabled:A,label:M?C:S,name:"fed[taxExempt]",onChange:()=>{te(true)},size:"small",value:ee?"on":"off"})))),ee===false?i().createElement(i().Fragment,null,(0,n.Z)(l.L,{marginTop:1},void 0,(0,n.Z)("label",{className:ge,htmlFor:"filingStatus"},void 0,G.__("Filing Status"))),(0,n.Z)("div",{className:"fab-FormRow"},void 0,(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)(d.S,{isDisabled:ee||A,items:Y,name:"fed[status2020]",onChange:e=>{const[t=""]=e;W(t)},onClear:()=>{W("")},selectedValues:[z],width:8}))),L&&(0,n.Z)("div",{className:"fab-Checkbox fab-FormColumn"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",defaultChecked:ee?"checked":null,disabled:A?"disabled":null,id:"ignoreStatus",name:"fed[taxExempt]",onChange:e=>te(e.target.checked),type:"checkbox"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"ignoreStatus"},void 0,G.__("Ignore filing status/other adjustments"))),(0,n.Z)("div",{className:"fab-FormRow"},void 0,(0,n.Z)("div",{className:"fab-Checkbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",defaultChecked:le,disabled:A?"disabled":null,id:"twoJobs",name:"fed[twoJobs]",onChange:e=>ce(e.target.value),type:"checkbox"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"twoJobs"},void 0,G.__("Works two jobs or spouse works?")))),(0,n.Z)("div",{className:"fab-FormRow"},void 0,(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("label",{className:ve,htmlFor:"dependentsAmt"},void 0,G.__("Dependents Amount")),(0,n.Z)("input",{className:"fab-TextInput fab-TextInput--width5 currency-field","data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:ae,disabled:A?"disabled":null,id:"dependentsAmt",name:"fed[dependentsAmt]",onChange:e=>ne(O(e.target.value)),type:"text"})),(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("label",{className:ve,htmlFor:"otherIncome"},void 0,G.__("Other Income")),(0,n.Z)("input",{className:"fab-TextInput fab-TextInput--width5 currency-field","data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:se,disabled:A?"disabled":null,id:"otherIncome",name:"fed[otherIncome]",onChange:e=>ie(O(e.target.value)),type:"text"})),(0,n.Z)("div",{className:"fab-FormColumn"},void 0,(0,n.Z)("label",{className:ve,htmlFor:"deductionsAmt"},void 0,G.__("Deductions Amount")),(0,n.Z)("input",{className:"fab-TextInput fab-TextInput--width5 currency-field","data-cursymbol":"$","data-decimal-char":".","data-thousands-separator":",",defaultValue:oe,disabled:A?"disabled":null,id:"deductionsAmt",name:"fed[deductionsAmt]",onChange:e=>re(O(e.target.value)),type:"text"}))),(0,n.Z)(g.P,{data:{amount:de,type:he},is2020:true,setAdditionalWithholding:ue,setCurrencyType:pe,type:"fed",viewOnly:A})):(0,n.Z)(o.F,{flex:1,flexDirection:"column",marginBottom:2,marginTop:1},void 0,(0,n.Z)(u.I,{description:M?me:fe,icon:false,title:M?E:x})),L&&(0,n.Z)(s.Fragment,{},void 0,(0,n.Z)(o.F,{marginTop:2},void 0,(0,n.Z)(r.L,{},void 0,G.__("Exemption Options")),(0,n.Z)(l.L,{marginBottom:"10px",marginLeft:1},void 0,(0,n.Z)(q,{}))),(0,n.Z)(o.F,{},void 0,(0,n.Z)(h.C,{checked:J,disabled:A,id:"futaExempt",label:G.__("FUTA exempt"),name:"fed[futaExempt]",onChange:()=>Q(!J),value:J}),(0,n.Z)(l.L,{marginLeft:1},void 0,(0,n.Z)(h.C,{checked:K,disabled:A,id:"ficaExempt",label:G.__("FICA exempt"),name:"fed[ficaExempt]",onChange:()=>X(!K),value:K})))),M===true&&(K||J)||M===false&&K?(0,n.Z)(o.F,{flex:1,flexDirection:"column",marginBottom:2,marginTop:1},void 0,(0,n.Z)(u.I,{description:P(J,K,M).body,icon:false,title:P(J,K,M).header})):null))}},35637:(e,t,a)=>{"use strict";a.d(t,{z:()=>g});var n=a(88604);var s=a(89835);var i=a(44119);var o=a(23321);var r=a.n(o);var l=a(26242);var c=a(56921);var d=a(405);var u=a(73641);var h=a(17842);var p=a.n(h);var m=a(45697);var $=a(26570);const f=$.__("Uh Oh, We werent able to retrieve the occupation codes. Try refreshing the page.");class g extends o.Component{static get className(){return"LinkedSelects"}constructor(e){super(e);(0,i.Z)(this,"_getUpdatedChildOptions",(e=>{const{data:{getChildOptionsUrl:t}}=this.props;if(!e){this.setState({childSelection:null,childOptions:[]});return}if(!t){this._triggerGenericError();return}this.setState({disableChildSelect:true,childSelection:null});p().get(`${t}/${e}`).then((e=>{const{status:t,data:a}=e;if(t===200&&a&&a.options){this.setState({disableChildSelect:false,childOptions:a.options})}else{this._triggerGenericError()}})).catch((()=>this._triggerGenericError()))}));(0,i.Z)(this,"_getSelectData",((e,t)=>{const{parentSelection:a,childSelection:n,childOptions:s,disableChildSelect:i}=this.state;const{viewOnly:o,isUnemploymentField:r}=this.props;const{_handleSelectChange:l}=this;const{id:c,options:d,placeholder:u}=e;const h=t?a:n;const p=t?d:s;const m=r?"uiState":"state";const f=p.map((e=>({id:e.id,text:e.displayText,value:e.val})));return{isDisabled:o||!t&&(!f.length||i),items:f,name:`${m}[optional][${c}]`,onChange(e){const[a=""]=e;const n=f.find((e=>e.value===a));l(e,t,n?n.id:null)},placeholder:u||`-- ${$.__("Select")} --`,selectedValues:[h],width:9}}));(0,i.Z)(this,"_handleSelectChange",((e,t,a)=>{const n=t?"parentSelection":"childSelection";const[s=""]=e;this.setState({[n]:s},t?()=>this._getUpdatedChildOptions(a):u.noop)}));(0,i.Z)(this,"_triggerGenericError",(()=>window.setMessage(f,"error")));const{data:{parentSelect:t,childSelect:a}}=e;const n=t.options.find((e=>e.selected===true));const s=a.options.length?a.options.find((e=>e.selected===true)):null;this.state={parentSelection:n?n.val:null,childSelection:s?s.val:null,childOptions:a.options,disableChildSelect:false}}render(){const{biId:e="",data:{childSelect:t,help:a,label:i,parentSelect:o},required:u}=this.props;return(0,s.Z)(l.L,{},void 0,(0,s.Z)("div",{className:"LinkedSelects__labelHelpContainer"},void 0,(0,s.Z)("label",{className:`fab-Label ${u===false?"":"fab-Label--required"}`,htmlFor:`select${o.id}`},void 0,(0,s.Z)("span",{},void 0,i)),(0,s.Z)(m.e,{helpData:a})),(0,s.Z)(c.F,{flexDirection:"column",gap:1},void 0,r().createElement(d.S,(0,n.Z)({biId:`${e}-parent`,id:`select${o.id}`,required:u},this._getSelectData(o,true))),r().createElement(d.S,(0,n.Z)({biId:`${e}-child`,id:`select${t.id}`,required:u},this._getSelectData(t,false)))))}}},45697:(e,t,a)=>{"use strict";a.d(t,{e:()=>d});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(14386);var r=a(41878);function l(e){const{title:t,content:a,addTop:s}=e;const i={onShow:c,position:"bottom",template:{name:"popover-standard",data:{rawContent:true,content:a,title:t,popoverClass:"js-taxHelpPopover"}}};const l=s?"EncoreHelpPopover EncoreHelpPopover--addTop":"EncoreHelpPopover";return(0,n.Z)(r.J,{settings:i,wrapperClassName:l},void 0,(0,n.Z)(o.I,{className:"js-no-sticky-footer",color:"neutral-strong",name:"circle-question-regular",size:16}))}function c(){const e=document.querySelectorAll(".js-taxHelpPopover a");if(e){const t=Array.from(e);t.forEach((e=>{const t=e.getAttribute("rel");if(t.indexOf("noopener")!==-1&&t.indexOf("noreferrer")!==-1){e.setAttribute("target","_blank")}}))}}function d(e){const{helpData:t}=e;if(!t||!t.text){return null}return i().createElement(u,e)}function u(e){const{helpData:t}=e;return(0,n.Z)(l,{content:t.text})}},77376:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(26242);var r=a(55928);function l(e){const{children:t,hidden:a=false,usesSectionComponent:s=false}=e;if(s){return(0,n.Z)(o.L,{hidden:a},void 0,(0,n.Z)(r.S,{},void 0,t))}return(0,n.Z)("div",{className:"SectionStyledBox"},void 0,(0,n.Z)(o.L,{paddingTop:2},void 0,t))}},2842:(e,t,a)=>{"use strict";a.d(t,{r:()=>d});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(13354);var r=a(56921);var l=a(86930);var c=a(91118);function d(e){const{children:t,headlineSize:a="medium",popoverContent:d=null,hasPopover:u=false,popoverIcon:h="circle-question-regular",popoverPlacement:p="bottom",popoverTitle:m}=e;const f=(0,s.useRef)();const[g,v]=(0,s.useState)(false);return(0,n.Z)(o.H,{color:"primary",size:a},void 0,(0,n.Z)(r.F,{alignItems:"center",flexDirection:"row"},void 0,t,u?i().createElement(r.F,{paddingLeft:1,ref:f},(0,n.Z)(l.I,{className:"js-no-sticky-footer",color:"secondary",icon:h,noBoundingBox:true,onClick:e=>{e.preventDefault();v(true)},type:"button"}),(0,n.Z)(c.P,{anchorEl:f.current,onClose:()=>{v(false)},open:g,placement:p,title:m},void 0,d)):null))}},7152:(e,t,a)=>{"use strict";a.d(t,{h:()=>Fe});var n=a(88604);var s=a(89835);var i=a(23321);var o=a.n(i);var r=a(56921);function l(e,t){if(!t){return false}if(!e){return false}const a=e?.byId?.[t];if(a!==undefined){return a.isNewStateTaxView===false&&a.supportsNewStateTaxView===true}return false}function c(e,t){if(!e){return false}const a=Boolean(e?.selected);const n=e?.byId?.[t];const s=n?.isNewStateTaxView||false;if(!t){return!a&&s}return s}var d=a(44119);var u=a(37091);var h=a(405);var p=a(37194);var m=a(60042);var f=a.n(m);var g=a(17611);var v=a(84939);var y=a(77376);var b=a(2842);var w=a(26242);var C=a(14386);var S=a(7167);var E=a(51178);var $=a(26570);function x(e){const{handleToggleClick:t}=e;return(0,s.Z)(r.F,{alignItems:"flex-start",marginBottom:1,marginRight:1.5,marginTop:1},void 0,(0,s.Z)(w.L,{marginRight:.5},void 0,(0,s.Z)(C.I,{color:"neutral-strong",name:"circle-info-regular",size:20})),(0,s.Z)(S.B,{size:"small"},void 0,(0,s.Z)("span",{},void 0,$.__("The IRS W4 withholding form has changed"),". "),(0,s.Z)(E.T,{inline:true,onClick:t,text:$.__("Make changes using the new form fields."),type:"button"})))}var T=a(26570);class k extends i.Component{static get className(){return"FedWithholding"}constructor(e){super(e);(0,d.Z)(this,"_getHelpPopoverProps",(()=>{const e=T.__("This determines how much you will withhold from your paycheck for federal taxes.");const t=T.__("The IRS has provided a handy %1$swithholding calculator%2$s to help you figure out what to elect.",'<a href="https://apps.irs.gov/app/withholdingcalculator/" target="_blank" rel="noopener noreferrer">',"</a>");const a=`${e} ${t}`;return{title:T.__("Federal Tax Withholding"),content:a,addTop:this.props.newHirePacket}}));(0,d.Z)(this,"_getSelectData",(()=>{const e=this.props.fields.filingStatus.map((e=>{const t={};t.displayText=e.displayText;t.selected=this.state.ignoreStatus?false:e.val===this.state.filingStatus;t.value=e.val;return t}));return{data:{items:e},onChange:this._handleFilingStatusChange,settings:{name:"fed[status]",notClearable:true,placeholder:this.state.ignoreStatus?"NA":`-${T.__("Select")}-`},disabled:this.state.ignoreStatus||this.props.viewOnly,width:5,className:"xlong FedWithholding__status"}}));(0,d.Z)(this,"_handleExemptionsChange",((e,t)=>{if((0,g.rl)(e.target.value,t.min,t.max)){this.setState({exemptions:e.target.value})}}));(0,d.Z)(this,"_handleIgnoreStatusChange",(e=>this.setState({ignoreStatus:e.target.checked})));(0,d.Z)(this,"_renderExemptionsInput",(e=>{const{ignoreStatus:t,exemptions:a}=this.state;const{viewOnly:n}=this.props;const i=n||t;const o=i?"fab-Label fab-Label--disabled":"fab-Label";const r="fab-TextInput fab-TextInput--width2";return(0,s.Z)("div",{className:"fieldBox"},void 0,(0,s.Z)("label",{className:o,htmlFor:"fedExemptions"},void 0,T.__("Exemptions")),(0,s.Z)("div",{className:"fieldDiv"},void 0,(0,s.Z)("input",{className:r,disabled:i,id:"fedExemptions",name:"fed[dependents]",onChange:t=>this._handleExemptionsChange(t,e.range),type:"text",value:t?"NA":a})))}));(0,d.Z)(this,"_renderExemptionCheckboxes",(e=>{const{ignoreStatus:t}=this.state;const{viewOnly:a}=this.props;const{ficaExempt:n,futaExempt:i}=e;const o=f()("fab-Label FedWithholding__checkboxGroupLabel",{"fab-Label--disabled":a});return(0,s.Z)("div",{className:"FedWithholding__checkboxGroup"},void 0,(0,s.Z)("label",{className:o,htmlFor:"checkboxGroup"},void 0,T.__("Exemption Options")),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,(0,s.Z)("div",{className:"fieldBox fab-Checkbox FedWithholding__checkbox"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:t?"checked":null,disabled:a,id:"fedIgnore",name:"fed[taxExempt]",onChange:this._handleIgnoreStatusChange,type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"fedIgnore"},void 0,T.__("Ignore filing status/other adjustments"))),(0,s.Z)("div",{className:"fieldBox fab-Checkbox FedWithholding__checkbox"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:n.checked?"checked":null,disabled:a,id:"ficaExempt",name:"fed[ficaExempt]",type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"ficaExempt"},void 0,T.__("FICA exempt"))),(0,s.Z)("div",{className:"fieldBox fab-Checkbox FedWithholding__checkbox"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:i.checked?"checked":null,disabled:a,id:"futaExempt",name:"fed[futaExempt]",type:"checkbox"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"futaExempt"},void 0,T.__("FUTA exempt")))))}));const{fields:t}=e;const a=t.filingStatus?t.filingStatus.find((e=>e.selected)):null;const n=t.exemptions?t.exemptions.amount:null;const i=n?n:0;const o=t.ignoreStatusExemptions?t.ignoreStatusExemptions.checked:null;this.state={filingStatus:a?a.val:null,ignoreStatus:o,exemptions:i}}render(){const{fields:e,viewOnly:t,isAdminUser:a,isPayrollAdminUser:n,handle2020ToggleClick:i,headerHeadlineSize:o,show2020Message:l,usesSectionComponent:c}=this.props;const d="fab-FormSection";const m="fab-FormSection__legend";return(0,s.Z)(y.Z,{usesSectionComponent:c},void 0,(0,s.Z)("fieldset",{},void 0,(0,s.Z)(b.r,{hasPopover:true,headlineSize:o,popoverContent:(0,s.Z)(p.Message,{link:(0,p.ExternalLink)("https://apps.irs.gov/app/withholdingcalculator/"),text:T._("This determines how much you will withhold from your paycheck for federal taxes. The IRS has provided a handy [withholding calculator] to help you figure out what to elect.")}),popoverIcon:"circle-question-regular",popoverPlacement:"bottom",popoverTitle:T.__("Federal Tax Withholding")},void 0,T.__("Federal Tax Withholding")),l&&(0,s.Z)(x,{handleToggleClick:i}),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,e.filingStatus===null?null:(0,s.Z)(r.F,{flexDirection:"column"},void 0,(0,s.Z)(u.L,{htmlFor:"fed[status]"},void 0,T.__("Filing Status")),(0,s.Z)(h.S,{isClearable:true,isDisabled:this.state.ignoreStatus||this.props.viewOnly,items:e.filingStatus.map((e=>({text:e.displayText,value:e.val}))),name:"fed[status]",onChange:e=>{const[t=null]=e;this.setState({filingStatus:t})},placeholder:this.state.ignoreStatus?"NA":`-${T.__("Select")}-`,selectedValues:this.state.ignoreStatus?[]:[this.state.filingStatus],width:5}))),(0,s.Z)("div",{className:"fieldRow fab-FormRow"},void 0,e.exemptions!==null&&this._renderExemptionsInput(e.exemptions)),e.additionalWithholding!==null&&(0,s.Z)(v.P,{data:e.additionalWithholding,type:"fed",viewOnly:t}),(a||n)&&this._renderExemptionCheckboxes(e)))}}var I=a(54708);var A=a(86511);var F=a(77343);var Z=a(38592);var M=a(71141);var N=a(35637);var D=a(79340);var L=a(45697);class P extends i.Component{constructor(){super(...arguments);(0,d.Z)(this,"state",{value:this.props.data.amount});(0,d.Z)(this,"_handleInputChange",(e=>{const{range:t}=this.props.data;if(t&&(0,g.rl)(e.target.value,t.min,t.max)){this.setState({value:e.target.value})}else if(!t){this.setState({value:e.target.value})}}))}static get className(){return"OptionalTextInput"}render(){const{biId:e="",id:t,data:a,viewOnly:n,help:i,isUnemploymentField:o,required:r}=this.props;const l=o?"uiState":"state";return(0,s.Z)(w.L,{},void 0,(0,s.Z)(D.T,{biId:e,disabled:n,id:`textInput${t}`,label:a.label,name:`${l}[optional][${t}]`,note:(0,s.Z)(L.e,{helpData:i}),onChange:this._handleInputChange,required:r,value:this.state.value}))}}var O=a(26570);class R extends i.Component{static get className(){return"OptionalCheckbox"}constructor(e){super(e);(0,d.Z)(this,"_handleCheckBoxChange",(e=>{this.setState({checked:e.checked})}));(0,d.Z)(this,"_renderCheckbox",(()=>{const{biId:e="",id:t,data:a,viewOnly:n,isUnemploymentField:o,required:r}=this.props;const{checked:l}=this.state;const c=o?"uiState":"state";return(0,s.Z)(i.Fragment,{},void 0,(0,s.Z)(F.C,{biId:e,checked:l,disabled:n,id:`checkbox${t}`,label:a.label,name:`${c}[optional][${t}]`,onChange:this._handleCheckBoxChange,required:r,value:l?"on":"off"}),(0,s.Z)("input",{name:`${c}[optional][${t}]`,required:r,type:"hidden",value:l?"on":"off"}))}));const{data:t}=e;this.state={checked:t.checked}}render(){const{data:e}=this.props;return(0,s.Z)(w.L,{},void 0,e.firstCheckbox?(0,s.Z)(u.L,{},void 0,O.__("Select all that apply")):null,(0,s.Z)("fieldset",{className:"fab-CheckboxGroup"},void 0,this._renderCheckbox()))}}var B=a(26570);function H(e){let{biId:t="",id:a,data:n,help:o,isUnemploymentField:l,required:c=false,viewOnly:d}=e;const p=(0,i.useMemo)((()=>n.options.find((e=>e.selected===true))),[n])||n.options[0];const[m,f]=(0,i.useState)(p?.val||null);const g=l?"uiState":"state";const v=c;const y=(0,i.useMemo)((()=>{const e=n.options.map((e=>({text:e.displayText,value:e.val})));return e}),[n]);const b=e=>{const[t=null]=e;f(t)};return(0,s.Z)(w.L,{},m,(0,s.Z)(u.L,{htmlFor:`${g}[optional][${a}]`},void 0,n.label,c?"*":""),(0,s.Z)(r.F,{alignItems:"center",gap:1},void 0,(0,s.Z)(h.S,{biId:t,isClearable:v,isDisabled:d,items:y,name:`${g}[optional][${a}]`,onChange:b,placeholder:c?`- ${B.__("Select")} -`:null,required:c,selectedValues:[m],width:7}),(0,s.Z)(A.F,{},void 0,(0,s.Z)(L.e,{helpData:o}))))}const j=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function z(e,t,a){e=e.replace(/[^\d.-]/g,"");e=e.replace(/-/g,((e,t)=>t===0?e:""));let n=true;e=e.replace(/\./g,(e=>{if(!n){return""}n=false;return e}));if(e===""){return e}let s=Number(e);if(Number.isNaN(s)){return""}if(t!==undefined&&s<t){s=t}if(a!==undefined&&s>a){s=a}return j.format(s)}function q(e){return e&&e.title!==null&&e.text!==null}var W=a(57860);var U=a(86930);var V=a(91118);function G(e){const{content:t,title:a,biId:n}=e;const l=(0,i.useRef)(null);const[c,d]=(0,i.useState)(false);return o().createElement(r.F,{ref:l},(0,s.Z)(U.I,{className:"js-no-sticky-footer",color:"secondary","data-bi-id":n,icon:"circle-question-regular",noBoundingBox:true,onClick:e=>{e.preventDefault();e.stopPropagation();d(true)},type:"button"}),(0,s.Z)(V.P,{anchorEl:l.current,onClose:()=>d(false),open:c,placement:"bottom",title:a},void 0,t))}function Y(e){const{biId:t="",data:a,help:n,id:o,isExemption:r,viewOnly:l}=e;const c=(0,W.y)();const[d,h]=(0,i.useState)(z(a.amount||""));const p=q(n);const m=!!l;return(0,s.Z)(w.L,{},void 0,(0,s.Z)("div",{className:c.labelContainer},void 0,(0,s.Z)(u.L,{disabled:m,htmlFor:o},void 0,a.label),p&&(0,s.Z)("div",{className:c.questionContainer},void 0,(0,s.Z)(G,{content:n.text,title:n.title}))),(0,s.Z)(D.T,{biId:t,disabled:m,id:o,name:`state[optional][${o}]`,note:a.note,onBlur:f,onChange:e=>h(e.target.value),placeholder:m&&r?"NA":undefined,size:"medium",value:m&&r?z(""):d,width:5}));function f(e){const t=e.target.value;if(!t.trim()){h("");return}const n=window.getFloatFromStringJS(t.replace("$","").replace("%",""));const s=a.range?.min===undefined?undefined:Number(a.range.min);const i=a.range?.max===undefined?undefined:Number(a.range.max);h(z(n.toString(),s,i))}}var K=a(26570);const X=(0,M.isEnabled)("PAY_INFO_TAB_ACCESS_LEVELS");const J={text:P,checkbox:R,select:H,linkedSelects:N.z,usd:Y};class Q extends i.Component{static get className(){return"IowaStateWithholding"}constructor(e){super(e);(0,d.Z)(this,"_handleLocationChange",(e=>{const{locations:t,onLocationChange:a,setSelectedStateLocation:n}=this.props;const[s=""]=e;n(s);this.setState({selectedLocation:s,stateAbbreviation:s?t.byId[s]?.state:null});if(a){a({val:s})}}));(0,d.Z)(this,"_renderLocationsSelect",(()=>{const{locations:e,newHirePacket:t,showLocationRequiredAsterisk:a,viewOnly:n}=this.props;const{stateAbbreviation:i,selectedLocation:o}=this.state;return(0,s.Z)(r.F,{flexDirection:"column"},void 0,(0,s.Z)(u.L,{disabled:n||t,htmlFor:"stateLocation",require:a},void 0,K.__("Location")),(0,s.Z)(r.F,{alignItems:"center",gap:1},void 0,(0,s.Z)(h.S,{id:"stateLocation",isClearable:true,isDisabled:n||t,items:e.allIds.map((t=>({text:e.byId[t].displayText,value:e.byId[t].val}))),name:"state[location]",onChange:this._handleLocationChange,required:a,selectedValues:[o],width:"5"}),i&&(0,s.Z)(A.F,{},void 0,K.__("State: %1$s",i))))}));(0,d.Z)(this,"_renderFilingStatusSelect",(e=>{const{viewOnly:t}=this.props;const{filingStatus:a,ignore:n}=this.state;return(0,s.Z)(w.L,{},void 0,(0,s.Z)(u.L,{disabled:n||t,htmlFor:"stateStatus",required:!n},void 0,K.__("Filing Status")),(0,s.Z)(h.S,{id:"stateStatus",isClearable:true,isDisabled:n||t,items:e.map((e=>({text:n?"NA":e.displayText,value:e.val}))),name:"state[status]",onChange:e=>{this.setState({filingStatus:e[0]})},placeholder:n?"NA":undefined,required:!n,selectedValues:[a],width:8}))}));(0,d.Z)(this,"_renderIgnoreCheckbox",(()=>{const{ignore:e,viewOnly:t}=this.state;const a=K.__("Ignore filing status/other exemptions");return(0,s.Z)(F.C,{checked:e,disabled:t,htmlFor:"stateIgnoreCheckbox",id:"stateIgnoreCheckbox",label:a,name:"state[taxExempt]",onChange:e=>this.setState({ignore:e.checked}),value:e?"on":"off"})}));this.iconBtnRef=(0,i.createRef)();let t=null;let a=false;let n=null;let o=null;const l=e.selectedLocation?e.locations.byId[e.selectedLocation]:null;if(l){n=l.newFields.filingStatus?l.newFields.filingStatus.find((e=>e.selected===true)):null;t=n?n.val:null;a=l.newFields.ignoreStatusExemptions?l.newFields.ignoreStatusExemptions.checked:false;o=l.state}this.state={filingStatus:t,ignore:a,selectedLocation:e.selectedLocation,stateAbbreviation:o}}render(){const{ignore:e,selectedLocation:t,stateAbbreviation:a}=this.state;const{accessLevel:n,editPermission:l,headerHeadlineSize:c,isAdminUser:d,isPayrollAdminUser:u,locations:h,sectionNote:p,showWithholding:m,usesSectionComponent:f,viewOnly:g}=this.props;const w=h.byId[t];let E=null;if(w&&w.newFields.optionalFields){E=w.newFields.optionalFields.allIds.map((t=>{const n=w.newFields.optionalFields.byId[t];const i=J[n.type];const o=`stateTaxWithholding-${a}-${(0,Z.toCamelCase)(n.data.label)}-${t}`;if(n.type==="usd"&&n.data.label==="Total Allowances"){return(0,s.Z)(i,{biId:o,data:n.data,help:n.help,id:t,isExemption:true,viewOnly:g||e},t)}return(0,s.Z)(i,{biId:o,data:n.data,help:n.help,id:t,required:n.required,viewOnly:g},t)}))}const x="";return(0,s.Z)(y.Z,{hidden:m===false,usesSectionComponent:f},void 0,(0,s.Z)("fieldset",{className:x},void 0,(0,s.Z)(b.r,{hasPopover:true,headlineSize:c,popoverContent:K.__("This determines how much you will withhold from your paycheck for state taxes."),popoverIcon:"circle-question-regular",popoverPlacement:"bottom",popoverTitle:K.__("State Tax Withholding")},void 0,K.__("State Tax Withholding")),p?(0,s.Z)(r.F,{alignItems:"center",flexDirection:"row",gap:1},void 0,(0,s.Z)(C.I,{color:"info-medium",name:"circle-info-solid",size:16}),(0,s.Z)(S.B,{color:"info-medium",size:"small",weight:"semibold"},void 0,p)):null,(0,s.Z)(r.F,{flexDirection:"column",gap:2,marginTop:2},void 0,h&&this._renderLocationsSelect(),w&&(0,s.Z)(i.Fragment,{},void 0,w.newFields.filingStatus&&this._renderFilingStatusSelect(w.newFields.filingStatus),X&&n!==undefined?o().createElement(o().Fragment,null,(l||g)&&w.newFields.ignoreStatusExemptions&&this._renderIgnoreCheckbox(w.newFields)):o().createElement(o().Fragment,null,(d||u||l)&&w.newFields.ignoreStatusExemptions&&this._renderIgnoreCheckbox(w.newFields)),E,w.newFields.additionalWithholding&&(0,s.Z)(v.P,{data:w.newFields.additionalWithholding,type:"state",viewOnly:g})))))}}var ee=a(26570);const te=e=>{let{locations:t,newHirePacket:a,selectedLocation:n,showLocationRequiredAsterisk:i,stateAbbr:o,viewOnly:l,onLocationChange:c}=e;return(0,s.Z)(r.F,{flexDirection:"column"},void 0,(0,s.Z)(u.L,{disabled:l||a,htmlFor:"stateLocation",required:i},void 0,ee.__("Location")),(0,s.Z)(r.F,{alignItems:"center",gap:1},void 0,(0,s.Z)(h.S,{id:"stateLocation",isClearable:true,isDisabled:l||a,items:t.allIds.map((e=>({text:t.byId[e].displayText,value:t.byId[e].val}))),name:"state[location]",onChange:c,required:i,selectedValues:[n],width:5}),o&&(0,s.Z)(A.F,{},void 0,ee.__("State: %1$s",o))))};var ae=a(26570);const ne=e=>{let{filingStatusOptions:t,selectedFilingStatus:a,ignore:n,viewOnly:i,onFilingStatusChange:o}=e;return(0,s.Z)(r.F,{flexDirection:"column"},void 0,(0,s.Z)(u.L,{disabled:n||i,htmlFor:"stateStatus",required:!n},void 0,ae.__("Filing Status")),(0,s.Z)(h.S,{id:"stateStatus",isClearable:true,isDisabled:n||i,items:t.map((e=>({text:n?"NA":e.displayText,value:e.val}))),name:"state[status]",onChange:e=>{o(e[0])},placeholder:n?"NA":undefined,required:!n,selectedValues:a?[a.val]:[],width:8}))};const se=e=>{let{biIdPrefix:t="",optionalFields:a,ignore:n,optionalFieldsMap:i,viewOnly:r}=e;return o().createElement(o().Fragment,null,a.allIds.map((e=>{const o=a.byId[e];if(!o){return null}const l=i[o.type];if(!l){console.warn(`Unknown field type: ${o.type}`);return null}const c=`${t}-${(0,Z.toCamelCase)(o.data.label)}-${e}`;if(o.type==="usd"&&o.data.label==="Total Allowances"){return(0,s.Z)(l,{biId:c,data:o.data,help:o.help,id:e,isExemption:true,viewOnly:r||n},e)}return(0,s.Z)(l,{biId:c,data:o.data,help:o.help,id:e,required:o.required,viewOnly:r},e)})))};var ie=a(26570);const oe=e=>{let{disabled:t,ignore:a,label:n=ie.__("Exemptions"),value:i=""}=e;return(0,s.Z)(w.L,{},void 0,(0,s.Z)(r.F,{flexDirection:"column"},void 0,(0,s.Z)(r.F,{gap:1},void 0,(0,s.Z)(u.L,{disabled:a||t,htmlFor:"exemptions"},void 0,n),(0,s.Z)(G,{biId:"payinfo-taxes-statewh-la-deductions-popover",content:ie.__("Your filing status determines your deductions. Update your filing status if you'd like to change your deductions."),title:ie.__("Why can't I adjust my deductions?")})),(0,s.Z)(D.T,{disabled:a||t,id:"exemptions",name:"state[dependents]",placeholder:i===""||a?"NA":i,size:"medium",value:a?"":i,width:3}),t||!a?(0,s.Z)("input",{name:"state[dependents]",type:"hidden",value:i}):null))};var re=a(26570);const le=(0,M.isEnabled)("PAY_INFO_TAB_ACCESS_LEVELS");const ce={text:P,checkbox:R,select:H,linkedSelects:N.z,usd:Y};function de(e){let{accessLevel:t,editPermission:a=false,headerHeadlineSize:n="medium",isAdminUser:l=false,isPayrollAdminUser:c=false,newHirePacket:d=false,onLocationChange:u,sectionNote:h,selectedLocation:p,showLocationRequiredAsterisk:m=false,showWithholding:f=true,usesSectionComponent:g=false,viewOnly:x=false,stateInfo:T}=e;const k=p?T.locations.byId[p]:null;const I=k?.newFields.filingStatus?k.newFields.filingStatus.find((e=>e.selected===true))||null:null;const A=k?.newFields.ignoreStatusExemptions?.checked||false;const Z=k?.state||null;const[M,N]=(0,i.useState)(I);const[D,L]=(0,i.useState)(A);const P=e=>{const[t=""]=e;u?.({locationVal:t})};const O=(0,i.useMemo)((()=>{if(!k||!k.newFields.optionalFields){return null}return(0,s.Z)(se,{biIdPrefix:`stateTaxWithholding-${Z}`,ignore:D,optionalFields:k.newFields.optionalFields,optionalFieldsMap:ce,viewOnly:x})}),[k,x,D,Z]);const R=e=>{N(k.newFields.filingStatus.find((t=>t.val===e)))};const B=e=>{L(e)};return(0,s.Z)(y.Z,{hidden:f===false,usesSectionComponent:g},void 0,(0,s.Z)("fieldset",{},void 0,(0,s.Z)(b.r,{hasPopover:true,headlineSize:n,popoverContent:re.__("This determines how much you will withhold from your paycheck for state taxes."),popoverIcon:"circle-question-regular",popoverPlacement:"bottom",popoverTitle:re.__("State Tax Withholding")},void 0,re.__("State Tax Withholding")),h?(0,s.Z)(r.F,{alignItems:"center",flexDirection:"row",gap:2},void 0,(0,s.Z)(C.I,{color:"info-medium",name:"circle-info-solid",size:16}),(0,s.Z)(S.B,{color:"info-medium",size:"small",weight:"semibold"},void 0,h)):null,(0,s.Z)(w.L,{},void 0,(0,s.Z)(S.B,{},void 0,re.__("Please choose your location and filing status, and adjust any additional withholdings if needed. If you make any future changes, be sure to send an updated form to your employer.")),(0,s.Z)(E.T,{"data-bi-id":"payinfo-taxes-statewh-w4-link",href:"https://dam.ldr.la.gov/taxforms/1300(1_25)F.pdf",rel:"noopener noreferrer",startIcon:(0,s.Z)(C.I,{color:"link",name:"arrow-up-right-from-square-regular",size:16}),target:"_blank",type:"button"},void 0,re.__("View the State Tax Withholding Form"))),(0,s.Z)(r.F,{flexDirection:"column",gap:2,marginTop:2},void 0,T.locations&&(0,s.Z)(te,{locations:T.locations,newHirePacket:d,onLocationChange:P,selectedLocation:p,showLocationRequiredAsterisk:m,stateAbbr:Z,viewOnly:x}),k&&o().createElement(o().Fragment,null,(0,s.Z)(r.F,{alignItems:"middle",gap:2},void 0,k.newFields.filingStatus&&(0,s.Z)(ne,{filingStatusOptions:k.newFields.filingStatus,ignore:D,onFilingStatusChange:R,selectedFilingStatus:M,viewOnly:x}),k.newFields.filingStatus&&(0,s.Z)(oe,{disabled:true,ignore:D,label:k?.newFields?.exemptions?.label,value:M?M.exemptionsVal:""})),(0,s.Z)(r.F,{alignItems:"middle"},void 0,le&&t!==undefined?o().createElement(o().Fragment,null,(a||x)&&k.newFields.ignoreStatusExemptions&&(0,s.Z)(F.C,{checked:D,disabled:x,id:"laStateIgnoreCheckbox",label:re.__("Ignore filing status/other exemptions"),name:"state[taxExempt]",onChange:e=>B(e.checked),value:D?"on":"off"})):o().createElement(o().Fragment,null,(l||c||a)&&k.newFields.ignoreStatusExemptions&&(0,s.Z)(F.C,{checked:D,disabled:x,id:"laStateIgnoreCheckbox",label:re.__("Ignore filing status/other exemptions"),name:"state[taxExempt]",onChange:e=>B(e.checked),value:D?"on":"off"}))),O,k.newFields.additionalWithholding&&(0,s.Z)(v.P,{data:k.newFields.additionalWithholding,type:"state",viewOnly:x})))))}var ue=a(26570);const he=new Map([["IA",ue.__("Need to make changes? [Update using the new Iowa State form.]")],["LA",ue.__("The Louisiana State Tax Withholding Form has changed. [Make changes with the updated form fields.]")]]);function pe(e){let{onMigrateFormClick:t,stateAbbreviation:a}=e;const n=()=>{t()};return a?(0,s.Z)(r.F,{alignItems:"center",flexWrap:"wrap",gap:"6px"},void 0,(0,s.Z)(C.I,{color:"neutral-extra-strong",name:"circle-info-regular",size:16}),(0,s.Z)(p.Message,{link:e=>(0,s.Z)(E.T,{"data-bi-id":"payinfo-taxes-statewh-updatedform-link",inline:true,onClick:n,type:"button"},void 0,e),text:he.get(a)})):null}var me=a(55928);var fe=a(26570);const ge={IN:{contentBody:o().createElement(o().Fragment,null,fe.__("Local Indiana taxes for the current calendar year are based on your home and work counties as of January 1st.")),title:fe.__("Indiana County Based Taxes.")}};function ve(e){let{stateAbbr:t,formFields:a}=e;const{contentBody:n,title:i}=ge[t];return(0,s.Z)(me.a,{ariaLabel:i,title:i},void 0,(0,s.Z)(r.F,{flexDirection:"column",gap:2},void 0,(0,s.Z)(w.L,{},void 0,n),(0,s.Z)(r.F,{flexDirection:"column",gap:2},void 0,a)))}var _e=a(26570);const ye=(0,M.isEnabled)("PAY_INFO_TAB_ACCESS_LEVELS");const be={text:P,checkbox:R,select:H,linkedSelects:N.z,usd:Y};class we extends i.Component{static get className(){return"StateWithholding"}constructor(e){super(e);(0,d.Z)(this,"_getLocationSelectItems",(()=>{const{locations:e}=this.props;const t=e.allIds.map((t=>{const a=e.byId[t];a.id=t;a.value=a.val;a.text=a.val;return a}));return t}));(0,d.Z)(this,"_getStatusSelectData",(e=>{const{ignore:t}=this.state;const a=e.map((e=>({text:t?"NA":e.displayText,value:e.val})));return a}));(0,d.Z)(this,"_handleLocationChange",(e=>{const{locations:t,onLocationChange:a,setSelectedStateLocation:n}=this.props;if(this._locationSelectRef.current){this._locationSelectRef.current.classList.remove("error")}const[s]=e;const i=t.byId[s];this.setState({selectedLocation:i?i.id:null,stateAbbreviation:i?i.state:null,shouldMigrateToNewForm:l(t,i?.id)});n(s);if(a){a({val:s})}}));(0,d.Z)(this,"_handleStatusChange",(e=>{if(this._statusSelectRef.current){this._statusSelectRef.current.classList.remove("error")}const[t=""]=e;this.setState({filingStatus:t})}));(0,d.Z)(this,"_handleExemptionsChange",((e,t)=>{if((0,g.rl)(e.target.value,t.min,t.max)){this.setState({exemptions:e.target.value})}}));(0,d.Z)(this,"_handleIgnoreChange",(e=>this.setState({ignore:e.target.checked})));(0,d.Z)(this,"_getLabelClass",(()=>{const{viewOnly:e}=this.props;const{disableFieldsBecauseYouShouldMigrateToNewForm:t}=this;return f()({"fab-Label":true},{"fab-Label--disabled":e||t})}));(0,d.Z)(this,"_renderLocationsSelect",(()=>{const{newHirePacket:e,showLocationRequiredAsterisk:t,viewOnly:a}=this.props;const{selectedLocation:n,stateAbbreviation:i}=this.state;const{disableFieldsBecauseYouShouldMigrateToNewForm:o}=this;const r="fab-FormNote";return(0,s.Z)("div",{className:"fieldBox js-stateLocationFieldBox required"},void 0,(0,s.Z)("label",{className:f()({"fab-Label":true,"fab-Label--disabled":a&&!o,"fab-Label--required":!!t}),htmlFor:"stateLocation"},void 0,_e.__("Location")),(0,s.Z)("div",{className:"fieldDiv"},void 0,(0,s.Z)(h.S,{id:"stateLocation",isDisabled:a&&!o||e,items:this._getLocationSelectItems(),name:"state[location]",notClearable:true,onChange:this._handleLocationChange,required:t,selectedValues:[n],width:5})),i&&(0,s.Z)("span",{className:r},void 0,_e.__("State: %1$s",i)))}));(0,d.Z)(this,"_renderFilingStatusSelect",(e=>{const{viewOnly:t}=this.props;const{filingStatus:a,ignore:n}=this.state;const{disableFieldsBecauseYouShouldMigrateToNewForm:i}=this;const r=f()("fieldBox js-stateStatusFieldBox",{required:!n});return o().createElement("div",{className:r,ref:this._statusSelectRef},(0,s.Z)("label",{className:f()(this._getLabelClass(),{"fab-Label--required":true}),htmlFor:"stateStatus"},void 0,_e.__("Filing Status")),(0,s.Z)("div",{className:"fieldDiv"},void 0,(0,s.Z)(h.S,{id:"stateStatus",isDisabled:n||t||i,items:this._getStatusSelectData(e),name:"state[status]",notClearable:false,onChange:this._handleStatusChange,placeholder:n?"NA":"-- Select --",selectedValues:[a],width:8})))}));(0,d.Z)(this,"_renderExemptionsInput",(e=>{const t="fab-TextInput fab-TextInput--width3";return(0,s.Z)("div",{className:"fieldBox"},void 0,(0,s.Z)("label",{className:this._getLabelClass(),htmlFor:"stateExemptions"},void 0,_e.__("Exemptions")),(0,s.Z)("div",{className:"fieldDiv"},void 0,(0,s.Z)("input",{className:t,disabled:this.state.ignore||this.props.viewOnly||this.disableFieldsBecauseYouShouldMigrateToNewForm,id:"stateExemptions",name:"state[dependents]",onChange:t=>this._handleExemptionsChange(t,e.range),type:"text",value:this.state.ignore?"NA":this.state.exemptions})))}));(0,d.Z)(this,"_renderIgnoreCheckbox",(()=>{const e=_e.__("Ignore filing status/other adjustments");return(0,s.Z)("div",{className:"fieldBox"},void 0,(0,s.Z)("div",{className:"fieldDiv"},void 0,(0,s.Z)("div",{className:"fab-Checkbox StateWithholding__exempt"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:this.state.ignore?"checked":null,disabled:this.props.viewOnly||this.disableFieldsBecauseYouShouldMigrateToNewForm,id:"stateIgnore",name:"state[taxExempt]",onChange:this._handleIgnoreChange,type:"checkbox"}),(0,s.Z)("span",{className:"fab-Checkbox__box"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"stateIgnore"},void 0,e))))}));this._helpPopoverRef=(0,i.createRef)();this._locationSelectRef=(0,i.createRef)();this._statusSelectRef=(0,i.createRef)();let t=null;let a=0;let n=false;let r=null;const c=e.selectedLocation===undefined||e.selectedLocation===null?e.locations.selected:e.selectedLocation;const u=c?e.locations.byId[c]:null;if(u){const e=u.fields.filingStatus?u.fields.filingStatus.find((e=>e.selected===true)):null;t=e?e.val:null;a=u.fields.exemptions?u.fields.exemptions.amount:0;n=u.fields.ignoreStatusExemptions?u.fields.ignoreStatusExemptions.checked:false;r=u.state}this.state={shouldMigrateToNewForm:e.shouldMigrateToNewForm,selectedLocation:c,filingStatus:t,exemptions:a,ignore:n,stateAbbreviation:r,showHelpPopover:false}}get disableFieldsBecauseYouShouldMigrateToNewForm(){const{isGreenhouse:e}=this.props;const{shouldMigrateToNewForm:t}=this.state;return e?false:t}render(){const{selectedLocation:e,shouldMigrateToNewForm:t,stateAbbreviation:a}=this.state;const{disableFieldsBecauseYouShouldMigrateToNewForm:n}=this;const{accessLevel:l,editPermission:c,handleFormMigrationClick:d,headerHeadlineSize:u,isAdminUser:h,isPayrollAdminUser:p,locations:m,sectionNote:f,showWithholding:g,usesSectionComponent:w,viewOnly:E}=this.props;const x=m.byId[e];let T=null;const k=[];if(x&&x.fields.optionalFields){T=x.fields.optionalFields.allIds.reduce(((e,t)=>{const a=x.fields.optionalFields.byId[t];if(a.type==="checkbox"){a.data.firstCheckbox=!e;e=true}return e}),false);T=x.fields.optionalFields.allIds.map((e=>{const t=x.fields.optionalFields.byId[e];const{label:i}=t.data;if(!(0,M.isEnabled)("PAYROLL_INDIANA_COUNTY_TAX_OPTIONS")){if(i==="County of Primary Residence"){return null}if(i==="County of Principal Employment"){t.data.label=_e.__("Principal Employment")}}if(x.state==="IA"&&(i==="Married Filing Jointly with Both Spouses Working"||i==="Total Allowances")){return null}const o=be[t.type];const r=`stateTaxWithholding-${a}-${(0,Z.toCamelCase)(i)}-${e}`;const l=(0,s.Z)("div",{className:"fieldDiv"},e,(0,s.Z)(o,{biId:r,data:t.data,help:t.help,id:e,required:t.required,viewOnly:E||n}));if((0,M.isEnabled)("PAYROLL_INDIANA_COUNTY_TAX_OPTIONS")){if(i==="County of Primary Residence"||i==="County of Principal Employment"){k.push(l);return null}}return l}))}const I=t?(0,s.Z)(pe,{onMigrateFormClick:d,stateAbbreviation:a}):null;return(0,s.Z)(y.Z,{hidden:g===false,usesSectionComponent:w},void 0,(0,s.Z)("fieldset",{},void 0,(0,s.Z)(b.r,{hasPopover:true,headlineSize:u,popoverContent:_e.__("This determines how much you will withhold from your paycheck for state taxes."),popoverIcon:"circle-question-regular",popoverPlacement:"bottom",popoverTitle:_e.__("State Tax Withholding")},void 0,_e.__("State Tax Withholding")),f?o().createElement(o().Fragment,null,(0,s.Z)(S.B,{color:"info-medium",icon:(0,s.Z)(C.I,{color:"info-medium",name:"circle-info-solid",size:16}),size:"small",weight:"semibold"},void 0,f)):null,I,(0,s.Z)(r.F,{flexDirection:"column",gap:2,marginTop:2},void 0,m&&this._renderLocationsSelect(),x&&(0,s.Z)(i.Fragment,{},void 0,x.fields?.filingStatus||x.fields?.exemptions?(0,s.Z)(r.F,{gap:1},void 0,x.fields.filingStatus&&this._renderFilingStatusSelect(x.fields.filingStatus),x.fields.exemptions&&this._renderExemptionsInput(x.fields.exemptions)):null,ye&&l!==undefined?o().createElement(o().Fragment,null,(c||E||n)&&x.fields.ignoreStatusExemptions&&this._renderIgnoreCheckbox(x.fields)):o().createElement(o().Fragment,null,(h||p||c)&&x.fields.ignoreStatusExemptions&&this._renderIgnoreCheckbox(x.fields)),x.fields.additionalWithholding&&(0,s.Z)(v.P,{data:x.fields.additionalWithholding,type:"state",viewOnly:E||n}),T)),k.length?(0,s.Z)(ve,{formFields:k,stateAbbr:a}):null))}}var Ce=a(44816);var Se=a(26570);const Ee=(0,M.isEnabled)("PAY_INFO_TAB_ACCESS_LEVELS");const xe={text:P,checkbox:R,select:H,linkedSelects:N.z};class Te extends i.Component{static get className(){return"StateUnemployment"}constructor(e){super(e);(0,d.Z)(this,"_getLocationSelectData",(()=>{const{fields:e,viewOnly:t}=this.props;const{location:a}=this.state;const n=e.locations.map((e=>{const t={};t.selected=e.val===a;t.value=e.val;t.state=e.state;t.displayText=e.displayText;return t}));return{data:{items:n},onChange:this._handleLocationChange,settings:{name:"uiState[location]",placeholder:`-- ${Se.__("Select")} --`,disabled:t,required:true},disabled:t,className:"xlong StateUnemployment__location js-uiStateLocationSelect",width:5}}));(0,d.Z)(this,"_handleLocationChange",(e=>{const{onLocationChange:t}=this.props;Se(".js-uiStateLocationFieldBox").removeClass("error");this.setState({location:e?e.value:"",stateAbbreviation:e?e.state:null});if(t){t(e)}}));(0,d.Z)(this,"_handleExemptChange",(e=>this.setState({exempt:e.target.checked})));(0,d.Z)(this,"_renderLocationSelect",(()=>{const{stateAbbreviation:e}=this.state;const{showLocationRequiredAsterisk:t}=this.props;const a="fab-FormNote";const i=f()("fab-Label",{"fab-Label--required":!!t});return(0,s.Z)("div",{className:"fieldBox js-uiStateLocationFieldBox required"},void 0,(0,s.Z)("label",{className:i,htmlFor:"uiStateLocation"},void 0,Se.__("Location")),(0,s.Z)("div",{className:"fieldDiv"},void 0,o().createElement(Ce.ZP,(0,n.Z)({id:"uiStateLocation"},this._getLocationSelectData()))),e&&(0,s.Z)("span",{className:a},void 0,Se.__("State: %1$s",e)))}));(0,d.Z)(this,"_renderExemptCheckbox",(()=>{const{exempt:e}=this.state;const{viewOnly:t}=this.props;return(0,s.Z)("div",{className:"fieldDiv StateUnemployment__check"},void 0,(0,s.Z)("div",{className:"fab-Checkbox"},void 0,(0,s.Z)("input",{className:"fab-Checkbox__input",defaultChecked:e?"checked":null,disabled:t,id:"uiExempt",name:"uiState[taxExempt]",onChange:this._handleExemptChange,type:"checkbox"}),(0,s.Z)("span",{className:"fab-Checkbox__box"}),(0,s.Z)("label",{className:"fab-Checkbox__label",htmlFor:"uiExempt"},void 0,Se.__("State UI tax exempt"))))}));(0,d.Z)(this,"_renderOptionalFields",(()=>{const{fields:e,editPermission:t}=this.props;const{location:a,stateAbbreviation:n}=this.state;const i=e.locations?e.locations.find((e=>e.val===a)):null;if(!(i&&i.optionalFields)){return null}const{allIds:o,byId:r}=i.optionalFields;return o.map((e=>{const a=r[e];const i=xe[a.type];return(0,s.Z)(i,{biId:`stateUnemploymentInsurance-${n}-${(0,Z.toCamelCase)(a.data.label)}-${e}`,data:a.data,help:a.help||null,id:e,isUnemploymentField:true,required:a.required,viewOnly:!t},e)}))}));this._helpPopoverRef=(0,i.createRef)();const{fields:t}=e;const a=t.locations?t.locations.find((e=>e.selected)):null;const r=t.exempt?t.exempt.checked:null;this.state={location:a?a.val:null,exempt:r,showHelpPopover:false,stateAbbreviation:a?a.state:null}}render(){const{accessLevel:e,editPermission:t,fields:a,headerHeadlineSize:n,isAdminUser:i,isPayrollAdminUser:l,sectionNote:c,showUnemployment:d,usesSectionComponent:u,viewOnly:h}=this.props;const m=Se.__("Rule of thumb?");const f=Se.__(`The state you select for this option should generally be paid to the employee's work state, but there are exceptions!`);const g=Se.__(`If you're not sure what to choose, check out [this helpful guide] from the Department of Labor.`);const v=`${m} ${f} ${g}`;return(0,s.Z)(y.Z,{hidden:d===false,usesSectionComponent:u},void 0,(0,s.Z)("fieldset",{},void 0,(0,s.Z)(r.F,{flexDirection:"column",gap:2},void 0,(0,s.Z)(b.r,{hasPopover:true,headlineSize:n,popoverContent:(0,s.Z)(p.Message,{link:(0,p.ExternalLink)("https://workforcesecurity.doleta.gov/unemploy/uitaxtopic.asp"),text:v}),popoverIcon:"circle-question-regular",popoverPlacement:"bottom",popoverTitle:Se.__("State Unemployment Insurance")},void 0,Se.__("State Unemployment Insurance")),c&&(0,s.Z)("div",{className:"StateUnemployment__sectionNoteContainer"},void 0,(0,s.Z)("span",{className:"StateUnemployment__sectionNoteIcon"},void 0,(0,s.Z)(C.I,{name:"circle-info-solid",size:16})),(0,s.Z)("p",{className:"StateUnemployment__sectionNoteText"},void 0,c)),(0,s.Z)(r.F,{alignItems:"center",flexDirection:"row"},void 0,a.locations!==null&&this._renderLocationSelect(),Ee&&e!==undefined?o().createElement(o().Fragment,null,(t||h)&&a.exempt&&this._renderExemptCheckbox()):o().createElement(o().Fragment,null,(i||l)&&a.exempt&&this._renderExemptCheckbox())),this._renderOptionalFields())))}}var ke=a(62794);var Ie=a(26570);function Ae(e){const{hasHeader:t=true,headerHeadlineSize:a,usesSectionComponent:n}=e;return(0,s.Z)("fieldset",{},void 0,(0,s.Z)(y.Z,{usesSectionComponent:n},void 0,t&&(0,s.Z)(b.r,{headlineSize:a},void 0,Ie.__("Tax Withholding")),(0,s.Z)(w.L,{padding:4},void 0,(0,s.Z)(ke.B,{icon:"landmark-dome-regular",level:"widget",subtitle:Ie.__("Check to make sure your home and job location addresses are valid."),title:Ie.__("Federal and State Tax withholding information will appear here when all of your data is in order.")}))))}function Fe(e){const{data:t,hasBlankStateHeader:a,headerHeadlineSize:d,newHirePacket:u,show:h,fedPerms:p,statePerms:m,onStateLocationChange:f,onStateUnemploymentLocationChange:v,isAdminUser:y,isGreenhouse:b=false,isPayrollAdminUser:w=false,canAccessStateUiFields:C=false,renderFederal:S=true,renderState:E=true,renderStateUnemployment:x=true,sectionsFlexGap:T=4,showWithholdingInformation:A,stateSectionNote:F="",stateUnemploymentSectionNote:Z="",showStateLocationRequiredAsterisk:M=false,showStateUnemploymentLocationRequiredAsterisk:N=false,usesSectionComponent:D}=e;const{federal:L,federal2020:P,has2020W4:O,is2020Release:R,state:B,stateUnemployment:H}=t;const[j,z]=(0,i.useState)(false);const[q,W]=(0,i.useState)(B&&B.locations.selected?B.locations.selected:null);const[U,V]=(0,i.useState)(B?l(B.locations,q):false);const G=B?c(B.locations,B.locations.selected):false;const[Y,K]=(0,i.useState)(G);const X=q?B.locations.byId?.[q]:null;const J=X?.state;const ee=Y&&X?.newFields?.formVersionId!==null?X?.newFields?.formVersionId:"";const te=()=>z(false);const ae=()=>{W(B.locations.selected??null);if(c(B.locations,B.locations.selected)===false){K(false)}};(0,i.useEffect)((()=>{const e=document.querySelector('button[data-action="SiteFooterAction:cancel"]');if(e){e.addEventListener("click",te);e.addEventListener("click",ae)}return()=>{if(e){e.removeEventListener("click",te);e.removeEventListener("click",ae)}}}),[]);(0,i.useEffect)((()=>{const{Work:e,Home:t}=B?.locations?.byId??{};const a=typeof e!=="undefined"&&typeof t!=="undefined"&&e?.state===t?.state;if(!a){if(q){V(l(B.locations,q));K(c(B.locations,q))}else{V(false);K(false)}}}),[q]);let ne=null;let se=null;let ie=null;if(A){({showFederalWithholding:ne,showStateWithholding:se,showStateUi:ie}=A)}const oe=R&&(O||j);const re=u&&window.previewUser;const le=!window.SESSION_USER?.employeeId||window.SESSION_USER?.employeeId&&window.SESSION_USER?.employeeId!==window.currentlyEditingEmployeeId;const ce=window.stateTaxDeductionsPermissions;const ue=window.unemploymentInsurancePermissions;const he=ce===3;const pe=ce===2||ce===1;const me=ue===3;const fe=ue===2||ue===1;if(m!==0&&!(0,g.P2)(t)||p!==0&&!(0,g.ge)(t)){return(0,s.Z)(Ae,{hasHeader:a,headerHeadlineSize:d,usesSectionComponent:D})}if(!h){return(0,s.Z)("div",{})}const ge=()=>{if(S&&p>0){if(P&&oe){return o().createElement(I.M,(0,n.Z)({headerHeadlineSize:d,isEmployerView:le,showExemptions:w,showWithholding:ne,usesSectionComponent:D,viewOnly:p===1||re},P))}if(L&&!oe){return o().createElement(k,(0,n.Z)({editPermission:p===3,handle2020ToggleClick:()=>z(true),headerHeadlineSize:d,isAdminUser:y,isPayrollAdminUser:w,newHirePacket:u,show2020Message:R,usesSectionComponent:D,viewOnly:p===1||R},L))}}return null};const ve=e=>{let{locationVal:t=""}=e;W(t);f?.({val:t})};const _e=()=>{switch(J){case"LA":return(0,s.Z)(de,{editPermission:he,headerHeadlineSize:d,isAdminUser:y,isPayrollAdminUser:w,newHirePacket:u,onLocationChange:ve,sectionNote:F,selectedLocation:q,showLocationRequiredAsterisk:M,showWithholding:se,stateInfo:B,usesSectionComponent:D,viewOnly:pe||re});case"IA":return o().createElement(Q,(0,n.Z)({accessLevel:ce,editPermission:he,headerHeadlineSize:d,isAdminUser:y,isPayrollAdminUser:w,newHirePacket:u,onLocationChange:f,sectionNote:F,selectedLocation:q,setNewIowaStateForm:K,setSelectedStateLocation:W,showLocationRequiredAsterisk:M,showWithholding:se,usesSectionComponent:D,viewOnly:pe||re},B));default:return null}};const ye=()=>{const e=!((u||re)&&B.locations.selected===null);if(ce!==undefined){if(he||pe){if(E&&B&&e){return o().createElement(o().Fragment,null,(0,s.Z)("input",{id:"stateFormVersionId",name:"state[formVersionId]",type:"hidden",value:ee}),Y?_e():o().createElement(we,(0,n.Z)({accessLevel:ce,editPermission:he,handleFormMigrationClick:()=>K(true),headerHeadlineSize:d,isAdminUser:y,isGreenhouse:b,isPayrollAdminUser:w,newHirePacket:u,onLocationChange:f,sectionNote:F,selectedLocation:q,setNewIowaStateForm:K,setSelectedStateLocation:W,shouldMigrateToNewForm:U,showLocationRequiredAsterisk:M,showWithholding:se,usesSectionComponent:D,viewOnly:pe||re},B)))}}}else if(E&&m>0&&B){return o().createElement(o().Fragment,null,(0,s.Z)("input",{id:"stateFormVersionId",name:"state[formVersionId]",type:"hidden",value:ee}),Y?_e():o().createElement(we,(0,n.Z)({editPermission:m===3,handleFormMigrationClick:()=>K(true),headerHeadlineSize:d,isAdminUser:y,isGreenhouse:b,isPayrollAdminUser:w,newHirePacket:u,onLocationChange:f,sectionNote:F,selectedLocation:q,setNewIowaStateForm:K,setSelectedStateLocation:W,shouldMigrateToNewForm:U,showLocationRequiredAsterisk:M,showWithholding:se,usesSectionComponent:D,viewOnly:m===1||re},B)))}return null};const be=()=>{if(ue!==undefined){if(me||fe){return o().createElement(Te,(0,n.Z)({accessLevel:ue,editPermission:me,headerHeadlineSize:d,isAdminUser:y,isPayrollAdminUser:w,onLocationChange:v,sectionNote:Z,showLocationRequiredAsterisk:N,showUnemployment:ie,usesSectionComponent:D,viewOnly:fe},H))}}else if(x&&(y||w||C)&&H){return o().createElement(Te,(0,n.Z)({editPermission:w||y,headerHeadlineSize:d,isAdminUser:y,isPayrollAdminUser:w,onLocationChange:v,sectionNote:Z,showLocationRequiredAsterisk:N,showUnemployment:ie,usesSectionComponent:D,viewOnly:m===1},H))}return null};function Ce(){return o().createElement(o().Fragment,null,ge(),ye(),be())}return(0,s.Z)(r.F,{flexDirection:"column",gap:T},void 0,Ce())}},17611:(e,t,a)=>{"use strict";a.d(t,{P2:()=>l,Xh:()=>s,ge:()=>r,rl:()=>n});function n(e,t,a){return(typeof e==="number"||typeof e==="string")&&e>=Number(t)&&e<=Number(a)}function s(e,t){if(typeof e==="number"||typeof e==="string"){if(t==="percent"){return o(e)}else if(t==="currency"){return i(e)}}return e}function i(e){return`$${Number(e).toFixed(2)}`}function o(e){return`${parseFloat(e)}%`}function r(e){return!!e&&e.hasOwnProperty("federal")&&!!e.federal.fields}function l(e){return!!e&&e.hasOwnProperty("state")&&!!e.state.locations&&Array.isArray(e.state.locations.allIds)&&e.state.locations.allIds.length>0&&!!e.state.locations.byId}},4231:(e,t,a)=>{"use strict";a.d(t,{b:()=>n});var $=a(26570);function n(e){var t=$.__("This action would normally be available to this user.  It has been disabled while you preview.");var a=$.__("Disabled for Previewing");window.BambooHR.Modal.setState({content:t,isOpen:true,primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},title:a});if(typeof e!=="undefined"){e.stopImmediatePropagation();e.preventDefault()}return false}},56255:(e,t,a)=>{"use strict";a.d(t,{K:()=>J,W:()=>te});var n=a(89835);var s=a(88604);var i=a(23321);var o=a.n(i);var r=a(59592);var l=a(619);var c=a(56445);var d=a(60042);var u=a.n(d);var h=a(38592);var p=a(21198);var $=a(26570);const m=new p.BEM("SecureFileShareCreateModal");const f=".js-EmailInputList";const g="email-input-list";const v="email-input-label";const y={duplicateEmail:{description:`(${$.__("Duplicate Email")})`,className:m.elem("item--duplicateError"),slidedownMessage:$.__("Sorry, we cant send emails to duplicate addresses. Remove the duplicates and give it another try.")},invalidEmail:{description:`(${$.__("Invalid Email")})`,className:m.elem("item--invalidEmailError")},missingEmail:{description:`(${$.__("Missing Email")})`,className:m.elem("item--error")}};var b=a(26570);const w=e=>`fab-${e[0]}--error`;let C=null;const S=()=>document.body.querySelector(`#${g} .item`)!==null;const E=()=>document.querySelector(`.${y.duplicateEmail.className}`)!==null;const x=()=>document.querySelector(`.${y.invalidEmail.className}`)!==null;const T=()=>{const e=document.body.querySelector(`#${v}`).classList;const t=document.body.querySelector(f).classList;const a=document.body.querySelector(`#${g} .description`).classList;if(S()&&!E()&&!x()){e.remove(w`Label`);t.remove(w`TextInput`);a.remove(w`TextInput`)}else{e.add(w`Label`);t.add(w`TextInput`);a.add(w`TextInput`);C.activate()}};const k=()=>{(0,i.useEffect)((()=>{const e=`secureSendTo-${(0,h.makeUid)()}`;C=b(`#${g}`).autoInputList({autocompleteUrl:"/ajax/files/quicksearch-email.php",description:b.__("Enter email addresses..."),formatAutoItem:window.activeIndicator,formatTagItem:function(e,t,a){if(t){const e=xmlEntities(t[0]);const a=xmlEntities(t[1]);const n=isNaN(parseInt(a,10))&&!(0,h.validateEmail)(a);const s=document.querySelector(`#${g} .item[data-entry-value="${a}"]`)!==null;let i="";if(n){i=y.invalidEmail.description}else if(s){i=y.duplicateEmail.description}const o=u()(m.elem("item"),"item",{[`${y.invalidEmail.className}`]:n,[`${y.duplicateEmail.className}`]:s});b(`\n\t\t\t\t\t\t<span class="${o}" data-entry-value="${a}">\n\t\t\t\t\t\t\t${e} <span class="${m.elem("itemErrorDescription")}">${i}</span>\n\t\t\t\t\t\t\t<input type="hidden" name="recipients[]" value='${a}' />\n\t\t\t\t\t\t\t<button class="${m.elem("remove")} remove fab-FloatingIconButton fab-FloatingIconButton--teenie fab-FloatingIconButton--secondary" type="button">\n\t\t\t\t\t\t\t\t<span class="${m.elem("removeIcon")} fab-FloatingIconButton__icon">\n\t\t\t\t\t\t\t\t\t<ba-icon name="fab-x-10x10" encore-name="circle-xmark-solid" encore-size="16"></ba-icon>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t`).insertBefore(`#${g} span.input`);b(this).val("");T()}},inputAttributes:{name:e,id:e,"data-lpignore":"true"},inputClass:f,done:function(){b(`#${v}`).addClass("fab-Label fab-Label--required");b(f).addClass(`${m.elem("acInput")} ac_input free fab-TextInput fab-TextInput--width100`);b(`#${g}`).find(".description").addClass(`${m.elem("description")}${(0,c.ifFeature)("encore",""," fab-TextInput fab-TextInput--width100")}`);b(`#${g}`).on("click",".item .remove",(function(){const e=b(this).closest("span.item");const t=e.data("entry-value");const a=e.hasClass(m.elem("item--duplicateError"));e.remove();const n=b(`#${g}`).find(`.item[data-entry-value="${t}"]`);if(!a&&n.length>0){const e=b(n).first();e.removeClass(m.elem("item--duplicateError"));const t=e.find(`.${m.elem("itemErrorDescription")}`);if(t.text()===y.duplicateEmail.description){t.empty()}}T();return false}))}});const t=b.__("Enter email addresses...");b(".free").click().focus().attr("placeholder",t)}),[]);return(0,n.Z)(i.Fragment,{},void 0,(0,n.Z)("label",{id:v,htmlFor:g},void 0,"Send To"),(0,n.Z)("div",{id:g,className:"emailListInput input-list fab-TextInput fab-TextInput--width100 js-autoInputListContainer"}))};var I=a(26570);const A=()=>(0,n.Z)("fieldset",{className:m.elem("emailSection",(0,c.ifFeature)("encore",null,["^fab-FormSection"]))},void 0,(0,n.Z)("legend",{className:m.elem("emailLegend",(0,c.ifFeature)("encore",null,["^fab-FormSection__legend"]))},void 0,(0,c.ifFeature)("encore",null,(0,n.Z)("div",{className:m.elem("emailIcon")},void 0,(0,n.Z)(l.I,{name:"fab-envelope-18x14"}))),(0,c.ifFeature)("encore",(0,n.Z)("h4",{className:m.elem("legendText")},void 0,I.__("Email")),(0,n.Z)("span",{className:"fab-FormSection__legendText"},void 0,I.__("Email")))),(0,n.Z)("div",{className:m.elem("formRow",["^fab-FormRow"])},void 0,(0,n.Z)(k,{})),(0,n.Z)("div",{className:m.elem("formRow",["^fab-FormRow"])},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"subject"},void 0,"Subject"),(0,n.Z)("input",{id:"subject",name:"subject",type:"text",className:"fab-TextInput fab-TextInput--width100"})),(0,n.Z)("div",{className:m.elem("emailMessageRow",["^fab-FormRow"])},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"message"},void 0,"Message"),(0,n.Z)("textarea",{className:"fab-Textarea fab-Textarea--width100",id:"message",name:"message"})),(0,n.Z)("div",{className:m.elem("formRow",["^fab-FormRow"])},void 0,(0,n.Z)("div",{className:"fab-Checkbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",defaultChecked:true,id:"signature",name:"signature",type:"checkbox"}),(0,n.Z)("label",{className:m.elem("signatureLabel",["^fab-Checkbox__label"]),htmlFor:"signature"},void 0,I._("Include your name and email in signature ")))));var F=a(58352);var Z=a(37194);var M=a(60658);var N=a(17842);var D=a.n(N);const L=e=>D().post("/secure-file-share",e);const P=(e,t)=>D().get(`/file-info/${e}/${t}`);const O=(e,t)=>{const[a,n]=(0,i.useState)({addedAt:"",addedBy:"",fileExtension:"",fileName:"",fileSize:"",isEsignature:false,loading:true});(0,i.useEffect)((()=>{(async()=>{try{const a=await P(e,t);n({...a.data,loading:false})}catch(e){(0,M.Mr)();window.errorFallBack()}})()}),[]);return a};var R=a(26570);const B=e=>{const{id:t,type:a}=e;const{addedAt:s,addedBy:i,fileName:o,fileSize:r,isEsignature:l,loading:d}=O(a,t);return(0,n.Z)("div",{className:m.elem("header")},void 0,(0,n.Z)("fieldset",{className:m.elem("fileSection",(0,c.ifFeature)("encore",null,["^fab-FormSection"]))},void 0,(0,n.Z)("legend",{className:m.elem("fileLegend",(0,c.ifFeature)("encore",null,["^fab-FormSection__legend"]))},void 0,(0,n.Z)("div",{className:m.elem("fileIcon")},void 0,(0,n.Z)(F.F,{filename:o,size:"small",type:l?"esig":undefined})),(0,n.Z)("div",{className:m.elem("fileInfo")},void 0,(0,n.Z)("div",{className:m.elem("fileName")},void 0,o),(0,n.Z)("div",{className:m.elem("fileMeta",{loading:d})},void 0,(0,n.Z)(Z.Message,{params:[s,i,r],text:R.__("Added {1} by {2} ({3})",s,i,r)}))),(0,n.Z)("input",{type:"hidden",name:"files[0][fileId]",value:t}),(0,n.Z)("input",{type:"hidden",name:"files[0][fileType]",value:a}))))};var H=a(26136);var j=a(26570);var moment=a(82543);const z=e=>(0,n.Z)("fieldset",{className:(0,c.ifFeature)("encore",m.elem("securitySection"),"fab-FormSection")},void 0,(0,n.Z)("legend",{className:(0,c.ifFeature)("encore",null,"fab-FormSection__legend")},void 0,(0,c.ifFeature)("encore",null,(0,n.Z)(l.I,{name:"fab-link-16x16",brand:true})),(0,c.ifFeature)("encore",(0,n.Z)("h4",{className:m.elem("legendText")},void 0,j.__("Link Security Settings")),(0,n.Z)("span",{className:"fab-FormSection__legendText"},void 0,j.__("Link Security Settings")))),(0,n.Z)("div",{className:m.elem("formRow",["^fab-FormRow"])},void 0,(0,n.Z)(H.Z,{name:"expirationDate",type:"date",cssClasses:{single:m.elem("expirationInput")},settings:{min:moment().format(),max:moment().add(30,"days").format(),start:moment().add(30,"days").format(),label:"Link Expiration Date"}}),(0,n.Z)("span",{className:"fab-FormNote"},void 0,j.__("We recommend making this as short as possible (30 day max)."))),(0,n.Z)("div",{className:m.elem("formRow",["^fab-FormRow"])},void 0,(0,n.Z)("div",{className:"fab-Checkbox"},void 0,(0,n.Z)("input",{className:"fab-Checkbox__input",id:"singleUse",name:"singleUse",type:"checkbox"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:"singleUse"},void 0,j.__("Only allow this file to be downloaded once.")))));var q=a(73641);var W=a(26570);const U=(e,t)=>{const a=document.getElementById(g);e.forEach((e=>{const n=a.querySelectorAll(`.${m.elem("item")}[data-entry-value="${e}"]`);n.forEach((e=>{e.classList.add(t.className);if(t.description){const a=e.querySelector(`.${m.elem("itemErrorDescription")}`);a.innerHTML=t.description}}))}))};const V=(e,t)=>{const a=(0,i.useRef)(null);const[n,s]=(0,i.useState)(null);const[o,l]=(0,i.useState)(false);const[c,d]=(0,i.useState)(null);const[u,h]=(0,i.useState)(null);(0,i.useEffect)((()=>{s(W(a.current).bhrValidate({},((e,t)=>e[0].message||t)))}),[]);const p=(0,i.useCallback)((async()=>{l(true);d(null);h(null);try{d(await L(a.current));l(false)}catch(e){l(false);h(e)}}),[]);(0,i.useEffect)((()=>{e(o)}),[o]);(0,i.useEffect)((()=>{if(!o&&c){if(t){t()}(0,M.Mr)();(0,r.f)(W.__("Your file has been sent."),"success")}}),[o,c]);(0,i.useEffect)((()=>{if(!o&&u){if((0,q.get)(u,"response.data.type")==="invalid_email"){const e=(0,q.get)(u,"response.data");const{emails:t,employees:a}=e;U(t,y.invalidEmail);U(a,y.missingEmail);(0,r.f)(e.error,"error")}else{window.errorFallBack()}}}),[o,u]);return{formRef:a,create:p,$validator:n}};const G=(0,i.forwardRef)(((e,t)=>{const{id:a,setProcessing:s,type:l,onSfsCreation:c}=e;const{formRef:d,create:u,$validator:h}=V(s,c);const p=()=>{h.form();T();if(E()){(0,r.f)(y.duplicateEmail.slidedownMessage,"error")}else if(S()&&h.valid()){u()}};(0,i.useImperativeHandle)(t,(()=>({submit:()=>{p()}})));return o().createElement("form",{ref:d,className:m.elem("form")},(0,n.Z)(B,{id:a,type:l}),(0,n.Z)("div",{className:m.elem("content")},void 0,(0,n.Z)(A,{}),(0,n.Z)(z,{})))}));var Y=a(98675);var K=a(26570);const X=e=>{const t=(0,i.useRef)(null);const[a,r]=(0,i.useState)(false);return(0,n.Z)(Y.u_,{contentHasMaxHeight:false,contentHasPadding:false,headerType:null,isOpen:true,onClose:()=>(0,M.Mr)(),primaryAction:()=>t.current.submit(),primaryActionText:K.__("Send"),title:K.__("Email Secure Download Link"),isProcessing:a},void 0,o().createElement(G,(0,s.Z)({},e,{ref:t,setProcessing:r})))};const J=e=>(0,M.K4)(o().createElement(X,e));var Q=a(26570);const ee=e=>{const{filename:t}=e;return(0,n.Z)(Y.u_,{alternativeActionText:"",content:Q.__(`We can't create a secure link for it. Upload a different version of the file and try again.`),headline:Q.__(`%1 doesn't contain any data`,t),icon:"triangle-exclamation-regular",iconV2Color:"warning-strong",isOpen:true,onClose:()=>(0,M.Mr)(),primaryAction:()=>(0,M.Mr)(),primaryActionText:Q.__("Done"),title:Q.__("Empty File")})};const te=e=>(0,M.K4)(o().createElement(ee,e))},63196:(e,t,a)=>{"use strict";a.d(t,{ao:()=>k,hr:()=>M,Qc:()=>N,l6:()=>O});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(58352);var r=a(98675);var l=a(37194);var c=a(60658);var d=a(12233);var u=a(62794);var h=a(21198);var $=a(26570);const p=new h.BEM("SecureDownloadManager");const m=5;const f="/file-info";const g="/secure-file-share";const v={content:(0,n.Z)("div",{className:p.elem("sfsDisableConfirmation")},void 0,$.__("The file won't be accessible to anyone with the link.")),headline:$.__("Are you sure you want to disable this link?"),icon:"triangle-exclamation-regular",iconColor:"attention",iconV2Color:"warning-strong",isOpen:true,primaryActionText:$.__("Yes, Disable Link")};var y=a(14386);var b=a(51178);var w=a(26570);function C(e){const{isExpandable:t,isExpanded:a,rowKey:s="",onButtonClick:i,recipients:o}=e;const r=!a?o.splice(0,m-1):o;let l=null;if(t){l=a?w.__("View less"):w.__(`%1$s more`,o.length)}return(0,n.Z)("div",{},void 0,(0,n.Z)("ul",{},void 0,r.map(((e,t)=>{const a=`${s}-${e}-${t}`;return(0,n.Z)("li",{},a,e)}))),t&&(0,n.Z)(b.T,{clickAction:i,inline:true,text:l}))}var moment=a(82543);var S=a(26570);const E=e=>{const t=moment(e);return(0,n.Z)("span",{},void 0,t.format("MM/DD/YYYY"),(0,n.Z)("span",{className:p.elem("time")},void 0,t.format("h:mm A")))};const x=e=>[{cell:e=>e.sentDate,header:S.__("Link Sent"),key:"sentDate"},{cell:e=>e.expireDate,header:S.__("Link Expires"),key:"expireDate"},{cell:e=>e.timesDownloaded,header:S.__("Downloads"),key:"timesDownloaded",width:120},{cell:e=>e.emails,header:S.__("Recipients"),key:"emails",width:186},{cell:{type:"actions",actions:t=>[{action:()=>e(t.sfsId),icon:"trash-regular",tooltipContent:S.__("Disable Link")}]}}];const T=(e,t,a)=>e.map(((e,s)=>{const{emails:o,expireDate:r,sentDate:l,sfsId:c,timesDownloaded:d}=e;const u=`recipient-row-${c}-${s}`;const h=o.length>m;const f=!h||t.indexOf(s)>=0;const g={isExpandable:h,isExpanded:f,rowKey:u,recipients:[...o],onButtonClick:()=>{let e=t;if(f){e=e.filter((e=>e!==s))}else{e=e.concat(s)}a(e)}};const v=l?E(l):(0,n.Z)("div",{className:p.elem("sendingStatus")},void 0,(0,n.Z)(y.I,{name:"hourglass-regular",size:12}),(0,n.Z)("span",{},void 0,S.__("Sending...")));return{key:u,emails:i().createElement(C,g),expireDate:E(r),sentDate:v,sfsId:c,timesDownloaded:d}}));const k=e=>e>1?S.__("Secure Download Links"):S.__("Secure Download Link");var I=a(26570);function A(e){const{openDisableLinkConfirmation:t,sfsItems:a}=e;const[i,o]=(0,s.useState)([]);const r=x(t);const l=T(a,i,o);return(0,n.Z)("div",{className:p.elem("content")},void 0,l.length?(0,n.Z)(d.T,{caption:I.__("Active secured download links"),columns:r,rowKey:e=>e.key,rows:l,stickyHeader:true}):(0,n.Z)("div",{className:p.elem("blankState")},void 0,(0,n.Z)(u.B,{icon:"link-regular",title:I.__(`There aren't any active links for this document.`)})))}var F=a(17842);var Z=a.n(F);function M(e,t){return Z().get(`${f}/${t}/${e}`)}function N(e,t){return Z().get(`${g}/${e}?fileType=${t}`)}function D(e,t){return Z().put(`${g}/${e}`,{type:"disabled"}).then((()=>{if(t){t()}})).catch((e=>{console.error(e);window.errorFallBack()}))}var L=a(26570);function P(e){const{file:{addedAt:t,addedBy:a,fileName:i,fileSize:d,isEsignature:u},sfsItems:h,onDisableLink:m}=e;const[f,g]=(0,s.useState)(null);const[y,b]=(0,s.useState)(h);(0,s.useEffect)((()=>{if(m){m(y.length)}}),[y]);const w=f&&{...v,onClose:()=>g(null),primaryAction:()=>{const e=()=>{const e=y.filter((e=>e.sfsId!==f));b(e);g(null)};D(f,e)}};return(0,n.Z)(r.u_,{alternativeActionText:false,contentHasMaxHeight:false,contentHasPadding:false,isOpen:true,onClose:()=>(0,c.Mr)(),primaryAction:()=>(0,c.Mr)(),primaryActionText:L.__("Done"),sheetProps:w,title:L.__("Manage Secure Download Links"),type:"medium"},void 0,(0,n.Z)("div",{className:p.elem("header")},void 0,(0,n.Z)("div",{className:p.elem("headerIcon")},void 0,(0,n.Z)(o.F,{filename:i,size:"small",type:u?"esig":undefined})),(0,n.Z)("div",{},void 0,(0,n.Z)("h4",{className:p.elem("headerFileName")},void 0,i),(0,n.Z)("div",{className:p.elem("headerFileMeta")},void 0,(0,n.Z)(l.Message,{text:L._("Added {1} by {2} ({3})"),params:[t,a,d]})))),(0,n.Z)(A,{openDisableLinkConfirmation:e=>g(e),sfsItems:y}))}const O=e=>(0,c.K4)(i().createElement(P,e))},24782:(e,t,a)=>{"use strict";a.d(t,{S:()=>i,_:()=>o});const n="setupSummaryBanner";const s="updateBannerData";const i=()=>{window.localStorage.removeItem(n)};const o=e=>{document.dispatchEvent(new CustomEvent(s,{detail:{stepKey:e}}))}},51889:(e,t,a)=>{"use strict";a.d(t,{Z:()=>G,u:()=>K});var n=a(89835);var s=a(44119);var i=a(23321);var o=a.n(i);var r=a(7852);var l=a(73641);var c=a(60658);var d=a(53534);var u=a(51178);var h=a(88721);var p=a(72956);var m=a(8319);var f=a(405);var g=a(4715);var v=a(62794);var y=a(16234);var b=a(51341);var w=a(60042);var C=a.n(w);var S=a(19654);var E=a(56921);var x=a(77343);var T=a(58352);var k=a(67856);var I=a(26860);var $=a(26570);function A(e){const{file:t,handleFileSelection:a,handleToggleRequired:s,tooltipScrollOffset:l,editFileProperty:c}=e;const d=(0,S.Z)({offset:l});const[u,h]=(0,i.useState)(t.meta.checked||false);const[p,m]=(0,i.useState)(t.meta.required==="yes");const f=(0,i.useMemo)((()=>t.esignature_template_id!==null&&t.has_esignatures&&t.esignatures.has_fields),[t.esignature_template_id,t.has_esignatures,t.esignatures.has_fields]);const g=(0,i.useMemo)((()=>{const e=f?"yes":"no";const a=p?"yes":"no";return`${t.id}-${e}-${a}`}),[f,p]);const v=()=>{if(!t?.meta?.disabled){a({...r.ZP.fileCardFromFile(t),required:p?"yes":"no"},!u);h(!u)}};const y=()=>{s(t.id,!p);m(!p)};(0,i.useEffect)((()=>{if(u){c(t.id,"id",g)}}),[g,u]);const w=C()(d.fileListItem,{[d.active]:u,[d.disabled]:t.meta.disabled,"show-esignature-template":t.esignature_template_id&&t.esignatures&&t.esignatures.has_fields});const A=(0,b.Z)(t.created).format(b.Z.convert.jQuery(window.GLOBAL_DATEPICKER_MASK));let F;if(t.created_str){F=t.created_str}else if(t.created_user_id>0){F=$.__("Created %1$s by %2$s",A,t.created_user)}else{F=$.__("Created %1$s",A)}const Z=`check${t.id}-${f?"yes":"no"}-${p}`;const M=`${t.id}-toggle-${p}`;return o().createElement(o().Fragment,null,(0,n.Z)("li",{},void 0,(0,n.Z)("div",{className:w,onKeyDown:()=>null,role:"button",tabIndex:0},void 0,(0,n.Z)(E.F,{flex:1,maxWidth:"calc(100% - 54px)",onClick:v},void 0,(0,n.Z)("div",{className:C()(d.check)},void 0,(0,n.Z)(x.C,{checked:u,disabled:t.meta.disabled,id:Z,onChange:(e,t)=>{t.preventDefault();t.stopPropagation()},required:p,value:""})),(0,n.Z)("div",{className:C()(d.icon)},void 0,(0,n.Z)(T.F,{filename:t.original_file_name,size:"small",type:f?"esig":undefined})),(0,n.Z)("div",{className:C()(d.info)},void 0,(0,n.Z)("span",{className:C()(d.infoLine,d.infoTitle,"truncate")},void 0,t.name),(0,n.Z)("span",{className:"hidden"},void 0,t.can_see_file),(0,n.Z)("span",{className:C()(d.infoLine,d.infoInfo)},void 0,`${F} (${window.BambooHR.Utils.humanFileSize(t.size)})`))),f&&(0,n.Z)("div",{className:C()(d.actions)},void 0,(0,n.Z)(k.T,{content:$.__("Click to make signature %1",p?"optional":"required"),title:$.__("Signature %1",p?"required":"optional")},void 0,(0,n.Z)(I.R,{id:M,isChecked:p,onChange:y}))))))}var F=a(37194);function Z(e,t){if(!e.meta){e.meta={disabled:false}}if(t.length){const a=(0,l.findIndex)(t,(t=>t.fileId==e.id));if(a>-1){e.meta.checked=true;e.meta.required=t[a].required;t.splice(a,1)}}}function M(e,t){const a=(0,l.cloneDeep)(t);const n=(0,l.cloneDeep)(e);n.forEach((e=>{Z(e,a)}));return n}function N(e,t,a,n){const s=(0,l.includes)(e,"?");const{excludeEsignatures:i}=window.sharedFilesManager;return`${e}${s?"&":"?"}sectionId=${t}&offset=${a}&limit=${n}${i?"&excludeEsignatures=true":""}`}var D=a(72239);var L=a(26570);function P(e){const t=(0,D.Z)();const a=25;const{sectionId:s,selectedFiles:r,handleFileSelection:l,handleToggleRequired:d,tooltipScrollOffset:u,filesEndpoint:h,editFileProperty:p}=e;const[m,f]=(0,i.useState)(0);const[g,b]=(0,i.useState)(true);const[w,S]=(0,i.useState)([]);const[E,x]=(0,i.useState)(true);function T(){const e=M(w,r);const t=e=>{if(e.meta===undefined){return{disabled:false}}return e.meta};return e.map((e=>(0,n.Z)(A,{file:{...e,meta:t(e)},handleFileSelection:l,handleToggleRequired:d,tooltipScrollOffset:u,editFileProperty:p},`${e.file_section_id}_${e.id}`)))}function k(t){const{sectionName:a}=e;let i=(0,n.Z)(F.Message,{em:{tag:"div"},params:[a],text:L._('The "{1}" *Folder is Empty*')});let o=false;const r=L.__("Upload your Company Files here");const l="/files/";if(s==="all"){i=(0,n.Z)(F.Message,{text:L._("You Currently Have no Company Files in BambooHR")});o=true}return(0,n.Z)("div",{className:C()(t.blankStateWrapper)},void 0,(0,n.Z)(v.B,{icon:"fab-file-question-mark-60x72",subtitle:o?(0,n.Z)("a",{className:"blankState__link",href:l,onClick:c.Mr,rel:"noopener noreferrer",target:"_blank"},void 0,r):null,title:i}))}return o().createElement(o().Fragment,null,(0,n.Z)("div",{className:C()(t.fileListContentWrapper)},void 0,(0,n.Z)("ul",{className:C()({[t.scrollableFileList]:!!w.length}),id:"js-FileList"},void 0,w.length>0&&T()),w.length===0&&!E&&k(t),(0,n.Z)(y.P,{endpoint:N(h,s,m,a),hasMore:g,onFetch:e=>{let{data:{files:{records:t,totalCount:n}}}=e;const s=m+a;const i=window.sharedFilesManager._mergeFileData(t);f(s);b(s<n);S([...w].concat(i));x(false)},pageSize:a,preload:{startsAt:0,limit:a},preloadUntilScroll:true,wrapper:"#js-FileList"})))}var O=a(24379);var R=a(26570);function B(e){const t=[{text:R.__("All Files"),value:"all"}];e.forEach((e=>{if(e.visibility!=="hidden"){t.push({text:e.name,value:e.id})}}));return t}function H(e,t){const a=t.find((t=>t.id===e));return a?a.name:""}function j(e){const t=(0,O.Z)();const{sections:a,updateFilesInForm:s,initialSelections:o=[],modalContainerId:r,modalCallback:l,tooltipScrollOffset:d,filesEndpoint:v}=e;const[y,b]=(0,i.useState)(o);const[w,S]=(0,i.useState)(["all"]);const[E,x]=(0,i.useState)(true);function T(){(0,c.YB)(r)}function k(e,t){x(false);if(t){b((t=>[...t,e]))}else{const t=[...y];t.splice(t.findIndex((t=>t.fileId===e.fileId)),1);b(t)}}function I(e,t){const a=y.findIndex((t=>t.fileId===e));b((e=>{e[a].required=t?"yes":"no";return e}))}function A(){s(y);if(l){l(y)}T()}function F(e,t,a){const n=[...y];const s=n.findIndex((t=>t.fileId===e));if(s!==-1){const e={...y[s]};e[t]=a;n.splice(s,1,e);b(n)}}const Z=[(0,n.Z)(u.T,{onClick:T,type:"button"},"secondary",R.__("Cancel")),(0,n.Z)(h.B,{disabled:y.length===0||E,onClick:A,type:"button"},"primary",R.__("Add Selected"))];return(0,n.Z)(p.S,{isOpen:true,onRequestClose:T},void 0,(0,n.Z)(p.S.Body,{renderFooter:(0,n.Z)(p.S.Footer,{actions:Z}),renderHeader:(0,n.Z)(p.S.Header,{hasCloseButton:true,title:R.__("Add Files")}),size:m.a.MEDIUM},void 0,(0,n.Z)(p.S.Constraint,{},void 0,(0,n.Z)("div",{className:C()(t.addFileModal)},void 0,(0,n.Z)("form",{className:C()(t.addFileForm)},void 0,(0,n.Z)("div",{className:C()(t.fileListModalSubheader)},void 0,(0,n.Z)("div",{},void 0,(0,n.Z)(f.S,{isClearable:w[0]!=="all",items:B(a),onClear:()=>{S(["all"])},onSelect:e=>{S([e])},selectedValues:w,size:"small",width:6})),(0,n.Z)("div",{className:C()(t.fileListCount)},void 0,R.__n("%s File Selected","%s Files Selected",y.length))),(0,n.Z)(g.D,{color:"neutral-extra-weak"}),(0,n.Z)(P,{editFileProperty:F,filesEndpoint:v,handleFileSelection:k,handleToggleRequired:I,sectionId:w[0],sectionName:H(w[0],a),selectedFiles:y,tooltipScrollOffset:d},w[0]))))))}var z=a(17842);function q(e){return z.ajax.get(e)}var W=a(26570);const U=".js-FilesWrapper__files";let V=null;class G{static get className(){return"SharedFilesManager"}constructor(e){(0,s.Z)(this,"getFilesFromArray",(e=>this[e]));(0,s.Z)(this,"mergeFieldIntoArray",((e,t,a)=>{if(this[t].length){this[e]=(0,l.union)(this[e],Object.keys(this[t]).map((e=>this[t][e][a])))}}));this.sections=[];try{this.sections=JSON.parse(document.getElementById("FileSections").textContent)}catch(e){console.warn("File sections have not been loaded. If you want this to load by default, please include in view template.")}this.currentFiles=[];this.editFiles=[];this.modalFiles=[];this.changedFiles=[];this.filesEndPoint="/ajax/dialog/files/load_files.php";this.sectionEndpoint="/ajax/files/loadSections";this.excludeEsignatures=false;this.selectedSection="all";this.submitButton=null;this.theme="dark";this.modalCallBack=null;if(e&&e.length){this.populateFiles(e)}this._addListeners()}_addListeners(){const e=this;document.addEventListener("fileCard:remove",(function(t){e.currentFiles=e.currentFiles.filter((e=>e.fileId!==t.detail.fileId));e._pushToChangedFiles(t.detail.fileId)}),false);W(document).on("change",".js-fc-toggle-required",(function(){const{fileId:t}=this.dataset;const a=this.checked?"yes":"no";e._updateRequired(t,a,e.currentFiles)}))}_mergeFileData(e){let t=(0,l.cloneDeep)(this.modalFiles);e.forEach((e=>{this._addFileMeta(e,t)}));t=null;return e}_addFileMeta(e,t){e.meta={};if(t.length){const a=(0,l.findIndex)(t,(t=>t.fileId==e.id));if(a>-1){e.meta.checked=true;e.meta.required=t[a].required;t.splice(a,1)}}}_pushToChangedFiles(e){if(this.changedFiles.indexOf(e)===-1){this.changedFiles.push(e)}}_updateRequired(e,t,a){const n=(0,l.findIndex)(a,(function(t){return t.fileId==e}));const s=document.querySelector(`[data-file-id="${a[n].fileId}"]`);const i=a[n].id.replace(/[^-]+$/,t);a[n].id=i;a[n].required=t;s.id=i}_updateFilesInForm(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.modalFiles;W('input[name="file_ids[]"]').remove();this.currentFiles=(0,l.cloneDeep)(e);r.ZP.renderFileCards(U,this.currentFiles,"attachment",this.theme);W(".dot-ellipsis").dotdotdot({wrap:"letter"});window.BambooHR.Components.Tooltip.init()}addModalCallBack(e){if(typeof e==="function"){this.modalCallBack=e}}addCompanyFiles(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"dark";let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=this.sectionEndpoint;this.excludeEsignatures=t;if(t){a+="?esignatures=false"}if(this.sections.length===0){const t=this;q(a).then((a=>{t.sections=a.data.data.sections.records;if(t.sections.length){t.openModal(e)}})).catch((()=>{window.setMessage("We weren't able to get some information for you. Perhaps a page refresh would help?","error")}));return}if(this.sections.length){this.openModal(e)}}openModal(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"dark";const t=this;this.theme=e;this.modalFiles=(0,l.cloneDeep)(this.currentFiles);const a="js-SharedFilesManagerMod";const s=(0,c.u0)(a);const i=window.scrollY;(0,d.s)((0,n.Z)(j,{filesEndpoint:this.filesEndPoint,initialSelections:this.modalFiles,modalCallback:this.modalCallBack,modalContainerId:a,sections:this.sections,tooltipScrollOffset:i,updateFilesInForm:e=>t._updateFilesInForm(e)}),s)}createTooltip(e){const t=e.querySelector("input");let a=W.__("Optional");let n=W.__("required");if(t===null||V){return null}if(t.checked){a=W.__("Required");n=W.__("optional")}V=BambooHR.Components.Tooltip.create(e,{className:"bhrTooltip--autoWidth",content:W.__("Click to make the signature %s.",n),delay:800,lead:W.__("Signature %s",a),placement:"top"}).show()}destroyTooltip(){if(V){V.destroy();V=null}}emptySelectedFiles(){this.currentFiles=[]}populateFiles(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"dark";this.currentFiles=[];if(this._filesDataIsValid(e)){e=r.ZP.fileCardFromArray(e);this.currentFiles=(0,l.cloneDeep)(e);r.ZP.renderFileCards(U,e,"attachment",t)}this.resetCache()}_filesDataIsValid(e){if(!e||!e.length){return false}for(let t=0;t<e.length;t++){const a=e[t];if(!a){return false}}return true}resetCache(){this.editFiles=(0,l.cloneDeep)(this.currentFiles)}}let Y=null;function K(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(Y){return Y}Y=new G(e);return Y}},4955:(e,t,a)=>{"use strict";a.d(t,{l:()=>o});var n=a(51889);var $=a(26570);class s extends n.Z{static get className(){return"OfferLetterFilesManager"}constructor(e){super(e);this.filesEndPoint="/applicant_tracking/offer_letter/load_files"}_addFileMeta(e,t){super._addFileMeta(e,t);e.meta.disabled=!e.attachableToOffer;if(e.meta.disabled){e.meta.disabledText=$.__("Signature templates need to have the employee as the first signer and can only have specific people as additional signers in order to be added to an offer.")}}}let i=null;function o(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(i){i.populateFiles(e);return i}i=new s(e);return i}},41633:(e,t,a)=>{"use strict";a.d(t,{l:()=>o});var n=a(51889);class s extends n.Z{static get className(){return"TrainingFilesManager"}constructor(e){super(e);this.filesEndPoint=`${this.filesEndPoint}?excludeEsignatures=true`;this.sectionEndpoint=`${this.sectionEndpoint}?esignatures=false`}}let i=null;function o(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(i){return i}i=new s(e);return i}},60658:(e,t,a)=>{"use strict";a.d(t,{K4:()=>c,Mr:()=>l,YB:()=>u,u0:()=>d});var n=a(98853);var s=a.n(n);var i=a(53534);var $=a(26570);let o;let r;function l(){if(o){if(!r&&window.ENV!=="prod"){console.warn("You closed the modal before setting the modal isOpen to false, this will cause issues with the intended functionality. You should handle the isOpen state of the modal before calling this function")}$(".ReactModal__Content",o).addClass("ReactModal__Content--before-close");$(".ReactModal__Overlay",o).addClass("ReactModal__Overlay--before-close");setTimeout((()=>{(0,n.unmountComponentAtNode)(o);document.body.removeChild(o);o=undefined}),250)}}function c(e){if(!o){o=d()}r=e.props.isOpen===false;(0,i.s)(e,o)}function d(e){const t=document.createElement("div");if(e)t.setAttribute("id",e);document.body.appendChild(t);return t}function u(e){const t=document.getElementById(e);if(t){(0,n.unmountComponentAtNode)(t);document.body.removeChild(t)}}},87772:(e,t,a)=>{"use strict";a.d(t,{N:()=>G,D:()=>U});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(57104);var r=a(51178);var l=a(52764);var c=a(42579);function d(){const[e,t]=(0,s.useState)(true);const[a,n]=(0,s.useState)();(0,s.useEffect)((()=>{t(true);(0,c.Z)().then((e=>{n(e?.name||"");t(false)}))}),[]);return{companyName:a,loading:e}}var u=a(17842);var h=a.n(u);var p=a(51341);function m(e){return h().post(`/employees/inactiveTerminated/status/${e}`,{employeeStatus:"Active"})}function f(e){const t={...e,termDate:(0,p.Z)(e.termDate).format(),finalPayDate:(0,p.Z)(e.finalPayDate).format()};return h().post(`/employees/${e.id}/terminate`,h().prepareData(t,h().prepareDataTypes.FORM_DATA))}async function g(e){const{data:t}=await h().get(`/employees/inactiveTerminated/${e}`);return{employee:t.employee,fields:t.fields,hasGusto:!!t.hasGusto,showFinalPayDate:!!t.showFinalPayDate}}function v(e,t){const[a,n]=(0,s.useState)(true);const[i,o]=(0,s.useState)();const[r,l]=(0,s.useState)();const[c,d]=(0,s.useState)(false);const[u,h]=(0,s.useState)(false);(0,s.useEffect)((()=>{if(t){n(true);g(e).then((e=>{let{hasGusto:t,employee:a,fields:s,showFinalPayDate:i}=e;o(a);l(s);d(t);h(i);n(false)}))}}),[e,t]);return{employee:i,fields:r,hasGusto:c,showFinalPayDate:u,loading:a}}var y=a(39030);var b=a(72956);var w=a(88721);var C=a(8319);var S=a(22635);var E=a(86319);var $=a(26570);const x=(0,y.m)((e=>{let{spacing:t}=e;return{boxes:{alignItems:"flex-start",display:"flex",gap:t(2),justifyContent:"center",marginTop:t(2)},boxIcon:{marginTop:-1}}}));function T(e){let{companyName:t,employed:a,employee:s,onCancel:i,onChange:o,onNext:l,renderHeader:c}=e;const d=x();return(0,n.Z)(b.S.Body,{renderFooter:(0,n.Z)(b.S.Footer,{actions:[(0,n.Z)(r.T,{onClick:i},"cancel",$.__("Cancel")),(0,n.Z)(w.B,{onClick:()=>l()},"next",$.__("Next"))]}),renderHeader:c,size:C.a.MEDIUM},void 0,(0,n.Z)(b.S.Constraint,{spacingOverrides:{top:b.S.Constraint.Spacing.LARGE}},void 0,(0,n.Z)(b.S.HeroHeadline,{icon:"briefcase-regular",subtext:$.__("Either way, we should update some things to make sure your data is sparkling clean."),text:$.__("Is %1 %2 still employed by %3?",s.preferredName,s.lastName,t)}),(0,n.Z)(S.S,{type:"radio"},void 0,(0,n.Z)("div",{className:d.boxes},void 0,(0,n.Z)(E.S,{boxWidth:"334px",description:$.__("%1 is actively working here and being paid.",s.preferredName),icon:"circle-check-solid",inputId:"statusMismatchYes",isChecked:a===true,name:"isStillEmployed",onChange:()=>o(true),title:$.__("%1 Is Still Employed",s.preferredName),type:"radio",value:"yes"}),(0,n.Z)(E.S,{boxWidth:"334px",description:$.__("%1 no longer works here, and is not currently on our payroll.",s.preferredName),icon:"circle-x-solid",inputId:"statusMismatchNo",isChecked:a===false,name:"isStillEmployed",onChange:()=>o(false),title:$.__("%1 Is Not Employed",s.preferredName),type:"radio",value:"no"})))))}var k=a(88604);var I=a(97642);var A=a(25112);var F=a(54544);var Z=a(77285);var M=a(81709);var N=a(85617);var D=a(51738);var L=a(66981);var P=a(59592);var O=a(26570);const R=(0,y.m)((e=>{let{spacing:t}=e;return{benetracStatus:{gridColumn:"1 / -1"},comment:{gridColumn:"1 / -1"},effectiveDate:{gridColumn:"1 / -1"},fields:{display:"grid",gap:t(2),gridTemplateColumns:"min-content min-content 1fr",marginTop:t(2)},finalPayDate:{gridColumn:"1 / -1"},runSpecialPayroll:{gridColumn:"1 / -2"},heading:{marginTop:t(3.5)},reason:{gridColumn:"2 / 3"},rehire:{gridColumn:"1 / -1"},type:{gridColumn:"1 / 2"}}}));function B(e){let{employee:t,fields:a,hasGusto:o,onCancel:l,onNext:c,onPrevious:d,renderHeader:u,showFinalPayDate:h}=e;const p=R();const[m,f]=(0,s.useState)(false);const[g,v]=(0,s.useState)([]);const y=b.S.Constraint.Spacing.LARGE;const S=b.S.Constraint.Spacing.LARGE;const E=[{name:"employmentStatusComment",maxLength:255},{name:"rehire"},{name:"termDate",required:true},{name:"termReason"},{name:"termType",required:true}];if(a.benetracStatus){E.push({name:"benetracStatus",required:true})}if(h){E.push({name:"finalPayDate",required:true})}if(o){E.push({name:"runSpecialPayroll",defaultValue:"0"})}const{controlled:x,formState:{errors:T},fields:B,handleSubmit:H,setValue:j}=(0,I.u)(E);const z=()=>{(0,P.f)(O.__("Whoops... No worries. Please fix any missing or incorrect information and try again."),"error")};const q=e=>{c({id:t.id,...e})};return(0,n.Z)(b.S.Body,{renderFooter:(0,n.Z)(b.S.Footer,{actions:[(0,n.Z)(r.T,{onClick:l},"cancel",O.__("Cancel")),(0,n.Z)(w.B,{color:"secondary",onClick:()=>d(),variant:"outlined"},"previous",O.__("Previous")),(0,n.Z)(w.B,{onClick:H(q,z)},"next",O.__("Save"))]}),renderHeader:u,size:C.a.MEDIUM},void 0,(0,n.Z)(b.S.Constraint,{spacingOverrides:{top:y,bottom:S}},void 0,(0,n.Z)(b.S.HeroHeadline,{hasSeparator:true,icon:"person-circle-question-regular",subtext:O.__(`This applies even if %1 resigned voluntarily, and wasn't terminated for cause.`,t.preferredName),text:O.__("Okay! In that case %1 should have their employment ended in BambooHR.",t.preferredName)}),(0,n.Z)(A.T,{className:p.heading,color:"primary",variant:"h5"},void 0,O.__("Add End of Employment Info")),(0,n.Z)("div",{className:p.fields},void 0,x((e=>i().createElement(F.D,(0,k.Z)({},e,{className:p.effectiveDate,label:O.__("Effective Date"),status:T.termDate?"error":undefined}))),B.termDate),h?x((e=>i().createElement(F.D,(0,k.Z)({},e,{className:p.finalPayDate,label:O.__("Final Pay Date"),status:T.finalPayDate?"error":undefined}))),B.finalPayDate):null,x((e=>i().createElement(Z.S,(0,k.Z)({},e,{className:p.type,id:"endEmploymentType",items:a.termType.items,label:O.__("Type"),status:T.termType?"error":undefined,width:7}))),B.termType),x((e=>i().createElement(Z.S,(0,k.Z)({},e,{className:p.reason,id:"endEmploymentReason",items:[...a.termReason.items,...g],label:O.__("Reason"),onAdd:()=>{f(true);return Promise.resolve()},width:7}))),B.termReason),x((e=>i().createElement(Z.S,(0,k.Z)({},e,{className:p.rehire,id:"endEmploymentRehire",items:a.rehire.items,label:O.__("Eligible for Rehire"),width:5}))),B.rehire),a.benetracStatus?x((e=>i().createElement(Z.S,(0,k.Z)({},e,{className:p.benetracStatus,id:"benetracStatus",items:a.benetracStatus.items,label:O.__("BeneTrac Status"),status:T.benetracStatus?"error":undefined,width:7}))),B.benetracStatus):null,o?x((e=>i().createElement(M.R,(0,k.Z)({},e,{className:p.runSpecialPayroll,items:[{label:O.__("Yes, I want to run a special termination payroll in order to pay the employee their last check on the spot."),value:"1"},{label:O.__(`No, the employee agrees to be paid the rest of their wages on the company's normal pay schedule.`),value:"0"}],label:O.__("Gusto")}))),B.runSpecialPayroll):null,x((e=>i().createElement(N.T,(0,k.Z)({},e,{className:p.comment,label:O.__("Comment"),note:T.employmentStatusComment?O.__("Your comment needs to be less than 255 characters in length."):undefined,status:T.employmentStatusComment?"error":undefined,width:10}))),B.employmentStatusComment))),(0,n.Z)(L.T,{component:D.S,field:{label:O.__("Termination Reason Name"),id:a.termReason.fieldId},onCancel:()=>f(false),onSave:e=>{f(false);v((t=>[...t,e]));j("termReason",e.value)},open:m,title:O.__("Add Termination Reason")}))}var H=a(37194);var j=a(26570);const z=(0,y.m)((e=>{let{spacing:t}=e;return{heading:{marginTop:t(3.5)}}}));function q(e){let{employee:t,onCancel:a,onNext:s,onPrevious:i,renderHeader:o}=e;const l=z();const c=b.S.Constraint.Spacing.LARGE;const d=b.S.Constraint.Spacing.LARGE;return(0,n.Z)(b.S.Body,{renderFooter:(0,n.Z)(b.S.Footer,{actions:[(0,n.Z)(r.T,{onClick:a},"cancel",j.__("Cancel")),(0,n.Z)(w.B,{color:"secondary",onClick:()=>i(),variant:"outlined"},"previous",j.__("Previous")),(0,n.Z)(w.B,{onClick:s},"next",j.__("Save Status"))]}),renderHeader:o,size:C.a.MEDIUM},void 0,(0,n.Z)(b.S.Constraint,{spacingOverrides:{top:c,bottom:d}},void 0,(0,n.Z)(b.S.HeroHeadline,{hasSeparator:true,icon:"person-circle-question-regular",subtext:(0,n.Z)(H.Message,{link:(0,H.ExternalLink)("mailto: support@bamboohr.com"),text:j._(`Soon, inactive employees who are employed will be limited in what they can do in BambooHR. We're hoping to help you get ahead of that. Please reach out to [support@bamboohr.com] with any questions.`)}),text:j.__("Great! In that case %1 should be set to Active.",t.preferredName)}),(0,n.Z)(A.T,{className:l.heading,color:"primary",variant:"h5"},void 0,j.__("Update Status")),(0,n.Z)(Z.S,{disabled:true,id:"statusMismatchStatus",items:[{text:j.__("Active"),value:"active"}],label:j.__("Status"),value:["active"],width:7})))}var W=a(26570);function U(e){let{employeeId:t,onCancel:a,onSave:i,open:o}=e;const[r,c]=(0,s.useState)(0);const[u,h]=(0,s.useState)(true);const[p,g]=(0,s.useState)(false);const{fields:y,employee:b,hasGusto:w,loading:C,showFinalPayDate:S}=v(t,o);const{companyName:E,loading:x}=d();(0,s.useEffect)((()=>{if(o){c(0);h(true);g(false)}}),[o]);const k=()=>[(0,n.Z)(T,{companyName:E,employed:u,employee:b,onCancel:a,onChange:e=>h(e),onNext:()=>c(1)},"step1"),u?(0,n.Z)(q,{employee:b,onCancel:a,onNext:async()=>{g(true);try{await m(b.id);setMessage(W.__("Got it. The status for %1 is updated.",b.preferredName),"success");i()}catch(e){setMessage(W.__("Oops. Something went wrong. Please try again."),"error");g(false)}},onPrevious:()=>c(0)},"updateStatusStep"):(0,n.Z)(B,{employee:b,fields:y,hasGusto:w,onCancel:a,onNext:async e=>{g(true);try{await f(e);setMessage(W.__(`Got it. %1's end of employment information has been updated.`,b.preferredName),"success");i()}catch(e){setMessage(W.__("Oops. Something went wrong. Please try again."),"error");g(false)}},onPrevious:()=>c(0),showFinalPayDate:S},"endEmploymentStep")];const I=x||C;return(0,n.Z)(l.MultiStepModal,{currentStep:r,isLoading:I,isOpen:o,isProcessing:p,onRequestClose:a,steps:!o||I?[]:k(),title:b?W.__("Update %1 %2",b.preferredName,b.lastName):""})}var V=a(26570);function G(e){let{employee:t}=e;const[a,l]=(0,s.useState)(true);const[c,d]=(0,s.useState)(false);return i().createElement(i().Fragment,null,(0,n.Z)(o.S,{action:(0,n.Z)(r.T,{dark:true,onClick:()=>{l(false);d(true)},size:"small"},void 0,V.__("View and Fix ")),message:V.__(`%1 is an inactive employee, but isn't terminated. This could cause problems.`,t.preferredName),onDismiss:()=>l(false),show:a}),(0,n.Z)(U,{employeeId:t.id,onCancel:()=>d(false),onSave:()=>window.location.reload(),open:c}))}},87740:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u,a:()=>h});var n=a(89835);var s=a(23321);var i=a(17842);var o=a.n(i);function r(e){const t=new URLSearchParams(e).toString();return o().post("/inbox/details.php",t,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function l(e){return o().post("/ajax/employee_comments.php",e,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function c(e){return o().get("/inbox/details.php",e,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}var d=a(57607);var $=a(26570);function u(e,t,a,s,i,c,u){let h=arguments.length>7&&arguments[7]!==undefined?arguments[7]:Function.prototype;window.BambooHR.Modal.setState({isLoading:true});o().get(`/time_off/requests/${e}/bypass`,{status:a}).then((e=>{if(e&&e.data){window.BambooHR.Modal.setState({alternativeAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},content:(0,n.Z)("div",{dangerouslySetInnerHTML:{__html:e.data.html}}),headerType:"stacked",headline:$.__("You'll be bypassing some approvers."),icon:a==="approve"?"thumbs-up-regular":"thumbs-down-regular",iconV2Color:"primary-strong",isLoading:false,isOpen:true,onOpen:()=>{$("textarea.autosize").autosize();$("#requestByPassForm span.truncate").each(((e,t)=>{if(t.offsetWidth<t.scrollWidth){const e=[];for(let a=0;a<t.childElementCount;a++){if(t.children[a].offsetLeft+12>t.offsetLeft+t.offsetWidth){e.push(t.children[a])}}if(e.length>0){$(this).next(".MsgApproverSmall__more").html(`+${e.length} more`)}}}))},primaryAction:()=>{const e={id:t,status:a,action:a,name:s,type:i,assigned:c,ajax:true,bypass:true};const n=(0,d.commentExistsInADenialModal)();const o=$("#requestByPassForm").serialize();window.BambooHR.Modal.setState({isProcessing:true},true);r(e).then((e=>{if(e.data.success||e.data.result){if(e.data.message&&u){window.setMessage(e.data.message,"success")}if(a==="deny"&&n){l(o)}h(e.data)}else if(e.data.error){window.setMessage(e.data.error,"error")}else{window.errorFallBack()}window.BambooHR.Modal.setState({isOpen:false})})).catch((()=>{window.errorFallBack();window.BambooHR.Modal.setState({isProcessing:false},true)}))},primaryActionText:a==="approve"?$.__("Approve Anyway"):$.__("Deny Anyway"),title:$.__("Just Checking...")})}})).catch((e=>{setMessage(e.error,"error")}))}function h(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Function.prototype;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Function.prototype;const s={ajax:true,denial:true,id:e,name:t};const i=()=>{window.BambooHR.Modal.setState({isProcessing:true},true);const e=(0,d.commentExistsInADenialModal)();const t=$(".denialModal form").serialize();if(e){l(t).then((()=>{window.BambooHR.Modal.setState({isOpen:false});a()})).catch((()=>{window.BambooHR.Modal.setState({isProcessing:false},true)}))}};c(s).then((e=>{if(e.data.success){window.BambooHR.Modal.setState({alternativeActionText:$.__("No Thanks, I'm Done"),dangerousContent:e.data.html,icon:"thumbs-down-regular",iconV2Color:"primary-strong",onOpen:()=>{$(".ui-dialog-titlebar-close").hide();$("textarea.autosize").autosize();const e=$("textarea");e.on("keyup",(()=>{if($(e).val().length>0){window.BambooHR.Modal.setState({primaryAction:i},true)}else{window.BambooHR.Modal.setState({primaryAction:null},true)}}));$("#js-denialAction").attr("name","action")},isOpen:true,onClose:()=>{window.BambooHR.Modal.setState({isOpen:false});n()},primaryActionText:e.data.save,primaryAction:null,title:e.data.title})}else{window.setMessage(e.error,"error")}})).catch(window.errorFallBack)}},87264:(e,t,a)=>{"use strict";a.d(t,{v:()=>n});const n={"time-off-luggage":"briefcase-regular","time-off-calendar":"calendar-clock-regular","happy-calendar":"calendar-heart-regular","palm-trees":"island-tropical-regular","camping-trailer":"rv-regular",airplane:"plane-regular","band-aid":"bandage-regular","first-aid-kit":"clipboard-medical-regular","joining-hands":"handshake-regular",selfie:"circle-user-regular",graduation:"graduation-cap-regular",family:"family-regular",home:"house-regular","teddy-bear":"teddy-bear-regular","baby-carriage":"baby-carriage-regular","birthday-cake":"cake-candles-regular",gavel:"gavel-regular",medal:"medal-regular"}},66579:(e,t,a)=>{"use strict";a.d(t,{$:()=>r});var n=a(88604);var s=a(23321);var i=a.n(s);var o=a(40724);function r(e){let{currentBreak:t,endBreak:a,processing:s}=e;return i().createElement(o.x5,(0,n.Z)({breakTimeWarningPercentage:150,disabledLoader:false,onEndBreak:a,processing:s,route:"/time-tracking/break-in-progress",size:176},t))}},25337:(e,t,a)=>{"use strict";a.d(t,{v:()=>c});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(14386);var r=a(67856);var l=a(31611);var $=a(26570);function c(e){const{endString:t,note:a,isViewOnly:s,projectName:i,renderProjectAndTask:c,startString:d,taskName:u,type:h}=e;const p=(0,l.y)({isViewOnly:s});let m="";if(i&&u){m=h==="hour"?`${i}  ${u}`:$.__("on %1",`${i}  ${u}`)}else if(i){m=h==="hour"?i:$.__("on %1",`${i}`)}const f=h==="hour"?null:`${d} - ${t}`;const g=(0,n.Z)(o.I,{color:"neutral-extra-strong",name:"memo-solid",size:12});return(0,n.Z)("div",{className:p.wrapper},void 0,c&&(0,n.Z)("span",{className:p.projectTaskNote},void 0,m),a&&(0,n.Z)("span",{className:p.noteIcon,id:"entry-note-icon"},void 0,s&&(0,n.Z)(r.T,{content:a,placement:"right",title:f},void 0,(0,n.Z)("span",{},void 0,g)),!s&&g))}},73013:(e,t,a)=>{"use strict";a.d(t,{x:()=>y});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(14386);var r=a(26242);var l=a(17863);var c=a(25337);var d=a(75493);var u=a(24956);var h=a(71141);var p=a(56445);var m=a.n(p);var f=a(60042);var g=a.n(f);const v=(0,h.isEnabled)("ttLocationUpdates");function y(e){const{canEdit:t,hourEntries:a,isViewOnly:s,onEditClick:h,renderProjectAndTask:m,type:f}=e;const y=(0,u.y)({canEdit:t,isViewOnly:s,ttLocationUpdatesEnabled:v});return a.map((e=>{const{hours:a,id:u,note:b,projectName:w,taskName:C}=e;const S=w||C||b;const E=s&&!v?null:()=>h(u,"edit");return(0,n.Z)("div",{className:g()(y.root,{[y.rootAlignItemsBaseline]:(0,p.ifFeature)("TIME_MEAL_REST_BREAKS",true,false)}),"data-bi-id":"time-tracking-hour-entry",onClick:E},u,(0,n.Z)("span",{className:y.hours},void 0,(0,l.mr)(a)),S&&i().createElement(i().Fragment,null,(w||C)&&(0,n.Z)("span",{className:y.arrow},void 0,(0,n.Z)(o.I,{name:"arrow-right-regular",size:10})),(0,p.ifFeature)("TIME_MEAL_REST_BREAKS",(0,n.Z)(r.L,{component:"span",flexBasis:0,flexGrow:1,marginLeft:"3px",maxWidth:"320px"},void 0,(0,n.Z)(d.I,{isViewOnly:s,note:b,projectName:w,renderProjectAndTask:m,taskName:C,type:f})),(0,n.Z)(c.v,{isViewOnly:s,note:b,projectName:w,renderProjectAndTask:m,taskName:C,type:f}))),t&&(0,n.Z)("span",{className:y.editIcon,id:"entry-edit-icon"},void 0,(0,n.Z)(o.I,{color:"neutral-extra-strong",name:"pen-solid",size:12})))}))}},78922:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var n=a(89835);var s=a(23321);var i=a(21198);var o=a(14386);var r=a(17145);var $=a(26570);function l(e){return e?$.__("Update Project or Note"):$.__("Add Project or Note")}function c(e){const{customCSS:t,disabled:a,hasNote:s,onNoteIconClick:c}=e;const d={TTnoteIconWrapper:true};const u=(0,i.classNameFromObject)({...d,...t});const h=(0,i.classNameFromObject)({TTnoteIcon:true,"TTnoteIcon--add":!s,"TTnoteIcon--hasNote":s,"TTnoteIcon--disabled":a});const p=l(s);const m=a?null:c;return(0,n.Z)("div",{className:u,onClick:m},void 0,(0,n.Z)(r.Z,{settings:{content:p,suppressed:a}},void 0,(0,n.Z)("div",{className:h},void 0,(0,n.Z)(o.I,{name:s?"memo-solid":"file-plus-regular",size:20}))))}},16495:(e,t,a)=>{"use strict";a.d(t,{Z:()=>y});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(21198);var r=a.n(o);var l=a(51341);var c=a(26242);var d=a(56921);var u=a(14386);var h=a(68003);var p=a(17863);var m=a(25337);var f=a(75493);var g=a(56445);var v=a.n(g);var $=a(26570);function y(e){const{clockEntries:t,renderProjectAndTask:a,canEditEntries:s,currentEntryClick:i,elapsedTimeToday:r,isForgotClockDay:v,isViewOnly:y,onEditClick:b,hasLightBackground:w,type:C}=e;return t.map((e=>{const{start:t,end:S,timezone:E,hours:x,id:T,note:k,projectName:I,taskName:A,breakId:F,breakName:Z}=e;const{clockInLatitude:M,clockInLongitude:N,clockOutLatitude:D,clockOutLongitude:L}=e;const P=!!(M&&N||D&&L);const O=typeof b==="function"?b:Function.prototype;let R=S&&T?()=>O(T,"view",E):i;if(s&&!v){R=S&&T?()=>O(T,"edit",E):i}const B=t?l.Z.tz(t,E).format(h.T_):"12:00 AM";const H=S?l.Z.tz(S,E).format(h.T_):$.__("Now");const j=S?(0,p.mr)(x):(0,p.mr)(r);const z=P;const q=s&&!v;return(0,n.Z)("div",{className:(0,o.classNameFromObject)({TimeEntry:true,"TimeEntry--active":!S,"TimeEntry--showEditIcon":s&&!v,"TimeEntry--viewable":true,"TimeEntry--light":w,"TimeEntry--forgotClockOut":v,"TimeEntry--alignItemsBaseline":(0,g.ifFeature)("TIME_MEAL_REST_BREAKS",true,false)}),"data-bi-id":"time-tracking-time-entry",onClick:R},T,(0,n.Z)("span",{className:"TimeEntry__start"},void 0,B),"-",(0,n.Z)("span",{className:"TimeEntry__end"},void 0,H),"",(0,n.Z)("span",{className:"TimeEntry__total"},void 0,j),(0,g.ifFeature)("TIME_MEAL_REST_BREAKS",(0,n.Z)(c.L,{component:"span",flexBasis:0,flexGrow:1,marginLeft:"3px",maxWidth:"320px"},void 0,(0,n.Z)(f.I,{breakId:F,breakName:Z,clockEntryId:T,endString:H,isViewOnly:y,note:k,projectName:I,startString:B,taskName:A,type:C})),(0,n.Z)(m.v,{endString:H,isViewOnly:y,note:k,projectName:I,renderProjectAndTask:a,startString:B,taskName:A,type:C})),z||q?(0,n.Z)(d.F,{alignItems:"center",gap:1,marginLeft:"auto",paddingLeft:1},void 0,z&&(0,n.Z)("span",{className:"TimeEntry__locationIcon"},void 0,(0,n.Z)(u.I,{color:"neutral-extra-strong",name:"location-dot-solid",size:12})),q&&(0,n.Z)("span",{className:"TimeEntry__editIcon"},void 0,(0,n.Z)(u.I,{color:"neutral-extra-strong",name:"pen-solid",size:12}))):null)}))}},75493:(e,t,a)=>{"use strict";a.d(t,{I:()=>w});var n=a(89835);var s=a(23321);var $=a(26570);function i(e){let{projectName:t,taskName:a,type:n}=e;if(t&&a){return n==="hour"?`${t}  ${a}`:$.__("on %1",`${t}  ${a}`)}if(t){return n==="hour"?t:$.__("on %1",`${t}`)}return""}var o=a(14386);var r=a(56921);var l=a(7167);var c=a(26242);var d=a(67856);function u(e){let{content:t,note:a,tooltipProps:s}=e;const i=(0,n.Z)(o.I,{color:"neutral-extra-strong",name:"memo-solid",size:12});return(0,n.Z)(r.F,{alignItems:"baseline",component:"span"},void 0,(0,n.Z)(l.B,{component:"span",whiteSpace:"normal"},void 0,t),a&&(0,n.Z)(c.L,{component:"span",marginLeft:.5},void 0,s?(0,n.Z)(d.T,{content:s.content,placement:"right",title:s.title},void 0,i):i))}var h=a(87602);var p=a(17863);var m=a(26570);function f(e){let{violations:t}=e;if(!Object.keys(t).length){return null}const a=t[h.L.BREAK_STARTED_LATE];const n=t[h.L.BREAK_STARTED_EARLY];const s=t[h.L.BREAK_ENDED_EARLY];const i=t[h.L.BREAK_ENDED_LATE];let o="";if(n||a){o=n?m.__("started %s early",(0,p.mr)(n.amount/60,true)):m.__("started %s late",(0,p.mr)(a.amount/60,true))}let r="";if(s||i){r=s?m.__("ended %s early",(0,p.mr)(s.amount/60,true)):m.__("ended %s late",(0,p.mr)(i.amount/60,true))}if(o&&r){return`(${o}, ${r})`}if(o){return`(${o})`}if(r){return`(${r})`}return null}function g(e){let{breakAssessmentViolations:t,clockEntryId:a}=e;const n=t.filter((e=>e.clockEntryId===a));const s=n.reduce(((e,t)=>{e[t.type]=t;return e}),{});return s}var v=a(26570);function y(e){let{clockEntryId:t,breakName:a,breakAssessment:s}=e;const i=g({breakAssessmentViolations:s?.violations??[],clockEntryId:t});const o=f({violations:i});const r=i[h.L.BREAK_STARTED_LATE]||i[h.L.BREAK_ENDED_EARLY];return(0,n.Z)("span",{},void 0,(0,n.Z)(l.B,{component:"span"},void 0,v.__("on %s",a))," ",o&&(0,n.Z)(l.B,{color:r?"warning-medium":undefined,component:"span"},void 0,o))}var b=a(6273);function w(e){let{endString:t,isViewOnly:a,note:o,projectName:r,breakName:l,breakId:c,startString:d,taskName:h,type:p,clockEntryId:m}=e;const{breakAssessments:f}=(0,s.useContext)(b.A);const g=a?{content:o,title:p==="hour"?null:`${d} - ${t}`}:undefined;const v=c&&l?(0,n.Z)(y,{breakAssessment:f?.[c],breakName:l,clockEntryId:m}):i({projectName:r,taskName:h,type:p});return(0,n.Z)(u,{content:v,note:o,tooltipProps:g})}},2224:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(21198);var r=a.n(o);var l=a(32384);function c(e){const{palette:t}=(0,l.u)();const{backgroundColor:a=t.background.default,fillColor:s}=e;const i=(0,o.classNameFromObject)({TimeSpinner:true,"TimeSpinner--orange":s==="orange"});const r=(0,o.classNameFromObject)({TimeSpinner__fill:true,"TimeSpinner__fill--orange":s==="orange"});return(0,n.Z)("div",{className:i},void 0,(0,n.Z)("div",{className:r,style:{color:a}}),(0,n.Z)("span",{className:"TimeSpinner__topButtonPost"}))}},47375:(e,t,a)=>{"use strict";a.d(t,{u:()=>M});var n=a(89835);var s=a(44119);var i=a(23321);var o=a.n(i);var r=a(51341);var l=a(80544);var c=a(88721);var d=a(67856);var u=a(56921);var h=a(86930);var p=a(41425);var m=a(7167);var f=a(26242);var g=a(13354);var v=a(51178);var y=a(14386);var b=a(34330);var w=a(68003);var C=a(17863);var S=a(2224);var E=a(99827);var x=a(11656);var T=a(52326);var k=a(56445);var I=a.n(k);var A=a(40724);var $=a(26570);const F=(0,k.isEnabled)("anybodyClock");const Z=(0,k.isEnabled)("timeTrackingGeolocation");class M extends i.Component{static get className(){return"ClockInOut"}constructor(e){super(e);(0,s.Z)(this,"_toggleClocking",((e,t)=>{const{preventingDoubleClick:a}=this.state;const{clock:n,clockIn:s,clockOut:i,employee:o,refreshTimesheet:r}=this.props;const l=n?(0,C.RG)(n.latest):false;if(this.userCanEdit&&l&&n.latest){(0,E.Z)(o.id,n.latest).then(r);return}if(!this.userCanEdit&&l){(0,x.Z)(i,o.id,(()=>{this._toggleRequesting()})).then((()=>{this._toggleRequesting()}));return}if(a){return}if(window.ASSUMED_USER){window.disabledForPermsTest();return}this._preventDoubleClick();this._toggleRequesting();const c=n.clockedIn?i:s;c(o.id,e,t).finally(this._toggleRequesting)}));(0,s.Z)(this,"_toggleRequesting",(()=>{this.setState({requesting:!this.state.requesting})}));(0,s.Z)(this,"_preventDoubleClick",(()=>{this.setState({preventingDoubleClick:true});setTimeout((()=>{this.setState({preventingDoubleClick:false})}),400)}));(0,s.Z)(this,"_handleAddNoteClick",(()=>{const{clock:e,employee:t,refreshTimesheet:a,workflow:n,isViewOnly:s,projectsWithTasks:i}=this.props;const o={projectId:e.latest.projectId,projectName:e.latest.projectName,taskId:e.latest.taskId,taskName:e.latest.taskName};const l={canEdit:n.userCanEdit,clock:e,employeeId:t.id,note:e.latest.note,projectData:o,projectsWithTasks:i,today:r.Z.tz(e.latest.start,e.latest.timezone),timezone:e.latest.timezone,type:"clock",isViewOnly:s};(0,T.Z)(l).then(a)}));(0,s.Z)(this,"_handleProjectDropdownClick",(e=>{const[t,a]=(0,C.a6)(e);this._toggleClocking(t,a)}));this.userCanEdit=e.workflow.userCanEdit||false;this.state={requesting:false,preventingDoubleClick:false,takeBreakModal:{open:false,render:false},startBreakEarlyModal:{open:false,render:false}}}_getCanTakeBreak(){const{clock:e,availableBreaks:t}=this.props;return e.clockedIn&&t?.length>0}_hasFutureEntry(){const{clock:{latest:e},serverTime:t}=this.props;return(0,C.ff)(e,t)}_renderClockButton(){const{clock:e,clock:{clockedIn:t,latest:a}}=this.props;const{requesting:s}=this.state;const i=t?"circle-stop-solid":"stopwatch-regular";const o=this._hasFutureEntry();const r=e?(0,C.RG)(a):false;let l=t?"clock-out":"clock-in";if(r){l="verify-and-clock-out"}return(0,n.Z)(c.B,{color:(0,k.ifFeature)("TIME_MEAL_REST_BREAKS",this._getCanTakeBreak()?"secondary":"primary"),"data-bi-id":`my-info-timesheet-${l}-button`,disabled:s||o,onClick:()=>this._toggleClocking(),processing:s,startIcon:i,type:"button",width:100},void 0,(0,C.qu)(e.clockedIn,s,r,this.userCanEdit))}async _handleStartBreak(e){let{breakId:t}=e;const{startBreak:a,employee:n}=this.props;this._toggleRequesting();try{await a({breakId:t,employeeId:n.id})}catch{window.setMessage($.__("Whoops! Something went wrong. Please refresh and try again."),"error");this._toggleRequesting()}}_handleTakeBreakClick(){const{availableBreaks:e}=this.props;if(e?.length>1){this.setState({takeBreakModal:{open:true,render:true}});return}if(e?.length===1){if(e[0]?.availableIn!==null&&e[0].availableIn>0){this.setState({startBreakEarlyModal:{open:true,render:true}});return}this._handleStartBreak({breakId:e[0].id});return}window.setMessage($.__("Whoops! Something went wrong. Please refresh and try again."),"error")}_renderTakeBreakButton(){const{requesting:e}=this.state;const t=this._hasFutureEntry();return(0,n.Z)(c.B,{"data-bi-id":"home-timesheet-widget-take-break-button",disabled:e||t,onClick:()=>this._handleTakeBreakClick(),processing:e,startIcon:"mug-hot-regular",type:"button",width:100},void 0,$.__("Take A Break"))}_renderProjectTrackingButton(){const{allowClockActions:e,clock:t,isOwnTimesheet:a,projectsWithTasks:s,isSummaryView:i}=this.props;const{requesting:o}=this.state;const r=(0,C.aC)(s);const c=this._hasFutureEntry();if(e===false){return null}const m=this._getCanTakeBreak();return(0,n.Z)(l.Z,{condition:a&&c,wrap:e=>(0,n.Z)(d.T,{content:w._3},void 0,e)},void 0,(0,n.Z)(u.F,{alignItems:"center",alignSelf:"stretch",flexWrap:(0,k.ifFeature)("TIME_MEAL_REST_BREAKS",i&&m?"wrap":undefined),gap:1,width:"100%"},void 0,(0,k.ifFeature)("TIME_MEAL_REST_BREAKS",m?(0,n.Z)(u.F,{width:"100%"},void 0,this._renderTakeBreakButton()):null),(0,k.ifFeature)("TIME_MEAL_REST_BREAKS",(0,n.Z)(u.F,{width:!i&&m?"max-content":"100%"},void 0,this._renderClockButton()),this._renderClockButton()),(0,k.ifFeature)("TIME_MEAL_REST_BREAKS",null,t.clockedIn&&(0,n.Z)(h.I,{ariaLabel:$.__("Add note"),color:"secondary",icon:"file-plus-regular",onClick:this._handleAddNoteClick,type:"button"})),!t.clockedIn&&s.allIds.length>0?(0,n.Z)(p.D,{ButtonProps:{ariaLabel:$.__("Clock in to project or task"),color:"secondary",processing:o},isDisabled:o||c,items:r,onSelect:this._handleProjectDropdownClick,showSearch:"auto",type:"icon"}):null))}render(){const{clock:e,focusedTimesheet:t,getToday:a,serverTime:s,isOwnTimesheet:i,requesting:r,availableBreaks:l}=this.props;const{takeBreakModal:c,startBreakEarlyModal:d}=this.state;const{clockInLatitude:h,clockInLongitude:p,clockOutLatitude:b,clockOutLongitude:w}=e.latest||{};const E=!!(h&&p||b&&w);const x=a();const{holidayPayType:T}=t;const{showEditActions:I}=t;const M=e?(0,C.RG)(e.latest):false;const N=M?"orange":null;const D=x?.holidays?.map((e=>{if(e.paidHours!==null){const t=(0,C.Rr)(e);return(0,n.Z)(m.B,{},e.name,t)}}))||[];return(0,n.Z)(u.F,{alignItems:"center",flexDirection:"column",textAlign:"center"},void 0,(0,n.Z)(f.L,{marginBottom:1.25},void 0,(0,n.Z)(m.B,{size:"large",weight:"bold"},void 0,e.clockedIn?$.__("Clocked In"):$.__("Not Clocked In"))),(0,n.Z)(f.L,{marginBottom:1.25},void 0,e.clockedIn?(0,n.Z)(u.F,{alignItems:"center"},void 0,(0,n.Z)(g.H,{size:"medium"},void 0,(0,n.Z)(m.B,{color:M?"warning":"success"},void 0,(0,C.mr)(e.earned+e.midnightTotals))),(0,n.Z)(S.Z,{fillColor:N}),(0,k.ifFeature)("TIME_MEAL_REST_BREAKS",(0,n.Z)(f.L,{marginLeft:1},void 0,(0,n.Z)(v.T,{disabled:r,onClick:this._handleAddNoteClick},void 0,$.__("Edit"))))):(0,n.Z)(g.H,{color:"primary",size:"medium"},void 0,$.__("%1$s Today",(0,C.mr)(x.hours||0)))),e.latest||e.clockedIn?(0,n.Z)(u.F,{alignItems:"center",gap:.75,justifyContent:"center",marginBottom:1.25},void 0,(0,n.Z)(m.B,{color:"neutral-strong",size:"small"},void 0,e.latest&&(0,C.Tz)(e.latest,s)),e.clockedIn&&e.latest.note&&(0,n.Z)(y.I,{color:"neutral-medium",name:"file-solid",size:12}),Z&&e.clockedIn&&E&&(0,n.Z)(y.I,{color:"neutral-medium",name:"location-dot-solid",size:12})):null,T==="normal"&&D.length>0&&(0,n.Z)(u.F,{alignItems:"center",flexDirection:"column",gap:1.25,marginBottom:1.25,textAlign:"center"},void 0,D),(i||F&&I)&&(0,n.Z)(u.F,{marginTop:(0,k.ifFeature)("TIME_MEAL_REST_BREAKS",1.25,1.75),width:"100%"},void 0,this._renderProjectTrackingButton()),(0,k.ifFeature)("TIME_MEAL_REST_BREAKS",o().createElement(o().Fragment,null,(0,n.Z)(A.x5,{breaks:l,isOpen:c.open,loadingSuspense:false,onRequestClose:()=>this.setState({takeBreakModal:{open:false,render:true}}),onStartBreak:e=>{let{breakId:t}=e;this.setState({takeBreakModal:{open:false,render:false}});this._handleStartBreak({breakId:t})},route:"/time-tracking/take-break-modal"}),(0,n.Z)(A.x5,{isOpen:d.open,loadingSuspense:false,onClickStartBreak:()=>{this.setState({startBreakEarlyModal:{open:false,render:true}});this._handleStartBreak({breakId:l[0]?.id})},onRequestClose:()=>this.setState({startBreakEarlyModal:{open:false,render:true}}),route:"/time-tracking/start-break-early-modal"}))))}}t["Z"]=(0,b.F)(["allowClockActions","employee","isOwnTimesheet","clock","serverTime","focusedTimesheet.holidayPayType","focusedTimesheet.showEditActions","workflow.userCanEdit","isViewOnly","projectsWithTasks","availableBreaks","isSummaryView","clockIn","clockOut","refreshTimesheet","startBreak","endBreak","getToday"],M)},13668:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Ot});var n=a(89835);var s=a(44119);var i=a(23321);var o=a.n(i);var r=a(73641);var l=a(13296);var c=a(39454);var d=a(71141);var u=a(17309);var h=a(66327);var p=a(17863);var m=a(68003);var f=a(45548);var g=a(34330);var v=a(9932);var y=a(14386);var b=a(26242);var w=a(13354);var C=a(88721);var S=a(67856);var E=a(86930);var x=a(7167);var T=a(53534);var k=a(70004);var I=a(56445);var A=a(82543);var F=a.n(A);var Z=a(17842);var M=a.n(Z);var N=a(98675);var D=a(72956);var L=a(79128);var P=a(56921);var O=a(52764);var R=a(62794);var B=a(405);var H=a(17145);var j=a(37194);var $=a(26570);function z(e){return e.map((e=>{const{detailType:t,from:a,to:s}=e;switch(t){case"clockedIn":{return $.__("Clocked in")}case"clockedInBreak":{return(0,n.Z)(j.Message,{params:[s],text:$._("Clocked in to **{1}**")})}case"clockedInProject":{return(0,n.Z)(j.Message,{params:[s],text:$._("Clocked in to **{1}**")})}case"clockInUpdated":{return(0,n.Z)(j.Message,{params:[a,s],text:$._("Clock in updated from **{1}** to **{2}**")})}case"clockedOut":{return $.__("Clocked out")}case"clockedOutBreak":{return(0,n.Z)(j.Message,{params:[a],text:$._("Clocked out of **{1}**")})}case"projectSet":{return(0,n.Z)(j.Message,{params:[s],text:$._("Project set to **{1}**")})}case"projectUpdated":{return(0,n.Z)(j.Message,{params:[s],text:$._("Project updated to **{1}**")})}case"projectRemoved":{return(0,n.Z)(j.Message,{params:[a],text:$._("Removed project **{1}**")})}case"breakSet":{return(0,n.Z)(j.Message,{params:[s],text:$._("Added to **{1}**")})}case"breakUpdated":{return(0,n.Z)(j.Message,{params:[s],text:$._("Break updated to **{1}**")})}case"breakRemoved":{return(0,n.Z)(j.Message,{params:[a],text:$._("Removed break **{1}**")})}case"timeEntryAdded":case"breakEntryAdded":{return(0,n.Z)(j.Message,{params:[s],text:$._("Time entry added for **{1}**")})}case"timeEntryUpdated":case"breakEntryUpdated":{return(0,n.Z)(j.Message,{params:[a,s],text:$._("Time entry updated from **{1}** to **{2}**")})}case"timeEntryDeleted":case"breakEntryDeleted":{return(0,n.Z)(j.Message,{params:[a],text:$._("Deleted time entry: **{1}**")})}case"dailyTotalAdded":{return(0,n.Z)(j.Message,{params:[s],text:$._("Daily total added for **{1}**")})}case"dailyTotalUpdated":{return(0,n.Z)(j.Message,{params:[a,s],text:$._("Daily total updated from **{1}** to **{2}**")})}case"dailyTotalDeleted":{return(0,n.Z)(j.Message,{params:[a],text:$._("Deleted daily total: **{1}**")})}case"noteAdded":{return $.__("Note added")}case"noteUpdated":{return $.__("Note updated")}case"noteRemoved":{return $.__("Note Removed")}case"timesheetSentForApproval":{return $.__("Timesheet sent for approval")}default:{return JSON.stringify(e)}}}))}const q=[{eventType:"clockedIn",clientType:"web",details:[{detailType:"clockedInBreak",from:null,to:"Lunch Break"}],note:null,user:"Pete Wall",dateTime:(new Date).toISOString(),timezone:"America/Chicago"},{eventType:"clockedOut",clientType:"web",details:[{detailType:"clockedOutBreak",from:"Lunch Break",to:null}],note:null,user:"Pete Wall",dateTime:(new Date).toISOString(),timezone:"America/Chicago"},{eventType:"added",clientType:"web",details:[{detailType:"breakEntryAdded",from:null,to:"12:00 AM - 1:00 AM (1h)"},{detailType:"breakSet",from:null,to:"Rest Break"}],note:"Test a note",user:"Pete Wall",dateTime:(new Date).toISOString(),timezone:"America/Chicago"},{eventType:"edited",clientType:"web",details:[{detailType:"breakEntryUpdated",from:"12:00 AM - 1:00 AM (1h)",to:"12:00 AM - 2:00 AM (1h)"}],note:"Test a note",user:"Pete Wall",dateTime:(new Date).toISOString(),timezone:"America/Chicago"},{eventType:"deleted",clientType:"web",details:[{detailType:"breakEntryDeleted",from:"12:00 AM - 1:00 AM (1h)",to:null}],note:"Test a note",user:"Pete Wall",dateTime:(new Date).toISOString(),timezone:"America/Chicago"}];var W=a(26570);const U={added:"circle-plus-solid",edited:"pencil-solid",clockedOut:"circle-stop-solid",clockedIn:"stopwatch-solid",deleted:"trash-can-solid",timesheetSentForApproval:"paper-plane-solid"};function V(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return e.map((e=>{let{date:t,historyEventCount:a}=e;const n=F()(t,"YYYY-MM-DD").format("dddd, MMM D");const s=`${n} (${W.__n("%1$s event","%1$s events",a)})`;return{text:s,value:t}}))}function G(){const{preferredName:e,lastName:t,photoURL:a,jobTitle:s}=window.Employee;return(0,n.Z)(D.S.UpperContent,{},void 0,(0,n.Z)(L.B,{icon:(0,n.Z)(L.B.Avatar,{alt:W.__("Profile picture for %1$s",e),src:a}),size:"large",subtitle:s,title:`${e} ${t}`}))}function Y(e){const{historyData:t,timeEarned:a,days:s,setSelectedDate:i,selectedDate:o}=e;const r=t.changeHistoryEvents?.length??0;const l=F()(t.date,"YYYY-MM-DD");return(0,n.Z)(D.S.Constraint,{},void 0,(0,n.Z)(P.F,{flexDirection:"column"},void 0,(0,n.Z)(B.S,{isClearable:false,items:V(s),onSelect:e=>i(e),selectedValues:[o],size:"large",width:8}),(0,n.Z)(b.L,{marginTop:3.75},void 0,r>0?(0,n.Z)(O.Timeline,{items:[{id:1,icon:"calendar-regular",isInverted:true,primaryText:W.__("Timesheet history for %1$s",l.format("dddd, MMM D")),secondaryText:W.__n("%2$s total time - %1$s event","%2$s total time - %1$s events",r,a)},...t.changeHistoryEvents.map((e=>{const{clientType:t,dateTime:a,timezone:s,eventType:i,details:o}=e;const r=t==="android"||t==="ios";const c=F().tz(a,s);const d=l.isSame(c,"day");let u=c.format(m.T_);if(!d){u=W.__("%1$s on %2$s",c.format(m.T_),c.format("dddd, MMM D"),{note:'e.g. "1:11 PM on Tuesday, Sep 15"'})}return{id:i+a,icon:U[i]??"circle-plus-regular",primaryText:(0,n.Z)(P.F,{flexDirection:"column"},void 0,z(o).map(((e,t)=>(0,n.Z)("div",{},t,e)))),secondaryText:(0,n.Z)(P.F,{flexDirection:"column"},void 0,(0,n.Z)(x.B,{color:"neutral-strong"},void 0,e.note),(0,n.Z)(x.B,{},void 0,e.user),(0,n.Z)(x.B,{},void 0,u,r&&K(t)))}}))],orientation:"vertical",size:"medium"}):(0,n.Z)(R.B,{icon:"clock-rotate-left-regular",title:W.__(`There wasn't any time tracking activity on this day`)}))))}function K(e){return(0,n.Z)("span",{className:"ChangeHistoryModal__mobileIcon"},void 0,(0,n.Z)(H.Z,{settings:{content:{ios:W.__("Via iOS App"),android:W.__("Via Android App")}[e]}},void 0,(0,n.Z)(y.I,{name:"mobile-regular",size:16})))}function X(e){const{days:t,initialDate:a=t[0]?.date}=e;const[s,o]=(0,i.useState)(true);const[r,l]=(0,i.useState)(false);const[c,d]=(0,i.useState)(a);const[u,h]=(0,i.useState)({});const m=(0,p.mr)(t.find((e=>e.date===c))?.hours??0);const f=(0,n.Z)(G,{});const g=(0,n.Z)(Y,{days:t,historyData:u,selectedDate:c,setSelectedDate:d,timeEarned:m});(0,i.useEffect)((()=>{window.setTimeout((()=>{l(true)}))}),[]);(0,i.useEffect)((()=>{o(true);M().get(`/time_tracking/employee/${window.Employee.id}/change_history`,{date:c}).then((e=>{let{data:t}=e;if((0,I.isEnabled)("TIME_MEAL_REST_BREAKS")){t.changeHistoryEvents.unshift(...q)}h(t)})).catch((()=>{window.errorFallBack()})).finally((()=>{o(false)}))}),[c]);return(0,n.Z)(N.u_,{alternativeActionText:null,content:g,contentHasPadding:false,header:f,isLoading:s,isOpen:r,onClose:()=>l(false),primaryAction:()=>l(false),primaryActionText:W.__("Close"),title:W.__("Timesheet Change History"),type:"medium"})}function J(e,t){const a=(0,I.ifFeature)("REACT_18_TT_MIGRATION",(()=>(0,k.bB)({children:(0,n.Z)(X,{days:e,initialDate:t}),attachedElement:document.createElement("div")})),(()=>(0,T.s)((0,n.Z)(X,{days:e,initialDate:t}),document.createElement("div"))));a()}var Q=a(26570);var moment=a(82543);function ee(e){const{employeeTimesheets:t,focusedTimesheet:{id:a},latestTimesheetId:s,latestPreviousTimesheetId:i}=e;const o=[];if((0,I.isEnabled)("HISTORICAL_TIMESHEETS")){let e;let a;Object.keys(t).reverse().forEach((n=>{const r=[];t[n].forEach(((t,o)=>{if(Number(s)===Number(t.id)){a={key:`${n}-${t.id}-${o}`,text:Q.__("This Pay Period"),value:Number(t.id)};return false}if(Number(i)===Number(t.id)){e={key:`${n}-${t.id}-${o}`,text:Q.__("Previous Pay Period"),value:Number(t.id)};return false}r.push({key:`${n}-${t.id}-${o}`,text:`${moment(t.start).format()}  ${moment(t.end).format()}`,value:Number(t.id)})}));if(r.length>0){o.push({text:n,value:n,items:r})}}));if(e){o.unshift(e)}if(a){o.unshift(a)}}else{t.forEach((e=>{const t=Number(e.id);let a=`${moment(e.start).format()}  ${moment(e.end).format()}`;if(s===t){a=Q.__("This Pay Period")}else if(i===t){a=Q.__("Previous Pay Period")}o.push({text:a,value:t})}))}if(o.length===0){return null}function r(e){window.location=ae(s,e)}return(0,n.Z)("div",{className:"TimesheetHeader__dropdown"},void 0,(0,n.Z)("div",{className:"TimesheetHeader__period"},void 0,(0,n.Z)(B.S,{variant:"single",isClearable:false,items:o,onChange:r,selectedValues:[a],showSearch:"never",size:"small",width:"7"})))}var te=(0,g.F)(["employeeTimesheets","focusedTimesheet","latestTimesheetId","latestPreviousTimesheetId"],ee);function ae(e,t){const a=e===t[0]?"":`&et_id=${t[0]}`;return`/employees/timesheet/?id=${window.Employee.id}${a}`}var ne=a(41425);var se=a(26570);const ie=[{key:"showWeekends",text:se.__("Weekends")},{key:"showDailyGraph",text:se.__("Daily Graph")},{key:"showPayPeriodTotal",text:se.__("Pay Period Total")}];function oe(e){const{timesheetOptions:t,changeViewOption:a}=e;if(!t||!a){return null}const s=[{text:se.__("Show"),type:"group",items:[{isDisabled:true,text:"",value:"",render:()=>(0,n.Z)("div",{className:"fab-CheckboxGroup"},void 0,ie.map((e=>{const s=`timesheetOptionDropdown-${e.key}`;return(0,n.Z)("div",{className:"fab-Checkbox"},e.key,(0,n.Z)("input",{checked:t[e.key],className:"fab-Checkbox__input",id:s,onChange:()=>a(e.key,!t[e.key]),readOnly:true,type:"checkbox"}),(0,n.Z)("label",{className:"fab-Checkbox__label",htmlFor:s},void 0,e.text))})))}]}];return(0,n.Z)("div",{className:"TimesheetOptionDropdown"},void 0,(0,n.Z)(ne.D,{ButtonProps:{icon:"gear-regular",secondary:true,outline:true,size:"small"},items:s,renderOptionContent:e=>e.render?e.render():e.text}))}var re=a(26570);function le(e){const{focusedTimesheet:t,showHeader:a,isOwnTimesheet:s,isApprovalShowing:r,isLatestTimesheet:l,timesheetOptions:c,changeViewOption:d,employeeTimesheets:u,getFocusedDays:h,getToday:p}=e;const m=s&&!r;const f={timesheetOptions:c,changeViewOption:d};const g=l?p().date:undefined;return(0,n.Z)(i.Fragment,{},void 0,a&&(0,n.Z)("div",{className:"TimesheetHeader"},void 0,(0,n.Z)("div",{className:"TimesheetHeader__content"},void 0,(0,n.Z)(y.I,{color:"primary-strong",name:"stopwatch-regular",size:24}),(0,n.Z)(b.L,{marginLeft:2},void 0,(0,n.Z)(w.H,{size:"medium"},void 0,re.__("Timesheet"))),(0,n.Z)("div",{className:"TimesheetHeader__controls"},void 0,u&&(0,n.Z)(te,{}),m&&o().createElement(oe,f),(0,n.Z)(C.B,{color:"secondary",onClick:()=>J(h(),g),size:"small",startIcon:"clock-rotate-left-regular",type:"button",variant:"outlined"},void 0,re.__("History")),(0,n.Z)(S.T,{content:re.__("Download PDF")},void 0,(0,n.Z)(E.I,{color:"secondary","data-bi-id":"time-tracking-print-timesheet-button",icon:"down-to-line-regular",onClick:()=>window.open(`/timesheet/${t.id}/print`,"_blank"),size:"small",target:"_blank",type:"button",variant:"outlined"}))))),t.workWeekStartsOn?.changed&&(0,n.Z)(b.L,{"data-testid":"workWeekWarning",marginBottom:2},void 0,(0,n.Z)(x.B,{color:"warning-strong",icon:"triangle-exclamation-regular"},void 0,re.__n("The work week start day has changed. There is %1$s day where overtime cannot be calculated.","The work week start day has changed. There are %1$s days where overtime cannot be calculated.",t.workWeekStartsOn.count))))}var ce=(0,g.F)(["isOwnTimesheet","isApprovalShowing","isLatestTimesheet","employeeTimesheets","focusedTimesheet","timesheetOptions","changeViewOption","showHeader","getFocusedDays","getToday"],le);var de=a(88604);function ue(){return(0,n.Z)("button",{type:"submit",style:{width:0,height:0,overflow:"hidden",padding:0,border:"none",position:"absolute"}})}var he=a(26570);function pe(e){const{type:t}=e;const a=t==="begins"?he.__("Pay Period Begins"):he.__("Pay Period Ends");return(0,n.Z)(x.B,{color:"neutral-medium",icon:"calendar-regular",size:"small"},void 0,a)}function me(e,t){const a=t.length<=2&&t.every((e=>{const t=e.moment.day();return t===0||t===6}));if(!t||!e&&a){return false}return!!t.length}var fe=a(21198);var ge=a(18669);var ve=a(51341);var _e=a(87264);var ye=a(1895);var be=a(88306);var we=a(1290);var Ce=a(37009);var Se=a(16495);var Ee=a(73013);var xe=a(78922);var Te=a(52326);var ke=a(26570);function Ie(e){const t=Math.floor(e.hours);const a=Math.round((e.hours-t)*60);const n=ke.__("%sh",window.formatNumberJS(t,0),{note:"'h' is for hours"});const s=a!==0&&ke.__("%sm",window.formatNumberJS(a,0),{note:"'m' is for minutes"});if(n&&s){return`${n} ${s} ${e.name}`}else if(n){return`${n} ${e.name}`}else if(s){return`${s} ${e.name}`}return""}function Ae(e){let{shiftDifferentials:t}=e;return(0,n.Z)(P.F,{flexDirection:"column",gap:.75},void 0,t.map((e=>(0,n.Z)(x.B,{color:"neutral-strong",icon:"badge-dollar-regular",size:"small"},e.id,Ie(e)))))}var Fe=a(6273);var Ze=a(26570);let Me=null;let Ne=null;let De=null;const Le=(0,d.isEnabled)("timesheetChange");class Pe extends i.Component{static get className(){return"Slat"}constructor(e){super(e);(0,s.Z)(this,"_getIsForgotClockDay",(()=>{const{forgotClockOut:e,clock:t,date:a,isFuture:n}=this.props;return e&&t&&t.latest!==null?!n&&(0,ve.Z)(a).isSameOrAfter((0,ve.Z)(t.latest.start).startOf("day")):false}));(0,s.Z)(this,"_expandEntriesList",(()=>{this.setState({isExpanded:true});Ze(this.collapseButtonRef).fadeIn(200);Ze(this.clockEntriesRef).slideDown(200)}));(0,s.Z)(this,"_collapseEntriesList",(()=>{this.setState({isExpanded:false});Ze(this.collapseButtonRef).fadeOut(200);Ze(this.clockEntriesRef).slideUp(200)}));(0,s.Z)(this,"_handleShowChangeHistory",(()=>{const{date:e,getFocusedDays:t}=this.props;J(t(),e)}));(0,s.Z)(this,"_handleCollapseButtonClick",(e=>{e.preventDefault();this._collapseEntriesList()}));(0,s.Z)(this,"_launchAddEditModal",((e,t,a)=>{const{canEdit:n,isViewOnly:s,changeViewOption:i,clock:o,clockEntries:r,date:l,hourEntries:c,employee:u,hours:h,projectsWithTasks:p,timesheetOptions:m,type:f,availableBreaks:g,clockEntryBreaks:v}=this.props;let y=[];if((0,d.isEnabled)("TIME_MEAL_REST_BREAKS")){y=t==="edit"?(0,Ce.a)({clockEntryBreaks:Object.values(v??{}),availableBreaks:g??[]}):(0,Ce.a)({availableBreaks:g??[]})}const b={canEdit:n&&!s,openAsSheet:s,clockedIn:o&&o.clockedIn,clockEntries:r,currentEntryId:e,date:l,dayTotal:h,employeeId:u.id,hourEntries:c,onHintDismiss:i,projectsWithTasks:p,showTimeEntryHint:m.showTimeEntryHint,timesheetType:f,timezone:a,type:t,breaks:y};(0,we.Z)(b).then(this.props.refreshTimesheet).then((()=>{if(!this.props.isToday&&this.props.clockEntries.length){this._expandEntriesList()}}))}));(0,s.Z)(this,"_onInputFocus",(()=>{document.dispatchEvent(new CustomEvent("SiteFooter:open"));if(this.props.hours!==null&&this.props.userEdit===null){let e=(0,r.round)(this.props.hours,2);if(window.GLOBAL_DECIMAL_CHAR===","){e=String(e).replace(".",",")}this.props.editSingleEntrySlat(this.props.date,e)}if(De!==null){clearTimeout(De);De=null}De=setTimeout((()=>{De=null;const e=Ze(this.inputRef);e.select().one("mouseup",(t=>{t.preventDefault();e.select()}))}));if(Ne){Ne.setAnchor(this.inputRef);if(this.state.validInput){Ne.show()}}if(!this.state.validInput){(0,ye.n)(this._errorMessage,this.inputRef);Me.show()}}));(0,s.Z)(this,"_onInputBlur",(()=>{if(Ne){Ne.hide()}Me.hide()}));(0,s.Z)(this,"_onInputChange",(()=>{const{value:e}=this.inputRef;const t=(0,p.TD)(e);const a=t!==p.ch&&t!==p.w9;if(a){this.setState({validInput:true});if(Ne){Ne.show()}Me.hide()}else{this.setState({validInput:false});this._errorMessage=t===p.w9?m.m6:m.RG;if(Ne){Ne.hide()}(0,ye.n)(this._errorMessage,this.inputRef);Me.show()}this.props.editSingleEntrySlat(this.props.date,e)}));(0,s.Z)(this,"_handleNoteIconClick",(()=>{const{canEdit:e,date:t,employee:a,hours:n,note:s,refreshTimesheet:i,isViewOnly:o,projectId:r,projectName:l,projectsWithTasks:c,taskId:d,taskName:u}=this.props;const h={projectId:r,projectName:l,taskId:d,taskName:u};const p={canEdit:e,employeeId:a.id,note:s,timezone:a.timezone,today:ve.Z.tz(t,a.timezone),totalTime:n,type:"single",isViewOnly:o,projectData:h,projectsWithTasks:c};(0,Te.Z)(p).then(i)}));(0,s.Z)(this,"_handleCurrentEntryClick",(()=>{const{canEdit:e,employee:t,clock:a,refreshTimesheet:n,isViewOnly:s,projectsWithTasks:i}=this.props;const o={projectId:a.latest.projectId,projectName:a.latest.projectName,taskId:a.latest.taskId,taskName:a.latest.taskName};const r={canEdit:e,clock:a,employeeId:t.id,isViewOnly:s,note:a.latest.note,projectData:o,projectsWithTasks:i,timezone:a.latest.timezone,today:ve.Z.tz(a.latest.start,a.latest.timezone),type:"clock"};(0,Te.Z)(r).then(n)}));this.isMultipleEntryUI=e.type==="multiple"||e.type==="hour";this.state={validInput:true,isExpanded:false,isForgotClockDay:this._getIsForgotClockDay()};if(e.type==="single"){if(!Me){Me=(0,ye.Z)()}if(e.timesheetOptions.showTimeEntryHint&&!Ne){Ne=(0,be.Z)();Ne.onClose((()=>{Ne.destroy();Ne=null;e.changeViewOption("showTimeEntryHint",false)}))}}}componentDidUpdate(e,t){if(e.userEdit!==null&&this.props.userEdit===null){this.inputRef.blur();this.setState({validInput:true})}if(e.clockEntries.length&&!this.props.clockEntries.length){this._collapseEntriesList()}const a=this._getIsForgotClockDay();if(t.isForgotClockDay!==a){this.setState({isForgotClockDay:a})}}_renderOvertimeHours(){const{overtimeSummary:e}=this.props;const t=(0,fe.classNameFromObject)({TimesheetSlat__extraInfoItem:true,"TimesheetSlat__extraInfoItem--overtimePush":this.isMultipleEntryUI});const a=this.props.overtimeSummary.length>1;return e.map((e=>(0,n.Z)("div",{className:t},e.multiplier,(0,n.Z)(x.B,{color:"warning-medium",icon:"stopwatch-regular"},void 0,Ze.__("%1$s Overtime",(0,p.mr)(e.hours,true))," ",a&&`(${e.multiplier}x)`))))}_renderShiftDifferentials(){const{shiftDifferentials:e={}}=this.props;const t=Object.values(e);return!!t.length&&(0,n.Z)(b.L,{marginTop:.75},void 0,(0,n.Z)(Ae,{shiftDifferentials:t}))}_renderTimeOffInfoItems(){const{timeOff:e}=this.props;return e.map(((e,t)=>{const a=e.icon?_e.v[e.icon]:"business-time-regular";const s=e.unit==="hours"?Ze.__("hours"):Ze.__("days");const i=(0,fe.classNameFromObject)({TimesheetSlat__extraInfoItem:true,"TimesheetSlat__extraInfoItem--clockPush":this.isMultipleEntryUI});return(0,n.Z)("div",{className:i},t,(0,n.Z)(x.B,{color:"neutral-strong",icon:a},void 0,e.amount," ",s," ",e.type))}))}_renderHolidayInfoItems(){return this.props?.holidays?.map(((e,t)=>{const a=(0,ge.VR)((0,ge.wG)(e.multiplier));const s=(0,fe.classNameFromObject)({TimesheetSlat__extraInfoItem:true,"TimesheetSlat__extraInfoItem--clockPush":this.isMultipleEntryUI});let i=`${e.name} ${e.multiplier?`(${Ze.__("pays")} ${a}x)`:""}`;if(e.paidHours>0){i=(0,p.Rr)(e)}return(0,n.Z)("div",{className:s},t,(0,n.Z)(x.B,{color:"neutral-strong",icon:(0,I.ifFeature)("TIME_HOLIDAY_VISIBILITY","party-horn-regular","gift-regular")},void 0,i))}))}_renderClockEntries(){const{clockEntries:e,canEdit:t,clock:a,isToday:s,forgotClockOut:i,isViewOnly:r,type:l}=this.props;const{isForgotClockDay:c}=this.state;return!!e.length&&o().createElement("div",{ref:e=>this.clockEntriesRef=e,style:{display:s?"":"none"}},(0,n.Z)("div",{className:"TimesheetSlat__contentDivider"}),(0,Se.Z)({canEditEntries:t,clockEntries:e,elapsedTimeToday:a?a.earned:0,hasLightBackground:s,onEditClick:this._launchAddEditModal,forgotClockOut:i,isForgotClockDay:c,currentEntryClick:this._handleCurrentEntryClick,isViewOnly:r,renderProjectAndTask:true,type:l}))}_renderHourEntries(){const{hourEntries:e,canEdit:t,isToday:a,isViewOnly:s,type:i}=this.props;return!!e?.length&&o().createElement("div",{ref:e=>this.clockEntriesRef=e,style:{display:a?"":"none"}},(0,n.Z)("div",{className:"TimesheetSlat__contentDivider"}),(0,n.Z)(Ee.x,{canEdit:t,hasLightBackground:a,hourEntries:e,isViewOnly:s,onEditClick:this._launchAddEditModal,renderProjectAndTask:true,type:i}))}_renderProjectTaskText(){const{canEdit:e,isToday:t,isViewOnly:a,note:s,projectName:i,taskName:o}=this.props;const r=(0,p.Vh)(i,o);return(0,n.Z)("div",{className:(0,fe.classNameFromObject)({TimesheetSlat__projectTaskTextWrapper:true,"TimesheetSlat__projectTaskTextWrapper--today":t})},void 0,(0,n.Z)("div",{className:(0,fe.classNameFromObject)({TimesheetSlat__projectTaskText:true,"TimesheetSlat__projectTaskText--editable":!a,"TimesheetSlat__projectTaskText--expanded":a}),onClick:!a?this._handleNoteIconClick:null},void 0,(0,n.Z)(P.F,{justifyContent:"space-between"},void 0,(0,n.Z)(P.F,{flexDirection:"column",overflow:"hidden"},void 0,(0,n.Z)("div",{},void 0,r),(0,n.Z)("div",{className:(0,fe.classNameFromObject)({"TimesheetSlat__projectTaskText--note":true,"TimesheetSlat__projectTaskText--note--expanded":a})},void 0,s)),e&&(0,n.Z)("span",{className:"TimesheetSlat__projectTaskText__editIcon"},void 0,(0,n.Z)(y.I,{color:"neutral-extra-strong",name:"pen-solid",size:12})))))}_renderSingleEntryUi(){const{canEdit:e,hours:t,isToday:a,note:s,slatDisabled:r,isViewOnly:l,projectName:c}=this.props;const d=(0,fe.classNameFromObject)({"TimesheetSlat__input fab-TextInput fab-TextInput--biggie":true,"TimesheetSlat__input--disabled":!this.props.canEdit,"fab-TextInput--error":!this.state.validInput});const u={TimesheetSlat__noteIconWrapper:true,"TimesheetSlat__noteIconWrapper--today":a&&t!==null,"TimesheetSlat__noteIconWrapper--hasNote":s,"TimesheetSlat__noteIconWrapper--disabled":r,"TimesheetSlat__noteIconWrapper--hasHours":t!==null&&e};const h=this.props.userEdit===null?(0,p.mr)(this.props.hours):this.props.userEdit;return(0,n.Z)(i.Fragment,{},void 0,l&&(0,n.Z)("div",{className:"TimesheetSlat__viewOnlyHours"},void 0,h?h:(0,p.mr)(0)),!l&&(0,n.Z)(i.Fragment,{},void 0,o().createElement("input",{className:d,disabled:!this.props.canEdit,onBlur:this._onInputBlur,onChange:this._onInputChange,onFocus:this._onInputFocus,ref:e=>this.inputRef=e,value:h}),!!s===false&&!c&&(0,n.Z)(xe.Z,{customCSS:u,hasNote:!!s,onNoteIconClick:this._handleNoteIconClick})),(0,n.Z)("div",{className:"TimesheetSlat__extraInfo"},void 0,this._renderOvertimeHours(),this._renderTimeOffInfoItems(),this._renderHolidayInfoItems()))}_renderFirstAndLast(){const e=this.props.clockEntries.length;const t=!!e;const a=!!this.props.clock;const s=a&&this.props.clock.clockedIn;const i=Ze.__("Now");let o=this.props.clockEntries[0];let r=this.props.clockEntries[e-1];let l="";if((!this.props.isToday||!a)&&!t){return null}if(!this.props.isToday&&t){o=ve.Z.tz(o.start,o.timezone).format(m.T_);r=ve.Z.tz(r.end,r.timezone).format(m.T_);l=`${o} - ${r}`}if(this.props.isToday&&!t&&a){l=this.props.serverTime.format(m.T_)}if(this.props.isToday&&!s&&t){o=ve.Z.tz(o.start,o.timezone).format(m.T_);r=ve.Z.tz(r.end,r.timezone).format(m.T_);l=`${o}  ${r}`}if(this.props.isToday&&s){o=ve.Z.tz(o.start,o.timezone).format(m.T_);r=i;l=`${o} - ${r}`}const c=(0,fe.classNameFromObject)({TimesheetSlat__firstAndLast:true,"TimesheetSlat__firstAndLast--forgotClockOut":this.props.forgotClockOut&&this.state.isForgotClockDay});return(0,n.Z)("div",{className:c},void 0,l,t&&(0,n.Z)("span",{className:"TimesheetSlat__entriesCount"},void 0," (",Ze.__n("%1$s Entry","%1$s Entries",e,{note:"number of entries"}),")"))}_renderMultipleEntryUi(){const{canEdit:e,clock:t,employee:a,forgotClockOut:s,hasMidnightEntry:r,holidays:l,hours:c,isToday:d,isFuture:u,slatDisabled:h,timeOff:m,type:f,historyEventCount:g,isViewOnly:v}=this.props;const{isForgotClockDay:y}=this.state;const b=t&&t.clockedIn;const w=(0,fe.classNameFromObject)({TimesheetSlat__dayTotal:true,"TimesheetSlat__dayTotal--active":d&&b&&!s,"TimesheetSlat__dayTotal--forgotClockOut":s&&y});const C=!!m.length||!!l.length;const S=d||u;const x=f==="single"||b&&S||!e||v||h||r;const T=Ze.__n("See change history (%1$s event)","See change history (%1$s events)",g);return(0,n.Z)(i.Fragment,{},void 0,(0,n.Z)("div",{className:"TimesheetSlat__multipleContent"},void 0,(0,n.Z)("h4",{className:w},void 0,(0,p.mr)(c||0)),f==="multiple"&&this._renderFirstAndLast(),this._renderOvertimeHours(),this._renderShiftDifferentials(),C&&(0,n.Z)(i.Fragment,{},void 0,(0,n.Z)("div",{className:"TimesheetSlat__contentDivider"}),this._renderTimeOffInfoItems(),this._renderHolidayInfoItems()),f==="multiple"&&this._renderClockEntries(),f==="hour"&&this._renderHourEntries(),!x&&(0,n.Z)("a",{className:"TimesheetSlat__addEntryLink",onClick:()=>{this._launchAddEditModal(null,"add",a.timezone)}},void 0,"+ ",Ze.__("Add Time Entry"))),Le&&o().createElement("div",{className:"TimesheetSlat__expandedActions",ref:e=>this.collapseButtonRef=e,style:{display:"none"}},!v&&g>0&&(0,n.Z)(H.Z,{settings:{content:T}},void 0,(0,n.Z)(E.I,{ariaLabel:T,color:"secondary","data-buttonname":"timesheet-change-history",icon:"clock-rotate-left-regular",onClick:this._handleShowChangeHistory,size:"extra-small",type:"button",variant:"outlined"})),(0,n.Z)(E.I,{"aria-label":Ze.__("Collapse Entries"),color:"secondary","data-buttonname":"timesheet-change-collapse",icon:"chevrons-up-regular",onClick:this._handleCollapseButtonClick,size:"extra-small",type:"button",variant:"outlined"})),!Le&&o().createElement("div",{className:"TimesheetSlat__expandedActions",ref:e=>this.collapseButtonRef=e,style:{display:"none"}},(0,n.Z)(E.I,{"aria-label":Ze.__("Collapse Entries"),color:"secondary","data-buttonname":"timesheet-change-collapse",icon:"chevrons-up-regular",onClick:this._handleCollapseButtonClick,size:"extra-small",type:"button",variant:"outlined"})))}render(){const{isExpanded:e}=this.state;const{clock:t,clockEntries:a,hasWorkWeekStartsOnChanged:s,hourEntries:i,isFuture:o,isToday:r,isWeekend:l,moment,note:c,projectName:d,slatDisabled:u,timesheetOptions:h,type:p,topNote:m,breakAssessments:f}=this.props;const g=a?.length||i?.length;const v=!r&&!e&&g&&this.isMultipleEntryUI;const y=r&&t&&t.clockedIn;const b=d||!!c;const w=(0,fe.classNameFromObject)({TimesheetSlat:true,"TimesheetSlat--clock":this.isMultipleEntryUI,"TimesheetSlat--future":o&&!u,"TimesheetSlat--disabled":u,"TimesheetSlat--today":r,"TimesheetSlat--hide":l&&!h.showWeekends,"TimesheetSlat--expandable":v,"TimesheetSlat--expanded":e,"TimesheetSlat--futurePadClockedIn":y,"js-timesheet-showWeekends":l});return(0,n.Z)(Fe.q,{value:{breakAssessments:f??{}}},void 0,(0,n.Z)("div",{className:w,onClick:v?this._expandEntriesList:null},void 0,m||s?(0,n.Z)(P.F,{flexDirection:"column",gap:.5,marginTop:2},void 0,m,s&&(0,n.Z)(x.B,{color:"warning-strong",icon:"triangle-exclamation-regular"},void 0,Ze.__("Overtime cannot be calculated for this day."))):null,(0,n.Z)(P.F,{gap:3,paddingY:3.5},void 0,(0,n.Z)("div",{className:"TimesheetSlat__day"},void 0,(0,n.Z)("div",{className:(0,fe.classNameFromObject)({TimesheetSlat__dayOfWeek:true,"TimesheetSlat__dayOfWeek--active":y})},void 0,moment.format("ddd")),(0,n.Z)("div",{className:"TimesheetSlat__dayDate"},void 0,moment.format("MMM D"))),(0,n.Z)("div",{className:"TimesheetSlat__dataWrapper"},void 0,(0,n.Z)("div",{className:(0,fe.classNameFromObject)("TimesheetSlat__data",{"TimesheetSlat__data--hasProjectSection":p==="single"&&b})},void 0,p==="single"&&this._renderSingleEntryUi(),this.isMultipleEntryUI&&this._renderMultipleEntryUi()),b&&p==="single"&&this._renderProjectTaskText()))))}}var Oe=(0,g.F)(["employee","serverTime","timesheetOptions","clock","focusedTimesheet.holidayPayType","isViewOnly","projectsWithTasks","availableBreaks","changeViewOption","editSingleEntrySlat","refreshTimesheet","forgotClockOut","getFocusedDays"],Pe);var Re=a(4715);var Be=a(55928);function $e(e){const{clock:t,workflow:{userCanEdit:a},focusedTimesheet:s,timesheetOptions:i,saveTimesheet:r,getPadStartDays:l,getFocusedDays:c,getPadEndDays:u,showSheetPadDays:h,isViewOnly:m,showTimesheetDateRangeHeader:f=true}=e;const g=e=>{e.preventDefault();r()};const v=l();const y=c();const w=u();const C=t?(0,p.RG)(t.latest):false;const S={slatDisabled:true,type:s.type,forgotClockOut:C};const E={slatDisabled:false,type:s.type,canEdit:(0,d.isEnabled)("ttLocationUpdates")?a:a&&!m,forgotClockOut:C};const x=e=>{if(e&&f){return(0,n.Z)(Re.D,{color:h&&v.length?"neutral-medium":"neutral-extra-weak"})}else if(!e){return(0,n.Z)(Re.D,{color:h&&v.length?"neutral-medium":"neutral-extra-weak"})}return null};return(0,n.Z)("div",{className:"TimesheetEntries"},void 0,(0,n.Z)(Be.S,{},void 0,f?(0,n.Z)(b.L,{marginBottom:3},void 0,(0,n.Z)(Be.S.Header,{icon:"calendar-solid",size:"medium",title:(0,p.Rs)(s.start,s.end)})):null,(0,n.Z)("form",{onSubmit:g},void 0,(0,n.Z)(P.F,{flexDirection:"column"},void 0,h&&v.map((e=>(0,n.Z)(P.F,{flexDirection:"column"},e.date,(0,n.Z)(Re.D,{color:"neutral-extra-weak"}),o().createElement(Oe,(0,de.Z)({},e,S))))),y.map(((e,t)=>(0,n.Z)(P.F,{flexDirection:"column"},e.date,x(t===0),o().createElement(Oe,(0,de.Z)({},e,E,{topNote:t===0&&me(i.showWeekends,v)&&(0,n.Z)(pe,{type:"begins"})}))))),h&&w.map(((e,t)=>(0,n.Z)(P.F,{flexDirection:"column"},e.date,(0,n.Z)(Re.D,{color:t===0?"neutral-medium":"neutral-extra-weak"}),o().createElement(Oe,(0,de.Z)({},e,S,{topNote:t===0&&me(i.showWeekends,w)&&(0,n.Z)(pe,{type:"ends"})})))))),(0,n.Z)(ue,{}))))}var He=(0,g.F)(["workflow","focusedTimesheet","timesheetOptions","clock","showSheetPadDays","isViewOnly","showTimesheetDateRangeHeader","saveTimesheet","getPadStartDays","getFocusedDays","getPadEndDays"],$e);var je=a(13999);var ze=a(26570);function qe(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:()=>0;return e.reduce(((e,a)=>{if(t instanceof Function){return e+t(a)}return e+a[t]}),0)}function We(e){return e.reduce(((e,t)=>e+t.hours+t.timeOffHours+t.paidHolidayHours),0)}function Ue(e,t,a){if(e===t){return ze.__("This Pay Period")}else if(e===a){return ze.__("Previous Pay Period")}return ze.__("Pay Period")}function Ve(e,t){const a=(0,ve.Z)(e).diff((0,ve.Z)(t),"days",true);return Math.ceil(a)}function Ge(e,t){const a=(0,ve.Z)(e);const n=(0,ve.Z)(t);const s="MMM D";const i=a.isSame(n,"month")?"D":s;return`${a.format(s)}  ${n.format(i)}`}function Ye(e,t,a){const n=Ve(t,a);const s=n>0?` (${ze.__("%s days left",n)})`:"";return`${Ge(e,t)}${s}`}var Ke=a(84164);var Xe=a(51178);var Je=a(40724);var Qe=a(26570);function et(e){const{periodTimeOff:t,hourSummary:a,breakSummary:s}=e;let i=false;return(0,I.ifFeature)("TIME_MEAL_REST_BREAKS",(0,n.Z)(Je.x5,{breakSummary:s,hourSummary:a,periodTimeOff:t,route:"/time-tracking/timesheet-summary/hours-breakdown"}),(0,n.Z)(P.F,{flexDirection:"column",gap:2,width:"100%"},void 0,a.map((e=>{let a="";if(e.hoursType==="REG"&&!e.projectName&&!e.taskName&&!e.shiftDifferentialName&&!e.holidayName){a=e.hoursType}if(e.hoursType!=="REG"){a=e.hoursType}if(e.projectName){a+=a?" | ":"";a+=e.projectName}if(e.taskName){a+=`  ${e.taskName}`}if(e.shiftDifferentialName){a+=a?" | ":"";a+=e.shiftDifferentialName}if(e.holidayName&&e.holidayMultiplier){a+=a?" | ":"";a+=`${e.holidayName} (${e.holidayMultiplier}x)`}if(e.hoursType==="HOL"){i=true;return o().createElement(o().Fragment,null,!!t&&(0,n.Z)(P.F,{flexDirection:"column",justifyItems:"start"},void 0,(0,n.Z)(x.B,{size:"small",weight:"regular"},void 0,Qe.__("Time Off")),(0,n.Z)(x.B,{size:"medium",weight:"semibold"},void 0,(0,p.mr)(t,true)," ")),(0,n.Z)(P.F,{flexDirection:"column",justifyItems:"start"},a,(0,n.Z)(x.B,{size:"small",weight:"regular"},void 0,Qe.__("Holiday")),(0,n.Z)(x.B,{size:"medium",weight:"semibold"},void 0,(0,p.mr)(e.totalHours,true))))}return(0,n.Z)(P.F,{flexDirection:"column",justifyItems:"start"},a,(0,n.Z)(x.B,{size:"small",weight:"regular"},void 0,a),(0,n.Z)(x.B,{size:"medium",weight:"semibold"},void 0,(0,p.mr)(e.totalHours,true)))})),!i&&!!t&&(0,n.Z)(P.F,{flexDirection:"column",justifyItems:"start"},void 0,(0,n.Z)(x.B,{size:"small",weight:"regular"},void 0,Qe.__("Time Off")),(0,n.Z)(x.B,{size:"medium",weight:"semibold"},void 0,(0,p.mr)(t,true)," "))))}var tt=a(26570);class at extends i.Component{constructor(){super(...arguments);(0,s.Z)(this,"state",{approveTimesheetPending:false});(0,s.Z)(this,"_approvalDisabledTooltip",null);(0,s.Z)(this,"_afterApproveTimesheet",(()=>this.setState({approveTimesheetPending:false})));(0,s.Z)(this,"_approveTimesheet",(()=>{const{focusedTimesheet:e,workflow:t,approveTimesheet:a}=this.props;this.setState({approveTimesheetPending:true});a(e.id,t.hoursLastChangedAt).then(this._afterApproveTimesheet).catch(this._afterApproveTimesheet)}))}static get className(){return"SummaryApproval"}_renderStatus(){const{userCanApprove:e,status:t}=this.props.workflow;if(t==="approved"){return this._renderApproved()}else if(t==="pending"&&!e){return this._renderPendingWithoutPermission()}else if(t==="pending"&&e){return this._renderPendingWithPermission()}}_renderApproved(){const{approverName:e,approvalMoment:t}=this.props.workflow;return(0,n.Z)(Ke.I,{description:tt.__("Approved by %1$s on %2$s.",e,t.format("MMM D, YYYY"),{note:'e.g. "Approved by Jane Smith on Sep 4, 2017"'}),icon:"circle-check-solid",status:Ke.a.success,title:(0,n.Z)(x.B,{color:"success-strong",weight:"semibold"},void 0,tt.__("Approved"))})}_renderPendingWithoutPermission(){const{approverName:e}=this.props.workflow;return(0,n.Z)(Ke.I,{description:e?tt.__("Waiting for approval from %1$s",e,{note:'e.g. "Waiting for approval from John Henry'}):tt.__("Waiting for approval"),icon:"hourglass-regular",title:tt.__("Pending")})}_renderPendingWithPermission(){const{workflow:{dueMoment:e},getChangedEntries:t}=this.props;const a=Boolean(t().length);const s=(0,n.Z)(C.B,{color:"primary",onClick:this._approveTimesheet,size:"medium",startIcon:"circle-check-regular",type:"button"},void 0,tt.__("Approve"));return o().createElement(o().Fragment,null,(0,n.Z)(P.F,{alignSelf:"stretch",flexDirection:"column"},void 0,a&&!this._approvalDisabledTooltip?(0,n.Z)(S.T,{content:tt.__("Make sure your changes are saved before you approve.")},void 0,s):s),(0,n.Z)(x.B,{color:"neutral-weak"},void 0,tt.__("Must approve by %1$s",e.format("MMM D"),{note:'e.g. "Must approve by May 17"'})))}render(){const{employeeId:e,employeeName:t,employeePhotoUrl:a,focusedTimesheet:s,payPeriodTitleText:i,payPeriodRangeText:l,getFocusedDays:c,summaryTotals:d,isViewOnly:u}=this.props;const{periodTimeOff:h,breakSummary:m,hourSummary:f}=d;const g=c();const v=s.payCycleId?`/employees/timesheet?id=${e}&et_id=${s.id}&pay_cycle_id=${s.payCycleId}`:`/employees/timesheet?id=${e}&et_id=${s.id}`;const y=!!h||!!f.length||(0,I.ifFeature)("TIME_MEAL_REST_BREAKS",!(0,r.isEmpty)(m));return(0,n.Z)(P.F,{alignItems:"center",flexDirection:"column",gap:1.5},void 0,(0,n.Z)(b.L,{},void 0,(0,n.Z)(je.A,{alt:tt.__("employee avatar"),src:a})),(0,n.Z)(x.B,{size:"large",weight:"bold"},void 0,u?t:i),(0,n.Z)(w.H,{color:"primary",size:"medium"},void 0,(0,p.mr)(We(g))),(0,n.Z)(x.B,{color:"neutral-strong",size:"small"},void 0,l),y?o().createElement(o().Fragment,null,(0,n.Z)(b.L,{width:"100%"},void 0,(0,n.Z)(Re.D,{color:"neutral-extra-weak",marginTop:.5})),o().createElement(et,{periodTimeOff:h,hourSummary:f,breakSummary:m})):null,!u&&this._renderStatus(),u&&(0,n.Z)(Xe.T,{component:"a",endIcon:"chevrons-right-solid",href:v,text:tt.__("Go to timesheet")}))}}var nt=(0,g.F)(["focusedTimesheet","workflow","summaryTotals","isViewOnly","timesheetPeriodId","approveTimesheet","getFocusedDays","getChangedEntries"],at);var st=a(13686);var it=a(38592);var ot=a(1765);var rt=a(26570);const lt=(0,it.getBrandColor)();const ct=lt["500"];const dt=ot.colors.gray4;const ut=ot.colors.gray5;const ht=ot.colors.attention;class pt extends i.Component{constructor(){super(...arguments);(0,s.Z)(this,"drawChart",(e=>{const t=this.props.hideWeekends?115:170;if(!this.chartRef){this.chartRef=e}this.chart=new st.vz(e,{className:"TimesheetDailyGraph",height:70,width:t,paddingTop:0,bars:{classNameModifier:"hide",mouseEvents:{mouseenter:function(){const t=this.parentNode.getAttribute("data-index");const a=e.querySelectorAll(".ba-BarChart__title")[t];const n=this.getAttribute("fill");if(n.indexOf(ht.replace("#",""))===-1){a.classList.add("TimesheetDailyGraph__title--hover","baseFillColor")}else{a.classList.add("TimesheetDailyGraph__title--hover","TimesheetDailyGraph__title--overtime")}},mouseleave:function(){const t=this.parentNode.getAttribute("data-index");const a=e.querySelectorAll(".ba-BarChart__title")[t];const n=this.getAttribute("fill");if(n.indexOf(ht.replace("#",""))===-1){a.classList.remove("TimesheetDailyGraph__title--hover","baseFillColor")}else{a.classList.remove("TimesheetDailyGraph__title--hover","TimesheetDailyGraph__title--overtime")}}}},barTitles:{classNameModifier:"today",padding:2},barValues:{show:false},responsive:false});this.chart.draw(mt(this.props.lastWeek,this.props.thisWeek,this.props.serverTime,this.props.hideWeekends))}))}static get className(){return"DailyGraph"}componentDidUpdate(){this.drawChart(this.chartRef)}render(){return o().createElement("div",{ref:this.drawChart})}}function mt(e,t,a,n){e=e.map((e=>{if(e.moment.day()<a.day()){return{...e,hours:0}}return e}));return Array.from({length:7}).map(((n,s)=>{const i=e[s];const o=t[s];const l=o.moment.isSame(a,"day");const c=o.overtimeHours;const d=(0,r.round)(i.hours,2)||0;const u=(0,r.round)(o.hours,2)||0;let h=ut;if(l&&c){h=ht}else if(l&&!c){h=ct}return[{color:dt,modifyBar:i.moment.day()<=a.day(),title:i.moment.format("dddd")[0],tooltip:rt.__("Last %s",i.moment.format("dddd, MMMM D"),{note:"e.g. Last Thursday, October 5"}),tooltipLead:rt.__("%s Hours",d,{note:"Number of hours"}),value:d},{color:c?ht:ct,displayType:l?"partial":"solid",modifyTitle:l,titleColor:h,title:o.moment.format("dddd")[0],tooltip:`${l?rt.__("Today"):o.moment.format("dddd")}, ${o.moment.format("MMMM D")}`,tooltipLead:rt.__("%s Hours",u,{note:"Number of hours"}),value:u}]})).filter(((e,a)=>{const s=t[a].isWeekend;return!n||n&&!s}))}function ft(e){const{fadeGraph:t,hideWeekends:a,lastWeekDays:s,thisWeekDays:i,serverTime:o,weekTitleText:r,weekRangeText:l,weekTotal:c}=e;const d=(0,fe.classNameFromObject)({"js-timesheet-showDailyGraph TimesheetSummary__dailyGraph":true,"TimesheetSummary__dailyGraph--fade":t});return(0,n.Z)(P.F,{flexDirection:"column",gap:.75,textAlign:"center"},void 0,(0,n.Z)(x.B,{size:"large",justify:"center",weight:"bold"},void 0,r),(0,n.Z)(b.L,{marginBottom:.75},void 0,(0,n.Z)(w.H,{color:"primary",size:"medium"},void 0,c)),(0,n.Z)(b.L,{marginBottom:2.25},void 0,(0,n.Z)(x.B,{justify:"center",color:"neutral-strong",size:"small"},void 0,l)),(0,n.Z)("div",{className:d},void 0,(0,n.Z)(pt,{lastWeek:s,thisWeek:i,serverTime:o,hideWeekends:a})))}var gt=a(71229);var vt=a(26570);function _t(e){const{approvalMonthAndDayStr:t,payPeriodRangeText:a,payPeriodTotal:s,periodTimeOff:i,hourSummary:l,breakSummary:c}=e;const d=!!i||!!l.length||(0,I.ifFeature)("TIME_MEAL_REST_BREAKS",!(0,r.isEmpty)(c));return(0,n.Z)("div",{className:"TimesheetSummary__payPeriod js-timesheet-showPayPeriodTotal"},void 0,(0,n.Z)(P.F,{flexDirection:"column",gap:1.5},void 0,(0,n.Z)(L.B,{color:"neutral-extra-extra-strong",icon:(0,n.Z)(gt.I,{icon:"calendar-regular",size:40,variant:"secondary"}),size:"small",subtitle:o().createElement(o().Fragment,null,(0,n.Z)(x.B,{color:"neutral-weak",size:"small"},void 0,vt.__("Pay Period")),(0,n.Z)(x.B,{color:"neutral-weak",size:"small"},void 0,a)),title:s}),d?o().createElement(o().Fragment,null,(0,n.Z)(b.L,{width:"100%"},void 0,(0,n.Z)(Re.D,{color:"neutral-extra-weak",marginTop:.5})),o().createElement(et,{periodTimeOff:i,hourSummary:l,breakSummary:c})):null,(0,n.Z)(Ke.I,{description:vt.__("Will be sent for approval on %s",t,{note:"placeholder is a date/time"}),icon:"circle-check-regular"})))}var yt=a(47375);var bt=a(66579);var wt=a(26570);class Ct extends i.Component{constructor(){super(...arguments);(0,s.Z)(this,"_defaultAnimationState",{focusedDaysUpdated:false,lastWeekDaysUpdated:false,thisWeekDaysUpdated:false});(0,s.Z)(this,"state",{...this._defaultAnimationState,focusedDays:this.props.getFocusedDays(),lastWeekDays:this.props.getLastWeekDays(),thisWeekDays:this.props.getThisWeekDays()});(0,s.Z)(this,"_weekTitleText",wt.__("This Week"));(0,s.Z)(this,"_weekRangeText",Ye(this.props.thisWeek.start,this.props.thisWeek.end,this.props.serverTime));(0,s.Z)(this,"_payPeriodTitleText",Ue(this.props.focusedTimesheet.id,this.props.latestTimesheetId,this.props.latestPreviousTimesheetId));(0,s.Z)(this,"_payPeriodRangeText",Ye(this.props.focusedTimesheet.start,this.props.focusedTimesheet.end,this.props.serverTime));(0,s.Z)(this,"_toggleRequesting",(e=>{this.setState({requesting:e})}))}static get className(){return"TimesheetSummary"}_renderApproval(){const e={employeeId:this.props.employee.id,employeeName:this.props.employee.name,employeePhotoUrl:this.props.employee.photoUrl,payPeriodTitleText:this._payPeriodTitleText,payPeriodRangeText:this._payPeriodRangeText};return o().createElement(nt,e)}onEndBreak(){const{employee:e,endBreak:t}=this.props;this._toggleRequesting(true);return t({employeeId:e.id}).finally((()=>this._toggleRequesting(false)))}_renderSummary(){const{isOwnTimesheet:e,employee:t,workflow:a,serverTime:s,timesheetOptions:i,clock:r,summaryTotals:l,currentBreak:c}=this.props;const{lastWeekDaysUpdated:d,thisWeekDaysUpdated:u,lastWeekDays:h,thisWeekDays:m,requesting:f}=this.state;const{weekTotal:g,periodTotal:v,periodTimeOff:y,hourSummary:w,breakSummary:C}=l;const S=r?r.earned:0;const E={fadeGraph:u||d,fadeWeekTotal:u,hideWeekends:e&&!i.showWeekends,lightTheme:!!r,lastWeekDays:h,thisWeekDays:m,serverTime:s,weekTitleText:this._weekTitleText,weekRangeText:this._weekRangeText,weekTotal:(0,p.mr)(g+S)};const x={approvalMonthAndDayStr:a.approvableMoment.format("MMM D"),payPeriodRangeText:this._payPeriodRangeText,payPeriodTotal:(0,p.mr)(v+S),periodTimeOff:y,hourSummary:w,breakSummary:C};return o().createElement(o().Fragment,null,(0,n.Z)(P.F,{justifyContent:"center",marginBottom:1.25,textAlign:"center"},void 0,(0,n.Z)(je.A,{alt:wt.__("employee avatar"),src:t.photoUrl})),!!r&&(0,I.ifFeature)("TIME_MEAL_REST_BREAKS",c?(0,n.Z)(b.L,{},void 0,(0,n.Z)(bt.$,{currentBreak:c,endBreak:()=>this.onEndBreak(),processing:f})):(0,n.Z)(yt.Z,{isSummaryView:true}),(0,n.Z)(yt.Z,{isSummaryView:true})),!!r&&(0,n.Z)(Re.D,{color:"neutral-extra-weak",marginBottom:3,marginTop:2}),o().createElement(ft,E),(0,n.Z)(Re.D,{color:"neutral-extra-weak",marginBottom:3,marginTop:2}),o().createElement(_t,x))}componentWillReceiveProps(e){const t={focusedDays:this.props.getFocusedDays(),lastWeekDays:this.props.getLastWeekDays(),thisWeekDays:this.props.getThisWeekDays()};const a=this.props.clock&&e.clock.clockedIn!==this.props.clock.clockedIn;const n=this.props.clock&&e.clock.clockedIn&&e.clock.earned!==this.props.clock.earned;if(a||n){this.setState(t)}else{const e={focusedDaysUpdated:We(this.state.focusedDays)!==We(t.focusedDays),lastWeekDaysUpdated:We(this.state.lastWeekDays)!==We(t.lastWeekDays),thisWeekDaysUpdated:We(this.state.thisWeekDays)!==We(t.thisWeekDays)};if(e.focusedDaysUpdated||e.lastWeekDaysUpdated||e.thisWeekDaysUpdated){this.setState(e);setTimeout((()=>this.setState({...this._defaultAnimationState,...t})),300)}}}render(){const{isApprovalShowing:e,isViewOnly:t}=this.props;return(0,n.Z)(b.L,{position:"sticky",top:t?32:216,width:336},void 0,(0,n.Z)(Be.S,{},void 0,e||t?this._renderApproval():this._renderSummary()))}}var St=(0,g.F)(["isApprovalShowing","isOwnTimesheet","serverTime","timesheetOptions","employee","workflow","focusedTimesheet","latestTimesheetId","latestPreviousTimesheetId","thisWeek","clock","summaryTotals","showHeader","isViewOnly","currentBreak","endBreak","getFocusedDays","getLastWeekDays","getThisWeekDays"],Ct);var Et=a(26570);function xt(e){const{getChangedEntries:t,isOpen:a,isProcessing:s,onClose:i,primaryAction:o}=e;const r=t().length;const l=r===1?Et.__("This time entry has a note associated with it. You will lose the note if you continue."):Et.__("Youre clearing out at least one time entry with a note. You will lose the note(s) associated with these entries if you continue.");return(0,n.Z)(N.u_,{header:l,icon:"fab-trash-can-43x48",iconColor:"danger",isOpen:a,isProcessing:s,onClose:i,primaryAction:o,primaryActionText:r===1?Et.__("Clear Time Entry + Note"):Et.__("Clear Time Entries + Notes"),title:Et.__("Just Checking...")})}var Tt=a(26570);function kt(e){Tt(`.js-timesheet-${e}`).slideToggle(200)}function It(e){const{isApprovalShowing:t,isOwnTimesheet:a,timesheetOptions:n,getChangedEntries:s}=e;if(a&&!t){(0,r.each)(n,((e,t)=>{if(!e){Tt(`.js-timesheet-${t}`).hide()}}))}At(s)}function At(e){Tt(document).on("click","a:not(.history-modal):not(.no-form-changed-popup)",(function t(a){const n=Tt(a.target).closest("a").attr("href");if(n&&n!==""&&n!==`javascript:void(0)`&&n.indexOf("#")===-1&&e().length){a.preventDefault();Ft(n)}}))}function Ft(e){window.BambooHR.Modal.setState({headline:Tt.__(`You haven't saved your changes`),content:(0,n.Z)("p",{},void 0,Tt.__("Your changes will be lost if you navigate away from this page without saving.")),icon:"fab-triangle-exclamation-48x48",iconColor:"attention",isOpen:true,primaryAction:function(){window.BambooHR.Modal.setState({isOpen:false},true)},primaryActionText:Tt.__("Continue Working"),secondaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);window.location=e},secondaryActionText:Tt.__(`Don't Save`),alternativeAction:null,title:Tt.__("Just Checking...")})}var Zt=a(7981);var Mt=a(1509);var Nt=a(82543);const Dt=(0,d.isEnabled)("timeTrackingWebSockets");let Lt=!Dt;let Pt=true;class Ot extends i.Component{static get className(){return"EmployeeTimesheet"}constructor(e){var t;super(e);t=this;(0,s.Z)(this,"_saveTimesheetFail",(()=>{this.setState({saveTimesheetPending:false,showClearNoteWarningModal:false,clearNoteWarningModalProcessing:false})}));(0,s.Z)(this,"_saveTimesheetSuccess",(()=>{this.actions.refreshTimesheet().then((()=>{document.dispatchEvent(new CustomEvent("SiteFooter:close"));this.setState({showClearNoteWarningModal:false,clearNoteWarningModalProcessing:false});window.setMessage(m.Te,"success")})).catch(this._saveTimesheetFail)}));(0,s.Z)(this,"_handleFooterAction",(()=>{this.actions.saveTimesheet()}));(0,s.Z)(this,"_handleFooterCancel",(()=>{this.actions.resetSingleEntryUserEdits()}));(0,s.Z)(this,"actions",{changeViewOption:(e,t)=>{const{timesheetOptions:a}=this.state;(0,h.updateViewOption)(e,t);kt(e);this.setState({timesheetOptions:{...a,[e]:t}})},editSingleEntrySlat:(e,t)=>{let{days:a}=this.state;a={...a};a[e]={...a[e],userEdit:t};this.setState({days:a})},resetSingleEntryUserEdits:()=>{const{days:e}=this.state;const t=(0,r.flow)((0,l.map)((e=>{e.userEdit=null;return e})),(0,l.keyBy)("date"))(this.queries.getFocusedDays());this.setState({days:{...e,...t}})},saveTimesheet:()=>{if(window.ASSUMED_USER){window.disabledForPermsTest();return}if(this.queries.areChangedEntriesValid()){const e=this.queries.getEntriesWithClearedTimeAndNotesCount();if(e>0){this.setState({showClearNoteWarningModal:true})}else{this.actions.submitTimesheetChanges()}}},submitTimesheetChanges:()=>{const e=this.queries.getChangedEntries().map((e=>({date:e.date,hours:(0,p.TD)(e.userEdit),employeeId:window.Employee.id})));this.setState({saveTimesheetPending:true,clearNoteWarningModalProcessing:true});if(e.length){(0,h.saveSingleDailyHours)(e).then(this._saveTimesheetSuccess).catch(this._saveTimesheetFail)}else{this._saveTimesheetSuccess()}},refreshTimesheet:()=>{const{focusedTimesheet:e,clock:t}=this.state;return(0,h.refreshTimesheet)(e.id).then((e=>{const a=e.data;const n=(0,f.Z)(a);if(n.clock&&!t.clockedIn&&n.clock.clockedIn){this.earnedTimerOffset=0}this.setState(n)}))},approveTimesheet:(e,t)=>{if(this.queries.getChangedEntries().length){return Promise.reject(null)}return(0,h.approveTimesheet)(e,t,this.actions.refreshTimesheet).then(this.actions.refreshTimesheet)},clockIn:(e,t,a)=>{Pt=false;return(0,h.clockIn)(e,t,a).then((()=>{const{employee:e,serverTime:t,days:a,clock:n}=this.state;const s={timezone:e.timezone,start:Nt.tz(t.clone(),e.timezone).format("YYYY-MM-DD HH:mm:ss"),end:null,hours:null,id:-1};const i=Object.assign({},n,{clockedIn:true,latest:s});const o={...this.queries.getToday()};o.clockEntries.push(s);a[o.date]=o;this.earnedTimerOffset=Nt.tz(this.serverTimer.ms,e.timezone).diff(t.clone().startOf("minute"));this.setState({clock:i,days:a},this.actions.refreshTimesheet)})).catch(this.actions.refreshTimesheet)},clockOut:e=>{Pt=false;clearTimeout(this.earnedTimer);return(0,h.clockOut)(e).then(this.actions.refreshTimesheet).catch(this.actions.refreshTimesheet)},updateServerTime:e=>{const{employee:t,serverTime:a,clock:n}=this.state;const s=Nt.tz(e,t.timezone);if(!s.isSame(a,"day")){window.location.reload(true)}this.setState({serverTime:s},(()=>{if(n&&n.clockedIn){this.earnedTimer=setTimeout(this.actions.updateEarnedTime,this.earnedTimerOffset)}}))},updateBreakAvailabilityForTimeOfDay:function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(e){const{availableBreaks:a}=t.state;t.setState({availableBreaks:(0,Zt.y)({breaks:a,elapsedTimeInMilliseconds:e})})}},updateBreakAvailabilityForHoursWorked:()=>{const e=this.queries.getToday();if(e?.hours){const{availableBreaks:t}=this.state;this.setState({availableBreaks:(0,Mt.Z)({breaks:t,earnedMinutes:Math.round(e.hours*60)})})}},updateEarnedTime:()=>{const{clock:e,days:t,serverTime:a}=this.state;if(e&&!e.clockedIn){return}const n={...e};const s={...t};const i=this.queries.getToday();const o=(0,r.last)(i.clockEntries);const l=Nt.tz(o.start,o.timezone);n.earned=(0,p.MS)(l,a);i.hours=i.clockEntries.reduce(((e,t)=>e+t.hours),n.earned);s[i.date]=i;this.setState({clock:n,days:s},(0,I.ifFeature)("TIME_MEAL_REST_BREAKS",(()=>this.actions.updateBreakAvailabilityForHoursWorked())))},pollClockStatus:function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(document.hidden&&!e){return}const{employee:{id:a},clock:{clockedIn:n,latest:s}}=t.state;(0,h.getClockStatus)(a).then((e=>{let{isClockedIn:a,clockTime:i}=e;const o=(0,p.Am)(n,s,a,i);if(o){t.actions.refreshTimesheet()}}))},startBreak:e=>{let{employeeId:t,breakId:a}=e;const{availableBreaks:n}=this.state;const s=n.find((e=>e.id===a));if(!s){return Promise.reject(new Error("Break not found"))}window.setMessage(`[Mock start break] EmployeeId: ${t}, BreakId: ${a}`);return new Promise((e=>{setTimeout((()=>{this.setState({currentBreak:{id:s.id,name:s.name,paid:s.paid,duration:s.duration,recordedStart:new Date,expectedEnd:(new Date).getTime()+s.duration*60*1e3}});e()}),1e3)}))},endBreak:e=>{let{employeeId:t}=e;window.setMessage(`[Mock end break] EmployeeId: ${t}`);return new Promise((e=>{setTimeout((()=>{this.setState({currentBreak:null});e()}),1e3)}))}});(0,s.Z)(this,"queries",{getPadStartDays:()=>{const{padStartTimesheet:e,days:t}=this.state;return Rt(e,t)},getFocusedDays:()=>{const{focusedTimesheet:e,days:t}=this.state;return Rt(e,t)},getPadEndDays:()=>{const{padEndTimesheet:e,days:t}=this.state;return Rt(e,t)},getLastWeekDays:()=>{const{lastWeek:{start:e,end:t},days:a}=this.state;return(0,p.eK)(e,t,a)},getThisWeekDays:()=>{const{thisWeek:{start:e,end:t},days:a}=this.state;return(0,p.eK)(e,t,a)},getChangedEntries:()=>this.queries.getFocusedDays().filter((e=>e.userEdit!==null)).filter((e=>(0,p.TD)(e.userEdit)!==e.hours)),areChangedEntriesValid:()=>!this.queries.getChangedEntries().map((e=>{let{userEdit:t}=e;return(0,p.TD)(t)})).filter((e=>e===p.ch||e===p.w9)).length,getEntriesWithClearedTimeAndNotesCount:()=>this.queries.getChangedEntries().filter((e=>{let{note:t,userEdit:a}=e;const n=(0,p.TD)(a);if(t&&n===null){return true}return false})).length,getToday:()=>{const{days:e,serverTime:t}=this.state;return e[t.format("YYYY-MM-DD")]||null}});const{days:a,serverTime:n,clock:i,focusedTimesheet:o}=e.initialState;const d=n?!!a[n.format("YYYY-MM-DD")]||false:false;if(i&&d){const e=(0,l.random)(5e3,55e3);n.add(Math.ceil(window.performance.now()),"ms");this.earnedTimer=null;this.earnedTimerOffset=0;this.serverTimer=(new u.Z).everyMinute((t=>{this.actions.updateServerTime(t);if(Lt){setTimeout(this.actions.pollClockStatus,e)}})).start(n.valueOf());this.minuteTimer=(new u.Z).everyMinute((e=>{this.actions.updateBreakAvailabilityForTimeOfDay(e)})).start(0);if(Dt){const e=()=>{if(Pt){this.actions.pollClockStatus(true)}Pt=true};c.Z.subscribe({channel:"timeTracking",subjectId:o.id,events:{clockIn:e,clockOut:e}}).catch((()=>{Lt=true}))}}this.state={...e.initialState,...this.actions,...this.queries,saveTimesheetPending:false,isViewOnly:e.isViewOnly,showHeader:e.showHeader,showSheetPadDays:e.showSheetPadDays,showClearNoteWarningModal:false,clearNoteWarningModalProcessing:false,showTimesheetDateRangeHeader:e.showTimesheetDateRangeHeader}}componentDidMount(){const e=document.querySelector('[data-form-id="timesheetFooter"]');if(e){e.addEventListener("click",(e=>{if(e.target.closest('button[data-action="SiteFooterAction:submit"]')){this._handleFooterAction()}else if(e.target.closest('button[data-action="SiteFooterAction:cancel"]')){this._handleFooterCancel()}}))}It((0,r.pick)(this.state,["isApprovalShowing","isOwnTimesheet","timesheetOptions","getChangedEntries"]))}render(){const{clearNoteWarningModalProcessing:e,focusedTimesheet:t,showClearNoteWarningModal:a}=this.state;const s=t.type==="none";return(0,n.Z)(g.z,{value:this.state},void 0,(0,n.Z)("div",{className:"TimesheetTab"},void 0,(0,n.Z)(ce,{}),(0,n.Z)("div",{className:"TimesheetContent js-timesheet-content"},void 0,s?o().createElement(v.Z,m.qN):(0,n.Z)(He,{}),!s&&(0,n.Z)(St,{}))),(0,n.Z)(xt,{getChangedEntries:this.queries.getChangedEntries,isOpen:a,isProcessing:e,onClose:()=>this.setState({showClearNoteWarningModal:false}),primaryAction:this.actions.submitTimesheetChanges}))}}function Rt(e,t){if(e===null){return[]}return(0,p.eK)(e.start,e.end,t)}},34330:(e,t,a)=>{"use strict";a.d(t,{F:()=>u,z:()=>c});var n=a(89835);var s=a(88604);var i=a(23321);var o=a.n(i);var r=a(73641);var l=a.n(r);const{Provider:c,Consumer:d}=(0,i.createContext)();const u=h(d);function h(e){return function t(a,i){return function t(l){return(0,n.Z)(e,{},void 0,(e=>o().createElement(i,(0,s.Z)({},(0,r.pick)(e,a),l),l.children)))}}}},45548:(e,t,a)=>{"use strict";a.d(t,{Z:()=>y});var n=a(51341);var s=a(73641);var i=a(13296);var o=a(71141);var r=a(56445);var l=a(34914);var c=a(17863);function d(){const e=!!window.ASSUMED_USER;if(e){return window.ASSUMED_USER.employeeId===window.Employee.id}return window.Employee&&window.SESSION_USER.employeeId===window.Employee.id}function u(e,t,a,s,i){if(a==="clock"&&s&&i&&e.status!=="approved"){return false}return e&&n.Z.unix(e.approvableDate).isBefore(t)}function h(e){return(0,s.flow)(s.values,(0,i.sortBy)("date"))(e)}function p(e){const t=h(e);return{start:t[0].date,end:t[t.length-1].date}}function m(e){if(!e){return{id:-1,type:"none"}}const{id:t,holidayPayType:a,showEditActions:n,payCycleId:s}=e;let{type:i,dailyDetails:o}=e;if(i!=="single"&&i!=="hour"){i="multiple"}o=h(o);return{id:t,type:i,start:o[0].date,end:o[o.length-1].date,holidayPayType:a,workWeekStartsOn:(0,c.lo)(o),showEditActions:n,payCycleId:s}}function f(e,t,a){return(0,s.flow)((0,i.map)((e=>{e.moment=n.Z.tz(`${e.date} 06:00`,"YYYY-MM-DD HH:mm",a);e.isWeekend=e.moment.day()===0||e.moment.day()===6;e.isToday=e.moment.isSame(t,"day");e.isFuture=e.moment.isAfter(t,"day");e.userEdit=null;return e})),(0,i.keyBy)("date"))(e)}var g=a(48738);var v=a(87602);function y(e){e=(0,s.cloneDeep)(e);const{allowClockActions:t,employeeId:a,employeeName:h,employeePhotoUrl:y,employeeTimesheets:b,currentTimesheetId:w,previousTimesheetId:C,previousTimesheet:S,timesheet:E,nextTimesheet:x,lastWeek:T,thisWeek:k,timesheetOptions:I,today:A,thisWeekHours:F,projectsWithTasks:Z,availableBreaks:M=(0,r.ifFeature)("TIME_MEAL_REST_BREAKS",g.b,[])}=e;const N=n.Z.tz(A.date,A.timezone);const D=m(E);const L=D.id===w;const P=d();const O=u(E,N,D.type,L,P);if(D.type==="none"){return{isOwnTimesheet:P,isApprovalShowing:O,employeeTimesheets:b,timesheetOptions:I,focusedTimesheet:{id:-1,type:"none"}}}if(!(0,o.isEnabled)("HISTORICAL_TIMESHEETS")&&!b.find((e=>Number(e.id)===Number(D.id)))){b.push(D)}const R=f({...L?T:{},...L?k:{},...S?S.dailyDetails:{},...E.dailyDetails,...x?x.dailyDetails:{}},N,A.timezone);const B=R[N.format("YYYY-MM-DD")];if((0,o.isEnabled)("TIME_MEAL_REST_BREAKS")&&B?.clockEntries){B.clockEntries.push({id:17223,start:new Date,end:(0,l.add)(new Date,{minutes:30}),hours:.3333,timezone:"America/Chicago",projectId:null,projectName:null,taskId:null,taskName:null,clockInLatitude:null,clockInLongitude:null,clockInLocationAccuracy:null,clockInAddress:null,clockOutLatitude:null,clockOutLongitude:null,clockOutLocationAccuracy:null,clockOutAddress:null,breakId:g.b[0]?.id,breakName:g.b[0]?.name||"Lunch Break",note:"Had to do it to em again",entryType:"break"});B.breakAssessments={[g.b[0]?.id]:{id:"1",employeeId:1,employeeTimesheetId:1,breakId:g.b[0]?.id,date:"2025-11-19",result:v.J.VIOLATION,availableAt:null,unavailableAt:null,expectedDuration:30,recordedDuration:30,durationDifference:+5,timezone:"America/Chicago",violations:[{id:"1",assessmentId:"1",type:v.L.BREAK_ENDED_LATE,clockEntryId:17223,amount:5},{id:"1",assessmentId:"1",type:v.L.BREAK_STARTED_LATE,clockEntryId:17223,amount:5}],clockEntryIds:[]}};B.clockEntryBreaks={}}let H=null;if(E.type==="clock"){H={clockedIn:!!e.lastClockEntry&&!e.lastClockEntry.end,latest:e.lastClockEntry,earned:0,midnightTotals:0};if(H.clockedIn){const e=(0,s.flow)(s.values,(0,i.sortBy)("date"),s.last)(R).moment;const t=n.Z.tz(H.latest.start,H.latest.timezone);const a=e.isSameOrAfter(t,"day");const o=N.isSame(t,"day");if(a&&!o){const e=t.format("YYYY-MM-DD");const a=N.format("YYYY-MM-DD");(0,c.eK)(e,a,R).forEach((e=>{e.hasMidnightEntry=true}));H.midnightTotals=(0,c.MS)(t,N.clone().startOf("day"))}if(B){const e=(0,s.last)(B.clockEntries);const t=n.Z.tz(e.start,e.timezone);H.earned=(0,c.MS)(t,N);B.hours=B.clockEntries.reduce(((e,t)=>e+t.hours),H.earned)}}}const j={weekTotal:F,periodTotal:E.totalHours,periodOvertime:E.overtimeSummary,periodTimeOff:E.totalTimeOffHours,periodHoliday:E.totalHolidayHours,shiftDifferentials:Object.values(E.shiftDifferentials??{}),holidaySummary:(0,r.ifFeature)("HOLIDAY_PAY",E.holidaySummary,[]),hourSummary:(0,r.ifFeature)("PAYROLL_HOURS_DETAIL_REPORT",E.hourSummary,[]),breakSummary:(0,r.ifFeature)("TIME_MEAL_REST_BREAKS",{paid:15.56,unpaid:.75},{})};return{allowClockActions:t,isApprovalShowing:O,isOwnTimesheet:P,isLatestTimesheet:L,serverTime:N,timesheetOptions:I,employeeTimesheets:b,employee:{id:a,name:h,photoUrl:y,timezone:A.timezone},clock:H,workflow:{approvableDate:E.approvableDate,approvableMoment:n.Z.unix(E.approvableDate),approvalDate:E.approvalDate,approvalMoment:n.Z.unix(E.approvalDate),approverName:E.approverName,dueDate:E.dueDate,dueMoment:n.Z.unix(E.dueDate),hoursLastChangedAt:E.hoursLastChangedAt,hoursLastChangedAtMoment:n.Z.unix(E.hoursLastChangedAt),status:E.status,userCanApprove:E.canApprove,userCanEdit:E.showEditActions},focusedTimesheet:D,summaryTotals:j,padStartTimesheet:S&&m(S),padEndTimesheet:x&&m(x),latestTimesheetId:w,latestPreviousTimesheetId:C,lastWeek:p(T),thisWeek:p(k),days:R,projectsWithTasks:Z||{allIds:[],byId:{}},availableBreaks:M}}},68003:(e,t,a)=>{"use strict";a.d(t,{$J:()=>b,$T:()=>p,Bo:()=>o,C5:()=>S,Ep:()=>m,HU:()=>w,QY:()=>d,RG:()=>i,T_:()=>n,Te:()=>r,_3:()=>y,_v:()=>l,jw:()=>g,ki:()=>h,m6:()=>s,qN:()=>E,qe:()=>f,rX:()=>v,wR:()=>u,x9:()=>c,yq:()=>C});var $=a(26570);const n="h:mm A";const s=$.__("Whoa. Try entering time like %s or 1%s30.",`1${window.GLOBAL_DECIMAL_CHAR||"."}5`,`:`);const i=$.__("Where are we, Venus? Please enter 24 hours or fewer.");const o=$.__("Where are we, Venus? Please enter 24 total hours or fewer.");const r=$.__("Done! Your time has been saved.");const l=$.__("Uh oh...something went wrong, and your time wasn't saved. Try it again?");const c=$.__("Sorry, something went awry and we weren't able to clock you in. Try again?");const d=$.__("Sorry, something went awry and we weren't able to clock you out. Try again?");const u=$.__("Oh no... Sorry, there was a problem approving hours. Please try again.");const h=$.__("Your hours worked have been successfully recorded.");const p=$.__("Success! The time entry has been deleted.");const m=$.__("There seems to be a problem deleting that entry. Please try again.");const f=$.__("Oops. Please fix any incorrect time entries and try again.");const g=$.__(`Your timesheet has already been approved.`);const v=$.__(`If your time needs to be adjusted, contact your manager or HR administrator.`);const y=$.__("Clocking is disabled because you have a time entry saved for sometime in the future.");const b=$.__("There are conflicting entries that already exist.");const w=$.__("You can't clock in in the future.");const C=$.__("Uh oh...something went wrong, and your note wasn't saved. Try it again?");const S=$.__("Uh oh...something went wrong. Please refresh the page and try again.");const E={title:$.__("There is no timesheet for this pay period."),subtitle:$.__("A pay schedule is required to enable time tracking."),icon:"fab-tumbleweed-96x120",className:"TimesheetBlankState"}},6273:(e,t,a)=>{"use strict";a.d(t,{A:()=>i,q:()=>o});var n=a(23321);var s=a.n(n);const i=(0,n.createContext)({breakAssessments:{}});const o=i.Provider},66327:(e,t,a)=>{"use strict";a.r(t);a.d(t,{addEdit:()=>B,approveTimesheet:()=>M,cancelTimeTrackingTrial:()=>q,clockIn:()=>D,clockOut:()=>O,deleteEntry:()=>R,endBreak:()=>P,getClockStatus:()=>H,postNewActivationTrialValues:()=>W,refreshTimesheet:()=>Z,requestTimeTrackingSubscription:()=>z,saveClockInData:()=>j,saveSingleDailyHours:()=>F,setTrialStarted:()=>U,startBreak:()=>L,updateViewOption:()=>A});var n=a(73641);var s=a(17842);var i=a.n(s);function o(e){return i().post("/timesheet/options/save",e)}function r(e){return i().post("/timesheet/hours",JSON.stringify(e),{headers:{"Content-Type":"application/json;charset=utf-8"}})}function l(e){return i().get(`/timesheet/${e}`)}function c(e){return i().post("/timesheet/approve",e)}function d(e,t){return i().post(`/timesheet/clock/in/${e}`,t)}function u(e){return i().post(`/timesheet/clock/out/${e}`)}function h(e,t){return i().post(`/timesheet/${e}/entries`,JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=utf-8"}})}function p(e,t){return i()["delete"](`/timesheet/${e}/entries`,JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=utf-8"}})}function m(e){return i().get(`/timesheet/employee/${e}/is_clocked_in`)}function f(e,t){return i().post(`/timesheet/employee/${e}/clock/in/data`,t)}function g(){return i().post("/settings/time_tracking/subscribe")}function v(e){return i().post("/settings/time_tracking/cancelTrial",e)}function y(e){return i().post(`/settings/time_tracking/startTrial`,e)}function b(){return i().post("/settings/time_tracking/trialStarted")}var w=a(68003);var C=a(89835);var S=a(23321);var E=a(51341);var x=a(95361);var $=a(26570);var T=(e,t)=>{let a="";let n="";let s=[];if(t?.today&&t?.datetime){const e=E.Z.tz(t.today.date,t.today.timezone);a=E.Z.tz(t.datetime.date,t.datetime.timezone).calendar(e)}if(e==="clockOut"){n=$.__("Clocked Out");s=[$.__("You were clocked out elsewhere%1$s.",a?` <b class="fontSemibold">${a}</b>`:""),w.rX]}else if(e==="clockIn"){n=$.__("Clocked In");s=[$.__("You were clocked in elsewhere%1$s.",a?` <b class="fontSemibold">${a}</b>`:"")]}else if(e==="clockInFutureEntry"){n=$.__(`You can't be clocked in right now`);s=[w._3]}else if(e==="alreadyApproved"){n=$.__("Timesheet already approved");s=[$.__(`You can't be clocked in because your timesheet has already been approved.`),w.rX]}const i=microTemplate(x.Z,{jadeIconName:"fab-timesheet-exclamation-84x57",iconName:"triangle-exclamation-solid",paragraphs:s});const o=$.__("Close");window.BambooHR.Modal.setState({isOpen:true,content:(0,C.Z)("div",{dangerouslySetInnerHTML:{__html:i}}),alternativeAction:null,primaryActionText:o,primaryAction(){if(e==="alreadyApproved"){window.location.reload(true)}else{window.BambooHR.Modal.setState({isOpen:false})}},title:n})};var k=a(42202);var I=a(6661);function A(e,t){return o({[e]:t})}function F(e){return r({hours:e}).then((e=>{if(e.data&&(0,n.startsWith)(e.data,"Error")){window.setMessage(w._v,"error");throw e.data}})).catch((e=>{if(e.response.status===403){(0,k.Z)("save")}else{window.setMessage(w._v,"error")}throw e.response}))}function Z(e){return l(e)}function M(e,t,a){return c({id:e,hoursLastChangedAt:t}).catch((t=>{const n=t.response.data;if(n.status==="staleData"){(0,k.Z)("approve")}else if(n.status==="clockOut"){(0,I.Z)(n.timesheets,(t=>{M(e,t.hoursLastChangedAt,a).then(a)}))}else{window.setMessage(w.wR,"error")}throw t}))}const N=e=>{const t=e.response.data?.error?.code;if(t==="CLOCKED_IN"){T("clockIn",e.response.data)}else if(t==="FUTURE_ENTRY"){T("clockInFutureEntry")}else if(t==="APPROVED"){T("alreadyApproved")}else{window.Rollbar.error("clock in",e);window.setMessage(w.x9,"error")}throw e};function D(e,t,a){const n=t?{projectId:t,taskId:a}:null;return d(e,n).catch(N)}function L(e){let{employeeId:t,payload:a}=e;return d(t,a).catch(N)}function P(e){let{employeeId:t}=e;return d(t,{resumePreviousEntry:true}).catch(N)}function O(e){return u(e).catch((e=>{const t=e.response;if(t.status===403||t.status===409){T("clockOut",t.data)}else{window.Rollbar.error("clock out",e);window.setMessage(w.QY,"error")}throw e}))}function R(e,t){return p(e,{entries:[t]}).then((()=>{window.setMessage(w.$T,"success")})).catch((e=>{window.setMessage(w.Ep,"error");throw e.response}))}function B(e,t){const a=e==="hour"?{hours:t}:{entries:t};return h(e,a).then((e=>{if(e.status===200){window.setMessage(w.ki,"success")}else{window.setMessage(w.C5,"error")}})).catch((e=>{if(e.response.status===403){(0,k.Z)("save")}else{window.setMessage(w._v,"error")}}))}function H(e){return m(e).then((e=>e.data)).catch((e=>{throw e.response}))}function j(e,t){return f(e,t).catch((e=>{if(e.response.status===409){window.setMessage(w.$J,"error")}else if(e.response.data.error.code==="FUTURE_CLOCK_IN_TIME"){window.setMessage(w.HU,"error")}else{window.setMessage(w.yq,"error")}throw e.response}))}function z(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;return g().finally((()=>{if(e){window.location.href="/settings/time_tracking"}}))}function q(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return v(e).finally((()=>{if(t){window.location.href="/settings/time_tracking"}}))}function W(e){return y(e)}function U(){return b()}},48738:(e,t,a)=>{"use strict";a.d(t,{b:()=>n});const n=[{id:"0199de9f-d01e-74e4-be9f-b1ac7b3c9ba8",name:"Lunch Break",paid:true,duration:10,recordedDuration:null,availabilityType:"hours_worked",available:false,availableIn:50,availableAfterMinutesWorked:240,unavailableIn:null,availableAt:null,unavailableAt:null},{id:"0199de9f-d01e-74e4-be9f-b1ac7b3c9ba9",name:"Nap Time",paid:true,duration:60,recordedDuration:15,availabilityType:"time_of_day",available:false,availableIn:1,availableAfterMinutesWorked:null,unavailableIn:null,availableAt:"2025-11-05T12:00:00.000Z",unavailableAt:"2025-11-05T13:00:00.000Z"}]},1290:(e,t,a)=>{"use strict";a.d(t,{Z:()=>se});var n=a(88604);var s=a(23321);var i=a.n(s);var o=a(53534);var r=a(70004);var l=a(56445);var c=a(89835);var d=a(44119);var u=a(51341);var h=a(73641);var p=a(51178);var m=a(14386);var f=a(72956);var g=a(21198);var v=a(17863);var y=a(66327);var b=a(68003);var w=a(98675);var C=a(405);var S=a(26242);var E=a(37091);class x extends s.Component{constructor(){super(...arguments);(0,d.Z)(this,"_handleOnInput",(e=>{this._inputVal.value=(0,v.Xw)(e.target.value,this._previousVal);this._previousVal=this._inputVal.value}));(0,d.Z)(this,"_previousVal","")}static get className(){return"ClockFieldBox"}componentDidUpdate(){this._previousVal=this.props.timeVal}render(){const{autoFocus:e,label:t,timeVal:a,handleInputChange:n,handleInputBlur:s,handleInputFocus:o,selectProps:r,error:l,disabled:d}=this.props;const u=e?"autofocus":null;const p=typeof n==="function"?n:h.noop;const m=typeof s==="function"?s:h.noop;const f=typeof o==="function"?o:h.noop;const v={ClockField:true,error:l};const y=(0,h.uniqueId)("clockField");return(0,c.Z)("div",{className:(0,g.classNameFromObject)(v)},void 0,(0,c.Z)(S.L,{marginBottom:.5},void 0,(0,c.Z)(E.L,{htmlFor:y},void 0,t)),(0,c.Z)("div",{className:"fieldDiv fab-FormField"},void 0,i().createElement("input",{autoFocus:u,className:"ClockField__formInput fab-TextInput fab-TextInput--width3",disabled:d,id:y,onBlur:m,onChange:p,onFocus:f,onInput:this._handleOnInput,ref:e=>this._inputVal=e,type:"text",value:a}),i().createElement(C.S,r)))}}var T=a(56921);var k=a(85617);var I=a(84164);var A=a(71141);var F=a(33743);var Z=a(77285);var M=a(78922);var N=a(41783);var $=a(26570);function D(e){const t=(0,N.y)();const{canEdit:a,id:s,onAddNote:o,onProjectChange:r,projectData:d,projectTaskSelectStyles:u,projectsWithTasks:h,showNoteInput:p}=e;let m=null;if(d&&d.projectId&&d.taskId){m=`${d.projectId}-${d.taskId}`}else if(d&&d.projectId){m=d.projectId}const f={items:(0,v.aC)(h),onSelect:e=>r(s,e),onClear:()=>r(s,null),placeholder:`--${$.__("Select Project/Task")}--`,renderToggleContent:e=>(0,v.m7)(e,d.projectName,d.taskName),value:[m],width:(0,l.ifFeature)("TIME_MEAL_REST_BREAKS",10,7)};return(0,c.Z)("div",{className:t.wrapper},void 0,h.allIds.length>0&&(0,c.Z)("span",{className:[t.projectTaskSelect,u].join(" ")},void 0,i().createElement(Z.S,(0,n.Z)({disabled:!a,label:$.__("Save time to..."),note:(p||a)&&(0,c.Z)(M.Z,{disabled:!a||p,hasNote:p,onNoteIconClick:()=>o(s)})},f))))}let L=function(e){e["WORK_HOURS"]="WORK_HOURS";e["BREAK"]="BREAK";return e}({});var P=a(26570);function O(e){let{value:t,onChange:a,width:n}=e;return(0,c.Z)(Z.S,{isClearable:false,items:[{value:L.WORK_HOURS,text:P.__("Work Hours")},{value:L.BREAK,text:P.__("Break Time")}],label:P.__("Entry Type"),onSelect:e=>a(e),value:[t],width:n})}var R=a(26570);function B(e){let{items:t,value:a,onChange:n,width:s,required:i,status:o}=e;return(0,c.Z)(Z.S,{isClearable:false,items:t,label:R.__("Break"),onSelect:e=>n(e),required:i,status:o,value:a,width:s})}var H=a(26570);const j=(0,A.isEnabled)("timeTrackingGeolocation");var z=e=>{const{canEdit:t,endTime:a,showRemoveButton:n,id:o,geolocationData:{clockInAddress:r,clockInLatitude:d,clockInLongitude:u,clockInLocationAccuracy:f,clockOutAddress:y,clockOutLatitude:b,clockOutLongitude:w,clockOutLocationAccuracy:C},handleRemoveButtonClick:E,note:x,onNoteChange:A,overlappingError:Z,showNoteInput:M,total:N,type:P,breaks:R,entryType:z,onEntryTypeChange:U,onBreakChange:V,breakData:G,errors:Y}=e;const[K,X]=(0,s.useState)(false);const J=(0,g.classNameFromObject)({AddEditEntry__clocks:true,"AddEditEntry__clocks--add":P==="add"});const Q=!!(r||y);const ee=f===-1;const te=C===-1;const ae=a!=="1"&&N<0;let ne=null;if(ae){ne=H.__("Oops, try again")}else if(Z){ne=H.__("Overlapping entry")}const se=N?(0,v.mr)(N):null;let ie=[];let oe=null;if(j){ie=[{accuracy:f,coordinates:{lat:d,lng:u},label:"Clock In"},{accuracy:C,coordinates:{lat:b||null,lng:w||null},label:"Clock Out"}];const e=(0,v.Pz)([d,u],[b,w]);if(d&&u&&b&&w&&e<=50){ie=[{accuracy:f,coordinates:{lat:d,lng:u},label:"Clock In/Out"}]}if(e<100&&e>50){oe=17}}const re=(0,l.ifFeature)("TIME_MEAL_REST_BREAKS",!(0,h.isEmpty)(R)&&P!=="edit");return(0,c.Z)("div",{className:J},void 0,n&&(0,c.Z)("span",{className:"AddEditEntry__removeEntry",onClick:()=>{E(o)}},void 0,(0,c.Z)(m.I,{name:"xmark-solid",size:12})),(0,c.Z)(T.F,{flexDirection:"row",flexWrap:(0,l.ifFeature)("TIME_MEAL_REST_BREAKS","wrap"),rowGap:(0,l.ifFeature)("TIME_MEAL_REST_BREAKS",1.5)},void 0,(0,l.ifFeature)("TIME_MEAL_REST_BREAKS",re&&(0,c.Z)(S.L,{marginRight:1.5},void 0,(0,c.Z)(O,{onChange:e=>U(e,o),status:Y?.entryType?"error":undefined,value:z,width:7}))),(0,c.Z)(S.L,{},void 0,q(true,e)),(0,c.Z)(S.L,{},void 0,q(false,e,true)),(0,l.ifFeature)("TIME_MEAL_REST_BREAKS",null,i().createElement(D,e)),se&&(0,c.Z)("p",{className:"fab-FormNote AddEditEntry__formNote"},void 0,se),(0,l.ifFeature)("TIME_MEAL_REST_BREAKS",z===L.WORK_HOURS&&(0,c.Z)(S.L,{},void 0,i().createElement(D,e))),(0,l.ifFeature)("TIME_MEAL_REST_BREAKS",z===L.BREAK&&(0,c.Z)(S.L,{},void 0,(0,c.Z)(B,{items:R.map((e=>({value:e.id,text:e.name}))),onChange:e=>V(e,o),required:true,status:Y?.break?"error":undefined,value:G.breakId,width:10})))),j&&(Q||ee||te)&&(0,c.Z)("div",{className:"AddEditEntry__location"},void 0,(0,c.Z)("span",{className:"fab-Label"},void 0,H.__("Location")),j&&(r||ee)&&(0,c.Z)("div",{className:(0,g.classNameFromObject)({AddEditEntry__address:true,"AddEditEntry__address--withWarning":ee})},void 0,(0,c.Z)("span",{className:"AddEditEntry__address__label"},void 0,H.__("Clocked In Near")),ee?W("clock-in"):r),j&&(y||te)&&(0,c.Z)("div",{className:(0,g.classNameFromObject)({AddEditEntry__address:true,"AddEditEntry__address--withBorder":true,"AddEditEntry__address--withWarning":te})},void 0,(0,c.Z)("span",{className:"AddEditEntry__address__label"},void 0,H.__("Clocked Out Near")),te?W("clock-out"):y),!K&&(!ee||!te)&&(0,c.Z)(p.T,{clickAction:()=>X(true),iconAfter:"chevrons-down-solid",iconBefore:"location-dot-solid",text:H.__("Show Map"),type:"button"}),K&&(!ee||!te)&&(0,c.Z)(F.D,{height:"291px",markers:ie,width:"396px",zoom:oe})),M&&(0,c.Z)(S.L,{marginBottom:(0,l.ifFeature)("TIME_MEAL_REST_BREAKS",undefined,.5),marginTop:1.5,width:(0,l.ifFeature)("TIME_MEAL_REST_BREAKS","100%")},void 0,(0,c.Z)(k.T,{defaultValue:x,disabled:!t,maxLength:"200",minRows:2,multiline:true,onChange:e=>{A(e,o)},placeholder:H.__("Add note..."),required:z===L.BREAK,status:Y?.note?"error":undefined,type:"text"})),ne&&(0,c.Z)(S.L,{marginTop:1},void 0,(0,c.Z)(I.I,{status:I.a.error,title:ne})))};function q(e,t,a){const{canEdit:n,startTime:s,startMeridiem:o,endTime:r,endMeridiem:l,id:c,total:d,handleInputBlur:u,handleInputChange:h,handleSelectChange:p,overlappingError:m}=t;const f=e?H.__("Start Time"):H.__("End Time");const g=e?s:r;const v=e?o:l;const y={isDisabled:!n,isClearable:false,items:[{text:"AM",value:"AM"},{text:"PM",value:"PM"}],selectedValues:[v],onSelect:t=>{p(t,e,c)}};const b=r!=="1"&&d<0;const w={disabled:!n,label:f,timeVal:g,selectProps:y,error:b||m,hasNote:a,autoFocus:e,handleInputChange:t=>{h(t.target.value,e,c)},handleInputBlur:t=>{u(t.target.value,e,c);t.target.setAttribute("placeholder","")},handleInputFocus:e=>{e.target.setAttribute("placeholder","hh:mm");e.target.select()}};return i().createElement(x,w)}function W(e){const t=e==="clock-in"?"in":"out";return(0,c.Z)("div",{className:"AddEditEntry__location__warningMessage"},void 0,(0,c.Z)("span",{className:"AddEditEntry__location__warningMessage__icon"},void 0,(0,c.Z)(m.I,{name:"triangle-exclamation-solid",size:16})),(0,c.Z)("p",{className:"AddEditEntry__location__warningMessage__text"},void 0,H.__(`There wasnt a strong signal where they clocked %1, so we cant show it on the map.`,t)))}var U=a(1895);var V=a(88306);var G=a(85323);var Y=a(26570);let K=null;let X=null;function J(e){const t=(0,G.y)();const a=(0,s.createRef)();const{canEdit:o,showRemoveButton:r,hours:l,hoursError:d,id:u,note:h,onHintDismiss:p,onInputChange:f,onInputFocus:y,onNoteChange:w,onRemoveButtonClick:C,showNoteInput:x,showTimeEntryHint:T}=e;(0,s.useEffect)((()=>{if(!K){K=(0,U.Z)()}if(T&&!X){X=(0,V.Z)();X.onClose((()=>{X.destroy();X=null;p()}))}}),[]);const k=()=>{setTimeout((()=>{if(X){X.hide()}}),200)};const A=e=>{const{value:t}=e.target;const a=(0,v.TD)(t);const n=a!==v.ch&&a!==v.w9;if(n){if(X){X.show()}K.hide()}else if(X){X.hide()}f(e,u)};const F=()=>{if(d){const e=(0,v.TD)(l);const t=e===v.w9?b.m6:b.RG;return t}return undefined};const Z=e=>{if(X){X.setAnchor(a.current);if(X){X.show()}}y(u)};return(0,c.Z)("div",{className:t.root},void 0,(0,c.Z)("div",{className:t.entryRow},void 0,r&&(0,c.Z)("span",{className:t.removeButton,onClick:()=>{C(u)}},void 0,(0,c.Z)(m.I,{name:"xmark-solid",size:16})),(0,c.Z)(S.L,{paddingRight:2},void 0,(0,c.Z)("div",{},void 0,(0,c.Z)(S.L,{marginBottom:.5},void 0,(0,c.Z)(E.L,{htmlFor:"hoursWorked",status:d?"error":undefined},void 0,Y.__("Hours Worked"))),(0,c.Z)("div",{},void 0,i().createElement("input",{className:(0,g.classNameFromObject)("fab-TextInput fab-TextInput--width3",{"fab-TextInput--error":d}),disabled:!o,id:"hoursWorked",onBlur:k,onChange:e=>A(e),onFocus:Z,ref:a,type:"text",value:l})))),i().createElement(D,(0,n.Z)({},e,{projectTaskSelectStyles:t.projectTaskSelect}))),x&&(0,c.Z)("textarea",{autoFocus:x,className:"AddEditEntry__noteInput fab-Textarea",cols:"55",defaultValue:h,disabled:!o,maxLength:"200",onChange:e=>{w(e,u)},placeholder:Y.__("Add note..."),rows:"2",type:"text"}),d&&(0,c.Z)(S.L,{marginTop:1},void 0,(0,c.Z)(I.I,{status:I.a.error,title:F()})))}var Q=a(26570);const ee={projectId:null,projectName:null,taskId:null,taskName:null};const te={breakId:null,breakName:null};class ae extends s.Component{static get className(){return"AddEditEntry"}constructor(e){super(e);(0,d.Z)(this,"_handleAddEntryClick",(()=>{const e=this.state.entries.slice();const t=++this.state.idIncrementer;const a={startTime:"",startMeridiem:"AM",endTime:"",endMeridiem:"AM",hours:"",hoursError:false,total:0,id:t,isEdit:false,key:t||(0,h.uniqueId)(),showRemoveButton:true,timezone:this.props.timezone,projectData:{...ee},breakData:{...te},geolocationData:{clockInAddress:null,clockInLatitude:null,clockInLongitude:null,clockInLocationAccuracy:null,clockOutAddress:null,clockOutLatitude:null,clockOutLongitude:null,clockOutLocationAccuracy:null},errors:{}};e.push(a);this.setState({entries:e,idIncrementer:t})}));(0,d.Z)(this,"_handleEntryRemoveClick",(e=>{this.setState({entries:this.state.entries.filter((t=>t.id!==e))})}));(0,d.Z)(this,"_checkForHourEntriesError",(()=>{const{hourEntries:e}=this.props;const{entries:t}=this.state;const a=t.slice();const n=a.reduce(((e,t)=>e+(0,v.TD)(t.hours)),0);const s=e.reduce(((e,t)=>{const n=a.find((e=>e.id===t.id));if(n){return e}return e+t.hours}),0);return n+s>24}));(0,d.Z)(this,"_handleInputChange",((e,t,a)=>{const{date:n}=this.props;const s=this.state.entries.slice();const i=s.find((e=>e.id===a));i.overlappingError=false;if(t){i.startTime=e;i.startMoment=e?u.Z.tz(`${n} ${(0,v.Vd)(e,i.startMeridiem)}`,i.timezone):null;i.total=this._getIndividualEntryTotal(i,true);this.setState({entries:s})}else{i.endTime=e;if(i.startTime){const t=(0,v.YZ)(e);const a=Number(t.split(":")[0]);if(i.startMeridiem==="AM"&&e!=="1"&&a&&a<i.startMoment.hour()){i.endMeridiem="PM"}else if(i.startMeridiem==="AM"&&(0,h.startsWith)(t,"12")){i.endMeridiem="PM"}else if(i.startMeridiem==="PM"&&t==="12:00"){i.endMeridiem="AM"}}const t=(0,v.v3)(i.endTime,i.endMeridiem,n);i.endMoment=e?u.Z.tz(`${t} ${(0,v.Vd)(e,i.endMeridiem)}`,i.timezone):null;i.total=this._getIndividualEntryTotal(i,false);this.setState({entries:s})}}));(0,d.Z)(this,"_handleInputBlur",((e,t,a)=>{if(e){const n=(0,v.YZ)(e);this._handleInputChange(n,t,a)}}));(0,d.Z)(this,"_handleSelectChange",((e,t,a)=>{const{date:n}=this.props;const s=this.state.entries.slice();const i=s.find((e=>e.id===a));i.overlappingError=false;if(t){if(e==="PM"&&i.endMeridiem!=="PM"){i.startMeridiem=e;i.startMoment=u.Z.tz(`${n} ${(0,v.Vd)(i.startTime,e)}`,i.timezone);i.endMeridiem=i.endTime==="12:00"?i.endMeridiem:"PM";const t=(0,v.v3)(i.endTime,i.endMeridiem,n);i.endMoment=u.Z.tz(`${t} ${(0,v.Vd)(i.endTime,e)}`,i.timezone);i.total=this._getIndividualEntryTotal(i,true);this.setState({entries:s})}else{i.startMeridiem=e;i.startMoment=u.Z.tz(`${n} ${(0,v.Vd)(i.startTime,e)}`,i.timezone);i.total=this._getIndividualEntryTotal(i,true);this.setState({entries:s})}}else{i.endMeridiem=e;const t=(0,v.v3)(i.endTime,i.endMeridiem,n);i.endMoment=u.Z.tz(`${t} ${(0,v.Vd)(i.endTime,e)}`,i.timezone);i.total=this._getIndividualEntryTotal(i,false);this.setState({entries:s})}}));(0,d.Z)(this,"_handleAddNote",(e=>{const{entries:t}=this.state;t.map((t=>{if(t.id===e){t.showNoteInput=!t.showNoteInput}}));this.setState({entries:t})}));(0,d.Z)(this,"_handleNoteChange",((e,t)=>{const{value:a}=e.target;const{entries:n}=this.state;n.map((e=>{if(e.id===t){e.note=a}if(e.errors?.note){e.errors.note=a?undefined:"required"}return e}));this.setState({entries:n})}));(0,d.Z)(this,"_handleProjectChange",((e,t)=>{const{projectsWithTasks:a}=this.props;const{entries:n}=this.state;const s=n.map((n=>{if(n.id===e){n.projectData=(0,v.Tr)(t,a)}return n}));this.setState({entries:s})}));(0,d.Z)(this,"_handleHourInputFocus",(e=>{const{entries:t}=this.state;const a=t.slice();const n=a.find((t=>t.id===e));if(n.hours!==null&&n.hours!==""){n.hours=(0,h.round)(n.hours,2);if(window.GLOBAL_DECIMAL_CHAR===","){n.hours=String(n.hours).replace(".",",")}this.setState({entries:a})}}));(0,d.Z)(this,"_handleHourInputChange",((e,t)=>{const{value:a}=e.target;const{entries:n}=this.state;const s=n.slice();const i=s.find((e=>e.id===t));const o=(0,v.E)(a);i.hours=a;if(o){i.hoursError=false;i.total=(0,v.TD)(a)}else{i.hoursError=true}this.setState({entries:s})}));(0,d.Z)(this,"_handleEntryTypeChange",((e,t)=>{const{entries:a}=this.state;const n=a.map((a=>{if(a.id===t){a.entryType=e}if(a.entryType===L.BREAK){a.showNoteInput=true;a.projectData={...ee}}if(a.entryType===L.WORK_HOURS){a.showNoteInput=!!a.note;a.breakData={...te}}return a}));this.setState({entries:n})}));(0,d.Z)(this,"_handleSelectBreak",((e,t)=>{const{breaks:a}=this.props;const n=a.find((t=>t.id===e));if(n){const{entries:a}=this.state;const s=a.map((a=>{if(a.id===t){a.breakData={breakId:e,breakName:n.name};delete a.errors.break}return a}));this.setState({entries:s})}}));(0,d.Z)(this,"_saveEntry",(()=>{const{afterAction:e}=this.props;const t=this.hourTimesheetType?"hour":"clock";this.setState({isModalProcessing:true});const a=this._handleFormSave();if(a){(0,y.addEdit)(t,a).then((()=>{this.setState({isModalOpen:false});if(e&&typeof e==="function"){e()}})).catch((e=>{this.setState({isModalProcessing:false});if(e.status===409){this._handleSaveError(JSON.parse(e.responseText).trackingIds)}}))}}));(0,d.Z)(this,"_deleteEntry",(()=>{const{afterAction:e,currentEntryId:t}=this.props;const a=this.hourTimesheetType?"hour":"clock";this.setState({isSheetProcessing:true});(0,y.deleteEntry)(a,t).then((()=>{this.setState({isModalOpen:false,isSheetOpen:false});if(e&&typeof e==="function"){e()}})).catch((()=>{this.setState({isSheetProcessing:false})}))}));const{canEdit:t,type:a,clockEntries:n,currentEntryId:s,hourEntries:i,timesheetType:o}=e;this.hourTimesheetType=o==="hour";let r="";let l="AM";let c=null;let p="";let m="AM";let f=null;let g=1;let b="";const w=false;let C=0;let{dayTotal:S}=e;let E=false;let x="";let T={...ee};let k={clockInAddress:null,clockInLatitude:null,clockInLongitude:null,clockInLocationAccuracy:null,clockOutAddress:null,clockOutLatitude:null,clockOutLongitude:null,clockOutLocationAccuracy:null};let I={...te};let A=L.WORK;if(!this.hourTimesheetType&&["edit","view"].includes(a)&&Array.isArray(n)){const t=n.find((e=>e.id===s));if(t&&t.start&&t.end){c=u.Z.tz(t.start,t.timezone);f=u.Z.tz(t.end,t.timezone);r=c.format("h:mm");l=(0,v.xX)(c);p=f.format("h:mm");m=(0,v.xX)(f);C=(0,v.I1)(c,f,"hours");S=e.dayTotal-C;x=t.note;E=t.note!==null;T={projectId:t.projectId,projectName:t.projectName,taskId:t.taskId,taskName:t.taskName};I={breakId:t.breakId,breakName:t.breakName};A=t.breakId?L.BREAK:L.WORK_HOURS;k={clockInAddress:t.clockInAddress,clockInLatitude:t.clockInLatitude,clockInLongitude:t.clockInLongitude,clockInLocationAccuracy:t.clockInLocationAccuracy,clockOutAddress:t.clockOutAddress,clockOutLatitude:t.clockOutLatitude,clockOutLongitude:t.clockOutLongitude,clockOutLocationAccuracy:t.clockOutLocationAccuracy}}g=s}if(this.hourTimesheetType&&a==="edit"&&Array.isArray(i)){const e=i.find((e=>e.id===s));if(e){g=s;T={projectId:e.projectId,projectName:e.projectName,taskId:e.taskId,taskName:e.taskName};x=e.note;b=e.hours;C=b;E=e.note!==null;S-=b}}this.state={entries:[{startTime:r,startMeridiem:l,startMoment:c,endTime:p,endMeridiem:m,endMoment:f,hours:b,hoursError:w,total:C,showNoteInput:E,note:x,projectData:T,breakData:I,geolocationData:k,timezone:this.props.timezone,id:g,key:g||(0,h.uniqueId)(),showRemoveButton:false,isEdit:a==="edit",errors:{},entryType:A}],idIncrementer:g,dayTotal:S,isModalOpen:false,isModalProcessing:false,isSheetOpen:false,isSheetProcessing:false,canEdit:t,canSave:a==="edit"&&t}}componentDidMount(){this._handleValidation();setTimeout((()=>{this.setState({isModalOpen:true})}))}componentDidUpdate(){const{canEdit:e,canSave:t}=this.state;const a=this._handleValidation();if(e&&t!==a){this.setState({canSave:a})}}_checkForOverlappingError(){const e=this.state.entries.slice();const t=this._getExistingEntriesWithMoments();let a=false;e.forEach((n=>{t.forEach((e=>{if(this.props.type==="edit"&&n.id!==e.id){if((0,v.gi)(n,e)){n.overlappingError=true;a=true}}else if(this.props.type==="add"){if((0,v.gi)(n,e)){n.overlappingError=true;a=true}}}));e.forEach((e=>{if(n.id!==e.id){if((0,v.gi)(n,e)){n.overlappingError=true;a=true}}}))}));return a?e:a}_getExistingEntriesWithMoments(){return this.props.clockEntries.map((e=>{e.startMoment=u.Z.tz(e.start,e.timezone);e.endMoment=u.Z.tz(e.end,e.timezone);return e}))}_getRequestData(){const{entries:e}=this.state;return e.map((e=>{const{hours:t,id:a,note:n,projectData:s,startMoment:i,endMoment:o,breakData:r}=e;const{type:l,employeeId:c,date:d}=this.props;if(this.hourTimesheetType){return{id:l==="edit"?a:null,dailyEntryId:l==="edit"?null:a,employeeId:c,date:d,hours:(0,v.TD)(t),note:n,projectId:s.projectId,taskId:s.taskId}}return{id:l==="edit"?a:null,trackingId:l==="edit"?null:a,employeeId:c,date:d,start:i.format("HH:mm"),end:o.format("HH:mm")==="00:00"?"24:00":o.format("HH:mm"),note:n,projectId:s.projectId,taskId:s.taskId,breakId:r.id}}))}_getIndividualEntryTotal(e,t){const{startTime:a,startMeridiem:n,endTime:s,endMeridiem:i}=e;const{date:o}=this.props;const r=(0,v.v3)(s,i,o);const l=t?(0,v.YZ)(a):(0,v.YZ)(s);const c=l?(0,u.Z)(l,"h:mm").format("h:mm"):null;let d;let h;if(t&&s&&c){d=(0,u.Z)(`${o} ${(0,v.Vd)(c,n)}`);h=(0,u.Z)(`${r} ${(0,v.Vd)(s,i)}`)}else if(!t&&a&&c){d=(0,u.Z)(`${o} ${(0,v.Vd)(a,n)}`);h=(0,u.Z)(`${r} ${(0,v.Vd)(c,i)}`)}else{return 0}return(0,v.I1)(d,h,"hours")}_getDayTotal(){return this.state.entries.reduce(((e,t)=>e+t.total),this.state.dayTotal)}_handleValidation(){const{entries:e}=this.state;let t;if(this.hourTimesheetType){t=(0,v.bY)(e)}else{t=(0,v.Ui)(e)}return t}_checkForMissingRequiredFields(){const{entries:e}=this.state;const t=e.slice();let a=false;t.forEach((e=>{if(e.entryType===L.BREAK&&!e.note){e.errors.note="required";a=true}if(e.entryType===L.BREAK&&!e.breakData.breakId){e.errors.break="required";a=true}}));return a?t:a}_handleOnValidationError(e){this.setState({isModalProcessing:false,entries:e})}_handleFormSave(){if(this.hourTimesheetType){const e=this._checkForHourEntriesError();if(e){this.setState({isModalProcessing:false});window.setMessage(b.Bo,"error");return false}return this._getRequestData()}const e=this._checkForOverlappingError();if(e){this._handleOnValidationError(e);window.setMessage(Q.__("Please correct overlapping entries and try again."),"error");return false}const t=this._checkForMissingRequiredFields();if(t){this._handleOnValidationError(t);window.setMessage(Q.__("Please fill out all required fields."),"error");return false}return this._getRequestData()}_handleSaveError(e){const t=this.state.entries.slice();e.forEach((e=>{t.forEach((t=>{if(t.id===e){t.overlappingError=true}}))}));this.setState({entries:t})}_renderAddEntryLink(){return(0,c.Z)(p.T,{onClick:this._handleAddEntryClick,startIcon:"circle-plus-regular",type:"button"},void 0,Q.__("Add Entry"))}_renderDayTotal(){const e=this._getDayTotal();return(0,c.Z)("div",{className:(0,g.classNameFromObject)("AddEditEntry__dayTotal",{"AddEditEntry__dayTotal--error":e>24})},void 0,Q.__("Day Total: %1",(0,v.mr)(e)))}_renderClockEntrySlats(){const{canEdit:e,projectsWithTasks:t,type:a,breaks:s}=this.props;return(0,c.Z)("form",{className:"BhrForms"},void 0,this.state.entries.map((o=>i().createElement(z,(0,n.Z)({},o,{breaks:s,canEdit:e,date:this.props.date,entryType:o.entryType,handleInputBlur:this._handleInputBlur,handleInputChange:this._handleInputChange,handleRemoveButtonClick:this._handleEntryRemoveClick,handleSelectChange:this._handleSelectChange,key:o.key,onAddNote:this._handleAddNote,onBreakChange:this._handleSelectBreak,onEntryTypeChange:this._handleEntryTypeChange,onNoteChange:this._handleNoteChange,onProjectChange:this._handleProjectChange,projectsWithTasks:t,type:a})))))}_renderHourEntrySlats(){const{canEdit:e,onHintDismiss:t,projectsWithTasks:a,showTimeEntryHint:s,type:o}=this.props;const{entries:r}=this.state;return(0,c.Z)("form",{},void 0,r.map((r=>i().createElement(J,(0,n.Z)({key:r.id},r,{canEdit:e,onAddNote:this._handleAddNote,onEntryTypeChange:this._handleEntryTypeChange,onHintDismiss:()=>t("showTimeEntryHint",false),onInputBlur:this._handleHourInputBlur,onInputChange:this._handleHourInputChange,onInputFocus:this._handleHourInputFocus,onNoteChange:this._handleNoteChange,onProjectChange:this._handleProjectChange,onRemoveButtonClick:this._handleEntryRemoveClick,projectsWithTasks:a,showTimeEntryHint:s,type:o})))))}render(){const{clockEntries:e,openAsSheet:t,currentEntryId:a,date:n,hourEntries:s,modalTitle:i,timezone:o,timesheetType:r,type:l,canEdit:d}=this.props;const{canSave:h,isModalOpen:p,isModalProcessing:g,isSheetOpen:y,isSheetProcessing:C}=this.state;const S=u.Z.tz(`${n} 06:00`,"YYYY-MM-DD HH:mm",o);const E=(0,c.Z)("div",{className:"AddEditEntry"},void 0,(r==="multiple"||r==="clock")&&this._renderClockEntrySlats(),r==="hour"&&this._renderHourEntrySlats(),(0,c.Z)("div",{className:"AddEditEntry__totalRow"},void 0,l==="add"&&this._renderAddEntryLink(),this._renderDayTotal()));let x=null;if(l==="edit"){let t;if(this.hourTimesheetType){const e=s.find((e=>e.id===a));t=Q.__("Are you sure you want to delete this %1 entry?",(0,v.mr)(e.hours))}else{const n=e.find((e=>e.id===a));const s=u.Z.tz(n.start,n.timezone).format(b.T_);const i=u.Z.tz(n.end,n.timezone).format(b.T_);t=Q.__("Are you sure you want to delete the %1 to %2 entry?",s,i)}const n=(0,c.Z)("div",{className:"AddEditEntry__deleteSheet"},void 0,(0,c.Z)("span",{className:"AddEditEntry__deleteSheetIcon"},void 0,(0,c.Z)(m.I,{name:"trash-can-regular",size:48})),(0,c.Z)("h5",{},void 0,t));x={content:n,isOpen:y,isProcessing:C,onClose:()=>this.setState({isSheetOpen:false}),primaryAction:this._deleteEntry,primaryActionText:Q.__("Yes, Delete Entry"),title:Q.__("Just Checking...")}}const T=()=>this.setState({isModalOpen:false});let k=null;let I=T;if(d){k=T;I=h?this._saveEntry:null}return(0,c.Z)(w.u_,{additionalAction:l==="edit"&&d?()=>this.setState({isSheetOpen:true}):null,additionalActionText:Q.__("Delete Time Entry"),alternativeAction:k,header:(0,c.Z)(f.S.StandardHeadline,{icon:"calendar-days-regular",text:S.format("dddd, MMM D")}),headerType:"text",isOpen:p,isProcessing:g,onClose:T,primaryAction:I,primaryActionText:d?Q.__("Save"):Q.__("Done"),sheetProps:x,title:i,type:t?"largeSheet":"medium"},void 0,E)}}var ne=a(26570);function se(e){return new Promise((t=>{let a=(0,l.ifFeature)("TIME_MEAL_REST_BREAKS",ne.__("Timesheet Entry"),ne.__("Time Worked"));if(e.canEdit){a=(0,l.ifFeature)("TIME_MEAL_REST_BREAKS",e.type==="edit"?ne.__("Edit Timesheet Entry"):ne.__("Add Timesheet Entry"),e.type==="edit"?ne.__("Edit Time Worked"):ne.__("Enter Time Worked"))}const s=document.createElement("div");const c=i().createElement(ae,(0,n.Z)({},e,{afterAction:t,modalTitle:a}));const d=(0,l.ifFeature)("REACT_18_TT_MIGRATION",(()=>(0,r.bB)({children:c,attachedElement:s})),(()=>(0,o.s)(c,s)));d()}))}},52326:(e,t,a)=>{"use strict";a.d(t,{Z:()=>M});var n=a(88604);var s=a(23321);var i=a.n(s);var o=a(53534);var r=a(56445);var l=a(70004);var c=a(89835);var d=a(44119);var u=a(82543);var h=a.n(u);var p=a(71141);var m=a(56921);var f=a(7167);var g=a(77285);var v=a(79340);var y=a(26242);var b=a(56341);var w=a(51178);var C=a(85617);var S=a(72956);var E=a(88721);var x=a(79128);var T=a(17863);var k=a(66327);var I=a(33743);var A=a(2224);var $=a(26570);const F=(0,p.isEnabled)("timeTrackingGeolocation");class Z extends s.Component{static get className(){return"AddNote"}constructor(e){super(e);(0,d.Z)(this,"_handleTimeInput",(e=>{const{startTimeMeridiem:t,startTime:a}=this.state;const n=e.target.value;this.timeInputRef.current.value=(0,T.Xw)(n,a);let s=this._getWorkedTime(this.timeInputRef.current.value,t);if(s<0){s=0}this.setState({startTime:this.timeInputRef.current.value,workedTime:s})}));(0,d.Z)(this,"_handleNoteInput",(e=>{const t=e.target.value;this.setState({noteText:t})}));(0,d.Z)(this,"_handleProjectChange",(e=>{const{projectsWithTasks:t}=this.props;const a=(0,T.Tr)(e,t);this.setState({projectData:a})}));(0,d.Z)(this,"_getModalData",(()=>{const{noteText:e,startTimeMeridiem:t,startTime:a}=this.state;const{clock:n,today:s,timezone:i}=this.props;const o=s.format("YYYY-MM-DD");const r="YYYY-MM-DD h:mm A";const l=h().tz(`${o} ${a} ${t}`,r,i);let c=false;if(n){const e=h()(n.latest.start).tz(i);c=!e.isSame(l)}const d={note:e,selectedTime:l,timeWasChanged:c,timezone:i};return d}));(0,d.Z)(this,"_getWorkedTime",((e,t)=>{const{today:a,timezone:n}=this.props;const s=a.format("YYYY-MM-DD");const i="YYYY-MM-DD h:mm A";const o=h().tz(`${s} ${e} ${t}`,i,n);return(0,T.I1)(o,h()().tz(n),"hours")}));(0,d.Z)(this,"_saveNote",(()=>{const{projectData:{projectId:e,taskId:t}}=this.state;const{afterSave:a,canEdit:n,employeeId:s,totalTime:i,type:o}=this.props;const r=this._getModalData();this.setState({isModalProcessing:true});if(o==="clock"){const i={note:r.note,projectId:e,taskId:t};if(r.timeWasChanged&&n){i.start=r.selectedTime.format("HH:mm");i.timezone=r.timezone}k.saveClockInData(s,i).then((()=>{this.setState({isModalOpen:false});a()})).catch((()=>{this.setState({isModalProcessing:false})}))}else if(o==="single"){const n={employeeId:s,hours:i,date:r.selectedTime.format("YYYY-MM-DD"),note:r.note,projectId:e,taskId:t};k.saveSingleDailyHours([n]).then((()=>{this.setState({isModalOpen:false});a()})).catch((()=>{this.setState({isModalProcessing:false})}))}}));const{clock:t,note:a,today:n,timezone:i,projectData:o}=e;let r=null;let l=null;let c="";let u=null;if(t&&t.latest){r=n.format("A");l=n.format("h:mm");u=(0,T.I1)(n,h()().tz(i),"hours")}if(a){c=a}this.state={noteText:c,startTimeMeridiem:r,startTime:l,workedTime:u,isModalOpen:false,isModalProcessing:false,projectData:o,showMap:false};this.timeInputRef=(0,s.createRef)()}componentDidMount(){setTimeout((()=>{this.setState({isModalOpen:true})}))}render(){const{isModalOpen:e,isModalProcessing:t,noteText:a,showMap:s,startTimeMeridiem:o,startTime:r,workedTime:l,projectData:d}=this.state;const{canEdit:u,clock:h,note:p,today:k,type:Z,isViewOnly:M,projectsWithTasks:N}=this.props;const D=h&&h.clockedIn;const L=D?h?.latest.clockInAddress:false;const{clockInLatitude:P,clockInLongitude:O,clockInLocationAccuracy:R}=h?.latest||{};const B=h?.latest.clockInLocationAccuracy===-1||false;let H=$.__("Update Time Entry");if(Z==="single"){H=p?$.__("Update Note"):$.__("Add Note")}let j=null;if(d&&d.projectId&&d.taskId){j=`${d.projectId}-${d.taskId}`}else if(d&&d.projectId){j=d.projectId}const z=(0,c.Z)(m.F,{alignItems:"center",gap:1,whiteSpace:"nowrap"},void 0,(0,c.Z)(A.Z,{}),(0,c.Z)(f.B,{color:"primary"},void 0,(0,T.mr)(l)));const q={items:N?(0,T.aC)(N):[],onSelect:this._handleProjectChange,onClear:()=>this._handleProjectChange(null),placeholder:d.projectName?(0,T.m7)(null,d.projectName,d.taskName):`--${$.__("Select Project/Task")}--`,renderToggleContent:e=>(0,T.m7)(e,d.projectName,d.taskName),selectedValues:[j],width:7};const W=N&&N.allIds.length>0;const U=i().createElement(g.S,(0,n.Z)({label:$.__("Save time to...")},q,{notePlacement:"inline"}));const V=(0,c.Z)(m.F,{alignItems:"end",gap:1},void 0,i().createElement(v.T,{defaultValue:r,disabled:!u,label:$.__("Start Time"),onChange:this._handleTimeInput,placeholder:"hh:mm",ref:this.timeInputRef,required:true,width:3}),(0,c.Z)(g.S,{disabled:!u,isClearable:false,items:[{text:"AM",value:"AM"},{text:"PM",value:"PM"}],note:W?null:z,notePlacement:"inline",onSelect:e=>{const{startTime:t}=this.state;let a=e;let n=this._getWorkedTime(t,a);if(n<0){n=0}this.setState({startTimeMeridiem:a,workedTime:n})},value:[o],width:1}),(0,c.Z)(y.L,{marginLeft:1},void 0,W?U:null));const G=(0,c.Z)(f.B,{color:"warning",icon:"triangle-exclamation-solid"},void 0,$.__(`There wasnt a strong signal where they clocked in, so we cant show it on the map.`));const Y=(0,c.Z)(m.F,{flexDirection:"column",gap:2.5},void 0,h&&V,Z==="single"&&W?U:null,F&&L&&(0,c.Z)(m.F,{alignItems:"start",flexDirection:"column",gap:1},void 0,(0,c.Z)(b.N,{name:$.__("Clocked In Near"),value:B?G:L}),!s&&!B&&(0,c.Z)(w.T,{onClick:()=>this.setState({showMap:true}),endIcon:"angles-down-regular",startIcon:"location-dot-solid",type:"button"},void 0,$.__("Show Map")),s&&!B&&(0,c.Z)(I.D,{markers:[{accuracy:R,coordinates:{lat:P,lng:O},label:"Clock In"}],height:"291px",width:"396px",zoom:17})),(0,c.Z)(C.T,{label:$.__("Note"),autoFocus:true,value:a,disabled:!u&&!D,InputProps:{maxLength:200},onChange:this._handleNoteInput,placeholder:$.__("Add note...")}));return(0,c.Z)(S.S,{isOpen:e,isProcessing:t,onRequestClose:()=>this.setState({isModalOpen:false})},void 0,(0,c.Z)(S.S.Body,{renderHeader:(0,c.Z)(S.S.Header,{title:H}),renderFooter:(0,c.Z)(S.S.Footer,{actions:[(0,c.Z)(w.T,{onClick:()=>this.setState({isModalOpen:false}),type:"button"},void 0,$.__("Cancel")),...u&&M===false||D?[(0,c.Z)(E.B,{onClick:this._saveNote,type:"button"},void 0,$.__("Save"))]:[]]})},void 0,(0,c.Z)(S.S.UpperContent,{},void 0,(0,c.Z)(x.B,{icon:"calendar-days-regular",size:"large",title:k.format("dddd, MMM D")})),(0,c.Z)(S.S.Constraint,{},void 0,Y)))}}function M(e){return new Promise((t=>{const a=document.createElement("div");const s=(0,r.ifFeature)("REACT_18_TT_MIGRATION",(()=>(0,l.bB)({children:i().createElement(Z,(0,n.Z)({afterSave:t},e)),attachedElement:a})),(()=>(0,o.s)(i().createElement(Z,(0,n.Z)({afterSave:t},e)),a)));s()}))}},6661:(e,t,a)=>{"use strict";a.d(t,{Z:()=>N});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(53534);var r=a(70004);var l=a(56445);var c=a(88604);var d=a(44119);var u=a(73641);var h=a(82543);var p=a.n(h);var m=a(72956);var f=a(98675);var g=a(17842);var v=a.n(g);var y=a(17863);var b=a(68003);var w=a(14386);var C=a(18613);var S=a(51341);var E=e=>{const{firstName:t,lastName:a,start:s,timezone:i,id:o,today:r,handleDateChange:l}=e;const c=S.Z.tz(s,i);const d=S.Z.tz(r,i);const u=S.Z.tz.zone(i).abbr(c);const h=c.isSame(d,"day")?d.format("MMM D"):`${c.format("MMM D")} - ${d.format("MMM D")}`;const p={start:s,timezone:i};const m=e=>{l(e,o)};return(0,n.Z)("div",{className:"ClockOutSlat"},void 0,(0,n.Z)("div",{className:"ClockOutSlat__header"},void 0,(0,n.Z)("div",{className:"ClockOutSlat__employee"},void 0,(0,n.Z)(w.I,{color:"primary-strong",name:"circle-user-solid",size:16}),(0,n.Z)("span",{className:"ClockOutSlat__name baseColor"},void 0,t," ",a),(0,n.Z)("span",{className:"ClockOutSlat__timezone"},void 0,"(",u,")")),(0,n.Z)("div",{className:"ClockOutSlat__dateRange"},void 0,h)),(0,n.Z)(C.Z,{lastClockEntry:p,onDateChange:m,showTotal:"true"}))};var x=a(43860);var T=a(51738);var k=a(88721);var $=a(26570);function I(e){let{onClose:t}=e;const[a,i]=(0,s.useState)(true);const o=()=>{i(false);t()};return(0,n.Z)(T.S,{isOpen:a,onRequestClose:o},void 0,(0,n.Z)(T.S.Body,{renderFooter:(0,n.Z)(T.S.Footer,{actions:[(0,n.Z)(k.B,{onClick:o,type:"button"},"primary",$.__("Got it"))]}),renderHeader:(0,n.Z)(T.S.Header,{title:$.__("Whoa, something changed")})},void 0,(0,n.Z)(T.S.Constraint,{},void 0,(0,n.Z)(T.S.HeroHeadline,{icon:"triangle-exclamation-regular",iconColor:"warning-strong",subtext:$.__("Before you clicked approve, one or more employees clocked out. Please go back and review and approve any potential changes."),text:$.__("At least one employee just clocked out")}))))}function A(e,t){const a=(0,x.Z)();const s=()=>{t();if(e){window.setMessage(b.qe,"error")}document.body.removeChild(document.getElementById(a))};const i=document.createElement("div");i.setAttribute("id",a);(0,o.s)((0,n.Z)(I,{onClose:s}),document.body.appendChild(i))}var F=a(26570);class Z extends s.Component{static get className(){return"ApproverClockOut"}constructor(e){super(e);(0,d.Z)(this,"_clockOutEmployees",(()=>{const{afterAction:e}=this.props;let{url:t}=this.props;this.setState({isModalProcessing:true});const a={clockOuts:this._handleFormSave()};if(t==="/timesheet/clock/out/approval"){t="/timesheet/clock/out/datetime"}if(a){v().post(t,JSON.stringify(a),{headers:{"Content-Type":"application/json;charset=utf-8"}}).then((t=>{this.setState({isModalOpen:false});e(t.data)})).catch((e=>{let t;if(e.response.data.data){t=e.response.data.data.timesheets}else{t=e.response.data.timesheets}this.setState({isModalProcessing:false});this._handleSaveError(t)}))}}));const t=e.employees.map((e=>{const t={};const a=p().tz(e.start.date,e.start.timezone);t.endTime="";t.endMeridiem=a.format("A");t.startTime=a.format("h:mm");t.start=e.start.date;t.today=e.today.date;t.timezone=e.today.timezone;t.firstName=e.firstName;t.lastName=e.lastName;t.id=e.id;t.employeeId=e.employeeId;t.clockOutDateTime=null;return t}));this.state={employees:t,isModalOpen:false,isModalProcessing:false,canSave:true};this._handleInputBlur=this._handleInputBlur.bind(this);this._handleInputChange=this._handleInputChange.bind(this);this._handleSelectChange=this._handleSelectChange.bind(this);this._handleDateChange=this._handleDateChange.bind(this)}componentDidMount(){this._handleValidation();setTimeout((()=>{this.setState({isModalOpen:true})}))}componentDidUpdate(){this._handleValidation()}render(){const{canSave:e,isModalOpen:t,isModalProcessing:a}=this.state;const{title:s}=this.props;return(0,n.Z)(f.u_,{isOpen:t,isProcessing:a,onClose:()=>this.setState({isModalOpen:false}),primaryAction:e?this._clockOutEmployees:null,primaryActionText:F.__("Clock Out & Approve"),title:s,type:"medium"},void 0,(0,n.Z)("div",{className:"ApproverClockOut"},void 0,this._renderWarning(),this._renderClockOutSlats()))}_getIndividualEntryTotal(e){const{start:t,endMeridiem:a,endTime:n,today:s}=e;const i=(0,y.v3)(n,a,p()(s).format("YYYY-MM-DD"));const o=(0,y.YZ)(n);const r=o?p()(o,"h:mm").format("h:mm"):null;let l;if(n&&r){l=`${i} ${(0,y.Vd)(r,a)}`}else{return 0}const c=p()(t);const d=p()(l);return(0,y.I1)(c,d,"hours")}_handleValidation(){const{employees:e}=this.state;return(0,y.Lq)(e)}_handleFormSave(){const{employees:e}=this.state;return e.map((e=>({employeeId:e.employeeId,datetime:e.clockOutDateTime.toISOString(true),timezone:e.timezone})))}_handleSaveError(e){let t=this.state.employees.slice();let a=false;let n=false;t=t.filter((t=>{const s=e.find((e=>e.employeeId===t.employeeId));if(s.status==="failure"&&s.error==="CLOCKED_OUT"){a=true}else if(s.status==="failure"){n=true;return true}else{return true}return false}));if(a){A(n,(()=>{if(t.length===0){window.SimpleModal.closeModal()}}))}else if(n){window.setMessage(b.qe,"error")}if(t.length>0){this.setState({employees:t})}}_handleInputBlur(e,t){if(e){const a=(0,y.YZ)(e);this._handleInputChange(a,t)}}_handleInputChange(e,t){const{canSave:a}=this.state;const n=this.state.employees.slice();const s=n.find((e=>e.id===t));s.endTime=e;const i=(0,y.YZ)(e);const o=Number(i.split(":")[0]);const r=p()(s.start);const l=r.format("A");if(l==="AM"&&e!=="1"&&o&&o<r.hour()){s.endMeridiem="PM"}else if(l==="AM"&&(0,u.startsWith)(i,"12")){s.endMeridiem="PM"}else if(l==="PM"&&i==="12:00"){s.endMeridiem="AM"}s.total=this._getIndividualEntryTotal(s);const c=this._handleValidation();this.setState({employees:n,canSave:c})}_handleDateChange(e,t){const{canSave:a,employees:n}=this.state;const s=n.slice();const i=s.find((e=>e.id===t));i.clockOutDateTime=e;const o=this._handleValidation();this.setState({employees:n,canSave:o})}_handleSelectChange(e,t){const a=this.state.employees.slice();const n=a.find((e=>e.id===t));n.endMeridiem=e;n.total=this._getIndividualEntryTotal(n);const s=this._handleValidation();this.setState({employees:a,canSave:s})}_renderClockOutSlats(){const{employees:e}=this.state;return e.map((e=>i().createElement(E,(0,c.Z)({},e,{handleDateChange:this._handleDateChange,handleInputBlur:this._handleInputBlur,handleInputChange:this._handleInputChange,handleSelectChange:this._handleSelectChange,key:e.id.toString()}))))}_renderWarning(){const{employees:e}=this.props;const t=F.__("Some employees are still clocked in.");const a=F.__("Enter clock out times below before approving.");const s=F.__("%1$s might have forgotten to clock out.",e[0].firstName);const i=F.__("Enter a clock out time below before approving hours.");const o=e.length>1;return(0,n.Z)(m.S.HeroHeadline,{hasSeparator:true,icon:"triangle-exclamation-regular",iconColor:"warning-strong",subtext:o?a:i,text:o?t:s})}}var M=a(26570);function N(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"/timesheet/clock/out/approval";const s=e.length>1?M.__("People are still clocked in"):M.__("%1$s is still clocked in",e[0].firstName);const i=typeof t==="function"?t:u.noop;const c=(0,l.ifFeature)("REACT_18_TT_MIGRATION",(()=>(0,r.bB)({children:(0,n.Z)(Z,{afterAction:i,employees:e,title:s,url:a}),attachedElement:document.createElement("div")})),(()=>(0,o.s)((0,n.Z)(Z,{afterAction:i,employees:e,title:s,url:a}),document.createElement("div"))));c()}},99827:(e,t,a)=>{"use strict";a.d(t,{Z:()=>b});var n=a(89835);var s=a(23321);var i=a(53534);var o=a(44119);var r=a(17842);var l=a.n(r);var c=a(98675);var d=a(71229);var u=a(14386);var h=a(26242);var p=a(4715);var m=a(7167);var f=a(17863);var g=a(18613);var $=a(26570);const v={INVALID_CLOCK_TIME:$.__("The clock out time is before the clock in time."),MISSING_EMPLOYEE_IDS:$.__("Missing employee ID(s)"),MISSING_TOOL:$.__("Time Tracking is not enabled."),PERMISSIONS:$.__("You don't have permission to do that"),FUTURE_TIMESHEET:$.__("You can't perform that action on a future timesheet."),TIMESHEET_NOT_FOUND:$.__("Timesheet not found"),INVALID_ID:$.__("Invalid employee or timesheet id."),PREVIEW:$.__("Cannot change a clock out date while previewing as another user."),CLOCKED_OUT:$.__("The employee is currently clocked out."),TIMESHEET_TYPE:$.__("Invalid timesheet type"),INVALID_TIMEZONE:$.__("Employee has an invalid timezone setup"),NO_CLOCK_ENTRIES:$.__("The employee hasn't clocked in yet."),SERVER_ERROR:$.__("Internal error."),OVERLAP:$.__("Overlapping timesheets found. Please contact support.")};class y extends s.Component{static get className(){return"ChooseClockOutDate"}constructor(e){super(e);(0,o.Z)(this,"_handleDateChange",((e,t)=>{this.setState({selectedDateTime:e,totalTime:t})}));(0,o.Z)(this,"_clockOut",(()=>{const{selectedDateTime:e}=this.state;const{afterClockOut:t,employeeId:a}=this.props;const n={clockOuts:[{employeeId:a,datetime:e.toISOString(true),timezone:e.tz()}]};this.setState({isModalProcessing:true});l().post("/timesheet/clock/out/datetime",n).then((()=>{this.setState({isModalOpen:false});t()})).catch((e=>{if(e.response.data.error){const t=e.response.data.error.code;setMessage(v[t],"error")}else{window.errorFallBack()}this.setState({isModalProcessing:false})}))}));this.state={selectedDateTime:null,totalTime:null,isModalOpen:false,isModalProcessing:false}}componentDidMount(){setTimeout((()=>{this.setState({isModalOpen:true})}))}render(){const{isModalOpen:e,isModalProcessing:t,totalTime:a}=this.state;const{lastClockEntry:s}=this.props;const i=(0,n.Z)("div",{className:"ChooseClockOutDate"},void 0,(0,n.Z)("div",{className:"ChooseClockOutDate__icon"},void 0,(0,n.Z)(d.I,{icon:(0,n.Z)(u.I,{color:"warning-strong",name:"triangle-exclamation-regular",size:32}),size:64})),(0,n.Z)("h4",{className:"ChooseClockOutDate__headingText"},void 0,$.__("Looks like you forgot to clock out.")),(0,n.Z)("p",{className:"ChooseClockOutDate__text"},void 0,$.__("When should you have clocked out?")),(0,n.Z)(h.L,{width:"100%"},void 0,(0,n.Z)(p.D,{marginY:2})),(0,n.Z)(g.Z,{lastClockEntry:s,onDateChange:this._handleDateChange}),(0,n.Z)(h.L,{alignSelf:"start"},void 0,(0,n.Z)(m.B,{weight:"medium"},void 0,$.__("Total Time: %1",a>0?(0,f.mr)(a):(0,f.mr)(0)))));return(0,n.Z)(c.u_,{biId:"my-info-timesheet-clock-out",isOpen:e,isProcessing:t,onClose:()=>this.setState({isModalOpen:false}),primaryAction:this._clockOut,primaryActionText:$.__("Clock Out"),title:$.__("Verify Time & Clock Out"),type:"medium"},void 0,i)}}function b(e,t){return new Promise((a=>{const s=document.createElement("div");(0,i.s)((0,n.Z)(y,{afterClockOut:a,employeeId:e,lastClockEntry:t}),s)}))}},5223:(e,t,a)=>{"use strict";var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(78144);var $=a(26570);function r(e,t,a){$.post("/time_tracking/employees/disable",{employeeIds:[e]}).done((e=>{if(e.error){setMessage($.__("Whoops! Something went wrong with disabling time tracking. Please refresh and try again."),"error");return}window.BambooHR.Modal.setState({isOpen:false});a()})).fail(l)}function l(){setMessage($.__("Sorry, something went wrong. Try giving it another shot?"),"error");window.SimpleModal.Footer.Buttons.Primary.stopProcessing()}function c(e,t,a){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Function.prototype;const i=$.__("Just Checking...");const l=$.__("Are you sure you want to disable time tracking for %1$s?",`${t} ${a}`);const c=$.__("%1$s will not get any new timesheets, but will still be able to log time on their current timesheet and it will still be sent for approval.",(0,o.H$)(t));const d=$.__("Yes, Disable Time Tracking");window.BambooHR.Modal.setState({title:i,headline:l,content:(0,n.Z)("div",{className:"DisableTimeTrackingModal__content"},void 0,c),icon:"stopwatch-regular",iconColor:"attention",iconV2Color:"primary-strong",isOpen:true,primaryAction:function(){window.BambooHR.Modal.setState({isProcessing:true},true);r(e,t,s)},primaryActionText:d})}t["Z"]={openModal:c}},72521:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(82543);var r=a.n(o);var l=a(44816);var c=a(17842);var d=a.n(c);var u=a(71141);var $=a(26570);const h=(0,u.isEnabled)("timeTrackingFutureScheduling");function p(e,t,a){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=$.__("Time Tracking Start Date");const l=$.__("Save");let c;let u=[];d().get(`/time_tracking/employee/${e.id}/schedule_dates`).then((d=>{const p=d.data.canEnableNow;c=d.data.paySchedules.allIds[0];const g=d.data.paySchedules.byId[c].dates;const v=d.data.paySchedules.byId[c].hireDate;u=g.map((e=>{const t=r()(e);return{date:e,display:t.format("MMM D")}}));const y=window.BambooHR.Modal.isOpen();let b=h?"":"immediately";let w=[];if(h){if(p){w.push({displayText:$.__("Immediately"),value:"immediately"})}if(v){const e=r()(v);w.push({text:$.__("Hire Date"),type:"group",items:[{displayText:e.format("MMM D"),value:v}]})}const e=[{text:$.__("Next Pay Periods"),type:"group",items:[...u.map((e=>({displayText:e.display,value:e.date})))]}];w=[...w,...e]}else{w=[{displayText:$.__("Immediately"),value:"immediately"},...u.map((e=>({displayText:e.display,value:e.date})))]}const C={isOpen:true,title:o,icon:"stopwatch-solid",headline:$.__("When do you want time tracking to start?"),content:(0,n.Z)(s.Fragment,{},void 0,(0,n.Z)("div",{className:"EnableTimeTracking__forWho"},"text",$.__("Select when %1$s will start tracking time.",e.preferredName)),(0,n.Z)("div",{className:"EnableTimeTracking__date-select"},"select",(0,n.Z)(f,{effect:e=>{b=e},items:w,value:b}))),primaryActionText:l,primaryAction(){if(y){window.BambooHR.Modal.setState({sheetProps:{isOpen:false},isProcessing:true},true)}else{window.BambooHR.Modal.setState({isProcessing:true},true)}m(b,e.id,t,a,i,c)},alternativeAction(){window.BambooHR.Modal.setState({isOpen:false})},onClose(){window.BambooHR.Modal.setState({isOpen:false})}};if(y){window.BambooHR.Modal.setState({sheetProps:C},true)}else{window.BambooHR.Modal.setState({...C})}})).catch((e=>{a(e.response.data.error)}))}function m(e,t,a,n,s,i){let o="/time_tracking/employees/reschedule";let r={employeeIds:[t],...e==="immediately"?{}:{paySchedules:{[i]:e}}};r.setSessionMessage=s;return d().post(o,r).then((t=>{window.BambooHR.Modal.setState({isOpen:false});a(t.data,e)})).catch((e=>{window.BambooHR.Modal.setState({isProcessing:false},true);n(e.response.data.error)}))}function f(e){let{items:t,value:a,effect:i=(()=>{})}=e;const[o,r]=(0,s.useState)(a);const c={notClearable:true,width:5};const d={items:t};d.items.forEach((e=>{if(e.items){e.items.forEach((e=>{e.selected=e.value===o}))}e.selected=e.value===o}));(0,s.useEffect)((()=>{i(o)}));return(0,n.Z)(l.ZP,{data:d,onChange:e=>{r(e.value)},placeholder:` ${$.__("Select Date")} `,settings:c})}},11656:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var n=a(89835);var s=a(23321);var i=a(53534);var o=a(44119);var r=a(98675);var l=a(14386);var $=a(26570);class c extends s.Component{static get className(){return"ForgotClockOutWarning"}constructor(e){super(e);(0,o.Z)(this,"_clockOut",(()=>{const{afterClockOut:e,beforeClockOutAction:t,clockOutAction:a,employeeId:n}=this.props;this.setState({isProcessing:true});t();a(n).then((()=>{this.setState({isOpen:false});e()}))}));this.state={isOpen:false,isProcessing:false}}componentDidMount(){setTimeout((()=>{this.setState({isOpen:true})}))}render(){const{isOpen:e,isProcessing:t}=this.state;return(0,n.Z)(r.u_,{isOpen:e,isProcessing:t,onClose:()=>this.setState({isOpen:false}),primaryAction:this._clockOut,primaryActionText:$.__("Clock Out"),title:$.__("Clock Out")},void 0,(0,n.Z)("div",{className:"ForgotClockOutWarningModal"},void 0,(0,n.Z)("div",{className:"ForgotClockOutWarningModal__icon"},void 0,(0,n.Z)(l.I,{name:"triangle-exclamation-solid",size:55})),(0,n.Z)("h4",{className:"ForgotClockOutWarningModal__heading"},void 0,$.__("Did you forget to clock out?")),(0,n.Z)("p",{className:"ForgotClockOutWarningModal__text"},void 0,$.__("If so, let your manager know and they can correct your timesheet."))))}}function d(e,t,a){return new Promise((s=>{const o=document.createElement("div");(0,i.s)((0,n.Z)(c,{afterClockOut:s,beforeClockOutAction:a,clockOutAction:e,employeeId:t}),o)}))}},92776:(e,t,a)=>{"use strict";a.d(t,{pL:()=>r,qk:()=>c,kv:()=>l});var n=a(78144);var s=a(91663);var i=a.n(s);var o=a(47747);var $=a(26570);function r(e,t){if(e==="no-pay-schedule"){l()}else{c(e,t)}}function l(){window.BambooHR.Modal.setState({isOpen:true,dangerousContent:`\n\t\t\t<div>\n\t\t\t\t${$.__(`You can select a pay schedule by editing the compensation information on this employee's Job tab.`)}\n\t\t\t</div>\n\t\t`,icon:"fab-timesheet-exclamation-84x57",iconColor:"danger",headline:$.__("To enable time tracking you must first select a pay schedule for this employee."),primaryAction:()=>{window.BambooHR.Modal.setState({isOpen:false})},alternativeAction:null,primaryActionText:$.__("Got it, Thanks"),title:$.__(`Oops, sorry that won't work...`)})}function c(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const s=microTemplate(i(),{header:d(e,(0,n.H$)(t)),description:u(e,(0,n.H$)(t))});window.BambooHR.Modal.setState({isOpen:true,dangerousContent:s,primaryAction:()=>{if(a){(0,o.GC)()}else{window.BambooHR.Modal.setState({isOpen:false})}},primaryActionText:$.__("Got it, Thanks"),title:$.__(`Overtime Won't Be Calculated`)})}function d(e,t){switch(e){case"no-location":return $.__(`We can't calculate overtime for %1$s because a location isn't set.`,t);case"no-state":return $.__(`We can't calculate overtime for %1$s because a state isn't set.`,t);case"no-state-remote":return $.__(`We can't calculate overtime for %1$s because a home address state isn't set.`,t);case"non-overtime-country":return $.__(`Overtime cannot be calculated for %1$s because their address does not include a US state.`,t);default:throw new Error("no missing data")}}function u(e,t){let a=$.__(`%1$s will still be able to track time, but we won't calculate overtime.`,t);switch(e){case"no-location":return a+" "+$.__(`Add %1$s to a location with a US address to automatically calculate overtime based on the state overtime laws.`,t);case"no-state":return a+" "+$.__(`Add a US state to %1$s's location to automatically calculate overtime based on the state overtime laws.`,t);case"no-state-remote":return a+" "+$.__(`Add a US state to %1$s's home address to automatically calculate overtime based on the state overtime laws.`,t);case"non-overtime-country":return a+" "+$.__(`Add a US state to %1$s's location to automatically calculate overtime based on the state overtime laws.`,t);default:throw new Error("no missing data")}}},18613:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var n=a(89835);var s=a(44119);var i=a(23321);var o=a.n(i);var r=a(405);var l=a(26136);var c=a(17863);var moment=a(82543);var $=a(26570);class d extends i.Component{static get className(){return"ChooseDate"}constructor(e){super(e);(0,s.Z)(this,"_handleDateChange",(e=>{const{clockOutMeridiem:t,clockOutTime:a}=this.state;const{lastClockEntry:n}=this.props;const s=this.getLastCLockDate(n);const i=this.getSelectedDateTime(e,t,a);const o=i.isBefore(s);let r=t;if(o){r="PM"}this.setState({clockOutDate:e,clockOutMeridiem:r});this.setTotalTime()}));(0,s.Z)(this,"_handleOnInput",(e=>{const{clockOutDate:t,clockOutMeridiem:a,clockOutTime:n}=this.state;const{lastClockEntry:s}=this.props;const i=e.target.value;const o=this.getLastCLockDate(s);const r=this.getSelectedDateTime(t,a,(0,c.YZ)(i));const l=r.isBefore(o);this.timeInputRef.current.value=(0,c.Xw)(i,n);let d=a;if(l){d="PM"}this.setState({clockOutTime:this.timeInputRef.current.value,clockOutMeridiem:d});this.setTotalTime()}));(0,s.Z)(this,"calculateTotalTime",((e,t,a)=>{const{lastClockEntry:n}=this.props;const s=this.getSelectedDateTime(e,t,a);const i=this.getLastCLockDate(n);return(0,c.I1)(i,s,"hours")}));(0,s.Z)(this,"setTotalTime",(()=>{const{onDateChange:e}=this.props;this.setState((t=>{const{clockOutDate:a,clockOutMeridiem:n,clockOutTime:s}=t;const i=this.calculateTotalTime(a,n,s);let o=this.getSelectedDateTime(a,n,s);if(i<0||this.timeInputRef.current.value===""){o._isValid=false}e(o,i);return{totalTime:i}}))}));(0,s.Z)(this,"getLastCLockDate",(e=>moment.tz(e.start,e.timezone)));(0,s.Z)(this,"getSelectedDateTime",((e,t,a)=>{const{lastClockEntry:n}=this.props;const s="YYYY-MM-DD h:mm A";return moment.tz(`${e} ${(0,c.Vd)(a,t)}`,s,n.timezone)}));const t=moment().tz(e.lastClockEntry.timezone);const a=t.format("YYYY-MM-DD");const n=(0,c.xX)(t);const o=t.format("h:mm");const r=this.calculateTotalTime(a,n,o);this.state={clockOutDate:a,clockOutMeridiem:n,clockOutTime:o,totalTime:r};this.timeInputRef=(0,i.createRef)();e.onDateChange(t,r)}render(){const{clockOutDate:e,clockOutMeridiem:t,clockOutTime:a,totalTime:s}=this.state;const{lastClockEntry:i,showTotal:d}=this.props;const u=this.getLastCLockDate(i);const h=u.format("YYYY-MM-DD");const p=(0,c.xX)(u);const m=u.format("h:mm");const f={min:h,max:moment.tz(moment(),i.timezone).format("YYYY-MM-DD"),start:e};const g={isClearable:false,items:[{text:"AM",value:"AM"},{text:"PM",value:"PM"}],selectedValues:[t],onSelect:e=>{const{clockOutDate:t,clockOutTime:a}=this.state;const{lastClockEntry:n}=this.props;const s=this.getLastCLockDate(n);const i=this.getSelectedDateTime(t,event.value,a);const o=i.isBefore(s);let r=e;if(o&&a!==""){r="PM"}this.setState({clockOutMeridiem:r});this.setTotalTime()}};return(0,n.Z)("div",{className:"ChooseDate fab-FormRow"},void 0,(0,n.Z)("div",{},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"clockInDate"},void 0,$.__("Clocked in")),(0,n.Z)("div",{className:"fab-InputWrapper"},void 0,(0,n.Z)("input",{className:"ChooseDate__clockInDate fab-TextInput fab-TextInput--width4",disabled:true,type:"text",value:u.format()}),(0,n.Z)("input",{className:"ChooseDate__clockInTime fab-TextInput fab-TextInput--width3",defaultValue:`${m} ${p}`,disabled:true,placeholder:"hh:mm",type:"text"}))),(0,n.Z)("span",{className:"ChooseDate__formDash"},void 0,""),(0,n.Z)("div",{},void 0,(0,n.Z)("label",{className:"fab-Label",htmlFor:"clockOutDate"},void 0,$.__("Clocked out at...")),(0,n.Z)("div",{className:"fab-InputWrapper"},void 0,(0,n.Z)(l.Z,{cssClasses:{single:"fab-TextInput--width5"},name:"clockOutDate",onChange:this._handleDateChange,required:true,settings:f,type:"date"}),o().createElement("input",{className:"ChooseDate__timeInput fab-TextInput fab-TextInput--width2",defaultValue:a,onInput:this._handleOnInput,placeholder:"hh:mm",ref:this.timeInputRef,required:true,type:"text"}),o().createElement(r.S,g))),d&&(0,n.Z)("div",{className:"ChooseDate__totalTimeContainer"},void 0,(0,n.Z)("p",{className:"ChooseDate__totalTime"},void 0,(0,c.mr)(s))))}}},95361:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s.a});var n=a(47496);var s=a.n(n)},42202:(e,t,a)=>{"use strict";var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(73641);var r=a.n(o);var l=a(95361);var $=a(26570);t["Z"]=(e,t)=>{const a=(0,o.startsWith)(e,"approve")?$.__("Hours have changed"):$.__("Hours were not saved");const s=$.__("Refresh");let i=[];if(e==="save"){i=[$.__("Your timesheet was approved before you submitted your hours."),$.__("Bad timing, but reach out to your manager or HR administrator and they should make sure you're taken care of.")]}else{i=[$.__("Some hours have been recently edited.")+" "+$.__('Click "Refresh" to see any recent changes.'),$.__("You will then be able to continue approving.")]}const r=microTemplate(l.Z,{jadeIconName:"fab-circle-check-exclamation-62x54",iconName:"triangle-exclamation-solid",paragraphs:i});window.BambooHR.Modal.setState({isOpen:true,hasCloseButton:false,alternativeAction:null,title:a,content:(0,n.Z)("div",{dangerouslySetInnerHTML:{__html:r}}),primaryActionText:s,primaryAction(){window.BambooHR.Modal.setState({isOpen:true,isProcessing:true},true);if(t){t()}else{window.location.reload(true)}}})}},29420:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(17842);var r=a.n(o);var l=a(69835);var c=a(45548);var d=a(63102);var u=a(13668);var h=a(17863);function p(e){let{initialState:t}=e;const{focusedTimesheet:a}=t;const s=(0,h.Rs)(a.start,a.end);return i().createElement(i().Fragment,null,(0,n.Z)(d.F.StandardHeadline,{icon:"calendar-solid",text:s}),(0,n.Z)(d.F.Constraint,{},void 0,(0,n.Z)(u.Z,{initialState:t,isViewOnly:true,showHeader:false,showSheetPadDays:false,showTimesheetDateRangeHeader:false})))}var $=a(26570);function m(e){const t=$.__("Timesheet Detail");const a=`/timesheet/${e}`;r().get(a).then((e=>{const a=(0,c.Z)(e.data);window.BambooHR.Modal.setState({isOpen:true,content:(0,n.Z)(p,{initialState:a}),headline:t,primaryActionText:$.__("Close"),primaryAction(){window.BambooHR.Modal.setState({isOpen:false})},alternativeAction:null,contentHasPadding:false,type:"fullScreen",onOpen(){const e=Array.from(document.querySelectorAll(".js-time-details-work-week-warning-icon"));e.forEach((e=>{const t=$.__("Overtime cannot be calculated for this day.");l.Z.createStandard(e,{content:t,position:"right"})}))}})}))}},88306:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(34387);var $=a(26570);function s(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document.head;return n.Z.create(e,{triggerEvent:"none",position:"right",push:15,toggleOnClick:false,template:{name:"popover-standard",data:{title:$.__(`Entering time shouldn't be hard.`),content:$.__("Enter your time like %1$s or %2$swhatever feels most natural.",`<b class="fontSemibold">1${window.GLOBAL_DECIMAL_CHAR||"."}5</b>`,'<b class="fontSemibold">1:30</b>'),rawContent:true}}})}},1895:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i,n:()=>o});var n=a(34387);let s;function i(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document.head;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";s=n.Z.create(e,{closeX:false,html:`<span class="TimeTrackingErrorPopover js-tt-error-text">${t}</span>`,position:"right",themeClass:"Balloon--popover-error",persistent:true,toggleOnClick:false,triggerEvent:"none"});return s}function o(e,t){s.balloonContentElement.querySelector(".js-tt-error-text").innerText=e;if(t){s.setAnchor(t)}}},87602:(e,t,a)=>{"use strict";a.d(t,{J:()=>n,L:()=>s});let n=function(e){e["VIOLATION"]="violation";e["COMPLIANT"]="compliant";e["WAIVED"]="waived";return e}({});let s=function(e){e["BREAK_STARTED_LATE"]="break_started_late";e["BREAK_STARTED_EARLY"]="break_started_early";e["BREAK_ENDED_EARLY"]="break_ended_early";e["BREAK_ENDED_LATE"]="break_ended_late";e["BREAK_MISSED"]="break_missed";return e}({})},37009:(e,t,a)=>{"use strict";a.d(t,{a:()=>n});function n(e){let{availableBreaks:t=[],clockEntryBreaks:a=[]}=e;const n=[...t,...a];const s=new Map;for(const e of n){if(!s.has(e.id)){s.set(e.id,e)}}const i=Array.from(s.values()).map((e=>{let{id:t,name:a}=e;return{id:t,name:a}}));return i}},7981:(e,t,a)=>{"use strict";a.d(t,{y:()=>n});function n(e){let{breaks:t,elapsedTimeInMilliseconds:a}=e;if(a===null){return t}return t.map((e=>{if(e.availabilityType==="time_of_day"){return{...e,availableIn:e.availableIn-Math.round(a/6e4)}}return e}))}},1509:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});function n(e){let{breaks:t,earnedMinutes:a}=e;return t.map((e=>{if(e.availabilityType==="hours_worked"&&e.availableAfterMinutesWorked){return{...e,availableIn:e.availableAfterMinutesWorked-a}}return e}))}},17863:(e,t,a)=>{"use strict";a.d(t,{Am:()=>X,E:()=>H,I1:()=>v,Lq:()=>q,MS:()=>U,Pz:()=>re,RG:()=>K,Rr:()=>Y,Rs:()=>oe,TD:()=>m,Tr:()=>ne,Tz:()=>T,Ui:()=>j,Vd:()=>g,Vh:()=>ie,Xw:()=>P,YZ:()=>O,a6:()=>ae,aC:()=>ee,bY:()=>z,ch:()=>h,eK:()=>V,ff:()=>te,gi:()=>W,lo:()=>J,m7:()=>se,mr:()=>f,qu:()=>x,v3:()=>y,w9:()=>u,xX:()=>Q});var n=a(73641);var s=a.n(n);var i=a(13296);var o=a.n(i);var r=a(51341);var $=a(26570);const l=/^(\d*)(?:[.,](\d*))?$/;const c=/^(\d{0,2}):(\d{0,2})$/;const d=/(?=.*[hm])^(?:(\d{1,2})h)?\s*(?:(\d{1,2})m?)?$/i;const u="INVALID_FORMAT";const h="OVER_24";function p(e){if(!e){return 0}return Number(e)}function m(e){const t=String(e).trim();if(!t){return null}let a=null;let s=t.match(l);if(s){a=p(s[1])+(s[2]?p(`.${s[2]}`):0)}else if(t.match(c)){s=t.match(c);a=p(s[1])+p(s[2].length<2?`${s[2]}0`:s[2])/60}else if(t.match(d)){s=t.match(d);a=p(s[1])+p(s[2])/60}if(typeof a!=="number"){return u}return a<=24?(0,n.round)(a,4):h}function f(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const s=parseFloat(e);if(isNaN(s)){return""}const i=Math.abs(s);let o=parseInt(i);let r=Math.round(i*60%60);let l="";if(a){l=s<0?"-":"+"}if(r===60){o++;r=0}if(t){if(r&&!o){return l+$.__("%1$sm",r)}else if(o&&!r){return l+$.__("%1$sh",o)}}return l+$.__("%1$sh %2$sm",o,(0,n.padStart)(r,2,0))}function g(e,t){return(0,r.Z)(`${e} ${t}`,"h:mm A","en").format("HH:mm:ss")}function v(e,t,a){if(e&&e.isValid()&&t&&t.isValid()&&a){return r.Z.duration(t.diff(e)).as(a)}return 0}function y(e,t,a){const n=e&&t==="AM"&&O(e)==="12:00";return n?(0,r.Z)(a).add(1,"day").format("YYYY-MM-DD"):a}const b=$.__("Clock In");const w=$.__("Clocking In");const C=$.__("Clock Out");const S=$.__("Clocking Out");const E=$.__("Verify Time & Clock Out");function x(e,t,a,n){if(e&&!a){return t?S:C}else if(a){return n?E:C}return t?w:b}function T(e,t){const a=e.end?e.end:e.start;const n=r.Z.tz(a,e.timezone).calendar(t);const{projectName:s,taskName:i}=e;if(!e.end){if(e.projectName&&e.taskName){return`${s}  ${i}`}if(e.projectName){return s}return $.__("Clocked In: %1$s",n)}return $.__("Clocked Out: %1$s",n)}const k=/^(1[0-2]|0[1-9]|[2-9])$/;const I=/^1[3-5]$/;const A=/^(?:1[0-2]|0?[1-9]):?$/;const F=/^(?:1[0-2]|0?[1-9]):(?:[0-5][0-9]?)$/;const Z=/:/;const M=/.?:.*/;const N=/:[6-9]$/;const D=/.$/;const L=/^0?:/;function P(e,t){const{length:a}=e;const n=t.length;const s=Math.abs(n-a);if(a>n){if(k.test(e)){return`${e.startsWith("0")?e.slice(1):e}:`}if(t==="1"&&I.test(e)){return e.split("").join(":")}if(e===""||e==="0"||A.test(e)||F.test(e)){return e}return t}if(s>1){return P(e,"")}if(s===1&&Z.test(t)&&!Z.test(e)&&a!==0){return t.replace(M,"")}if(N.test(e)){return e.replace(D,"")}if(L.test(e)){return""}return e}function O(e){if(typeof e==="string"){if(/:/.test(e)){return e.replace(/\d*$/,(e=>(0,n.padEnd)(e,2,"0")))}return e?`${e}:00`:""}return""}const R=/^(?:1[0-2]|[1-9]):[0-5][0-9]$/;function B(e){return R.test(e)}function H(e){const t=m(e);return t!==h&&t!==u}function j(e){let t=true;if(!Array.isArray(e)){return false}e.forEach((e=>{const a=O(e.startTime);const n=O(e.endTime);if(!B(a)||!B(n)||e.total<0){t=false}}));return t}function z(e){let t=true;if(!Array.isArray(e)){return false}e.forEach((e=>{if(!H(e.hours)||e.total<0){t=false}}));return t}function q(e){const t=[];if(!Array.isArray(e)){return false}e.forEach((e=>{const a=e.clockOutDateTime!==null&&e.clockOutDateTime._isValid;t.push(a)}));return!t.includes(false)}function W(e,t){return e.startMoment.isBetween(t.startMoment,t.endMoment)||e.endMoment.isBetween(t.startMoment,t.endMoment)||t.startMoment.isBetween(e.startMoment,e.endMoment)||t.endMoment.isBetween(e.startMoment,e.endMoment)||e.startMoment.isSame(t.startMoment)&&e.endMoment.isSame(t.endMoment)}function U(e,t){const a=(0,r.Z)(e);const s=(0,r.Z)(t);a.startOf("minute");s.startOf("minute");return(0,n.round)(s.diff(a,"hours",true),4)}function V(e,t,a){return(0,n.flow)(n.values,(0,i.filter)((a=>a.date>=e&&a.date<=t)),(0,i.sortBy)("date"))(a)}function G(e){const t=e.reduce(((e,t)=>{if(t.overtimeSummary!==undefined&&t.overtimeSummary.length>0){t.overtimeSummary.forEach((t=>{if(e[t.multiplier]===undefined){e[t.multiplier]=0}e[t.multiplier]+=t.hours}))}return e}),{});const a=[];for(const e in t){if(t[e]>0){a.push({multiplier:parseFloat(e),hours:t[e]})}}return a.sort(((e,t)=>e.multiplier-t.multiplier))}function Y(e){let t;const a=e.paidHours%1!=0;if(e.paidHours===null){t=e.name}else if(a){t=$.__("%1$s for %2$s",f(e.paidHours),e.name,{note:"e.g. 7h 30m for New Years"})}else{t=$.__("%1$s Hours for %2$s",e.paidHours,e.name,{note:"8 Hours for New Years"})}return t}function K(e){if(e===null){return false}const t=(0,r.Z)();const a=(0,r.Z)(e.start);const n=(0,r.Z)(t).diff((0,r.Z)(a),"hours",true);const s=a.isBefore(t,"day");return e.end===null&&s&&n>14}function X(e,t,a,n){const s=a!==Boolean(e);let i=false;if(s){return true}if(t===null){i=n!==null}else{i=n!==(a?t.start:t.end)}return i}function J(e){const t=e.reduce(((e,t)=>{if(t.hasWorkWeekStartsOnChanged===true){return e+1}return e}),0);return{changed:t>0,count:t}}function Q(e){return e.clone().locale("en").format("A")}function ee(e){const{allIds:t,byId:a}=e;const n=t.map((e=>{let t=null;if(a[e].tasks.allIds.length>0){const n=a[e].tasks.byId;t=a[e].tasks.allIds.map((t=>({text:n[t].name,value:`${a[e].id}-${n[t].id}`})))}if(t!==null){return{items:t,text:a[e].name,value:a[e].id}}return{text:a[e].name,value:a[e].id}}));return[{items:n,text:$.__("All Projects"),type:"group",key:"projects"}]}function te(e,t){return!!e&&r.Z.tz(e.end,e.timezone).isAfter(t)}function ae(e){if(typeof e==="string"&&e.indexOf("-")>-1){const t=e.split("-");return t}return[e,null]}function ne(e,t){if(e===null){return{projectId:null,projectName:null,taskId:null,taskName:null}}const{byId:a}=t;const[n,s]=ae(e);if(n&&s){return{projectId:a[n].id,projectName:a[n].name,taskId:a[n].tasks.byId[s].id,taskName:a[n].tasks.byId[s].name}}return{projectId:a[e].id,projectName:a[e].name,taskId:null,taskName:null}}function se(e,t,a){if(t&&a){return`${t}  ${a}`}if(t){return t}return e[0].text}function ie(e,t){let a=null;if(e&&t){a=`${e}  ${t}`}else if(e){a=e}return a}function oe(e,t){const a=(0,r.Z)(e,"YYYY-MM-DD");const n=(0,r.Z)(t,"YYYY-MM-DD");const s=a.isSame(n,"day");const i=a.isSame(n,"month");const o=a.format("MMM D");const l=n.format(i?"D":"MMM D");return s?o:`${o}${l}`}function re(e,t){let[a,n]=e;let[s,i]=t;const o=e=>Math.PI/180*e;const r=(e,t)=>Math.PI/180*(e-t);const l=6371;const c=r(s,a);const d=r(i,n);a=o(a);s=o(s);const u=Math.pow(Math.sin(c/2),2)+Math.pow(Math.sin(d/2),2)*Math.cos(a)*Math.cos(s);const h=2*Math.asin(Math.sqrt(u));let p=l*h;p*=1e3;return p}},81901:(e,t)=>{"use strict";const a={terminateEmployee:{url:"/modals/terminate-employee",title:"Terminate Employee"},rehireEmployee:{url:"/modals/rehire-employee",title:"Rehire Employee"},addEmploymentStatus:{url:"/modals/employment-status/add",title:"Employment Status - Add"},editEmploymentStatus:{url:"/modals/employment-status/edit",title:"Employment Status - Edit"},deleteEmploymentStatus:{url:"/modals/employment-status/delete",title:"Employment Status - Delete"},addCompensation:{url:"/modals/compensation/add",title:"Compensation - Add"},editCompensation:{url:"/modals/compensation/edit",title:"Compensation - Edit"},deleteCompensation:{url:"/modals/compensation/delete",title:"Compensation - Delete"},addJobInformation:{url:"/modals/job-information/add",title:"Job Information - Add"},editJobInformation:{url:"/modals/job-information/edit",title:"Job Information - Edit"},deleteJobInformation:{url:"/modals/job-information/delete",title:"Job Information - Delete"},addBonus:{url:"/modals/bonus/add",title:"Bonus - Add"},editBonus:{url:"/modals/bonus/edit",title:"Bonus - Edit"},deleteBonus:{url:"/modals/bonus/delete",title:"Bonus - Delete"},addCommission:{url:"/modals/commission/add",title:"Commission - Add"},editCommission:{url:"/modals/commission/edit",title:"Commission - Edit"},deleteCommission:{url:"/modals/commission/delete",title:"Commission - Delete"},addDependent:{url:"/modals/dependent/add",title:"Dependent - Add"},editDependent:{url:"/modals/dependent/edit",title:"Dependent - Edit"},deleteDependent:{url:"/modals/dependent/delete",title:"Dependent - Delete"},addBenefitClass:{url:"/modals/benefit-class/add",title:"Benefit Class - Add"},editBenefitClass:{url:"/modals/benefit-class/edit",title:"Benefit Class - Edit"},deleteBenefitClass:{url:"/modals/benefit-class/delete",title:"Benefit Class - Delete"},addEarnings:{url:"/modals/earnings/add",title:"Earnings - Add"},editEarnings:{url:"/modals/earnings/edit",title:"Earnings - Edit"},deleteEarnings:{url:"/modals/earnings/delete",title:"Earnings - Delete"},addVisa:{url:"/modals/visa/add",title:"Visa - Add"},editVisa:{url:"/modals/visa/edit",title:"Visa - Edit"},deleteVisa:{url:"/modals/visa/delete",title:"Visa - Delete"},addCard:{url:"/modals/credit-card/add",title:"Credit Card - Add"},editCard:{url:"/modals/credit-card/edit",title:"Credit Card - Edit"},deleteCard:{url:"/modals/credit-card/delete",title:"Credit Card - Delete"},addPassport:{url:"/modals/passport/add",title:"Passport - Add"},editPassport:{url:"/modals/passport/edit",title:"Passport - Edit"},deletePassport:{url:"/modals/passport/delete",title:"Passport - Delete"},addDriverLicense:{url:"/modals/driver-license/add",title:"Driver License - Add"},editDriverLicense:{url:"/modals/driver-license/edit",title:"Driver License - Edit"},deleteDriverLicense:{url:"/modals/driver-license/delete",title:"Driver License - Delete"},addAsset:{url:"/modals/asset/add",title:"Assets - Add"},editAsset:{url:"/modals/asset/edit",title:"Assets - Edit"},deleteAsset:{url:"/modals/asset/delete",title:"Assets - Delete"},addStockOption:{url:"/modals/stock-option/add",title:"Stock Options - Add"},editStockOption:{url:"/modals/stock-option/edit",title:"Stock Options - Edit"},deleteStockOption:{url:"/modals/stock-option/delete",title:"Stock Options - Delete"},addCertification:{url:"/modals/certification/add",title:"Certification - Add"},editCertification:{url:"/modals/certification/edit",title:"Certification - Edit"},deleteCertification:{url:"/modals/certification/delete",title:"Certification - Delete"}};function n(e){let t=window.dataLayer;if(!t){console.error("The virtual page viewer does not have access to the Google Tag Manager dataLayer variable.");return false}t.push({event:"Virtual Pageview",virtualPageURL:`/virtual${e.url}`.replace(/\/{2,}/,"/"),virtualPageTitle:e.title})}function s(e){let t=a[e];if(!t){console.error(`No virtual modal page view with a type of ${e} was found.`);return false}n(t)}let i={modal:s};t["Z"]=i},42579:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});function n(){return Promise.resolve({companyCountryId:a.g.GLOBAL_COMPANY_COUNTRY_ID,companyLogo:a.g.GLOBAL_COMPANY_LOGO,isTrial:a.g.GLOBAL_IS_TRIAL==="true",...a.g.SESSION_COMPANY})}},10047:(e,t,a)=>{"use strict";var n=a(8575);var $=a(26570);const s="/calendar";function i(e,t){const a=$.get(`${s}/time_off/${e}/${t}`);return(0,n.m)($.when(a),a)}function o(e,t){const a=$.get(`${s}/holidays/${e}/${t}`);return(0,n.m)($.when(a),a)}function r(e,t){const a=$.get(`${s}/birthdays/${e}/${t}`);return(0,n.m)($.when(a),a)}function l(e,t){const a=$.get(`${s}/anniversaries/${e}/${t}`);return(0,n.m)($.when(a),a)}function c(e){return $.get(`/time_off/requests/${e}/balance_details`)}function d(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const a={option:e,...t};const i=$.post(`${s}/employee/filter`,a);return(0,n.m)($.when(i),i)}function u(e){const t=$.post(`${s}/period`,{period:e});return(0,n.m)($.when(t),t)}function h(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const t=e.reduce(((e,t)=>({...e,[t.filterKey]:t.selected})),{});const a=$.post(`${s}/menu/filters`,t);return(0,n.m)($.when(a),a)}function p(e,t){const a={id:e,action:t,name:"time_off_request",ajax:true};return $.post("/inbox/details.php",a)}t["ZP"]={getCompanyTimeOff:i,getCompanyHolidays:o,getCompanyBirthdays:r,getCompanyAnniversaries:l,getTimeOffRequestBalanceDetails:c,postEmployeeFilters:d,postPeriod:u,postFilters:h,postApproveOrDenyRequest:p}},77827:(e,t,a)=>{"use strict";a.d(t,{eB:()=>l,cT:()=>r});var n=a(17842);var s=a.n(n);const i="/files/post_upload_url";async function o(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new FormData;const{data:{fileInfo:t,formInputs:a,url:n}}=await s().get(i);Object.entries(a).forEach((t=>{let[a,n]=t;return e.append(a,n)}));return{url:n,fileId:t,formData:e}}var $=a(26570);async function r(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{fileId:a,formData:n,url:i}=t.fileUploadInfo||await o();n.append("x-amz-meta-file-name",encodeURIComponent(e.name));n.append("file",e);await s().post(i,n,t.ajaxConfig);return{fileId:a}}async function l(e,t){const{fileId:a,formData:n,url:s}=e?{fileId:undefined,formData:t,url:e}:await o();return{fileId:a,uploadFile:(e,t)=>{n.append("x-amz-meta-file-name",encodeURIComponent(e.name));n.append("file",e);return $.ajax({url:s,type:"post",contentType:false,processData:false,data:n,dataType:"json",...t})}}}},39454:(e,t,a)=>{"use strict";var n=a(64624);var s=a.n(n);var i=a(84479);var o=a.n(i);var r=a(17842);var l=a.n(r);const c=(0,i.createLogger)("Nudge");let d=null;function u(){return new Promise(((e,t)=>{if(d&&d.connection.state==="connected"){e(d);return}d=new(s())(window.PUSHER_AUTH_KEY,{cluster:window.PUSHER_CLUSTER,forceTLS:true,authEndpoint:"/pusher/auth",auth:{headers:{"X-CSRF-Token":window.CSRF_TOKEN}}});d.connection.bind("connected",(()=>{e(d)}));d.connection.bind("unavailable",t);d.connection.bind("failed",t);d.connection.bind("disconnected",t)})).catch((e=>Promise.reject("Connection to external service failed...")))}function h(e){return l().get("/broadcast/channels?"+m(e)).then((e=>e.data)).catch((e=>Promise.reject("Getting channels failed...")))}function p(e){if(typeof e==="object"){const{channel:t,events:a}=e;return typeof t==="string"&&t.trim().length>0&&typeof a==="object"&&Object.keys(a).length>0}return false}function m(e){const t=new FormData;e.forEach(((e,a)=>{let{channel:n,subjectId:s}=e;t.append(`channels[${a}]`,n);t.append(`subjectIds[${a}]`,s)}));return new URLSearchParams(t).toString()}function f(e,t){const a=[];const n=[];for(let s=0;s<e.length;s++){const i=e[s];(t(i)?a:n).push(i)}return[a,n]}function g(e,t,a){const{channel:n,originalChannel:s,subjectId:i}=a;return{channel:s,subjectId:i,unsubscribe:()=>e.unsubscribe(n),on(e,a){if(!e||!a){return}t.bind(e,a)},off(e,a){t.unbind(e,a)}}}function v(e){document.addEventListener("AppSession:expired",(()=>{e.disconnect()}),{once:true})}function y(e){document.addEventListener("AppSession:csrfChanged",(()=>{d.config.auth.headers["X-CSRF-Token"]=window.CSRF_TOKEN;e.forEach((e=>{b(e)}))}),{once:true})}async function b(e){if(!Array.isArray(e)){e=[e]}const[t,a]=f(e,p);if(a.length){c.warn("Invalid connection objects were passed in. They have been ignored:",...a)}if(!t){return Promise.reject("No valid connection objects were used...")}const n=t.reduce(((e,t)=>{if(!e[t.channel]){e[t.channel]={}}e[t.channel][t.subjectId]=t;return e}),{});const s=await u();const i=await h(t);const o=i.map((e=>{const{originalChannel:t,subjectId:a}=e;const i=n[t][a].events;const o=s.subscribe(e.channel);Object.keys(i).forEach((e=>{o.bind(e,(()=>i[e]()))}));return g(s,o,e)}));v(s);y(t);return{connections:o,find(e,t){return o.find((a=>a.channel===e&&a.subjectId===t))}}}t["Z"]={subscribe:b}},20983:(e,t,a)=>{"use strict";a.d(t,{Z6:()=>i});function n(e,t){const a=[...e];const n=[...t];e.forEach(((e,t)=>{const s=a.indexOf(e);const i=n.indexOf(e);if(i>=0){a.splice(s,1);n.splice(i,1)}}));return[...a,...n]}function s(e,t){const a=e.name.toUpperCase();const n=t.name.toUpperCase();if(a<n){return-1}if(a>n){return 1}return 0}function i(e,t){const a=[];const n=[];for(let s=0;s<e.length;s++){const i=e[s];(t(i)?a:n).push(i)}return[a,n]}},38592:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{Dom:()=>_utils_dom__WEBPACK_IMPORTED_MODULE_7__,Form:()=>Form_util__WEBPACK_IMPORTED_MODULE_17__.ZP,History:()=>_utils_url_history__WEBPACK_IMPORTED_MODULE_9__,Image:()=>Image_util__WEBPACK_IMPORTED_MODULE_14__,Mediator:()=>Mediator_util__WEBPACK_IMPORTED_MODULE_15__.Z,Rect:()=>Rect_util__WEBPACK_IMPORTED_MODULE_16__.Z,XPath:()=>XPath,addClass:()=>addClass,allValuesEqual:()=>allValuesEqual,callFunctionQueue:()=>callFunctionQueue,canEmailFilesAndReports:()=>canEmailFilesAndReports,canUseLocalStorage:()=>_utils_localstorage__WEBPACK_IMPORTED_MODULE_6__.canUseLocalStorage,diffStrings:()=>diffStrings,elementHasClass:()=>elementHasClass,env:()=>env,eventTrack:()=>eventTrack,executeFunction:()=>executeFunction,extendURL:()=>_utils_url__WEBPACK_IMPORTED_MODULE_8__.extendURL,fnResult:()=>fnResult,formatCurrencyPercentToggle:()=>formatCurrencyPercentToggle,getArrayString:()=>getArrayString,getAttrs:()=>getAttrs,getBrandColor:()=>getBrandColor,getCurrentScript:()=>getCurrentScript,getExtFromFileName:()=>getExtFromFileName,getFabricBrandColor:()=>getFabricBrandColor,getFabricNonBrandColor:()=>getFabricNonBrandColor,getFileTypeFromExt:()=>getFileTypeFromExt,getFileTypeIconColor:()=>getFileTypeIconColor,getFileTypeIconFromExt:()=>getFileTypeIconFromExt,getFormData:()=>getFormData,getIconNameFromFileName:()=>getIconNameFromFileName,getJsonScriptVar:()=>getJsonScriptVar,getMaxZIndex:()=>_utils_dom__WEBPACK_IMPORTED_MODULE_7__.getMaxZIndex,getParameterByName:()=>_utils_url__WEBPACK_IMPORTED_MODULE_8__.getParameterByName,getRelativePosition:()=>getRelativePosition,getScriptConfig:()=>getScriptConfig,hasClass:()=>hasClass,hasFocusedElement:()=>hasFocusedElement,hasHtml:()=>hasHtml,hasTrax:()=>hasTrax,highlightTermInMarkup:()=>highlightTermInMarkup,htmldecode:()=>String_util__WEBPACK_IMPORTED_MODULE_5__.kB,htmlentities:()=>String_util__WEBPACK_IMPORTED_MODULE_5__.H$,humanFileSize:()=>humanFileSize,isJQueryPromise:()=>isJQueryPromise,isJquery:()=>isJquery,isJqueryElement:()=>isJqueryElement,isPromise:()=>isPromise,isSvg:()=>isSvg,isWidthBelowSupportedMinWidth:()=>isWidthBelowSupportedMinWidth,jQueryFabTableSorter:()=>jQueryFabTableSorter,makeUid:()=>makeUid,objContains:()=>objContains,ordinal:()=>ordinal,prefetch:()=>prefetch,printDiv:()=>printDiv,queryStringToObject:()=>_utils_url__WEBPACK_IMPORTED_MODULE_8__.queryStringToObject,redirect:()=>redirect,removeClass:()=>removeClass,sanitizeHtml:()=>sanitizeHtml,sanitizeSvg:()=>sanitizeSvg,setupWrappers:()=>setupWrappers,toArray:()=>toArray,toCamelCase:()=>toCamelCase,toPascalCase:()=>toPascalCase,toQueryString:()=>_utils_url__WEBPACK_IMPORTED_MODULE_8__.toQueryString,triggerEvent:()=>triggerEvent,ucfirst:()=>ucfirst,validateEmail:()=>_utils_validation_rules__WEBPACK_IMPORTED_MODULE_10__.validateEmail,waitUntilReady:()=>waitUntilReady,when:()=>when});var moment_lib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(51341);var lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(73641);var lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);var decimal_js_light__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19969);var decimal_js_light__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(decimal_js_light__WEBPACK_IMPORTED_MODULE_2__);var leven__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(33078);var leven__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(leven__WEBPACK_IMPORTED_MODULE_3__);var _bamboohr_utils_lib_feature__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(56445);var _bamboohr_utils_lib_feature__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_bamboohr_utils_lib_feature__WEBPACK_IMPORTED_MODULE_4__);var String_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(78144);var _utils_localstorage__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(89100);var _utils_localstorage__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_utils_localstorage__WEBPACK_IMPORTED_MODULE_6__);var _utils_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(21198);var _utils_dom__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_utils_dom__WEBPACK_IMPORTED_MODULE_7__);var _utils_url__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(85656);var _utils_url__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_utils_url__WEBPACK_IMPORTED_MODULE_8__);var _bamboohr_fabric_dist_definitions_json_colors_json__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1765);var _bamboohr_fabric_dist_definitions_json_encore_colors_json__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(12403);var _utils_url_history__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(36029);var _utils_url_history__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_utils_url_history__WEBPACK_IMPORTED_MODULE_9__);var _utils_validation_rules__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(30424);var _utils_validation_rules__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_utils_validation_rules__WEBPACK_IMPORTED_MODULE_10__);var Image_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(47129);var Mediator_util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(28513);var Rect_util__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(20907);var Form_util__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(45662);var _bamboohr_fabric__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(89929);var $=__webpack_require__(26570);var jQuery=__webpack_require__(26570);function formatCurrencyPercentToggle(e,t,a,n){let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:window.GLOBAL_THOUSANDS_SEPARATOR;let i=arguments.length>5&&arguments[5]!==undefined?arguments[5]:window.GLOBAL_DECIMAL_CHAR;const o=$(e).data("currency-toggle");const r=$(t);const l=r.val();const c=window.getFloatFromStringJS(l.replace("$","").replace("%",""),s,i);if(o==="$"){r.addClass("currency-field");r.removeClass("percent-field");let e=c;if(a){if(typeof e==="number"&&typeof a==="number"){e=Number(new decimal_js_light__WEBPACK_IMPORTED_MODULE_2__.Decimal(e).toFixed(a))}}if(n){e=Math.abs(e)}r.val(e)}else if(o==="%"){r.removeClass("currency-field");r.addClass("percent-field");let e=c>100?100:c;if(a){if(typeof e==="number"&&typeof a==="number"){e=Number(new decimal_js_light__WEBPACK_IMPORTED_MODULE_2__.Decimal(e).toFixed(a))}}if(n){e=Math.abs(e)}r.val(e)}else{throw new Error(`Invalid Radio Toggle data-currency-toggle value -- must be $ or %, currently set to: ${o}`)}r.blur()}function hasFocusedElement(document){if(!document.activeElement||document.activeElement===document.body){return false}return true}function eventTrack(e,t,a,n){const s=window._gaq||[];window._gaq=s;s.push(["_setAccount","UA-5806974-3"]);s.push(["_trackEvent",e,t,a,n]);if(window.BambooHR.env&&window.BambooHR.env.prod){(function(){const e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=`${document.location.protocol==="https:"?"https://ssl":"http://www"}.google-analytics.com/ga.js`;const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()}}function setupWrappers(e){const t={};const a=Object.keys(e).reduce(((a,n)=>{a[n]={get(){t[n]=t[n]||$(e[n]);return t[n]}};return a}),{});return Object.defineProperties({},a)}function executeFunction(func){if(typeof func==="function"){return func()}const funcReg=/function *\(([^()]*)\)[ \n\t]*{(.*)}/gim;const match=funcReg.exec(func.replace(/\n/g," "));if(match){const e=new Function(match[1].split(","),match[2]);return e()}return eval(func)}function callFunctionQueue(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),s=2;s<a;s++){n[s-2]=arguments[s]}e.forEach((e=>e.call(t||undefined,...n)))}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function elementHasClass(e,t){return` ${e.className} `.includes(` ${t} `)}function getRelativePosition(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(e instanceof jQuery){e=e.get(0)}else if(typeof e==="string"){e=$(e).get(0)}const n=document.getElementsByTagName("HTML")[0].getBoundingClientRect();let s;try{s=e.getBoundingClientRect()}catch(e){console.log("Class Name, DOM or JQuery element required for getRelativePosition(reference)");return false}let i=Math.abs(n.top)+s.top;if(a){i-=parseInt(document.body.style.top||"0")}const o=Math.abs(n.left)+s.left;const r={top:i,bottom:i+s.height,left:o,right:o+s.width,width:s.width,height:s.height};if(r.hasOwnProperty(t)){return r[t]}return r}function allValuesEqual(e,t){const a=t===undefined?e[0]:t;for(let t=0;t<e.length;t++){if(e[t]!==a){return false}}return true}function toPascalCase(e){return(0,lodash__WEBPACK_IMPORTED_MODULE_1__.upperFirst)((0,lodash__WEBPACK_IMPORTED_MODULE_1__.camelCase)(e))}const toCamelCase=lodash__WEBPACK_IMPORTED_MODULE_1__.camelCase;const toArray=lodash__WEBPACK_IMPORTED_MODULE_1__.toArray;function XPath(e){let t;if(typeof document.evaluate!=="undefined"){const a=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null);let n=a.iterateNext();t=[];while(n){t.push(n);n=a.iterateNext()}}return t||[]}function printDiv(e,t){const a="print-only-one-div";const n=document.querySelector(e).innerHTML;const s=document.head||document.getElementsByTagName("head")[0];const i=document.createElement("style");i.type="text/css";const o=t?"flex":"block";const r=document.createElement("div");const l=[`.${a}{display: none;}`,"@media print {",`.${a}{display: ${o};}`,`body >:not(.${a}) {display: none !important;}}`].join("");if(i.styleSheet){i.styleSheet.cssText=l}else{i.appendChild(document.createTextNode(l))}s.appendChild(i);r.innerHTML=n;r.className=a;document.body.appendChild(r);window.print();s.removeChild(i);document.body.removeChild(r)}function hasHtml(e){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){return true}const t=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/.exec(e);return!!(t&&t[1])}function sanitizeHtml(e,t){return _utils_dom__WEBPACK_IMPORTED_MODULE_7__.sanitize(e,{...(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isPlainObject)(t)?t:{},USE_PROFILES:{html:true}})}function sanitizeSvg(e,t){return _utils_dom__WEBPACK_IMPORTED_MODULE_7__.sanitize(e,{...(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isPlainObject)(t)?t:{},USE_PROFILES:{svg:true}})}function humanFileSize(e){const t=1024;if(Math.abs(e)<t){return`${e} B`}const a=["KB","MB","GB","TB","PB","EB","ZB","YB"];let n=-1;do{e/=t;++n}while(Math.abs(e)>=t&&n<a.length-1);return e.toFixed(1)+a[n]}function triggerEvent(e,t){let a;if(document.createEventObject){a=document.createEventObject();return e.fireEvent(`on${t}`,a)}a=document.createEvent("HTMLEvents");a.initEvent(t,true,true);return!e.dispatchEvent(a)}function getExtFromFileName(e){return e.toLowerCase().split(".").pop()}function getFileTypeFromExt(e){switch(getExtFromFileName(e)){case"pdf":return"pdf";case"docx":case"doc":case"docm":case"pages":case"odt":return"doc";case"xls":case"xlsx":case"csv":case"xlsm":case"ods":return"xls";case"ppt":case"key":case"kth":return"ppt";case"txt":case"rtf":return"txt";case"msg":case"eml":return"email";case"htm":case"html":case"url":case"mht":case"webarchive":return"webpage";case"zip":case"rar":return"archive";case"jpg":case"jpeg":case"tif":case"gif":case"png":case"ai":case"eps":case"tiff":case"psd":case"bmp":return"img";default:return"default"}}function getIconNameFromFileName(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"16x20";let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const n=getFileTypeFromExt(e);let s=n;if(a){return`fab-file-esig-${t}`}switch(n){case"pdf":s="pdf";break;case"doc":s="doc";break;case"xls":s="excel";break;case"ppt":s="powerpoint";break;case"txt":s="text";break;case"email":s="mail";break;case"webpage":s="link";break;case"archive":s="zip";break;case"img":s="image";break;default:s="unknown";break}return`fab-file-${s}-${t}`}function getFileTypeIconFromExt(e,t){let a=getFileTypeFromExt(e);if(t==="sm"||t==="lrg"){a+=`-${t}.png`}else{a+=".png"}return a}function getFileTypeIconColor(e){switch(e){case"pdf":return"#C42428";case"doc":return"#0772B3";case"esig":return"#883290";case"xls":return"#3FA146";case"ppt":return"#C36A00";case"txt":case"email":case"webpage":case"archive":case"img":default:return _bamboohr_fabric_dist_definitions_json_colors_json__WEBPACK_IMPORTED_MODULE_11__.colors.gray7}}function highlightTermInMarkup(e,t){const a=$("<div>").html(e);const n=a.find(".js-qsPrimaryText");const s=t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1");const i=n.html()||"";const o=i.replace(new RegExp(`(?![^&;]+;)(?!<[^<>]*)(\\b${s})(?![^<>]*>)(?![^&;]+;)`,"igm"),"<strong>$1</strong>");n.html(o);return a.html()}function addClass(e,t){if(!window.BambooHR.Utils.hasClass(e,t)){if(window.BambooHR.Utils.isSvg(e)){if(e.hasAttribute("class")){e.setAttribute("class",`${e.getAttribute("class")} ${t}`.trim())}else{e.setAttribute("class",t)}}else{e.className=`${e.className} ${t}`.trim()}}}function removeClass(e,t){if(window.BambooHR.Utils.hasClass(e,t)){const a=new RegExp(`(\\s|^)${t}(\\s|$)`);if(window.BambooHR.Utils.isSvg(e)){if(e.hasAttribute("class")){e.setAttribute("class",e.getAttribute("class").replace(a," ").trim())}}else{e.className=e.className.replace(a," ").trim()}}}function hasClass(e,t){if(window.BambooHR.Utils.isSvg(e)){if(e.hasAttribute("class")){return!!e.getAttribute("class").match(new RegExp(`(\\s|^)${t}(\\s|$)`))}return false}return!!e.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`))}function canEmailFilesAndReports(){if(window.CAN_EMAIL_FILES_AND_REPORTS!=="undefined"){return window.CAN_EMAIL_FILES_AND_REPORTS}console.warn("CAN_EMAIL_FILES_AND_REPORTS is not available.")}function isSvg(e){return!!(e instanceof SVGElement)}function ordinal(e){return moment_lib__WEBPACK_IMPORTED_MODULE_0__.Z.localeData().ordinal(e)}function getCurrentScript(e){let t=document.currentScript;if(!t&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isString)(e)&&e.length>0){t=$(`script.${e}:not(.${e}--loaded)`).first().addClass(`.${e}--loaded`)}if(!t){const e=document.getElementsByTagName("script");t=e[e.length-1]}return $(t)}function getScriptConfig(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};e=$(e).first();const n=(e.html()||"").trim()||"{}";let s={};try{s=new Function("defaultConfig","$script",...(0,lodash__WEBPACK_IMPORTED_MODULE_1__.keys)(a),`return (${n});`).call(e[0],t,e,...(0,lodash__WEBPACK_IMPORTED_MODULE_1__.values)(a))}catch(e){console.error(e)}return(0,lodash__WEBPACK_IMPORTED_MODULE_1__.defaults)(s||{},t||{})}function getJsonScriptVar(e,t){const a=$(`script[type="application/json"]#${t}__${e}_json`);const n=a.text().trim();a.remove();return n?JSON.parse(n):null}function getAttrs(e,t){e=$(e)[0];const a={};const n=e?e.attributes:[];(0,lodash__WEBPACK_IMPORTED_MODULE_1__.each)(n,(e=>{if(!t||e.nodeName.match(new RegExp(t,"i"))){a[e.nodeName]=e.value}}));return a}function objContains(e,t){return(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isEqual)((0,lodash__WEBPACK_IMPORTED_MODULE_1__.pick)(e,(0,lodash__WEBPACK_IMPORTED_MODULE_1__.keys)(t)),t)}function getFormData(e){return(0,_utils_url__WEBPACK_IMPORTED_MODULE_8__.queryStringToObject)($(e).serialize())}function redirect(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;const i=new URL(e||"",window.location.href);const o=s&&(0,_utils_localstorage__WEBPACK_IMPORTED_MODULE_6__.canUseLocalStorage)();if(t!==null){i.searchParams.set("__message__",t);if(o){localStorage.setItem("__message__",t)}}if(a!==null){i.searchParams.set("__messageType__",a);if(o){localStorage.setItem("__messageType__",a)}}if(n!==null){i.searchParams.set("__messageTimeout__",n);if(o){localStorage.setItem("__messageTimeout__",n)}}window.location=i.href}const uids=[];function makeUid(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:8;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:36;let a="";while(a==""||!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.includes)(uids,a)){a=(Math.random()+1).toString(t).substr(2,e);uids.push(a)}while(a.length<e){a+=makeUid(e-a.length,t)}return a}function diffStrings(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++){a[n-1]=arguments[n]}if(window.Rollbar&&window.Rollbar.debug){window.Rollbar.debug("Called diffStrings",{a:e,comparisons:a})}let s=2/3;if(typeof(0,lodash__WEBPACK_IMPORTED_MODULE_1__.last)(a)==="number"){s=a.pop()}s=Math.round(s*100)/100;e=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.camelCase)(e);a=a.map(lodash__WEBPACK_IMPORTED_MODULE_1__.camelCase);const i=Math.min(...a.map((t=>leven__WEBPACK_IMPORTED_MODULE_3___default()(e,t))));const o=Math.round(i/e.length*100)/100;const r=o<=s;return{percentDiff:o,characterDiff:i,isMatch:r}}function getBrandColor(){const e=window.document.body.getAttribute("ba-theme");if(!e){return _bamboohr_fabric__WEBPACK_IMPORTED_MODULE_12__.D}return JSON.parse(e)}function getFabricBrandColor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"base";const t=["base","light","lighter","lightest"];const a=getBrandColor();const n={light:a[300],lighter:a[300],lightest:a[100],base:a[500]};if(!t.includes(e)){console.warn("Invalid Fabric variant. Valid options are: base, light, lighter, lightest");e="base"}return n[e]}function getFabricNonBrandColor(e){if(!(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isString)(e)){throw new Error("Invalid input type.")}const{colors:t}=(0,_bamboohr_utils_lib_feature__WEBPACK_IMPORTED_MODULE_4__.ifFeature)("encore",_bamboohr_fabric_dist_definitions_json_encore_colors_json__WEBPACK_IMPORTED_MODULE_13__,_bamboohr_fabric_dist_definitions_json_colors_json__WEBPACK_IMPORTED_MODULE_11__);const a=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.camelCase)(e);const n=t[a];if(!n){console.warn("Invalid Fabric non-brand color name.");return}return n}function when(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return $.when(...t.map((e=>{const t=$.Deferred();if(isJQueryPromise(e)){return e.done(((e,a)=>{if((!e.success||a!=="success")&&e.error&&e.errorMessage){window.setMessage(e.errorMessage,"error");console.error(e.error);t.reject(e)}})).fail((function(){window.setMessage($.__("Uh Oh! There was an error. Please try again or contact BambooHR support."),"error");t.reject(...arguments)}))}t.resolve(e);return t.promise()})))}function isJquery(e){return e instanceof jQuery&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isString)(e.selector)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isString)(e.jquery)&&e.jquery===$.fn.jquery}function isJQueryPromise(e){return(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isPlainObject)(e)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.always)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.done)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.fail)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.pipe)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.progress)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.promise)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.state)&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e.then)}function isPromise(e){return isJQueryPromise(e)||e instanceof Promise}function isJqueryElement(e){return isJquery(e)&&e.length>0&&(0,lodash__WEBPACK_IMPORTED_MODULE_1__.isElement)(e[0])}function fnResult(e,t){if((0,lodash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(e)){for(var a=arguments.length,n=new Array(a>2?a-2:0),s=2;s<a;s++){n[s-2]=arguments[s]}return t?e.apply(t,n):e(...n)}return e}const{env}=window.BambooHR;const prefetchedUrls={};function prefetch(e,t){if(!prefetchedUrls.hasOwnProperty(e)){prefetchedUrls[e]={content:null,callbacks:typeof t==="undefined"?[]:[t]};$.get(e,(t=>{prefetchedUrls[e].content=t;prefetchedUrls[e].callbacks.forEach((e=>e(t)))}))}else if(typeof t!=="undefined"){if(prefetchedUrls[e].content===null){prefetchedUrls[e].callbacks.push(t)}else{t(prefetchedUrls[e].content)}}}function getArrayString(e){return`["${e.join('", "')}"]`}function waitUntilReady(e,t){const a=1e4;const n=1e3;const s=100;const i=(new Date).getTime();if(!e()){const o=setInterval((()=>{const s=(new Date).getTime()-i;const r=s>=a;if(r){window.Rollbar.error("The waitUntilReady util function timed out when testing this function",{testFunc:e})}if(r||e()){if(!r&&s>=n){window.Rollbar.warning(`The waitUntilReady util function took longer than ${n}ms to resolve.`,{timePassed:s})}clearInterval(o);t()}}),s);return}t()}function jQueryFabTableSorter(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[[0,0]];e.tablesorter({sortList:t,onRenderHeader(e,t){const a=$(this);if(!this[0].classList.contains("noSort")){a.addClass("fab-Table__header--sortable").wrapInner("<span></span>")}},headers:{0:{sorter:"text"}}});e.bind("sortEnd",(function(e,t){const a=Array.from(this.querySelectorAll(".fab-Table__header"));a.forEach((e=>{const t=e.querySelector("span");if(t){if(e.classList.contains("sort-descending")){t.className="fab-Table__sorted fab-Table__sorted--dsc"}else if(e.classList.contains("sort-ascending")){t.className="fab-Table__sorted fab-Table__sorted--asc"}else{t.className=""}}}))}))}function isWidthBelowSupportedMinWidth(){return window.innerWidth<1124}function hasTrax(){return!!window.companyHasTrax||!!window.hasTrax||false}},17309:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});class n{static get className(){return"StopWatch"}constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;this.accuracy=e;this.ms=0;this.running=false;this._startTime=null;this._timer=null;this._watchers=[]}_requestTick(e){this._timer=setTimeout((()=>{this._tick()}),e)}_tick(){const e=(new Date).getTime();this.ms=e-this._startTime;const t=Math.floor(this.ms/this.accuracy);const a=t*this.accuracy;const n=this.ms-a;const s=this.accuracy-n;this._watchers.forEach((e=>{const t=Math.floor(this.ms/e.amount);if(t!==e._count){e._count=t;e.cb(this.ms)}}));this._requestTick(s)}_addWatcher(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Function.prototype;let a=Math.floor(this.ms/e);this._watchers.push({amount:e,cb:t,_count:a})}start(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(this.running){return this}this._watchers.forEach((t=>{t._count=Math.floor(e/t.amount)}));this._startTime=(new Date).getTime()-e;this._requestTick(this.accuracy);this.running=true;return this}stop(){if(!this.running){return this}clearTimeout(this._timer);this._watchers.forEach((e=>{e._count=0}));this.running=false;return this}every(e,t){this._addWatcher(e,t);return this}everySecond(e){this._addWatcher(1e3,e);return this}everyMinute(e){this._addWatcher(6e4,e);return this}}},67572:(e,t,a)=>{"use strict";a.d(t,{l:()=>s,w:()=>n});function n(e){if(!e){return 0}const t=e.toString().trim().replace(/[^\d.,'\s]/g,"");const a=t.split(/\s+/);if(a.length===2&&/^\d+$/.test(a[1])){const e=a[0].replace(/\D/g,"");const t=a[1];return parseFloat(`${e}.${t}`)}const n=/,\d{1,3}$/.test(t)||t.includes(",")&&(t.match(/\./g)||[]).length>1;const s=n?t.replace(/[.\s']/g,"").replace(",","."):t.replace(/[, ']/g,"");const i=parseFloat(s);return isNaN(i)?0:i}function s(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"$";if(t!=="$"){return e}const a=/^(\d*,*\d*)(\.(\d*)){0,1}$/.exec(e.replace(t,""));if(a){if(a[3]&&a[3].length===2){return e}if(!a[2]){return`${e}.00`}if(a[2].length===1){return`${e}00`}if(a[3].length===1){return`${e}0`}}return e}},76725:(e,t,a)=>{"use strict";a.d(t,{L:()=>s,V:()=>n});function n(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=null;const n=document.querySelector(e);if(n!==null){try{a=JSON.parse(n.textContent)}catch(e){console.warn(`What?!!! -> You passed in some bad joojoo. ${e}`);return false}if(!t){n.parentNode.removeChild(n)}}return a}function s(e){try{return JSON.parse(e)}catch(t){return e}}},54417:(e,t,a)=>{"use strict";a.d(t,{T:()=>s,Z:()=>i});var n=a(51341);function s(e,t){const a=o(e);const n=o(t);return n.diff(a,"day")}function i(e,t){const a=o(e);const n=o(t);return n.diff(a,"year")}function o(e){if(e&&(0,n.Z)(e,"YYYY-MM-DD",true).format("YYYY-MM-DD")!==e){e=(0,n.Z)(e).format("YYYY-MM-DD")}return(0,n.Z)(e,"YYYY-MM-DD")}},71141:(e,t,a)=>{"use strict";a.r(t);a.d(t,{encoreEnabled:()=>i,isEnabled:()=>n,isSetEnabled:()=>s});function n(e){const{featureToggles:t=""}=document.body.dataset;return!!(e&&typeof e==="string"&&t.split(/\s+/g).includes(e))}function s(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return!!t.length&&!t.map((e=>n(e))).includes(false)}function i(){return document.getElementsByTagName("body")[0]?.dataset?.fabricTheme==="encore"}},45662:(e,t,a)=>{"use strict";a.d(t,{BB:()=>c,Eq:()=>o,Nh:()=>s,VT:()=>d,Zd:()=>u,ak:()=>l});var $=a(26570);function n(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{type:"json"};e=$(e);if(e.attr("submitting")=="true"){return}const a=e[0];const n=e.attr("action");const i=s(a);i.CSRFToken=window.CSRF_TOKEN;e.attr("submitting","true");setTimeout((()=>{e.removeAttr("submitting")}),3e3);return $.post(n,i,null,t.type).promise()}function s(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{excludeHidden:false};const a=Array.prototype.slice.call(e.querySelectorAll("input, textarea, select"));return a.reduce(((e,a)=>{let n;if(!a.name||a.type==="hidden"&&t.excludeHidden){return e}if(a.type==="checkbox"||a.type==="radio"){if(a.checked){n=a.value}}else if(a.type==="select-one"){n=a.selectedIndex>=0?a.options[a.selectedIndex].value:null}else if(a.type==="select-multiple"){n=[].slice.call(a.options).reduce(((e,t)=>{if(t.selected){e.push(t.value)}return e}),[])}else{n=a.value}if(n!==undefined){e[a.name]=n}return e}),{})}function i(e,t){const a=Array.prototype.slice.call(e.querySelectorAll("input, textarea, select"));a.forEach((e=>{if(!e.name||!t[e.name]||e.type==="button"){return}if(e.type==="checkbox"||e.type==="radio"){e.checked=t[e.name]}else if(e.type==="select-one"){[].slice.call(e.options).forEach((a=>{if(a.value==t[e.name]){a.selected=true;$(e).trigger("liszt:updated")}}))}else if(e.type==="select-multiple"){[].slice.call(e.options).forEach((a=>{const n=t[e.name];if(n.indexOf(a.value)>-1){a.selected=true;$(e).trigger("liszt:updated")}}))}else{e.value=t[e.name]}}))}function o(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;$.each(e,(function(e,n){if(a){$(t).find("input[name*="+n+"]").addClass("fab-TextInput--error");$(t).find("ba-select.js-"+n).attr("error","true");$(t).find("ba-select#"+n).attr("error","true")}else{$(t).find("select[name="+n+"]").closest(".fieldBox").addClass("error");$(t).find("input[name*="+n+"]").closest(".fieldBox").addClass("error")}}))}function r(e){if(e.closest(".js-PowerEditIndividual").length>0){const t=e.closest(".fab-Table__row");const a=t.find(".js-pay-schedule ba-option:selected");const n=a.length>0?Number.parseInt(a[0].value):null;const s=t.find(".js-employeeName").data("employeeid");return{employeeId:s,payScheduleId:n}}return{employeeId:Number.parseInt($(".js-PowerEditGroup").data("employee-id-in-syncing-pay-schedule"))}}function l(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const a=e.closest(".js-PowerEditForm").length>0;const{employeeId:n="0",isOnboardingUser:s=false}=window.SESSION_USER;if(a&&!t){return r(e)}if(s){return{employeeId:Number.parseInt(n),payScheduleId:null}}const{Employee:i={id:undefined}}=window;const o=$(".js-paySchedule ba-option:selected");const l=o.length>0?Number.parseInt(o[0].value):null;return{employeeId:i.id,payScheduleId:l}}function c(){document.dispatchEvent(new CustomEvent("SiteFooterActions:startProcessing"))}function d(){document.dispatchEvent(new CustomEvent("SiteFooterActions:endProcessing"))}function u(){window.formChanged=true}t["ZP"]={ajaxSubmit:n,getFormPayRollDetails:l,getPowerEditPayRollDetails:r,highlightErrorFields:o,populateForm:i,serializeForm:s}},26871:(e,t,a)=>{"use strict";a.d(t,{P:()=>i,s:()=>o});var n=a(85656);var s=a.n(n);function i(e,t){const a=t?(0,n.extendURLDeep)(e):(0,n.extendURL)(e);window.history.replaceState(null,null,a)}function o(e){const t=(0,n.deleteParams)(e);window.history.replaceState(null,null,t)}},47129:(e,t,a)=>{"use strict";a.r(t);a.d(t,{clipPath:()=>s});var $=a(26570);let n=0;function s(e,t){for(let a=0;a<e.length;a++){n++;const s=t;const i=$(e[a]).attr("src");const o=$(e[a]).outerWidth();const r=$(e[a]).outerHeight();const l=$(e[a]).attr("alt");const c=$(`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="svgMask" width="${o}" height="${r}" viewBox="0 0 ${o} ${r}"><defs><clipPath id="maskID${n}">${s}</clipPath>  </defs><desc>${l}</desc><image clip-path="url(#maskID${n})" width="${o}" height="${r}" xlink:href="${i}" /></svg>`);$(e[a]).replaceWith(c)}}},28513:(e,t,a)=>{"use strict";var n=a(44119);class s{constructor(){(0,n.Z)(this,"channels",{})}static get className(){return"Mediator"}subscribe(e,t,a){let n=false;if(!this.channels[e]){this.channels[e]=[]}this.channels[e].forEach((e=>{if(e.callback.toString()===t.toString()){n=true;return false}}));if(!n){this.channels[e].push({context:a||window,callback:t})}return this}publish(e){if(!this.channels[e]){return false}const t=Array.prototype.slice.call(arguments,1);for(let a=0,n=this.channels[e].length;a<n;a++){const n=this.channels[e][a];try{n.callback.apply(n.context,t)}catch(t){console.log(`subscription error when calling: BambooHR.Utils.Mediator.publish('${e}')`);console.log({subscription:n});throw t}}return this}installTo(e){e.channels={};e.subscribe=this.subscribe;e.publish=this.publish}}t["Z"]=new s},18669:(e,t,a)=>{"use strict";a.d(t,{Q0:()=>i,VR:()=>s,wG:()=>n});function n(e){return Number(String(e).replace(/0+$/,""))}function s(e){return String(e).replace(".",window.GLOBAL_DECIMAL_CHAR)}function i(e){const t=e+1;const a=t%26;let n=t/26|0;const s=a?String.fromCharCode(64+a):(n--,"Z");return n?i(n)+s:s}},33098:(e,t,a)=>{"use strict";a.d(t,{_:()=>n});function n(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}},20907:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});class n{static get className(){return"Rect"}static intersects(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height}static contains(e,t){return e.left<=t.left&&e.left+e.width>=t.left+t.width&&e.top<=t.top&&e.top+e.height>=t.top+t.height}static distance(e,t){const a=t.x<e.left?e.left-t.x:Math.max(t.x-(e.left+e.width),0);const n=t.y<e.top?e.top-t.y:Math.max(t.y-(e.top+e.height),0);return Math.sqrt(a*a+n*n)}static grow(e,t){const a={};const n=t/2;if("height"in e){a.height=e.height+t}if("width"in e){a.width=e.width+t}if("left"in e){a.left=e.left-n}if("right"in e){a.right=e.right+n}if("top"in e){a.top=e.top-n}if("bottom"in e){a.bottom=e.bottom+n}return a}}},48578:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});function n(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++){t[a]=arguments[a]}return Promise.all(t).then((e=>{let t={ready:true};e.forEach((e=>{t={...t,...e}}));s(t);return t}))}function s(e){const t=document.querySelector("body");t.dataset.screenshot=JSON.stringify(e)}},78144:(e,t,a)=>{"use strict";a.d(t,{H$:()=>l,Ho:()=>u,Jk:()=>h,b0:()=>d,bB:()=>m,dN:()=>i,j6:()=>r,kB:()=>c,wU:()=>f});var n=a(73641);var s=a.n(n);function i(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if((0,n.isString)(e)){e=o(e)}e=Number(e);if((0,n.isNil)(e)||isNaN(e)){throw new Error("Invalid value supplied")}return e.toLocaleString(undefined,{minimumFractionDigits:2})}function o(e){if(!(0,n.isString)(e)){throw new Error("Invalid value supplied")}const t=e.startsWith("-");let a=e.replace(/[^\d\.]/g,"");a=`${t?"-":""}${a}`;return a}function r(e){return e.replace(/(^\s+|\s+$)/gm,"")}function l(e){return(0,n.escape)(e)}function c(e){return(0,n.unescape)(e)}function d(e){const t=/&(?!(?:apos|quot|[gl]t|amp);|#)/g;e=e.replace(t,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#x27;");return e}function u(e){return e.replace(/\\(u00|x)([0-9A-F]{2})/gi,((_,$,e)=>String.fromCharCode(parseInt(e,16))))}function h(e){const t=document.createElement("div");const a=/&.{1,7}\b;/g;const n=e.matchAll(a);let s=n.next();let i=e;while(!s.done){const e=s.value[0];t.innerHTML=e;i=i.replace(e,t.textContent);s=n.next()}return i}function p(e,t){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t;if(e.length<2){return e[0]}if(e.length===2){return e.join(a)}const n=e.slice(0,-1).join(t);const s=e.slice(-1);return[n,s].join(a)}function m(e,t){if(typeof e!=="string"||!Array.isArray(t)){return false}for(const a of t){if(!e.includes(a)){return false}}return true}function f(e){const t=/^\d{5}(-\d{4})?$/;return t.exec(e)!==null}},68618:(e,t,a)=>{"use strict";a.d(t,{Gv:()=>c,LP:()=>d,c7:()=>r,o4:()=>u,pe:()=>h,yM:()=>l});var n=a(73641);var s=a.n(n);var i=a(89100);var o=a.n(i);var $=a(26570);function r(){if(!(0,n.isUndefined)(window.CSRF_TOKEN)){l();$.ajaxSetup({beforeSend(e,t){if(t.crossdomain){return}if(t.type!="GET"){e.setRequestHeader("X-CSRF-Token",window.CSRF_TOKEN)}}})}}function l(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"form";if(!(0,n.isUndefined)(window.CSRF_TOKEN)){$(e).each(((e,t)=>{const a=$(t);const n=a.attr("method")||"";const s=a.find(":input[name=CSRFToken]");if(s.length===0&&n.toLowerCase()==="post"){a.append(`<input type="hidden" name="CSRFToken" value="${window.CSRF_TOKEN}">`)}else if(s.length&&n.toLowerCase()!=="post"){s.remove()}}))}}function c(e){let t=0;let a;let n;if(e.length===0){return t}for(a=0,n=e.length;a<n;a++){t=(t<<5)-t+e.charCodeAt(a);t|=0}return t}function d(){return window.CSRF_TOKEN}function u(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const a=window.CSRF_TOKEN;window.CSRF_TOKEN=e;if((0,i.canUseLocalStorage)()){h(e,t)}$('input[name="CSRFToken"]').val(window.CSRF_TOKEN);if(e!=a){document.dispatchEvent(new CustomEvent("AppSession:csrfChanged"))}}function h(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!(0,i.canUseLocalStorage)()){throw new Error("Cannot set hashed token. Local Storage is unavailable.")}const a=`hashed_token${t?"_onboarding":""}`;window.localStorage.setItem(a,c(e).toString())}},12382:(e,t,a)=>{"use strict";a.d(t,{K:()=>i,u:()=>s});const n={"dd MMM YYYY":"dd MMM yyyy","dd/mm/yyyy":"dd/MM/yyyy","mm/dd/yyyy":"MM/dd/yyyy","yyyy-mm-dd":"yyyy-MM-dd"};function s(){return n[window.GLOBAL_DATE_MASK]}function i(){return document.querySelector("html")?.getAttribute("lang")}},13216:(e,t,a)=>{"use strict";a.d(t,{M:()=>i});var n=a(19969);var s=a.n(n);function i(e){if(e===undefined){return undefined}if(e===null){return new(s())(0)}if(Number.isNaN(e)){return undefined}if(Array.isArray(e)){if(e.length===0){return new(s())(0)}if(e.length>1){return undefined}const t=e[0];if(t===undefined){return new(s())(0)}return i(t)}if(!Array.isArray(e)&&e!==null&&typeof e==="object"){return undefined}if(e===false){return new(s())(0)}if(e===true){return new(s())(1)}if(typeof e==="string"&&e.trim()===""){return new(s())(0)}try{return new(s())(e)}catch{return undefined}}},41201:(e,t,a)=>{"use strict";a.d(t,{yG:()=>E,n$:()=>h,Sv:()=>C,s7:()=>p,hP:()=>m,uW:()=>l,pK:()=>g,_c:()=>c,m1:()=>b,NC:()=>w,uf:()=>d});var n=a(73641);function s(e){const{esignatures:t}=e;return c(e)&&t.completed}function i(e){const{company_file_data:t,employee_file_data:a,esignatures:s}=e;if(c(e)&&(0,n.isNil)(a)&&(0,n.isNil)(t)){return true}return c(e)&&(typeof a==="object"&&!(0,n.isNil)(a.id)&&a.can_see_file||typeof t==="object"&&!(0,n.isNil)(t.id)&&t.can_see_file)}function o(e){const{workflow_instance_id:t}=e;return c(e)&&t!==undefined}function r(e){const{esignatures:t}=e;return c(e)&&t.cancelled}function l(e){const{esignatures:t}=e;return c(e)&&(t.completed||t.employee_has_signed)}function c(e){const{esignatures:t,is_esignature_template:a}=e;return!(0,n.isNil)(a)&&a==="yes"&&!(0,n.isNil)(t)&&t.setup_complete}function d(e){const{esignatures:t,required:a}=e;return c(e)&&a&&t.employee_has_signed&&!t.completed}var u=a(38592);function h(e){const t=c(e);const a=(0,u.getIconNameFromFileName)(e.original_file_name,"16x20",t);return{isEsig:t,isComplete:l(e),waitingOnSig:d(e),file_id:f(e),icon:a,name:e.name}}function p(e,t){let a;const{can_generate_preview:s,can_see_file:i,employee_file_data:o,esignatures:r,esignature_template_id:l,company_file_data:d,file_id:u,most_recent_file_data_id:h,name:p,workflow_instance_id:m,esignature_instance_id:f}=e;if(c(e)){if(r.cancelled){return null}switch(true){case typeof o==="object"&&o.id&&o.can_see_file:a="previewEmployeeFile";break;case typeof d==="object"&&d.id&&d.can_see_file:a=d.can_generate_preview?"companyPreviewFile":"companyShowFile";break;case r.can_sign&&!t:a="esigOpenModal";break;case!(0,n.isNil)(f)&&f>0&&i:case!(0,n.isNil)(m)&&m>0&&i:a="esigOpenPreviewModeModal";break;default:break}}if(!a){if(i){return s?"previewFile":"showFile"}return"showFileNoAccess"}return a}function m(e){const{company_file_data:t,employee_file_data:a,esignature_instance_id:n,esignature_template_id:s,esignatures:i,file_id:o,most_recent_file_data_id:r,name:l,workflow_instance_id:c}=e;let d={companyFileId:v(t,"file_id"),companyFileMostRecentId:v(t,"most_recent_file_data_id"),companyFileName:v(t,"name"),employeeFileMostRecentId:v(a,"most_recent_employee_file_data_id"),employeeFileId:v(a,"id"),employeeFileName:v(a,"name"),esignature_instance_id:n,esignature_template_id:s,esignatureWorkflowId:v(i,"workflow_id"),file_id:o,most_recent_file_data_id:r,name:l,workflow_instance_id:c};return{"action-data":JSON.stringify(y(d))}}function f(e){const{company_file_data:t,file_id:a}=e;return t?t.file_id:a}function g(e){const{can_see_file:t}=e;if(!t){return true}if(c(e)&&(r(e)||!i(e))){return true}return false}function v(e,t){if(e&&e[t]){return e[t]}return null}function y(e){let t={};(0,n.each)(e,((e,a)=>{if(!(0,n.isNil)(e)){t[(0,n.camelCase)(a)]=e}}));return t}const b=e=>{if((0,n.isNil)(e)){return false}const t=e.split(".");const a=t[t.length-1];const s=["png","jpg","jpeg","gif","bmp"];return s.indexOf(a.toLocaleLowerCase())!==-1};function w(e,t,a,n,s,i,o){let r=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;let l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:false;let c=arguments.length>9&&arguments[9]!==undefined?arguments[9]:null;let d=arguments.length>10&&arguments[10]!==undefined?arguments[10]:false;window.previewFile(...arguments)}function C(e){const{fileData:t,fileName:a,mimeType:n="text/plain;charset=utf-8"}=e;if(!t||!a){throw new Error("A file name and file data must be supplied")}const s=new Blob([t],{type:n});const i=window.URL.createObjectURL(s);const o=document.createElement("a");o.style.display="none";o.href=i;o.setAttribute("download",a);if(typeof o.download==="undefined"){o.setAttribute("target","_blank")}document.body.appendChild(o);o.click();document.body.removeChild(o);window.URL.revokeObjectURL(i)}function S(e){return new Promise(((t,a)=>{const n=new FileReader;n.readAsArrayBuffer(e);n.onload=function(){const e=new Blob([n.result],{type:"application/pdf"});e.text().then((e=>{let a=e.includes("Encrypt");a|=e.substring(e.lastIndexOf("<<"),e.lastIndexOf(">>")).includes("/Encrypt");t(a)})).catch((e=>{a(new DOMException("Problem parsing input file: ",e))}))};n.onerror=()=>{n.abort();a(new DOMException("Problem reading input file."))}}))}function E(e){const t=e.find((e=>c(e)&&e.esignatures.completed&&e.required&&(0,n.isNil)(e.company_file_data)));return(0,n.isNil)(t)}},85642:(e,t,a)=>{"use strict";a.d(t,{Y:()=>s});var n=a(41088);function s(){const e=document.body.dataset.fabricMode;const t=document.body.dataset.fabricTheme;const a=Object.values(n.M).includes(e)?e:undefined;const s=Object.values(n.T).includes(t)?t:undefined;return{mode:a,themeName:s}}},48635:(e,t,a)=>{"use strict";a.d(t,{c3:()=>p,uM:()=>d});var n=a(38592);var $=a(26570);const s="ok";const i=128;const o=$.__("Whoops, try to keep it under 128 characters.");const r="max-length-error-msg";const l="error--maxLength";function c(e){const t=5;let a=0;const i={length:"#pass-length",number:"#pass-number",upper:"#pass-upper",lower:"#pass-lower",match:".validCheck"};for(let t=0;t<e.length;t++){switch(e[t]){case"length":case"number":case"upper":case"lower":$(i[e[t]]).addClass(s);a++;break;case"match":$(".validCheck").each((function(){(0,n.addClass)(this,"valid")}));a++;break}}return a===t}function d(e){$(".validCheck").each((function(){(0,n.removeClass)(this,"valid")}));$(".js-passwordRequirements li").removeClass(s);u(c(e))}function u(e){const t=document.querySelector(".js-ChangePasswordForm__submitButton, .js-createAccountBtn");t.disabled=!e}function h(e,t){const a=$(e.target);const n=a.closest(".fab-FormRow");let s=n.find(`.${r}`);if(a.val().length===i){if(!t&&!s.length){s=$("<span />",{class:`fab-Label fab-Label--error ${r}`,text:o});n.prepend(s)}n.addClass(l)}else{s.remove();n.removeClass(l)}}function p(e,t){e.on("keyup",h);t.on("keyup",(e=>h(e,true)))}},55482:(e,t,a)=>{"use strict";a.d(t,{j:()=>n,J:()=>o});function n(e,t,a){t=t||window.GLOBAL_DECIMAL_CHAR||".";a=a||window.GLOBAL_THOUSANDS_SEPARATOR||",";if(t===a){throw new Error("The decimal point and thousands separator characters must be different.")}if(e===undefined){return""}const n=e.toString();const[s,i]=n.split(".");const o=[];let r=s;while(r.length){const e=r.slice(-3);o.unshift(e);r=r.slice(0,-e.length)}const l=o.join(a);const c=i?`${t}${i}`:"";const d=`${l}${c}`;return d}var s=a(19969);var i=a.n(s);function o(e,t,a){t=t||window.GLOBAL_DECIMAL_CHAR||".";const n=new RegExp(`[^\\d\\${t}-]`,"gi");e=e.replace(n,"");e=e.replace(/-/g,((e,t)=>t===0?e:""));const s=new RegExp(`\\${t}`,"gi");e=e.replace(s,".");let o=true;e=e.replace(/\./g,(e=>{if(!o){return""}o=false;return e}));if(!e){return}try{const t=new(i())(e);const n=t.toFixed(a);const s=Number(n);if(Number.isNaN(s)){return}return s}catch{return undefined}}},87579:(e,t,a)=>{"use strict";a.d(t,{X:()=>n.X});var n=a(34762)},12142:(e,t,a)=>{"use strict";a.r(t);a.d(t,{openEsignatureSigningModal:()=>n.n});var n=a(37995)},90733:(e,t,a)=>{"use strict";a.d(t,{$G:()=>p,FF:()=>g,Go:()=>w,Op:()=>m,Wu:()=>v,gC:()=>f,wu:()=>C});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(20928);var r=a(49175);var l=a(17842);var c=a.n(l);var d=a(60658);var u=a(73641);var h=a.n(u);var $=a(26570);function p(e,t,a,n){m($(`[data-file_id=${e}]`),t,a,n)}function m(e,t,a){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let s=false;let i=null;let o=0;let r=false;if(e.selector.match(/(\d+)/)){i=parseInt(e.selector.match(/(\d+)/)[1])}if(e.length||i){const l=[];if(e.length){e.each((function(){if($(this).data("can_delete")==="yes"||$(this).data("can_delete")===undefined){l.push($(this).data("file_id"))}else{o++;if($(this).data("is-implementation")==="yes"){r=true}}}));if(l.length>3||e.hasClass("js-tasklist")||e.hasClass("js-esignature")){s=true}}else if(i){l.push(i)}if(l.length<1){return}C(l,t,a,s,n,o,r)}}function f(e,t){m($(`[data-file_id=${e}]`),t,true)}function g(e,t){m(e,t,true)}function v(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let a=arguments.length>2?arguments[2]:undefined;let s=arguments.length>3?arguments[3]:undefined;let i=arguments.length>4?arguments[4]:undefined;$.get(`/${appPrefix}employees/files/getDeleteFolderCounts`,{id:a},(function(e){let s=0;let o=0;const l=e.counts;if(l){for(const e in l){o++;s+=parseInt(l[e].count)||0}}else{for(const t in e){o++;s+=parseInt(e[t].count)}}const c=async(e,t,a)=>{if(i&&typeof i==="function"){const e=await i(t);return y(e,t,a)}else{return b(e,t,a)}};const u=e.templates||false;(0,d.K4)((0,n.Z)(r.A,{affectedEmployees:l,deleteAction:c,employeeCount:o||0,employeeId:t,fileCount:s||0,hasTemplates:u,sectionId:a}))}),"json")}function y(e,t,a){if(e.success||e.data.success){const n=$(`[data-section_id=${t}]`);if(n.hasClass("selected")){loadSectionFiles("all",$("select[name=sort-files]").val());$("#file-sections .sectionLink.all").addClass("selected").find(".js-FileFolder").addClass("fab-SideNavigation__link--active").find('ba-icon[encore-name$="regular"]').attr("encore-name",(function(e,t){return t.replace("regular","solid")}))}n.remove();if(a>0&&$("#file-sections .sectionLink.selected").hasClass("all")){loadSectionFiles("all",$("select[name=sort-files]").val())}const s=e.success_message??"Successfully deleted folder.";setMessage(s,"success")}else{setMessage(e.error,"error")}}function b(e,t,a){return l.ajax.post(`/employees/${appPrefix}ajax/folder/delete/${e}`,{id:t,employeeId:e}).then((function(e){y(e,t,a)})).catch((function(e){setMessage(e,"error")}))}function w(e){const t=e.find("span.count").text().replace(/[\(\)]/g,"");let a=$.__('Are you sure you want to delete the folder "%1"?',e.data("foldername"));if(t>0){a=$.__n('Are you sure you want to delete the folder "%2" and its %1 file?','Are you sure you want to delete the folder "%2" and all of its %1 files?',t,e.data("foldername"))}window.BambooHR.Modal.setState({aggressiveConfirmationText:"Type <strong>Delete</strong> to permanently remove the folder and its files.",headline:a,onClose:()=>{window.BambooHR.Modal.setState({isOpen:false})},primaryAction:()=>{window.BambooHR.Modal.setState({isProcessing:true},true);$.ajax({url:`/ajax/${appPrefix}files/edit_folder.php`,type:"post",data:{action:"delete",id:e.data("section_id")},success(a){if(a.success){if(e.parent().hasClass("selected")){window.resetFiles();loadSectionFiles("all",$("select[name=sort-files]").val());$(".allFilesListItem").addClass("selected")}e.parent().remove();if(t>0&&$("#file-sections .sectionLink.selected").hasClass("all")){window.resetFiles();loadSectionFiles("all",$("select[name=sort-files]").val())}setMessage(a.success_message,"success");window.BambooHR.Modal.setState({isOpen:false})}else{window.BambooHR.Modal.setState({isProcessing:false},true);setMessage(a.error,"error")}},dataType:"json"})},primaryActionText:$.__("Delete Folder"),isOpen:true,title:"",type:"aggressiveConfirmation"})}function C(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let i=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;let r=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;const c=a?`/employees/files/delete_files`:`/files/delete_files`;const d=window.$filesTableWrapper||false;const h=(0,u.uniq)(e);const p=`${c}?${$.param({fileIds:h,filesRemoved:i,hasImplementationFilesRemoved:r?1:0,sort:$('select[name="sort-files"]').val()})}`;(0,o.QK)(t,true,{isLoading:true});l.ajax.get(p).then((e=>{const i=document.createElement("div");i.innerHTML=e.data;const r=$(i);if(r.find("#js-confirmDelete").val()){n=true}const l=r.find(".js-headLine").text();const u=r.find(".js-content").html();const p=a?"small":"smallSheet";const m={alternativeAction:null,dangerousContent:u,contentHasPadding:true,headline:l,footer:null,icon:n===true?"":"trash-can-regular",iconColor:"danger",iconV2Color:"error-strong",isLoading:false,onClose:()=>{(0,o.QK)(t,false,{sheetProps:null})},primaryAction:()=>{$.ajax({url:c,type:"post",data:{action:"delete",fileIds:h},success(e){if(e.success){if(typeof s==="function"){s(h)}h.forEach((e=>{let t=$(`tr[data-file_id="${e}"]`);const a=$(".file-wrapper, .FileWrapper, .FileUploadsEmployee__File");let n=a.filter(`[id="file-${e}"], [id="${e}"], [data-fileid="${e}"]`);if(n.length===0){n=a.find(`[data-file-id="${e}"]`)}t=t.add(n);if(t.length){const e=t.closest(".EmployeeFiles");const a=t.closest(".FileUploadsEmployee");t.remove();if(e.length>0&&e.find(".file-wrapper").length===0){e.find(".EmployeeFiles__FilesList").toggleClass("hidden",true);$(".MsgListing__taskEeFiles").toggleClass("hidden",true)}if(a.length>0&&a.find(".FileUploadsEmployee__File").length===0){a.remove();$(".List__FilesEmployee").remove()}}}));if(!a&&d&&d.find("tr").length<=0){d.find(".blankState").show()}const t=window.updateFileSectionCounts||o.l3;t(e.employeeId||false);setMessage(e.success_message,"success");window.BambooHR.Modal.setState({isOpen:false})}else{setMessage(e.error,"error")}},dataType:"json"})},primaryActionKey:"Enter",primaryActionText:$.__n("Delete File","Delete Files",h.length),secondaryAction:()=>{(0,o.QK)(t,false,{sheetProps:null})},secondaryActionText:$.__n("Keep File","Keep Files",h.length),isOpen:true,title:"",type:n||h.length>3?"aggressiveConfirmation":p};if(t){m.type=m.type==="aggressiveConfirmation"?m.type:"smallSheet";window.BambooHR.Modal.setState({sheetProps:null},true)}(0,o.QK)(t,true,m)}))}},74372:(e,t,a)=>{"use strict";a.r(t);a.d(t,{EmployeeFolderClicked:()=>r.UB,addFile:()=>o.N2,addFolderSuccess:()=>r.TX,deleteCompanyFile:()=>n.$G,deleteCompanyFiles:()=>n.Op,deleteEmployeeFile:()=>n.gC,deleteEmployeeFiles:()=>n.FF,deleteEmployeeFolder:()=>n.Wu,deleteFolder:()=>n.Go,downloadCompanyFiles:()=>s.H0,downloadEmployeeFiles:()=>s.M9,downloadMultipleFiles:()=>s.tg,duplicateFile:()=>r.Ag,editFolder:()=>r.tb,editSignatureTemplate:()=>r.ZU,emailFile:()=>r.b,emailSecureLink:()=>l.K,firstFolderSuccess:()=>r.W9,getErrorState:()=>r.ZC,handleStackableModalState:()=>r.QK,kickOffDataCleaner:()=>d.$,openESignatureTemplatingPreviewer:()=>c.w,openEmployeeFilePreviewer:()=>c.u,previewEmployeeFile:()=>r.td,previewFile:()=>r.NC,previewFileWithEsignatureTemplating:()=>r.NR,reloadFileList:()=>r.VL,renameFile:()=>r.gQ,renameFileSuccess:()=>r.RT,renameFolderSuccess:()=>r.Yf,resetProcessingButton:()=>r.i8,runScan:()=>r.Lk,scanFiles:()=>r.KG,setupDraggable:()=>r.$Y,setupDroppable:()=>r.aU,setupShareInputs:()=>r.pS,shareEmployeeFile:()=>i.ur,shareFile:()=>i.u5,shareFolder:()=>i.T,showDeleteModal:()=>n.wu,showEmployeeFile:()=>r.vd,showFile:()=>r.Eu,showFileNoAccess:()=>r.sK,showImage:()=>r.od,unshareFileOrFolder:()=>i.fX,updateButtonForProcessing:()=>r.pJ,updateFileSectionCounts:()=>r.l3,updateFooterModal:()=>o.CX,updateHeadingCount:()=>r.yB,updateUploadInputs:()=>o.DG,upload:()=>o.ws,uploadEmployeeFile:()=>o.v4});var n=a(90733);var s=a(8098);var i=a(64305);var o=a(78195);var r=a(20928);var l=a(82692);var c=a(26582);var d=a(2898)},81746:(e,t,a)=>{"use strict";a.d(t,{_:()=>i});var n=a(79740);var s=a(23132);function i(e){if((0,s.n)(e)){const t=new CustomEvent(n.C,{detail:{open:true,employeeId:e}});window.dispatchEvent(t)}}},55337:(e,t,a)=>{"use strict";a.d(t,{i:()=>g});var n=a(88604);var s=a(89835);var i=a(99741);var o=a(52764);var r=a(13134);var l=a(23321);var c=a.n(l);var d=a(69853);function u(e){if(e[e.length-1]==="z"){return`${e.substr(0,e.length-1)}aa`}const t=`${e.substr(0,e.length-1)}${String.fromCharCode(e.charCodeAt(e.length-1)+1)}`;return t}var h=a(12382);var p=a(85642);let m="a";function f(){m=u(m);return`jss-${m}`}function g(e){let{children:t,themeProps:a}=e;const{mode:l,themeName:u}=(0,p.Y)();return(0,s.Z)(d.RecoilRoot,{},void 0,(0,s.Z)(i.F,{dialogDockingContainerId:"js-DialogDockingContainer"},void 0,c().createElement(o.ThemeProvider,(0,n.Z)({classNamePrefix:f()},a,{mode:l,themeName:u}),(0,s.Z)(r.D,{formatType:(0,h.u)(),locale:(0,h.K)()},void 0,t))))}},50860:(e,t,a)=>{"use strict";a.d(t,{DE:()=>l.D,L0:()=>s.L0,Rw:()=>c.Rw,Uj:()=>c.Uj,_l:()=>s._l,aW:()=>n.a,ju:()=>r.j,pC:()=>c.pC,qS:()=>c.qS});var n=a(28703);var s=a(96295);var i=a(70706);var o=a(43034);var r=a(98924);var l=a(79874);var c=a(6564)},70004:(e,t,a)=>{"use strict";a.d(t,{bB:()=>h,sY:()=>u});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(37634);var r=a(55337);var l=a(53534);var c=a(56445);var d=a.n(c);function u(e){let{root:t,children:a,attachedElement:s,callback:i,themeProps:l,safe:c=false}=e;if(c&&!s){console.error("'attachedElement' provided to 'renderV2' was 'null' or 'undefined'");return}if(!t){t=(0,o.s)(s)}t.render((0,n.Z)(r.i,{themeProps:l},void 0,a));if(i){requestIdleCallback((()=>i(t)))}return t}function h(e){return(0,c.isEnabled)("REACT_18_RENDER_PO")?u(e):(0,l.s)(e.children,e.attachedElement,e.callback,e.themeProps,e.safe)}var p={renderV2:h}},53534:(e,t,a)=>{"use strict";a.d(t,{s:()=>c});var n=a(89835);var s=a(23321);var i=a.n(s);var o=a(98853);var r=a.n(o);var l=a(55337);const c=function(e,t,a,s){let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;if(i&&!t){console.error("'attachedElement' provided to 'render' was 'null' or 'undefined'");return}r().render((0,n.Z)(l.i,{themeProps:s},void 0,e),t,a)};var d={render:c}}};var __webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var a=__webpack_module_cache__[e]={id:e,loaded:false,exports:{}};__webpack_modules__[e].call(a.exports,a,a.exports,__webpack_require__);a.loaded=true;return a.exports}__webpack_require__.m=__webpack_modules__;(()=>{var e=[];__webpack_require__.O=(t,a,n,s)=>{if(a){s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[a,n,s];return}var o=Infinity;for(var i=0;i<e.length;i++){var a=e[i][0];var n=e[i][1];var s=e[i][2];var r=true;for(var l=0;l<a.length;l++){if((s&1===0||o>=s)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](a[l])))){a.splice(l--,1)}else{r=false;if(s<o)o=s}}if(r){e.splice(i--,1);var c=n();if(c!==undefined)t=c}}return t}})();(()=>{__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;__webpack_require__.d(t,{a:t});return t}})();(()=>{var e=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;var t;__webpack_require__.t=function(a,n){if(n&1)a=this(a);if(n&8)return a;if(typeof a==="object"&&a){if(n&4&&a.__esModule)return a;if(n&16&&typeof a.then==="function")return a}var s=Object.create(null);__webpack_require__.r(s);var i={};t=t||[null,e({}),e([]),e(e)];for(var o=n&2&&a;typeof o=="object"&&!~t.indexOf(o);o=e(o)){Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>a[e]))}i["default"]=()=>a;__webpack_require__.d(s,i);return s}})();(()=>{__webpack_require__.d=(e,t)=>{for(var a in t){if(__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)){Object.defineProperty(e,a,{enumerable:true,get:t[a]})}}}})();(()=>{__webpack_require__.f={};__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,a)=>{__webpack_require__.f[a](e,t);return t}),[]))})();(()=>{__webpack_require__.u=e=>""+({46:"lazy-headcount-report",186:"lazy-change-history-report",526:"lazy-state-withholding-unemployment-report",629:"lazy-compensation-standard-report",632:"lazy-gender-profile-report",776:"lazy-applicant-demographics-report",851:"lazy-payroll-change-report",935:"lazy-payroll-hours-report",965:"payroll-tools_client-file-uploader",1029:"reports-shared",1194:"lazy-candidate-sources-report",1290:"lazy-custom-report",1344:"payroll-tools_check-printing",1384:"lazy-standard-list-report",2019:"payroll-tools_employee-paycycle-modification",2035:"lazy-payroll-update-summary-report",2112:"payroll-tools_w2-center",2415:"trax-db-scheduled-exports",2598:"payroll-tools_tax-variance-report",2839:"lazy-project-hours-report",2862:"lazy-employee-project-hours-report",2868:"lazy-approved-hours-report",2918:"payroll-tools_trax-only-clients",3045:"lazy-applicant-funnel-report",3254:"payroll-tools_automation-center",3285:"lazy-status-mismatch-report",3839:"lazy-payroll-summary-report",3862:"payroll-tools_tax-accounts-maintenance",3898:"lazy-enps-report",4087:"lazy-employee-turnover-report",4130:"payroll-tools_tax-payments",4166:"payroll-tools_new-hire-reports",4219:"payroll-tools_payment-center",4398:"lazy-point-in-time-report",4435:"lazy-employee-performance-report",4736:"vendor",4741:"payroll-tools_potential-adjustments",4743:"lazy-timesheet-entries-report",4778:"lazy-years-of-service",4875:"lazy-eeo-1-report",4960:"lazy-federal-withholding-report",4990:"payroll-tools_ledger-center",5050:"payroll-tools_w2-information-sync",5071:"lazy-time-off-used-report",5129:"lazy-time-off-schedule-report",5239:"payroll-tools_garnishment-payments",5360:"lazy-goals-report",5503:"fabric",5529:"payroll-tools_collections-and-refunds",5569:"lazy-election-changes-report",6046:"trax-db-report-configs",6146:"payroll.routes",6192:"lazy-employee-wellbeing-report",6775:"lazy-enrollment-window-election-summary-report",6820:"lazy-payroll-info-checkup-report",6996:"cron-schedule",7225:"lazy-additions-terminations-report",7338:"payroll-tools_nav-list",7470:"esignatures-lazy",7660:"lazy-assessment-progress-report",7777:"payroll-tools_bank-holidays",7782:"lazy-plan-year-election-summary-report",7831:"lazy-pay-info-missing-data-report",7924:"lazy-age-profile-report",8121:"lazy-direct-deposit-report",8509:"pdfjs",8528:"lazy-eeo1-details-report",8536:"lazy-company-performance-report",8762:"lazy-aca-monthly-totals-report",8797:"payroll-tools_npc-fees",8808:"lazy-payroll-hours-detail-report",8908:"lazy-aca-benefit-history-report",9135:"payroll-tools_master-tax-data-sync",9150:"lazy-benefit-summary-report",9256:"trax-db-scrubber",9532:"payroll-tools_trust-balance",9543:"lazy-peer-feedback-status-report",9794:"lazy-standard-report",9903:"lazy-time-off-balances-report"}[e]||e)+"."+{5:"8ffda122",34:"a374039e",46:"9ae80f83",76:"4d03e011",79:"fd98d7c3",186:"bf813413",266:"219565a2",304:"ed7f8472",410:"1e89f349",464:"baea2104",466:"a1ad34fa",526:"aa56f734",537:"cca3cd3f",629:"23ba0bf2",632:"8f59295d",690:"0a7592f7",767:"a0b450ed",776:"cfa668e0",781:"ca465d71",805:"428094d6",840:"1aec23bf",851:"b14385bf",899:"7bdd927e",935:"bba6afc5",957:"c8413c6c",965:"06910bf4",986:"bc266ff4",1002:"ce9ed3f3",1009:"28209fea",1029:"dc9c8c22",1045:"30c00fde",1070:"cfa6f41a",1127:"7d6d4983",1194:"d60d870b",1290:"404d39d9",1312:"9950bf26",1344:"3ec1cf67",1384:"ec68f116",1483:"8da3df55",1495:"5ce856bf",1583:"29b2d722",1687:"0c86d7eb",1753:"e3e9ba73",1760:"11c39738",1775:"644c593b",1869:"ddf3ace3",1963:"38a59402",2019:"9ce62543",2022:"dfee6420",2029:"86842e07",2030:"c445129b",2035:"927192db",2112:"75361e97",2154:"4c9be3f2",2159:"48717c36",2288:"78b57685",2335:"17673224",2346:"e3a069e9",2372:"43508c0f",2415:"215ae8e8",2423:"8715321e",2430:"6341e186",2512:"412ce175",2525:"69ea7cc3",2571:"5eb8c6a9",2598:"08bf0112",2636:"01ed41b7",2833:"e0823237",2839:"8f97622e",2847:"94a46eb4",2848:"dde0346d",2851:"658076d6",2862:"f3bc194b",2868:"f8d4d456",2918:"992b84aa",2937:"6ead6aa7",2958:"5c541f8b",2960:"af334490",2984:"d221ccb9",3007:"433a574b",3039:"96a10bd4",3045:"77af3984",3099:"ceb7c135",3107:"3f0dd664",3114:"9b7b212a",3121:"adb0caac",3138:"c1ba6a9e",3214:"1dc69ed4",3227:"0040191a",3254:"fd55a053",3264:"04f89c0e",3285:"203f00e1",3418:"797ce725",3454:"5c8fe3aa",3467:"f494288b",3609:"77628d2b",3655:"2239048e",3739:"61d778c3",3745:"c282ebd2",3791:"d8847c88",3839:"ab44ab2e",3862:"f9a05755",3898:"d47ee60d",3931:"057be1b7",3959:"a7b5cf7c",4053:"f45cb8fa",4082:"b27d2dba",4087:"f0b5b909",4098:"72c56b19",4101:"89d97a9d",4130:"f0fd82fc",4164:"c32e2c3a",4166:"0c7a9d38",4179:"35804ba2",4219:"469ebf20",4239:"2d87a5a9",4274:"51ab22e0",4306:"32fc0fe1",4357:"57ad26ae",4398:"76703d4c",4435:"99126291",4513:"54ee5b5b",4576:"808d7859",4604:"05766457",4710:"02dd1d58",4728:"fa037af5",4736:"1d3a8227",4741:"e1cf1655",4743:"fdf4dbaa",4778:"78b22c87",4875:"2d5666bf",4960:"022d7d55",4975:"f0f45459",4990:"5f096c9e",5050:"cf188d65",5071:"8fd442e2",5077:"f408187e",5079:"989316ae",5129:"011f3c61",5158:"a6cc14a2",5239:"615f82b8",5247:"75f69422",5261:"1ac1c612",5276:"fc0e388c",5304:"fb288eb5",5360:"18133115",5393:"3edb1214",5503:"b23aa425",5529:"fa1af4b7",5569:"02c38727",5650:"35699182",5677:"88e31705",5798:"c90ae22c",5842:"bdb1871d",5852:"ba4a343c",6046:"5c95f253",6116:"097bb2ec",6120:"c739b877",6146:"f1ea4b85",6192:"1f274c4d",6310:"d1f79a05",6324:"9f257dbd",6476:"bfaf393e",6622:"a5a3e1ba",6775:"69e699e8",6820:"1b2b1a6c",6840:"0b411ee3",6915:"31c601db",6962:"05a7ce80",6996:"65863089",7010:"32fc6081",7014:"4e7d79e3",7036:"bc442b82",7063:"584cadbe",7108:"faca0b83",7148:"a5085c22",7210:"09e40fd5",7225:"e18b40d0",7338:"daa938c2",7344:"05f36e79",7408:"fab486b3",7470:"479bca71",7499:"c130f051",7594:"29ff6116",7629:"a058cdb6",7660:"c4ba1e02",7777:"19c47097",7782:"1b1cc02b",7831:"d35243d4",7856:"e766e3db",7876:"fd5658d4",7917:"b8060adb",7924:"b1cb1105",8073:"7d2b4c33",8081:"8f561015",8121:"54149e8d",8125:"d2b0da0a",8262:"384b042c",8264:"b0277c8a",8272:"7dd3efb7",8317:"bbacb656",8362:"34e87f0e",8438:"4423b8b3",8479:"fad568e8",8485:"2d569f11",8491:"17652a93",8509:"2a781704",8528:"50b7594e",8536:"9d6f310e",8567:"7e8ebd7a",8762:"6a50e564",8769:"6c562113",8781:"b6792f6b",8797:"41253811",8808:"aa9ce4d5",8841:"5759a348",8859:"fc198215",8882:"75ce9c70",8899:"0a3040da",8908:"a6067990",8914:"2bd33651",8973:"a2470415",9026:"04e70b5c",9071:"b071c957",9135:"78d247a7",9150:"e705e2f1",9256:"e5a5d729",9257:"20a3560f",9295:"b278fc00",9456:"38050ae7",9486:"5e9bf43c",9532:"bc78da9a",9543:"fddc6cb6",9576:"0a66fc30",9628:"41443432",9794:"00ec0547",9830:"5402d641",9903:"c1b53829"}[e]+".dist.js"})();(()=>{__webpack_require__.miniCssF=e=>"../css/"+{31:"benefit-plans-table",46:"lazy-headcount-report",186:"lazy-change-history-report",267:"enps",422:"gtky-interstitial",497:"developer-portal",526:"lazy-state-withholding-unemployment-report",608:"report-wizard",629:"lazy-compensation-standard-report",632:"lazy-gender-profile-report",776:"lazy-applicant-demographics-report",830:"prelogin",851:"lazy-payroll-change-report",918:"print_timesheet_view",935:"lazy-payroll-hours-report",1008:"project-settings",1194:"lazy-candidate-sources-report",1289:"greenhouse-micro",1290:"lazy-custom-report",1320:"benefits-dependents-table",1384:"lazy-standard-list-report",1388:"dev",1396:"EmployeeFilters",1647:"settings-apps",1809:"account",1915:"home",2035:"lazy-payroll-update-summary-report",2167:"global-legacy",2172:"global",2273:"multi-factor-auth",2589:"inbox",2730:"performance",2839:"lazy-project-hours-report",2862:"lazy-employee-project-hours-report",2868:"lazy-approved-hours-report",2918:"payroll-tools_trax-only-clients",2988:"audit-trail-report",3045:"lazy-applicant-funnel-report",3065:"directory-new",3070:"self_onboarding",3131:"org-chart",3285:"lazy-status-mismatch-report",3422:"access_levels",3653:"self_onboarding_login",3839:"lazy-payroll-summary-report",3898:"lazy-enps-report",3911:"global-gh",3971:"logged-out",3992:"reports",4085:"rightsignature",4087:"lazy-employee-turnover-report",4103:"settings-benefits-bulk-enroll",4398:"lazy-point-in-time-report",4400:"plans-missing-active-plan-year-banner",4435:"lazy-employee-performance-report",4535:"login",4743:"lazy-timesheet-entries-report",4778:"lazy-years-of-service",4839:"first-time-payment",4875:"lazy-eeo-1-report",4910:"offer-letter-finalize",4960:"lazy-federal-withholding-report",5042:"file_export",5071:"lazy-time-off-used-report",5129:"lazy-time-off-schedule-report",5177:"file-importer",5360:"lazy-goals-report",5372:"files",5383:"manage",5486:"po",5540:"benefits-beneficiaries",5545:"timesheet",5548:"calendar",5569:"lazy-election-changes-report",5571:"settings",5638:"ProcessBar",5686:"locations",5782:"EditOptions",5857:"error-pages",5899:"global-encore-legacy",5902:"greenhouse",5933:"time-off",6043:"employee_wellbeing",6146:"payroll.routes",6160:"benefit-history-table",6192:"lazy-employee-wellbeing-report",6386:"secure-file-download",6471:"pto",6650:"greenhouse-company-payroll",6773:"BhrTabs",6775:"lazy-enrollment-window-election-summary-report",6820:"lazy-payroll-info-checkup-report",6876:"billing",6930:"reseller",7053:"inbox-calendar",7134:"settings-benefits-bulk-editing",7225:"lazy-additions-terminations-report",7316:"integrations-sign-up",7470:"esignatures-lazy",7549:"power_edit",7597:"gtky-questions",7616:"global-encore",7623:"login-gh",7624:"employees",7660:"lazy-assessment-progress-report",7782:"lazy-plan-year-election-summary-report",7819:"data-table",7831:"lazy-pay-info-missing-data-report",7924:"lazy-age-profile-report",7969:"hiring",8055:"apps",8082:"benefits-enrollment-banner",8103:"global-jade",8121:"lazy-direct-deposit-report",8184:"payroll-tools",8304:"anytime",8473:"calendar-ical-modal",8528:"lazy-eeo1-details-report",8536:"lazy-company-performance-report",8762:"lazy-aca-monthly-totals-report",8808:"lazy-payroll-hours-detail-report",8842:"app-trax",8907:"payroll",8908:"lazy-aca-benefit-history-report",8985:"org-chart-export",9150:"lazy-benefit-summary-report",9154:"change_password",9208:"feeds",9256:"trax-db-scrubber",9543:"lazy-peer-feedback-status-report",9602:"add-edit-pay-schedule",9794:"lazy-standard-report",9903:"lazy-time-off-balances-report",9957:"EmployeeSelector",9966:"dashboard"}[e]+"."+{31:"cad808ff",46:"9ae80f83",186:"bf813413",267:"013ab2d2",422:"368a88a6",497:"faeaad09",526:"aa56f734",608:"44172a47",629:"23ba0bf2",632:"8f59295d",776:"cfa668e0",830:"2c1e3606",851:"b14385bf",918:"25e6cea8",935:"bba6afc5",1008:"159a526d",1194:"d60d870b",1289:"47e6b0b7",1290:"404d39d9",1320:"dac29041",1384:"ec68f116",1388:"880fd7d5",1396:"0886aa70",1647:"5581391c",1809:"a18b323c",1915:"6cd0c721",2035:"927192db",2167:"6971faf3",2172:"800035aa",2273:"fa8c4ac8",2589:"ccd45440",2730:"4d8b4692",2839:"8f97622e",2862:"f3bc194b",2868:"f8d4d456",2918:"992b84aa",2988:"886eb17e",3045:"77af3984",3065:"254c8ef3",3070:"9feb686d",3131:"53f0f4be",3285:"203f00e1",3422:"a6ab3279",3653:"53e03f98",3839:"ab44ab2e",3898:"d47ee60d",3911:"fafd35b5",3971:"fcd4574b",3992:"ace1ed14",4085:"33eccb7c",4087:"f0b5b909",4103:"d45e7c9f",4398:"76703d4c",4400:"40bfab18",4435:"99126291",4535:"8d3c996c",4743:"fdf4dbaa",4778:"78b22c87",4839:"da1f4eb8",4875:"2d5666bf",4910:"7fda614f",4960:"022d7d55",5042:"490945fe",5071:"8fd442e2",5129:"011f3c61",5177:"e6a64ddc",5360:"18133115",5372:"bdb02f0d",5383:"c302ee4c",5486:"56a64f26",5540:"6b6a5392",5545:"398ca6bb",5548:"2a28e2e8",5569:"02c38727",5571:"cdae0809",5638:"1c091b01",5686:"4ed46288",5782:"8baf7041",5857:"90fa12aa",5899:"f11bb302",5902:"f5684f20",5933:"8da7d577",6043:"e077253b",6146:"f1ea4b85",6160:"f8648c1b",6192:"1f274c4d",6386:"e3f9e4d0",6471:"036acb44",6650:"3b8315ea",6773:"856e5206",6775:"69e699e8",6820:"1b2b1a6c",6876:"d3c04649",6930:"daa997a0",7053:"058d430a",7134:"b94f0a59",7225:"e18b40d0",7316:"5f7235c6",7470:"479bca71",7549:"212079c5",7597:"6f420594",7616:"f0e34ca4",7623:"5e9c1e7c",7624:"8b9a9da1",7660:"c4ba1e02",7782:"1b1cc02b",7819:"e174c955",7831:"d35243d4",7924:"b1cb1105",7969:"f40e0838",8055:"31777ccd",8082:"c07091bc",8103:"6564347e",8121:"54149e8d",8184:"6d6af0b9",8304:"4a9e1895",8473:"4d08a300",8528:"50b7594e",8536:"9d6f310e",8762:"6a50e564",8808:"aa9ce4d5",8842:"dc3ce549",8907:"e2caffe9",8908:"a6067990",8985:"09af5ec5",9150:"e705e2f1",9154:"a989bbb6",9208:"c480eb75",9256:"e5a5d729",9543:"fddc6cb6",9602:"3fc67f9f",9794:"00ec0547",9903:"c1b53829",9957:"8b5d38f1",9966:"ff75cd24"}[e]+".dist.css"})();(()=>{__webpack_require__.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();(()=>{__webpack_require__.hmd=e=>{e=Object.create(e);if(!e.children)e.children=[];Object.defineProperty(e,"exports",{enumerable:true,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}});return e}})();(()=>{__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{var e={};__webpack_require__.l=(t,a,n,s)=>{if(e[t]){e[t].push(a);return}var i,o;if(n!==undefined){var r=document.getElementsByTagName("script");for(var l=0;l<r.length;l++){var c=r[l];if(c.getAttribute("src")==t){i=c;break}}}if(!i){o=true;i=document.createElement("script");i.charset="utf-8";i.timeout=120;if(__webpack_require__.nc){i.setAttribute("nonce",__webpack_require__.nc)}i.src=t}e[t]=[a];var d=(a,n)=>{i.onerror=i.onload=null;clearTimeout(u);var s=e[t];delete e[t];i.parentNode&&i.parentNode.removeChild(i);s&&s.forEach((e=>e(n)));if(a)return a(n)};var u=setTimeout(d.bind(null,undefined,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror);i.onload=d.bind(null,i.onload);o&&document.head.appendChild(i)}})();(()=>{__webpack_require__.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();(()=>{__webpack_require__.nmd=e=>{e.paths=[];if(!e.children)e.children=[];return e}})();(()=>{__webpack_require__.p="/js/"})();(()=>{var e=(e,t,a,n)=>{var s=document.createElement("link");s.rel="stylesheet";s.type="text/css";var i=i=>{s.onerror=s.onload=null;if(i.type==="load"){a()}else{var o=i&&(i.type==="load"?"missing":i.type);var r=i&&i.target&&i.target.href||t;var l=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED";l.type=o;l.request=r;s.parentNode.removeChild(s);n(l)}};s.onerror=s.onload=i;s.href=t;document.head.appendChild(s);return s};var t=(e,t)=>{var a=document.getElementsByTagName("link");for(var n=0;n<a.length;n++){var s=a[n];var i=s.getAttribute("data-href")||s.getAttribute("href");if(s.rel==="stylesheet"&&(i===e||i===t))return s}var o=document.getElementsByTagName("style");for(var n=0;n<o.length;n++){var s=o[n];var i=s.getAttribute("data-href");if(i===e||i===t)return s}};var a=a=>new Promise(((n,s)=>{var i=__webpack_require__.miniCssF(a);var o=__webpack_require__.p+i;if(t(i,o))return n();e(a,o,n,s)}));var n={8592:0};__webpack_require__.f.miniCss=(e,t)=>{var s={46:1,186:1,526:1,629:1,632:1,776:1,851:1,935:1,1194:1,1290:1,1384:1,2035:1,2839:1,2862:1,2868:1,2918:1,3045:1,3285:1,3839:1,3898:1,4087:1,4398:1,4435:1,4743:1,4778:1,4875:1,4960:1,5071:1,5129:1,5360:1,5569:1,6146:1,6192:1,6775:1,6820:1,7225:1,7470:1,7660:1,7782:1,7831:1,7924:1,8121:1,8528:1,8536:1,8762:1,8808:1,8908:1,9150:1,9256:1,9543:1,9794:1,9903:1};if(n[e])t.push(n[e]);else if(n[e]!==0&&s[e]){t.push(n[e]=a(e).then((()=>{n[e]=0}),(t=>{delete n[e];throw t})))}}})();(()=>{var e={8592:0};__webpack_require__.f.j=(t,a)=>{var n=__webpack_require__.o(e,t)?e[t]:undefined;if(n!==0){if(n){a.push(n[2])}else{if(true){var s=new Promise(((a,s)=>n=e[t]=[a,s]));a.push(n[2]=s);var i=__webpack_require__.p+__webpack_require__.u(t);var o=new Error;var r=a=>{if(__webpack_require__.o(e,t)){n=e[t];if(n!==0)e[t]=undefined;if(n){var s=a&&(a.type==="load"?"missing":a.type);var i=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")";o.name="ChunkLoadError";o.type=s;o.request=i;n[1](o)}}};__webpack_require__.l(i,r,"chunk-"+t,t)}else e[t]=0}}};__webpack_require__.O.j=t=>e[t]===0;var t=(t,a)=>{var n=a[0];var s=a[1];var i=a[2];var o,r,l=0;if(n.some((t=>e[t]!==0))){for(o in s){if(__webpack_require__.o(s,o)){__webpack_require__.m[o]=s[o]}}if(i)var c=i(__webpack_require__)}if(t)t(a);for(;l<n.length;l++){r=n[l];if(__webpack_require__.o(e,r)&&e[r]){e[r][0]()}e[r]=0}return __webpack_require__.O(c)};var a=self["webpackChunk"]=self["webpackChunk"]||[];a.forEach(t.bind(null,0));a.push=t.bind(null,a.push.bind(a))})();(()=>{__webpack_require__.nc=undefined})()})();
//# sourceMappingURL=common.fe46ca42.dist.js.map