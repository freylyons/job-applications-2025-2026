try{"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[5486],{19654:(e,t,r)=>{var s=r(39030);t["Z"]=(0,s.m)((e=>{let{palette:t,typography:r}=e;return(0,s.c)({fileListItem:{display:"flex",borderBottom:`1px solid ${t.grey[300]}`,margin:0,padding:"0 16px",height:"64px",alignItems:"center",width:"calc(100% - 32px)",justifyContent:"space-between","&:hover":{background:t.grey[100],cursor:"pointer"}},active:{backgroundColor:`${t.primary.lightest}1A`,"&:hover":{backgroundColor:`${t.primary.lightest}1A`},"& $infoTitle":{color:t.grey[1e3],fontWeight:r.fontWeightSemibold},"& $actions":{opacity:1,transition:"opacity 0.15s linear",visibility:"visible"}},disabled:{cursor:"default !important","&:hover":{background:"transparent"},"& > div":{opacity:"0.4"},"& label":{zIndex:9999}},check:{alignItems:"center",display:"flex",width:"35px","& > label":{width:"16px"}},icon:{alignItems:"center",display:"flex",marginRight:"8px",padding:"1px 0",width:"27px"},info:{flex:1,minWidth:0},infoLine:{display:"block",lineHeight:r.fabricLineHeight("teenie")},infoTitle:{color:t.grey[800],fontSize:r.fabricFontSize("medium")},infoInfo:{fontSize:r.fabricFontSize("teenie"),color:t.grey[700]},actions:{alignItems:"center",display:"flex",marginLeft:"10px",opacity:0,visibility:"hidden",width:"38px"},tooltip:{zIndex:15e3},tooltipPosition:{transform:e=>`translateY(${e.offset}px)`}})}))},72239:(e,t,r)=>{var s=r(39030);t["Z"]=(0,s.m)((()=>(0,s.c)({fileListContentWrapper:{maxHeight:"415px",display:"flex",flexDirection:"column",justifyContent:"center",position:"relative"},scrollableFileList:{overflowY:"auto",width:"100%",listStyle:"none",height:"100%"},blankStateWrapper:{position:"absolute",overflow:"hidden",top:"110px",width:"100%"}})))},24379:(e,t,r)=>{var s=r(39030);t["Z"]=(0,s.m)((e=>{let{palette:t,typography:r}=e;return(0,s.c)({addFileModal:{maxHeight:"inherit",overflowY:"hidden"},addFileForm:{marginTop:0,paddingBottom:0,maxHeight:"inherit",overflowY:"hidden",position:"relative"},fileListModalSubheader:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"36px",padding:"0px 16px 16px 16px",borderRadius:"8px"},fileListCount:{color:t.grey[800],lineHeight:r.fabricLineHeight("teenie"),fontSize:r.fabricFontSize("teenie"),fontWeight:r.fontWeightRegular}})}))},10189:(e,t,r)=>{r.d(t,{nK:()=>z,J7:()=>K,O4:()=>G});var s=r(23321);var n=r.n(s);var a=r(70004);var o=r(37634);var i=r(89835);var l=r(83108);var c=r(88604);var d=r(98675);var u=r(59592);var f=r(31112);var h=r(37194);var m=r(60042);var p=r.n(m);var g=r(619);function v(e){const{hasSeparator:t=true,icon:r,children:s}=e;return(0,i.Z)("div",{className:p()("CompanyDataModalHeadline",{"CompanyDataModalHeadline--hasSeparator":t})},void 0,(0,i.Z)(g.I,{brand:true,name:r}),s?(0,i.Z)("h3",{},void 0,s):null)}function y(e){const{stages:t={},active:r}=e;const a=(0,s.useRef)();const o=(0,s.useRef)({});const i=(0,s.useRef)();const l=(0,s.useCallback)((e=>{const t=a.current;if(e.propertyName==="opacity"&&e.target.style.opacity===0){e.target.style.display="block"}t.style.height="";t.removeEventListener("transitionend",l)}),[]);(0,s.useEffect)((()=>{const e=i.current;const t=o.current[r];const s=a.current;s.addEventListener("transitionend",l);if(e){e.style.position="absolute";e.style.top=0;e.style.right=0;e.style.bottom=0;e.style.left=0;t.style.position="";t.style.top="";t.style.right="";t.style.bottom="";t.style.left="";s.style.height=`${e.offsetHeight}px`}i.current=t;s.style.height=`${t.offsetHeight}px`;return()=>s.removeEventListener("transitionend",l)}),[r]);return n().createElement("div",{ref:a,style:{overflow:"hidden",position:"relative",transition:"height 1s ease-in-out"}},Object.keys(t).map((e=>{const s=t[e];return n().createElement("div",{key:e,ref:t=>o.current[e]=t,style:{opacity:e===r?1:0,transition:"opacity 300ms ease-in-out",display:"flex",flexDirection:"column"}},s)})))}var S=r(56445);var w=r(14386);var $=r(26570);function b(e){const{isProcessing:t=false}=e;const r=(0,i.Z)("div",{},void 0,(0,i.Z)("h3",{},void 0,$.__(`We’re wiping the slate clean.`)),(0,i.Z)(h.Message,{text:$.__("Removing demo data will take a few seconds.\nPlease bear with us.")}));const s=(0,i.Z)("div",{},void 0,(0,i.Z)("h3",{},void 0,$.__("Ready for a fresh start?")),(0,i.Z)(h.Message,{text:$.__("This will remove all of the demo data in this account along with anything that you may have added. Are you sure that you want to remove this information?")}));return(0,i.Z)("div",{style:{textAlign:"center"}},void 0,(0,S.ifFeature)("encore",(0,i.Z)(w.I,{color:"primary-strong",name:"broom-wide-solid",size:55}),(0,i.Z)(v,{hasSeparator:false,icon:"fab-broom-51x55"})),(0,i.Z)(y,{active:t?"waiting":"warning",stages:{warning:s,waiting:r}}))}function A(e){const{data:t={},onChange:r}=e;const{isAccepted:n,hasEmployees:a}=t;return(0,i.Z)(s.Fragment,{},void 0,(0,i.Z)(l.ys,{}),(0,i.Z)(l.dX,{hasEmployees:a,isAccepted:n,onHasEmployeesChange:e=>{r({hasEmployees:e,isAccepted:n})},onIsAcceptedChange:e=>{r({hasEmployees:a,isAccepted:e})}}))}var C=r(26570);const x=C.__("Complete Later");const E=Object.seal({COMPLETE_LATER:"complete_later",DECLINED:"declined",NEEDS_PROMPT:"needs_prompt",NEEDS_TO_SIGN:"needs_to_sign",SIGNED:"signed",UPDATE_PENDING:"update_pending"});const D=Object.seal({CONDITIONAL_DPA_MODAL:"optionalDpaModal",CLEAR_DEMO_DATA_MODAL:"clearDemoDataModal",REQUESTED_DPA_MODAL:"requestedDpaModal",UPDATED_DPA_MODAL:"updatedDpaModal"});function F(e){return e&&(e.status===E.SIGNED||e.status===E.DECLINED)}function k(e,t,r){let s=0;if(e){if(r==="failed"||r==="completed"&&F(t)){s=1}else if(r!=="loading"){s=2}}return s}var Z=r(17842);var L=r.n(Z);function I(){return L().post("/clear-demo-data")}var R=r(26570);function M(e,t){let{onComplete:r=(()=>{})}=t;const[n,a]=(0,s.useState)(1);const[o,i]=(0,s.useState)();return{data:o,currentStep:n,next:t=>{if(n===e){r(o)}else{a(n+1)}i(t)},totalSteps:e}}function N(e,t){let{next:r,currentStep:n,totalSteps:a}=t;const[o,c]=(0,s.useState)(false);const[d,h]=(0,s.useState)(false);const[m,p]=(0,s.useState)(null);O(o&&!d);(0,s.useEffect)((()=>{if(d){r({latestAgreement:m})}}),[d,m]);if(e!==n){return{}}return{content:(0,i.Z)(b,{isProcessing:o||d}),isProcessing:o||d,primaryAction:()=>{c(true);setTimeout((async()=>{try{await I()}catch(e){c(false);(0,u.f)(R.__(`Uh oh. Looks like your demo data didn’t clear. Please try again, or call us at 866-387-9595 for help.`),"error");return}try{const e=await(0,l.Js)();if(!e){throw new Error("No data processing agreement is available")}p(e);c(false);h(true)}catch(e){(0,u.f)("Uh oh! It looks like the next step didn’t load as expected. Please reload this page.","error")}}),3e3)},primaryActionText:R.__("Clear Data"),title:(0,i.Z)("div",{},void 0,R.__("Clear Demo Data"),a>1?(0,i.Z)(f.O,{currentStep:n,hasSeparator:!o,totalStepCount:a}):null)}}function T(e,t){let{data:r={},next:n,currentStep:a,totalSteps:o}=t;const{latestAgreement:c={}}=r;const[d,h]=(0,s.useState)({isAccepted:false,hasEmployees:false});const[m,p]=(0,s.useState)(false);const g=d.isAccepted||!d.hasEmployees;const v={setSessionMessage:true};if(e!==a||!r||!c){return{}}return{alternativeAction:null,content:(0,i.Z)(A,{data:d,isProcessing:m,onChange:e=>h(e)}),contentHasMaxHeight:false,hasCloseButton:false,isProcessing:m,primaryAction:g?async()=>{p(true);try{if(d.isAccepted){await(0,l.Uj)(c.id,v)}else{await(0,l.I6)(c.id,v)}n()}catch(e){p(false);(0,u.f)(R.__("Oops. Something went wrong. Please try again."),"error")}}:null,primaryActionText:R.__("Done"),secondaryAction:async()=>{p(true);try{await(0,l.cZ)(c.id,v);n()}catch(e){p(false);(0,u.f)(R.__("Oops. Something went wrong. Please try again."),"error")}},secondaryActionText:x,title:(0,i.Z)("div",{},void 0,R.__("GDPR Compliance"),o>1?(0,i.Z)(f.O,{currentStep:a,hasSeparator:false,totalStepCount:o}):null)}}function O(e){const t=(0,s.useCallback)((e=>{e.preventDefault();e.returnValue=R.__("Are you sure you want to leave now?")}),[]);(0,s.useEffect)((()=>{if(e){window.addEventListener("beforeunload",t)}else{window.removeEventListener("beforeunload",t)}}),[t,e])}function P(e,t){const[r,n]=(0,s.useState)();const[a,o]=(0,s.useState)(false);(0,s.useEffect)((()=>{const r=async()=>{o("loading");try{n(await e());o("completed")}catch(e){o("failed")}};if(t){r()}}),[t]);return{value:r,status:a}}function V(e){const{value:t,status:r}=P((async()=>{try{return await(0,l.Js)()}catch(e){console.error("Failed to get latest Data Processing Agreement while clearing demo data!");throw e}}),e);return k(e,t,r)}function B(e){const{isOpen:t,onClose:r}=e;const s=V(t);const a=M(s,{onComplete:()=>window.location.reload()});const o=N(1,a);const i=T(2,a);const l=[o,i];if(s===0){return null}return n().createElement(d.u_,(0,c.Z)({isOpen:t,onClose:r},l[a.currentStep-1]))}var U=r(50463);var moment=r(82543);function j(e,t){const[r,n]=(0,s.useState)();(0,s.useEffect)((()=>{if(t){const e=moment(t.statusUpdatedDate);const r=moment().isBefore(e.add(1,"weeks"));if(t.status===E.NEEDS_TO_SIGN){n(D.REQUESTED_DPA_MODAL)}else if(t.status===E.NEEDS_PROMPT||t.status===E.COMPLETE_LATER&&!r){n(D.CONDITIONAL_DPA_MODAL)}else if(t.status===E.UPDATE_PENDING){const e=localStorage.getItem(l.q3);if(!e){n(D.UPDATED_DPA_MODAL)}else if(U.ou.fromISO(e).diffNow("days").days<-7){n(D.UPDATED_DPA_MODAL)}}}}),[t]);(0,s.useEffect)((()=>{if(e&&!r){n(e)}}),[e]);return{closeModal:()=>n(null),currentModal:r}}function W(e){const{defaultModal:t,onDefaultModalClose:r}=e;const{currentDpa:n}=(0,l.Qc)();const{currentModal:a,closeModal:o}=j(t,n);const c=()=>{if(a===t){r()}o()};return(0,i.Z)(s.Fragment,{},void 0,(0,i.Z)(B,{agreement:n,isOpen:a===D.CLEAR_DEMO_DATA_MODAL,onClose:c}),(0,i.Z)(l.bI,{agreement:n,isOpen:a===D.REQUESTED_DPA_MODAL,onClose:c}),(0,i.Z)(l.kh,{agreement:n,isOpen:a===D.CONDITIONAL_DPA_MODAL,onClose:c}),(0,i.Z)(l.J_,{agreement:n,isOpen:a===D.UPDATED_DPA_MODAL,onClose:c}))}const H=document.createElement("div");document.body.appendChild(H);const q=(0,o.s)(H);function G(e){(0,a.sY)({children:n().createElement(W,e),root:q})}const z=D;const K=()=>{G({defaultModal:D.CLEAR_DEMO_DATA_MODAL,onDefaultModalClose:()=>G({defaultModal:undefined})})}},92102:(e,t,r)=>{r.d(t,{VY:()=>f,dL:()=>o,jO:()=>c,uu:()=>h,xx:()=>l,zJ:()=>i});var s=r(23211);var n=r(86347);var $=r(26570);let a=false;function o(e,t){e();window.setTimeout((()=>{o(e,t)}),t)}function i(e,t,r,s){const n=$(`.${r}`);if(e&&t.startLink!=="undefined"){n.removeClass(`${s}--hide`);n.on("click",(function(){t.startLink()}))}else{n.off("click");n.addClass(`${s}--hide`)}}function l(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"19325311-7882-4043-b503-b08e69b88da8";return new Promise(((t,r)=>{let s=false;let n=document.getElementById("snapengage");if(!n){n=document.createElement("script");n.id="snapengage";n.type="text/javascript";n.async=true;n.src=`//storage.googleapis.com/code.snapengage.com/js/${e}.js`;let t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}const a=function(){if(!s&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){s=true;window.SnapEngage.hideButton();t(window.SnapEngage)}};n.addEventListener("load",a);n.addEventListener("readystatechange",a)}))}const c=(e,t)=>{const r=document.querySelector(".js-help-center-button");if(r){r.addEventListener("click",(async()=>{const r=await h("19325311-7882-4043-b503-b08e69b88da8");r.getAgentStatusAsync((s=>{i(s,r,e,t)}))}))}};const d=()=>{const e=(0,s.y)();const t=`${e}/manifest.json`;return fetch(t).then((e=>e.json())).then((t=>{const r=t["salesforce-chat.js"];return new Promise((t=>{const s=document.createElement("script");s.src=r.startsWith("http")?r:(0,n.j)(e,r);s.async=true;s.onload=()=>t();document.head.appendChild(s)}))})).catch((e=>{console.warn(e)}))};const u=async e=>{window.addEventListener("SALESFORCE_CHAT_READY",e);await d()};const f=(e,t)=>{const r=window.sessionStorage.getItem("salesforce-chat-active");if(r){d()}const s=document.querySelector(".js-help-center-button");if(!s||!window.IS_WITHIN_SALESFORCE_CHAT_BUSINESS_HOURS){return}if(!a){i(false,{},e,t)}s.addEventListener("click",(async()=>{if(!a){a=true;window.addEventListener("SALESFORCE_CHAT_READY",(function(r){const s=r.detail.isAgentAvailable;i(s,{startLink:()=>{window.embedded_svc.bootstrapEmbeddedService()}},e,t)}));await d()}}))};const h=e=>{if(window.SnapEngage){return new Promise((t=>{window.SnapEngage.switchWidget(e,(()=>{t(window.SnapEngage)}))}))}else{return l(e).then((e=>e))}}},61468:(e,t,r)=>{r.d(t,{g:()=>S});var s=r(89835);var n=r(23321);var a=r.n(n);var o=r(26242);var i=r(14386);var l=r(51178);var c=r(53527);var d=r.n(c);var u=r(21198);var f=r.n(u);var h=r(37194);var m=r.n(h);var p=r(60658);var g=r(76604);var v=r(38857);var $=r(26570);const y=new u.BEM("InterstitialSetup");function S(e){const{userEmail:t,secret:r}=e;const n=window.location.hostname;const a=(0,v.EZ)(t,r,n);return(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:y.elem("Instructions")},void 0,(0,s.Z)(h.Message,{text:$.__("Follow these instructions to set up your Authenticator App.")})),(0,s.Z)("div",{className:y.elem("Setup")},void 0,(0,s.Z)("div",{className:y.elem("Steps")},void 0,(0,s.Z)("div",{className:y.elem("Step")},void 0,(0,s.Z)(o.L,{marginRight:1,marginTop:.25},void 0,(0,s.Z)(i.I,{color:"neutral-medium",name:"circle-1-regular",size:16})),(0,s.Z)("div",{className:y.elem("StepText")},void 0,(0,s.Z)(h.Message,{link1:(0,h.ExternalLink)(v.dO),link2:(0,h.ExternalLink)(v.hS),text:$._("Download an authenticator app on your mobile device (e.g. Google Authenticator [iOS](1) | [Android](2)).")}))),(0,s.Z)("div",{className:y.elem("Step")},void 0,(0,s.Z)(o.L,{marginRight:1,marginTop:.25},void 0,(0,s.Z)(i.I,{color:"neutral-medium",name:"circle-2-regular",size:16})),(0,s.Z)("div",{className:y.elem("StepText")},void 0,(0,s.Z)(h.Message,{text:$._("Open the app and add a new key by scanning the QR Code to the right or manually entering it.")})))),(0,s.Z)("div",{className:y.elem("QR")},void 0,(0,s.Z)("div",{className:y.elem("QRCode")},void 0,(0,s.Z)(d(),{value:a})),(0,s.Z)("div",{className:y.elem("QRManual")},void 0,(0,s.Z)(l.T,{clickAction:()=>{(0,p.K4)((0,s.Z)(g.MO,{code:r,onClose:p.Mr}))},size:"small",text:$.__("Enter Code Manually"),type:"button"})))))}},63039:(e,t,r)=>{r.d(t,{U:()=>i});var s=r(89835);var n=r(23321);var a=r.n(n);var o=r(73565);function i(e){const{userId:t,onEndProcessing:r,onStartProcessing:n,onGenerateBackupCodes:i,printRequestCount:l}=e;return a().createElement(a().Fragment,null,(0,s.Z)("div",{className:"InterstitialBackupCodes__content"},void 0,(0,s.Z)("div",{className:"InterstitialBackupCodes__codes"},void 0,(0,s.Z)(o.N8,{onEndGeneratingNewCodes:e=>{r(false);if(e&&i){i(e)}},onStartGeneratingNewCodes:()=>n(true),printRequestCount:l,userId:t}))))}},76604:(e,t,r)=>{r.d(t,{rR:()=>f,pt:()=>L,MO:()=>N,DH:()=>j});var s=r(89835);var n=r(23321);var a=r(26242);var o=r(13354);var i=r(56921);var l=r(88721);var c=r(49020);var d=r(54582);var u=r(73174);var $=r(26570);function f(e){const{isInvalid:t=false,enabledMfaChannels:r,onChange:f,onNext:h,onResendSms:m,preferredChannel:p=c.N.APP,lastFour:g,hitLimit:v}=e;const[y,S]=(0,n.useState)("");const[w,b]=(0,n.useState)(p);const[A,C]=(0,n.useState)(false);const[x,E]=(0,n.useState)(false);(0,n.useEffect)((()=>{b(p)}),[p]);return(0,s.Z)(a.L,{padding:2.5},void 0,(0,s.Z)(a.L,{paddingBottom:2.5},void 0,(0,s.Z)(o.H,{size:"medium"},void 0,(0,d.d)())),(0,s.Z)(a.L,{paddingTop:4},void 0,(0,s.Z)(u.A,{enabledMfaChannels:r,hitLimit:v,isInvalid:t,lastFour:g,onCodeChange:f,onRememberMeChange:C,onResendSms:m,rememberMeIsChecked:A,setCode:S,setType:b,type:w})),(0,s.Z)(i.F,{justifyContent:"end"},void 0,(0,s.Z)(l.B,{"data-button-next":"next",onClick:async()=>{E(true);const e=await h(y,A,w);if(e==="invalid code"||e==="unknown error"){E(false)}},processing:x,type:"button"},void 0,$.__("Continue"))))}var h=r(73565);var m=r(63039);var p=r(26570);function g(e){const{onDone:t,userId:r}=e;const[s,n]=useState(false);const[a,o]=useState(0);const i=e=>{n(e)};return _jsx("div",{className:"InterstitialBackupCodes"},void 0,_jsx("div",{className:"InterstitialBackupCodes__header"},void 0,_jsx("h2",{className:"InterstitialBackupCodes__headerTitle"},void 0,BACKUP_CODE_TITLE),_jsx("h4",{className:"InterstitialBackupCodes__headerHeadline"},void 0,BACKUP_CODES_HEADLINE)),_jsx(BackupCodesApp,{onDone:t,onEndProcessing:i,onStartProcessing:i,printRequestCount:a,userId:r}),_jsx("div",{className:"InterstitialBackupCodes__footer"},void 0,_jsx(Button,{clickAction:()=>t(),isDisabled:s,text:p.__("Ok, Got It"),type:"button"}),_jsx(Button,{clickAction:()=>downloadCodes(r),isDisabled:s,outline:true,secondary:true,text:p.__("Download"),type:"button"}),_jsx(Button,{clickAction:()=>o((e=>e+1)),isDisabled:s,outline:true,secondary:true,text:p.__("Print"),type:"button"})))}var v=r(21198);var y=r(61468);var S=r(26570);const w=new v.BEM("InterstitialSetup");function b(e){const{userEmail:t,secret:r,onNextStep:s}=e;return _jsx("div",{className:w.elem()},void 0,_jsx("h2",{className:w.elem("Header")},void 0,S.__("Setup 2-Step Login")),_jsx(AuthSetupComponent,{secret:r,userEmail:t}),_jsx("div",{className:w.elem("Footer")},void 0,_jsx(Button,{clickAction:s,text:S.__("Next"),type:"button"})))}var A=r(1666);var C=r(8319);var x=r(38857);var E=r(5625);var D=r(67667);function F(e){return"rememberToken"in e}function k(){const e=(0,x.sX)();const t=`/login.php?r=${e}&message[]=6`;window.location.replace(t)}var Z=r(26570);function L(e){const{onAuthenticated:t,userId:r}=e;const[a,o]=(0,n.useState)(false);const[i,l]=(0,n.useState)();const[d,u]=(0,n.useState)(false);const m=async e=>{const t=await(0,E.U0)(e);return t};const p=async()=>await(0,E.tI)(r).then((e=>{if(!e.success){u(true);return window.setMessage(Z.__(`You've hit your attempts limit. Please come back later and try again.`),"error")}return u(false)}));(0,n.useEffect)((()=>{m(r).then((e=>{if(e.preferredChannel===c.N.SMS){p()}l(e)}))}),[]);const g=async(e,s,n)=>{let a;if(!s){(0,h.g9)()}const i={[c.N.SMS]:D.r.SMS,[c.N.APP]:D.r.AUTHENTICATOR,[c.N.BACKUP]:D.r.BACKUP_CODES};if(e.length===x.mN){a=await(0,E.IP)(r,e,s,i[n])}else if(e.length===x.cd){a=await(0,E.cO)(r,e)}if(a){const{status:e,statusText:r}=a;o(false);if(e===200){if(F(a)&&a.rememberToken){(0,h.dM)(a.rememberToken)}t();return"success"}o(true);if(r?.includes("failed attempts")){k();return r}return r||"unknown error"}o(true);return"invalid code"};const v=i?.mfaChannelInfo?.sms.phone?i.mfaChannelInfo.sms.phone:"";return(0,s.Z)(A.I,{cardSize:C.a.SMALL},void 0,(0,s.Z)(f,{enabledMfaChannels:i?.enabledChannels,hitLimit:d,isInvalid:a,lastFour:v,onChange:()=>{o(false)},onNext:g,onResendSms:p,preferredChannel:i?.preferredChannel}))}var I=r(98675);var R=r(26570);const M=new v.BEM("MfaManualCodeModal");function N(e){const{code:t,onClose:r}=e;return(0,s.Z)(I.u_,{alternativeAction:null,isOpen:true,onClose:r,primaryAction:r,primaryActionText:R.__("Done"),title:R.__("Enter Code Manually")},void 0,(0,s.Z)("div",{className:M.elem("content")},void 0,(0,s.Z)("div",{className:M.elem("body")},void 0,(0,s.Z)("h4",{},void 0,R.__("When prompted, enter your account (this is usually your login email), the secret code below and set to a time based refresh.")),(0,s.Z)("h2",{className:M.elem("bodyCode")},void 0,t))))}function T(e){const{mfaSecret:t,onAuthenticated:r,userEmail:s,userId:n}=e;const[a,o]=useState(false);const[i,l]=useState("setup");const c=async(e,t)=>{if(e.length!==CODE_LENGTH_LOGIN){o(true);return"invalid code"}if(!t){removeStoredRememberToken()}const{rememberToken:r,status:s,statusText:a}=await postMultiFactorAuthenticationLoginCode(n,e,t);if(s===200){if(r){setStoredRememberToken(r)}o(false);l("backupCodes");return"success"}o(true);if(a.includes("failed attempts")){redirectToLogin();return a}return"invalid code"};return _jsx(Interstitial,{cardSize:CardSize.SMALL},void 0,i==="auth"&&_jsx(InterstitialAuth,{allowBackupCodes:false,isInvalid:a,onBack:()=>{o(false);l("setup")},onChange:()=>{o(false)},onNext:c}),i==="backupCodes"&&_jsx(InterstitialBackupCodes,{onDone:()=>r(),userId:n}),i==="setup"&&_jsx(InterstitialSetup,{onNextStep:()=>{l("auth")},secret:t,userEmail:s}))}var O=r(51341);var P=r(26570);const V=new v.BEM("ReminderModal");const B=(0,O.Z)();const U=B.startOf("day");function j(e){const{startDate:t,onActionDelay:r,onActionSetup:n}=e;const a=(0,x.$L)(t,U,"days");const o=P.__n("In %1$s day 2-Step Login will be Required","In %1$s days 2-Step Login will be Required",a);return(0,s.Z)(I.u_,{alternativeAction:null,icon:"lock-regular",iconV2Color:"primary-strong",isOpen:true,onClose:r,primaryAction:n,primaryActionText:P.__("Setup Now"),secondaryAction:r,secondaryActionText:P.__("Not Yet"),title:P.__("Just so you know...")},void 0,(0,s.Z)("div",{className:V.elem("content")},void 0,(0,s.Z)("div",{className:V.elem("header")},void 0,(0,s.Z)("h4",{className:V.elem("headerTitle")},void 0,o)),(0,s.Z)("div",{className:V.elem("body")},void 0,(0,s.Z)("span",{},void 0,P.__("To protect your private information, you will need to provide a verification code from your mobile device. It’s easy to setup and only takes a few minutes.")),(0,s.Z)("div",{className:V.elem("body","block")},void 0,P.__("Would you like to do that now?")))))}},54582:(e,t,r)=>{r.d(t,{G:()=>a,d:()=>n});var s=r(49020);var $=r(26570);function n(){return $.__("2-Step Login Required")}function a(e,t){if(e===s.N.BACKUP){return $.__("Enter a backup code")}if(e===s.N.SMS){return $.__("Enter the code that was texted to the number ending in %s",t)}return $.__("Enter the code from your authenticator app")}},73174:(e,t,r)=>{r.d(t,{A:()=>E});var s=r(89835);var n=r(23321);var a=r.n(n);var o=r(89100);var i=r(51178);var l=r(77343);var c=r(56921);var d=r(77285);var u=r(37194);var f=r(71779);var h=r(38857);var m=r(54582);var p=r(49020);var g=r(21198);var v=r(39030);const y=new g.BEM("InterstitialAuth");const S={Header:y.elem("Header"),Auth:y.elem("Auth"),Instructions:y.elem("Instructions"),InstructionsError:y.elem("InstructionsError"),Code:y.elem("Code"),RememberMe:y.elem("RememberMe"),InterstitialAuth:y.elem(),Footer:y.elem("Footer"),FooterAction:y.elem("FooterAction"),FooterActionLast:y.elem("FooterAction","--last"),mfaLoginInterstitial:"",authContent:"",mfaLoginInstructionText:"",resendCodeContainer:"",smsResendCode:""};const w=(0,v.m)((e=>{let{palette:t,typography:r}=e;return(0,v.c)({mfaLoginInstructionText:{color:t.gray[1e3],fontWeight:r.fontWeightBold},mfaLoginInterstitial:{"&.InterstitialAuth":{minHeight:"380px"}},resendCodeContainer:{marginRight:"46px"},authContent:{"&.InterstitialAuth__Auth":{paddingBottom:"38px"}},smsResendCode:{marginLeft:"48px"}})}));const b=()=>{const e=w();return{...S,...e}};const A=(0,v.m)((e=>{let{typography:t,palette:r}=e;return{boldCountdown:{fontWeight:t.fontWeightSemibold,display:"inline-block",marginRight:"3px",marginLeft:"3px"}}}));var $=r(26570);function C(e){let{onResendSms:t}=e;const[r,a]=(0,n.useState)(20);const o=A();let l;const d=()=>{a((e=>{if(e===0){clearInterval(l);return 0}return e-1}))};const f=()=>{a(20);clearInterval(l);l=setInterval(d,1e3)};const h=()=>{t();f()};(0,n.useEffect)((()=>{f()}),[]);return(0,s.Z)(c.F,{},void 0,r>15&&(0,s.Z)(i.T,{color:"secondary",disabled:true,startIcon:"circle-check-solid",type:"button"},void 0,$.__("Code Sent!")),r>0&&r<=15&&(0,s.Z)(i.T,{color:"secondary",disabled:true,startIcon:"arrow-rotate-right-regular"},void 0,(0,s.Z)(u.Message,{params:[r],strong:{tag:"p",className:o.boldCountdown},text:$._(`Resend Code in **{1}** sec`)})),r<=0&&(0,s.Z)(i.T,{onClick:h,startIcon:"arrow-rotate-right-regular",type:"button"},void 0,$.__(`Resend Code`)))}var x=r(26570);function E(e){const{enabledMfaChannels:t,isInvalid:r,type:n,onCodeChange:g,onRememberMeChange:v,onResendSms:y,rememberMeIsChecked:S,setCode:w,setType:A,lastFour:E="",hitLimit:D}=e;const F=n===p.N.BACKUP?h.cd:h.mN;const k=(0,o.canUseLocalStorage)();const Z=b();const L={[p.N.APP]:{text:x.__("Use authenticator app"),value:p.N.APP},[p.N.SMS]:{text:x.__("Send a text message"),value:p.N.SMS},[p.N.BACKUP]:{text:x.__("Use a backup code"),value:p.N.BACKUP}};const I=()=>{const e=t.filter((e=>e!==n));return e.map((e=>L[e]))};const R=()=>{if(!D){return(0,s.Z)(C,{onResendSms:y})}return(0,s.Z)(i.T,{onClick:y,startIcon:"arrow-rotate-right-regular",type:"button"},void 0,x.__(`Resend Code`))};return a().createElement(a().Fragment,null,(0,s.Z)("div",{className:`${Z.Auth} ${Z.authContent}`},void 0,(0,s.Z)("div",{className:`${Z.Instructions} ${Z.mfaLoginInstructionText}`},void 0,(0,m.G)(n,E),r&&(0,s.Z)("div",{className:Z.InstructionsError},void 0,(0,s.Z)(u.Message,{text:x._("Oops, something wasn’t right. Try again.")}))),(0,s.Z)("div",{className:Z.Code},void 0,(0,s.Z)(f.n,{digitLength:F,isInvalid:r,onChange:e=>{g(e);w(e);if(e.length===F){const e=document.querySelector("[data-button-next]");if(e){e.focus()}}}},n)),k&&(0,s.Z)("div",{className:Z.RememberMe},void 0,n===p.N.BACKUP?null:(0,s.Z)(l.C,{checked:S,id:"rememberMe",label:x.__(`Don't ask again on this device`),name:"rememberMe",onChange:e=>{let{checked:t}=e;v(t)},value:"rememberMe"})),(0,s.Z)(c.F,{justifyContent:"center",marginTop:4},void 0,n===p.N.SMS&&R(),t?.length>1&&(0,s.Z)(c.F,{flexDirection:"column",justifyContent:"center"},void 0,(0,s.Z)("div",{className:n===p.N.SMS?Z.smsResendCode:""},void 0,(0,s.Z)(d.S,{id:"mfaSelector",items:I(),onSelect:e=>{A(e);if(e===p.N.SMS){y()}},placeholder:x.__("Use a Different Method"),type:"text",value:[]}))))))}},21583:(e,t,r)=>{r.d(t,{Y:()=>v});var s=r(89835);var n=r(23321);var a=r.n(n);var o=r(7167);var i=r(56921);var l=r(77285);var c=r(37091);var d=r(67856);var u=r(86930);var f=r(14386);var h=r(79340);function m(e){const t=e.filter((e=>["United States +1","Canada +1","United Kingdom +44","Australia +61"].includes(e.value)));const r=e.filter((e=>!["United States +1","Canada +1","United Kingdom +44","Australia +61"].includes(e.value)));return[{items:t,type:"group",value:"top-countries"},{items:r,type:"group",value:"countries"}]}var $=r(26570);function p(e){const{phoneNumber:t,updatePhoneNumber:r,countryCode:n,updateCountryCode:o,countries:i}=e;return a().createElement(a().Fragment,null,(0,s.Z)(l.S,{id:"smsMfaSelect",isClearable:false,items:m(i),label:a().createElement(a().Fragment,null,(0,s.Z)(c.L,{required:true},void 0,$.__("Country Code")),(0,s.Z)(d.T,{content:$.__("SMS verification not available in all countries")},void 0,(0,s.Z)(u.I,{ariaLabel:"sms-country-code",color:"secondary","data-bi-id":"sms-country-code",floatingIcon:true,icon:(0,s.Z)(f.I,{name:"circle-question-regular",size:12}),noBoundingBox:true,type:"button"}))),name:"smsMfaSelect",onSelect:e=>{o(e)},required:true,showSearch:"always",value:n,width:7}),(0,s.Z)(h.T,{id:"smsNumberField",label:$.__("Phone Number"),onChange:e=>{r(e.target.value)},required:true,value:t,width:7}))}var g=r(26570);function v(e){return a().createElement(a().Fragment,null,(0,s.Z)(o.B,{color:"neutral-extra-strong",weight:"semibold"},void 0,g.__("We will send a verification code to the phone number you enter below.")),(0,s.Z)(i.F,{gap:2,marginY:3},void 0,a().createElement(p,e)),(0,s.Z)(o.B,{color:"neutral-extra-strong",size:"extra-small"},void 0,g.__("By configuring 2-step login using Text Message(SMS), we collect your phone number for the sole purpose of sending you 2-step login codes. This information is not used for any other notification or marketing purpose. We will not text you without a code being requested first.")))}},90977:(e,t,r)=>{r.d(t,{v:()=>n});const s=e=>{if(e.length<=6){return true}if(e.length>=16){return true}return false};const n=(e,t,r)=>{if(!e||!t){return true}return s(r)}},49020:(e,t,r)=>{r.d(t,{N:()=>s});let s=function(e){e["APP"]="app";e["BACKUP"]="backup";e["SMS"]="sms";return e}({})},38857:(e,t,r)=>{r.d(t,{$L:()=>c,EZ:()=>d,cd:()=>o,dO:()=>n,e6:()=>h,gu:()=>f,hS:()=>s,mN:()=>a,md:()=>m,sA:()=>p,sX:()=>u});const s="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2";const n="https://apps.apple.com/app/google-authenticator/id388497605";const a=6;const o=8;const i="/";const l=30;function c(e,t){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"days";let s=e.diff(t,r);if(Number.isNaN(s)||s<0){if(window.BambooHR.env.dev){console.error("difference is NaN or less than 0, resetting to 0")}s=0}return s}function d(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let t=arguments.length>1?arguments[1]:undefined;let r=arguments.length>2?arguments[2]:undefined;return`otpauth://totp/${e?.length?encodeURIComponent(e):"BambooHR"}?secret=${t}&issuer=${r}`}function u(){const e=new URLSearchParams(window.location.search);const t=e.get("r")??i;if(t===i){return t}const r=new URL(t,window.location.origin);if(r.origin!==window.location.origin){return i}if(r.protocol!=="https:"){r.protocol="https:"}return r.toString()}function f(){const e=new URLSearchParams(window.location.search);const t=e.get("r")??i;return t}function h(e,t){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"days";const s=c(e,t,r);return s>0}function m(e,t){if(!e.isValid()||!t.isValid()){return false}const r=c(e,t,"days");if(r<=l){return false}return true}function p(e,t,r){if(r!=="beforeRequired"||!e.isValid()||!t.isValid()){return false}const s=c(e,t,"days");if(s===0||s>l){return false}return true}},5625:(e,t,r)=>{r.d(t,{IK:()=>m,IP:()=>h,U0:()=>l,cO:()=>f,fJ:()=>p,tI:()=>d,uG:()=>c});var s=r(17842);var n=r.n(s);var a=r(73565);var o=r(49020);const i=s.ajax.create("multi-factor-auth",{baseURL:a.CW});async function l(e){try{const{data:t}=await i.request({method:"get",url:"/:userId",urlParams:{userId:e}});let r=o.N.APP;const s=t?.mfaChannels?.reduce(((e,s)=>{const{mfaChannelInfo:n={}}=t;const{isEnabled:a,isPreferred:i}=n[s];const l={sms:o.N.SMS,authenticator:o.N.APP,backup_codes:o.N.BACKUP};if(i){r=l[s]}if(a){e.push(l[s])}return e}),[]);return{...t,preferredChannel:r,enabledChannels:s}}catch(e){const{response:t}=e;return{error:t,startDate:"",status:undefined,mfaChannels:[],mfaChannelInfo:{}}}}async function c(e){try{await i.request({method:"post",url:"/:userId/sms",urlParams:{userId:e}});return{success:true}}catch(e){const{response:t}=e;if(t.status===429){return{error:t,success:false}}throw new Error(e)}}async function d(e){try{await i.request({method:"post",url:"/:userId/sms",urlParams:{userId:e}});return{success:true}}catch(e){const{response:t}=e;return{error:t,success:false}}}async function u(e){try{const{data:t}=await i.request({method:"post",url:"/:userId",urlParams:{userId:e}});return{id:t.id,secret:t.generatedMfaSecret,success:true}}catch(e){const{response:t}=e;return{error:t,id:-1,secret:"",success:false}}}async function f(e,t){try{const{status:r}=await i.request({data:{backupCode:t},method:"post",url:"/:userId/backup_codes/authenticate",urlParams:{userId:e}});return{status:r}}catch(e){const{response:t}=e;const{data:{error:r},status:s}=t;return{status:s,statusText:r}}}async function h(e,t){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;let s=arguments.length>3?arguments[3]:undefined;const n={mfaAuthenticationCode:t,rememberDevice:r};if(s){n.mfaChannel=s}try{const{data:{rememberToken:t},status:r}=await i.request({data:n,method:"post",url:"/:userId/authenticate",urlParams:{userId:e}});return{rememberToken:t,status:r}}catch(e){const{response:t}=e;const{data:{error:r},status:s}=t;return{status:s,statusText:r}}}async function m(e,t){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"";try{const{data:a}=await i.request({method:"put",url:"/:userId/:mfaChannel",urlParams:{userId:e,mfaChannel:t},data:{generateSecret:r,phone:s,countryCode:n}});return a}catch(e){throw new Error(e)}}async function p(e,t){try{const{status:r}=await i.request({method:"delete",url:"/:userId/:mfaChannel",urlParams:{userId:e,mfaChannel:t}});return{status:r}}catch(e){const{response:t}=e;const{status:r}=t;return{status:r}}}},67667:(e,t,r)=>{r.d(t,{r:()=>s});let s=function(e){e["SMS"]="sms";e["AUTHENTICATOR"]="authenticator";e["BACKUP_CODES"]="backup_codes";return e}({})},84309:(e,t,r)=>{var s=r(88604);var n=r(23321);var a=r.n(n);var o=r(70004);var i=r(83108);var l=r(16065);var c=r(40724);var d=r(51889);var u=r(41633);var f=r(4955);var h=r(7852);var m=r(55160);var p=r(68716);var g=r(8599);const v=JSON.parse(document.getElementById("poData")?.innerText||{});const y={};if(window.location.href.includes("/settings/task-list/")){window.sharedFilesManager=(0,d.u)();y.sharedFilesManager=window.sharedFilesManager}if(window.location.href.includes("/settings/training/")){window.sharedFilesManager=(0,u.l)();y.sharedFilesManager=window.sharedFilesManager}if(window.location.href.includes("/app/announcements/")){window.sharedFilesManager=(0,d.u)();y.sharedFilesManager=window.sharedFilesManager}if(window.location.pathname.startsWith("/app/reports")){y.shareModal=p.V8;y.reportScheduler=m.u}if(window.location.pathname.startsWith("/app/billing")||window.location.pathname.startsWith("/app/settings/account")){y.CancellationModal=l.zs;y.ConditionalDpaModal=i.kh;y.SadToGoBox=l.lr}if(window.location.pathname.startsWith("/app/settings/users/mfa_settings")){Object.assign(y,g.a)}if(window.location.pathname.startsWith("/app/settings/hiring")){window.sharedFilesManager=(0,f.l)();y.OfferLetterFilesManager=window.sharedFilesManager;y.FileCard=h.ZP}(0,o.bB)({children:a().createElement(c.x5,(0,s.Z)({},v,y)),attachedElement:document.getElementById("poRoot")})},55160:(e,t,r)=>{r.d(t,{u:()=>w});var s=r(89835);var n=r(23321);var a=r.n(n);var o=r(405);var i=r(54544);var l=r(77285);var c=r(77343);var d=r(14386);var u=r(33042);var f=r(37194);var $=r(26570);function h(e){const{getShareList:t}=e;const r=t();const n=e=>BambooHR.Utils.htmldecode(e);const a=(0,s.Z)(d.I,{name:"circle-user-solid",color:"primary-strong",size:20});const o=(0,s.Z)(d.I,{name:"users-solid",color:"primary-strong",size:20});let i=[];let l="";let c=false;if(r.length<=5){i=r}else{i=r.slice(0,4);if(r[4].userData){l=r[4].userData.name}else{l=r[4].name}c=true}return(0,s.Z)(u.S,{backgroundColor:"neutral-extra-extra-weak",borderColor:"neutral-extra-weak",borderStyle:"solid",borderRadius:"small",padding:2},void 0,(0,s.Z)("h5",{className:"RecipientList__header"},void 0,$.__(`We'll email this report to`)),i.map(((e,t)=>{e=e.userData;return(0,s.Z)("div",{className:"RecipientList__row"},t,e.type==="group"?o:a,(0,s.Z)("span",{className:"RecipientList__name"},void 0,n(e.name)))})),c&&(0,s.Z)("div",{className:"RecipientList__row"},void 0,o,(0,s.Z)(f.Message,{params:[n(l),r.length-5],text:$._("{1} and {2} more...")},"last-row")))}var m=r(17842);var p=r.n(m);var g=r(26570);const v=g.__("Something went wrong. Try again in a few moments.");const y=function(e,t){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:v;const s=`/reports/widget/${e}/reportScheduler?selectedDay=${t}&format=json`;return p().get(s)};var S=r(26570);var moment=r(82543);function w(e){const{getShareList:t,data:{formatData:r,rangeSelect:d,recurrenceDetails:u,shouldApplyFilters:f},employeeFiltersList:m,recurrenceSchedule:p,updateRecurrenceSchedule:g}=e;const v=[{text:S.__("Sunday"),value:"Sunday"},{text:S.__("Monday"),value:"Monday"},{text:S.__("Tuesday"),value:"Tuesday"},{text:S.__("Wednesday"),value:"Wednesday"},{text:S.__("Thursday"),value:"Thursday"},{text:S.__("Friday"),value:"Friday"},{text:S.__("Saturday"),value:"Saturday"}];const w=moment().locale("en").format("dddd");const[b,A]=(0,n.useState)();const[C,x]=(0,n.useState)();const[E,D]=(0,n.useState)();const[F,k]=(0,n.useState)([w]);const[Z,L]=(0,n.useState)(u.selectData.items);const[I,R]=(0,n.useState)([u.selectData.items[0].value]);const[M,N]=(0,n.useState)(p.emailWithFilters);const T=t=>y(e.widgetId,t||b||p.calendar||r.start).then((e=>e.data.data.recurrenceDetails.selectData.items));const O=e=>{if(e>1){d.selectData.items.forEach((e=>{if(e.text[e.text.length-1]!=="s"){e.text+="s"}}))}else{d.selectData.items.forEach((e=>{if(e.text[e.text.length-1]==="s"){e.text=e.text.substr(0,e.text.length-1)}}))}};(0,n.useEffect)((()=>{if(!b&&!p.calendar){A(r.start);g("calendar",r.start)}if(!b&&p.calendar){A(p.calendar);D(p.timePeriod);if(p.daysOfWeek?.length){k(p.daysOfWeek)}if(p.recurrenceSelection?.length){R(p.recurrenceSelection)}if(p.timePeriod.includes("month")){T().then((e=>{L(e)}))}}if(!C&&!p.interval){x(1);g("interval",1)}if(!C&&p.interval){x(p.interval);O(p.interval)}if(!E&&!p.timePeriod){D(["week"]);g("timePeriod",["week"])}if(!E&&p.timePeriod){D(p.timePeriod);g("timePeriod",p.timePeriod)}}),[]);(0,n.useEffect)((()=>{g("daysOfWeek",F)}),[F,g]);(0,n.useEffect)((()=>{g("recurrenceSelection",I)}),[I,g]);const P=e=>{A(e);g("calendar",e);T(e).then((e=>{L(e);R([e[0].value])}))};const V=e=>{let{value:t}=e.target;if(t<=0){t=1}O(t);x(t);g("interval",t)};const B=e=>{D(e);g("timePeriod",e);if(e.includes("week")){k([w])}if(e.includes("month")){T().then((e=>{L(e);R([e[0].value])}))}};const U=e=>{R(e);g("recurrenceSelection",e)};const j=e=>{N(e.checked);g("emailWithFilters",e.checked)};return(0,s.Z)("div",{className:"ReportScheduler"},void 0,(0,s.Z)(h,{getShareList:t}),(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:"ReportScheduler__label"},void 0,S.__("Starting on")),(0,s.Z)("div",{className:"ReportScheduler__inputGroup"},void 0,(0,s.Z)(i.D,{onChange:e=>P(e.value),required:true,value:b,minDate:r.minDate}),(0,s.Z)("p",{},void 0,S.__("repeating every")),(0,s.Z)("span",{className:"fab-FormField"},void 0,(0,s.Z)("input",{className:"fab-TextInput fab-TextInput--width1",defaultValue:C,min:"1",onChange:V,step:"1",type:"number"})),(0,s.Z)(o.S,{isClearable:false,items:d.selectData.items,onChange:B,selectedValues:E}),E&&E.includes("week")&&a().createElement(a().Fragment,null,S.__("on"),(0,s.Z)(l.S,{onChange:e=>k(e.target.value),items:v,value:F,width:4,isClearable:false})),E&&E.includes("month")&&a().createElement(a().Fragment,null,(0,s.Z)(o.S,{isClearable:false,items:Z,onChange:U,selectedValues:I,width:8})))),f&&m&&(0,s.Z)("div",{},void 0,(0,s.Z)("hr",{className:"ReportScheduler__border"}),(0,s.Z)("div",{className:"ReportScheduler__filtersCheckbox fab-Checkbox"},void 0,(0,s.Z)(c.C,{checked:M,id:"emailWithCurrentFilters",onChange:j,note:m,label:S.__("Email report with current filters applied")}))))}},68716:(e,t,r)=>{r.d(t,{V8:()=>I,sO:()=>U,iw:()=>H,a9:()=>G,xM:()=>q});var s=r(89835);var n=r(44119);var a=r(23321);var o=r.n(a);var i=r(73641);var l=r(37803);var c=r(14386);var d=r(84164);var u=r(86930);var f=r(57104);var h=r(51178);var m=r(37194);var p=r(40724);var g=r(72595);var v=r(17145);var y=r(39030);var S=r(51738);var w=r(88721);var b=r(59755);var A=r(52764);var C=r(85642);var $=r(26570);const x=(0,y.m)((e=>{let{typography:t}=e;return(0,y.c)({section:{fontWeight:t.fontWeightBold}})}));function E(e){const{permissions:{fields:t,other:r},isToolTip:n}=e;const a=Array.isArray(t)&&t.length>0;const i=Array.isArray(r)&&r.length>0;const l=x();if(n){return o().createElement(o().Fragment,null,a&&o().createElement(o().Fragment,null,(0,s.Z)("div",{className:l.section},void 0,$.__("Required Fields:")),o().createElement(o().Fragment,null,t.map((e=>(0,s.Z)("div",{},e,e))))),i&&o().createElement(o().Fragment,null,a&&o().createElement(o().Fragment,null,(0,s.Z)("br",{}),(0,s.Z)("div",{className:l.section},void 0,$.__("Other:"))),o().createElement(o().Fragment,null,r.map((e=>(0,s.Z)("div",{},e,e))))))}return o().createElement(o().Fragment,null,a&&o().createElement(o().Fragment,null,(0,s.Z)("div",{className:l.section},void 0,$.__("Required Fields:")),(0,s.Z)(b.L,{},void 0,t.map((e=>(0,s.Z)(b.L.Item,{},e,e))))),i&&o().createElement(o().Fragment,null,a&&o().createElement(o().Fragment,null,(0,s.Z)("br",{}),(0,s.Z)("div",{className:l.section},void 0,$.__("Other:"))),(0,s.Z)(b.L,{},void 0,r.map((e=>(0,s.Z)(b.L.Item,{},e,e))))))}function D(e){const{mode:t,themeName:r}=(0,C.Y)();return(0,s.Z)(A.ThemeProvider,{classNamePrefix:"jss-report-perms",mode:t,themeName:r},void 0,o().createElement(E,e))}var F=r(26570);const k=(0,y.m)((e=>{let{palette:t,typography:r}=e;return(0,y.c)({link:{color:t.action.active,cursor:"pointer","&:hover":{textDecoration:"underline"}},permission:{fontSize:r.fabricFontSize("small")}})}));function Z(e){const{reportTitle:t="",requiredPermissions:r={}}=e;const[n,i]=(0,a.useState)(false);const l=(0,a.useRef)(null);const c=()=>i(false);const d=k();(0,a.useEffect)((()=>{const e=l.current.querySelector("span");if(e){e.addEventListener("click",(()=>{i(true)}));e.classList.add(d.link);e.setAttribute("data-bi-id","reports-share-modal-show-permissions-modal")}}),[]);return o().createElement("span",{ref:l},(0,s.Z)(m.Message,{em:{tag:"span"},text:F._(`Check each person's row above to see *which necessary permissions* they can't access.`)}),(0,s.Z)(S.S,{isOpen:n,onRequestClose:c,shouldFocusAfterRender:true,shouldReturnFocusAfterClose:true},void 0,(0,s.Z)(S.S.Body,{renderFooter:(0,s.Z)(S.S.Footer,{actions:[(0,s.Z)(w.B,{clickAction:c,type:"button"},"done",F.__("Done"))]}),renderHeader:(0,s.Z)(S.S.Header,{hasCloseButton:true,title:F.__("%s required permissions",t)})},void 0,(0,s.Z)(S.S.Constraint,{},void 0,(0,s.Z)(E,{permissions:r})))))}var L=r(26570);var moment=r(82543);class I extends a.Component{constructor(){super(...arguments);(0,n.Z)(this,"getShareList",(()=>{const{shareList:e}=this.state;return e||[]}));(0,n.Z)(this,"setShareList",(e=>{this.setState({shareList:e})}));(0,n.Z)(this,"updateRecurrenceSchedule",((e,t)=>{this.setState((r=>({recurrenceSchedule:{...r.recurrenceSchedule,[e]:t}})))}));(0,n.Z)(this,"_schedulingisEnabled",(()=>{const{reportScheduler:e}=this.props;return!!e}));(0,n.Z)(this,"_scheduleIsComplete",(()=>{let e=false;const{recurrenceSchedule:t}=this.state;const{calendar:r,recurrenceSelection:s,interval:n,daysOfWeek:a}=t;const o=t.timePeriod[0];switch(o){case"day":e=true;break;case"week":if(a){e=true}break;case"month":if(s){e=true}break;case"year":e=true;break;default:e=false;break}if(!!r&&!!e&&!!n){return true}return false}));(0,n.Z)(this,"_handleSubmit",(e=>{const{scheduleConfig:t}=this.state;const{departmentDivisionDropdownFilter:r,employeeFilter:s,refreshWidgetData:n}=this.props;const a={...e,filterSettings:{departmentDivisionDropdownFilter:r,employeeFilter:s},id:this.reportId};if(t){a.reportScheduler=t}return q(a).then((()=>{this.setState((()=>({isUnsharedSchedule:false,shareList:[],scheduleConfig:null,recurrenceSchedule:{}})));n("shareModal")}),(e=>{const{response:{data:{error:{message:t,code:r}}}}=e;if(r>=500){window.Rollbar.error("Could not share report",e)}return Promise.reject(t)}))}));(0,n.Z)(this,"_handleShareListChange",(e=>{this.setState({shareList:e,shareListPeopleBox:e})}));(0,n.Z)(this,"_handleRemove",(e=>{const t=e&&e.type==="Group"?{user_group:e.id}:{user:e.id};const r={id:this.reportId,ids:t};return G(r).then((e=>{const t=e?.data?.msg?e.data.msg:L.__("You have successfully unshared this report");window.setMessage(t,"success");const{refreshWidgetData:r}=this.props;r("shareModal")}),(e=>{const{response:{data:{error:{message:t}}}}=e;if(t){window.setMessage(t,"error")}else{window.errorFallBack()}window.Rollbar.error("Could not unshare report",e)}))}));(0,n.Z)(this,"_handleUpdate",(()=>{const{widgetKey:e}=this.props;return H(this.reportId,e)}));(0,n.Z)(this,"_handleCancel",(()=>{this.setState({shareList:[]})}));(0,n.Z)(this,"_handleClose",(()=>{const{onClose:e,shouldUseNewShareModal:t}=this.props;if(!t){this._handleCancel();this._hideSharedSlideDown()}e()}));(0,n.Z)(this,"_handleScheduleButtonClick",(()=>{const{shareListPeopleBox:e}=this.state;this.setState({isEditingSchedule:false,isUnsharedSchedule:false,recurrenceSchedule:{},scheduleList:e},(()=>{this._toggleSheet(true)}))}));(0,n.Z)(this,"_handleScheduleIconButtonClick",(e=>{const t=[{user:e.id,userData:e,user_group:"user"}];let r={};if(e.reportScheduler){r=e.reportScheduler}this.setState({isEditingSchedule:true,isUnsharedSchedule:false,recurrenceSchedule:r,scheduleList:t},(()=>{this._toggleSheet(true)}))}));(0,n.Z)(this,"_handleHiddenReports",(e=>{let t=false;let r=false;if(e){e.map((e=>{if(e.isReportHidden){r=true}if(e.hiddenFields&&e.hiddenFields.length){t=true}}));this.setState({showFieldsWarning:t,showReportsWarning:r})}}));(0,n.Z)(this,"_toggleSheet",(e=>{const{isEditingSchedule:t,recurrenceSchedule:r,shareList:s,shareListPeopleBox:n=[],sheetProps:a}=this.state;const o=t?L.__("Update"):L.__("Save");const l={...a,content:this._renderReportScheduler(),isOpen:e,primaryActionText:o};if(t&&!(0,i.isEmpty)(r)){l.additionalAction=this._removeSchedule;l.additionalActionText=L.__("Remove Scheduled Email")}else{l.additionalAction=null;l.additionalActionText=null}this.setState((()=>({sheetProps:l})))}));(0,n.Z)(this,"_closeSheet",(()=>{const{isUnsharedSchedule:e}=this.state;this._toggleSheet(false);if(!e){this.setState((()=>({isEditingSchedule:false,recurrenceSchedule:{}})))}}));(0,n.Z)(this,"_getSchedulePayload",(e=>{const{departmentDivisionDropdownFilter:t,employeeFilter:r}=this.props;const{recurrenceSchedule:s,scheduleList:n}=this.state;const a=n.filter((e=>e.userData.type!=="Group")).map((e=>e.user));const o=n.filter((e=>e.userData.type==="Group")).map((e=>e.user));const i={filterSettings:{departmentDivisionDropdownFilter:t,employeeFilter:r},id:this.reportId,ids:{user:a,user_group:o},notify:true,reportScheduler:s};if(e){delete i.reportScheduler}return i}));(0,n.Z)(this,"_saveSchedule",(()=>{const{isEditingSchedule:e,recurrenceSchedule:t}=this.state;this._toggleSheet(false);if(this._scheduleIsComplete()){this.setState((()=>({scheduleConfig:t})))}if(!e){this.setState({isUnsharedSchedule:true})}if(e){const{refreshWidgetData:e}=this.props;return q(this._getSchedulePayload()).then((t=>{const r=t?.data?.msg?t.data.msg:L.__("You have successfully updated the report schedule.");window.setMessage(r,"success");e("shareModal");this.setState((()=>({isEditingSchedule:false,isUnsharedSchedule:false,recurrenceSchedule:{},scheduleConfig:null})))}),(e=>{const{response:{data:{error:{message:t,code:r}}}}=e;if(t){window.setMessage(t,"error")}else{window.errorFallBack()}if(r>=500){window.Rollbar.error("Could not save report schedule modal",e)}}))}}));(0,n.Z)(this,"_removeSchedule",(()=>{const{refreshWidgetData:e}=this.props;this._toggleSheet(false);return q(this._getSchedulePayload(true)).then((t=>{const r=t&&t.data&&t.data.msg?t.data.msg:L.__("You have successfully removed the report schedule.");window.setMessage(r,"success");e("shareModal");this.setState((()=>({recurrenceSchedule:{},isEditingSchedule:false})))}),(e=>{window.errorFallBack();window.Rollbar.error("Could not remove report schedule",e)}))}));(0,n.Z)(this,"_renderAccessListWarning",(e=>{const{isReportHidden:t,hiddenFields:r,missingPermissions:n}=e;const a=(0,s.Z)(c.I,{color:"warning-strong",name:"triangle-exclamation-solid",size:16});if(t){const e={content:L.__("This report is not visible to this user")};e.html=l.renderToStaticMarkup((0,s.Z)("div",{className:"ShareModal__HiddenInfoTooltip"},void 0,(0,s.Z)(D,{permissions:n,isToolTip:true})));return(0,s.Z)(v.Z,{settings:e,wrapperClassName:"AccessList__rowRightTooltip AccessList__rowRightTooltip--danger"},void 0,a)}if(r&&r.length){const e=r.toString();const t=e.split(",").join(" - ");const n={title:L.__("Hidden:"),content:L.__(`%1`,t)};return(0,s.Z)(v.Z,{settings:n,wrapperClassName:"AccessList__rowRightTooltip"},void 0,a)}}));(0,n.Z)(this,"_renderWarning",(()=>{const{data:{requiredPermissions:e},reportTitle:t}=this.props;const{showFieldsWarning:r,showReportsWarning:n}=this.state;if(r){return(0,s.Z)(d.I,{title:L.__("These people do not have access to all the columns in this report. These columns will be hidden from their view."),status:"warning"})}if(n){return(0,s.Z)(d.I,{title:L._(`Some people can't see the report because of their permissions.`),description:(0,s.Z)(Z,{reportTitle:t,requiredPermissions:e}),status:"warning"})}}));(0,n.Z)(this,"_renderScheduleButton",(e=>{const{isUnsharedSchedule:t,shareList:r}=this.state;const n=this._schedulingisEnabled()&&e&&r.length&&!t;return(0,s.Z)("div",{style:{visibility:n?"visible":"hidden"}},void 0,(0,s.Z)(h.T,{onClick:()=>{this._handleScheduleButtonClick()},inline:false,startIcon:"calendar-days-regular",size:"small",text:L.__("Schedule Recurring Email"),type:"button"}))}));(0,n.Z)(this,"_renderScheduleIconButton",((e,t)=>{const r=t==="add"?"calendar-circle-plus-regular":"calendar-lines-pen-regular";return(0,s.Z)(u.I,{"aria-label":L.__("Schedule Notifications"),icon:r,onClick:()=>{this._handleScheduleIconButtonClick(e)},size:"small",type:"button",variant:"outlined"})}));(0,n.Z)(this,"_renderScheduleInfoLine",(e=>{const{isUnsharedSchedule:t,recurrenceSchedule:r,recurrenceSchedule:{calendar:n,interval:a,timePeriod:o},shareList:l}=this.state;if(!(0,i.isEmpty)(r)&&this._schedulingisEnabled()&&e&&l.length&&t){const e=moment(n).format("MMM D");const t=a>1?`${a} ${o[0]}s`:o[0];return(0,s.Z)("div",{className:"ShareModal__scheduleInfoLine"},void 0,(0,s.Z)(m.Message,{params:[e,t],text:L._("Scheduled for {1}, repeating every {2}.")})," ",(0,s.Z)(h.T,{clickAction:()=>{this._toggleSheet(true)},inline:true,text:L.__("Edit schedule"),type:"button"}))}return null}));(0,n.Z)(this,"_renderAccessListRightSlot",(e=>{const{reportScheduler:t}=e;const{renderAccessListRightSlot:r}=this.props;const s=this._schedulingisEnabled();const n=t?.timePeriod?.length&&typeof t.timePeriod[0]==="string";return o().createElement(o().Fragment,null,this._renderAccessListWarning(e),r&&r(e),s&&!n&&this._renderScheduleIconButton(e,"add"),s&&n&&this._renderScheduleIconButton(e,"edit"))}));(0,n.Z)(this,"_renderPeopleSelectorBottomSlot",((e,t)=>{const{renderPeopleSelectorBottomSlot:r}=this.props;return o().createElement(o().Fragment,null,this._renderScheduleInfoLine(t),r&&r(e))}));(0,n.Z)(this,"_renderReportScheduler",(()=>{const{reportScheduler:e}=this.props;return(0,s.Z)(e,{getShareList:()=>this.state.scheduleList??[],isEditingSchedule:this.isEditingSchedule,recurrenceSchedule:this.recurrenceSchedule,updateRecurrenceSchedule:this.updateRecurrenceSchedule,widgetId:this.reportId,widgetKey:"reportScheduler"})}));(0,n.Z)(this,"_setupSheetProps",(()=>{this.setState((()=>({sheetProps:this._schedulingisEnabled()?{biId:"report-schedule",content:this._renderReportScheduler(),contentHasPadding:true,isOpen:false,primaryActionText:L.__("Save"),primaryAction:this._saveSchedule,onClose:this._closeSheet,title:L.__("Schedule Notification"),type:"mediumSheet"}:null})))}));(0,n.Z)(this,"_showSharedSlideDown",(()=>{this.setState({showSharedSlideDown:true})}));(0,n.Z)(this,"_hideSharedSlideDown",(()=>{this.setState({showSharedSlideDown:false})}));(0,n.Z)(this,"state",{isEditingSchedule:false,isUnsharedSchedule:false,recurrenceSchedule:{},shareList:[],showFieldsWarning:false,showSharedSlideDown:false})}static get className(){return"ShareModal"}get settings(){return{closeModalAfterSubmit:false,hideRemoveButtonForOwner:true,hideRemoveButtonForSelf:true,quickSearchEndpoint:"/quicksearch/share/report",remainOpenOnError:true,successMessage:L.__("You have successfully shared this report!"),showMessage:false}}get reportId(){const{data:{data:{reportId:e}}}=this.props;return e}get isEditingSchedule(){const{isEditingSchedule:e}=this.state;return e||false}get recurrenceSchedule(){const{recurrenceSchedule:e}=this.state;return e||{}}get sharedMessage(){const{data:{accessList:e=[]}}=this.props;const t=e.filter((e=>e.isReportHidden));const r=t.map((e=>e.name)).join(L.__(" and "));const s=t.length;let n=L.__("This report has been shared, but %1$s people or groups can’t access it yet.",s);if(s===1||s===2){n=L.__("This report has been successfully shared, but %1$s can’t access it yet.",r)}return n}componentDidMount(){const{data:{accessList:e},shouldUseNewShareModal:t}=this.props;if(!t){this._handleHiddenReports(e);this._setupSheetProps()}}componentDidUpdate(e){const{data:{accessList:t}}=e;const{data:{accessList:r},shouldUseNewShareModal:s}=this.props;const n=r?.length;const a=t?.length;if(!s){if(n>a){const e=r.some((e=>e.isReportHidden));if(e){this._showSharedSlideDown()}else{window.setMessage(this.settings.successMessage,"success")}}else if(n<a){this._hideSharedSlideDown()}}}render(){const{data:e,visible:t,shouldUseNewShareModal:r,reportTitle:n}=this.props;const{sheetProps:a,showSharedSlideDown:i}=this.state;if(r){return(0,s.Z)(p.x5,{isOpen:t,onClose:this._handleClose,reportId:this.reportId,reportName:n,reportType:"standard",route:"/report-share-modal"})}return o().createElement(o().Fragment,null,(0,s.Z)(g.V,{data:e,onAccessListUpdate:this._handleHiddenReports,onCancel:this._handleCancel,onClose:this._handleClose,onRawListChange:this._handleShareListChange,onRemove:this._handleRemove,onSubmit:this._handleSubmit,onUpdate:this._handleUpdate,renderAccessListRightSlot:this._renderAccessListRightSlot,renderPeopleSelectorBottomSlot:this._renderPeopleSelectorBottomSlot,renderPeopleSelectorNotifySiblingSlot:this._renderScheduleButton,renderWarning:this._renderWarning,setShareList:this.setShareList,settings:this.settings,sheetProps:a,title:L.__("Share this Report"),visible:t}),(0,s.Z)(f.S,{action:{biId:"reports-share-modal-update-access-level",text:`${L.__("Update Access Level")} »`,url:"/settings/access_levels/all"},message:this.sharedMessage,onDismiss:()=>{this._hideSharedSlideDown()},show:i,type:"info"}))}}var R=r(46676);var M=r(15935);var N=r(6963);var T=r(55160);function O(e,t){let{widgetKey:r,widgetId:s}=t;let n={selectionOrder:[]};let a="";if((0,N.H7)(e,"employeeFilter")){n=(0,N.OH)(e,"employeeFilter").toJS();const t=[];n.selectionOrder.forEach((e=>{const r=n.items.find((t=>t.value===e));if(r&&r.items){r.items.forEach((e=>{if(e.selected){t.push(e.displayText)}}))}}));a=t.length?t.join(", "):""}return{data:(0,N.OH)(e,r).toJS(),employeeFiltersList:a,widgetId:s}}const P=(0,R.$j)(O)(T.u);function V(e,t){let{widgetKey:r}=t;return{data:(0,N.OH)(e,r).toJS(),departmentDivisionDropdownFilter:(0,N.ln)(e).toJS().find((e=>e.name==="departmentDivisionDropdownFilter")),employeeFilter:(0,N.ln)(e).toJS().find((e=>e.name==="employeeFilter")),reportScheduler:(0,N.H7)(e,"reportScheduler")?P:null,widgetKey:r,reportTitle:(0,N.OH)(e,"reportTitle").toJS().displayText,shouldUseNewShareModal:(0,N.H7)(e,"shareButton")?(0,N.OH)(e,"shareButton").toJS().actionData?.legacyCustomReportsDisabled||false:false}}function B(e){return{refreshWidgetData:t=>{e((0,M.zg)(t))}}}const U=(0,R.$j)(V,B)(I);var j=r(17842);var W=r.n(j);function H(e,t){return W().get(`/reports/widget/${e}/${t}?format=json`)}function q(e){return W().post("/reports/advanced_sharing/share",e)}function G(e){return W().post("/reports/advanced_sharing/unshare",e)}},15935:(e,t,r)=>{r.d(t,{G1:()=>c,QB:()=>g,UU:()=>f,X2:()=>v,tQ:()=>p,zg:()=>o});var s=r(6963);var n=r(98735);function a(e,t,r){const a=e.get("reportId");const o=(0,s.ln)(e);const i=`/reports/widget/${a}/${t}`;return(0,n.C7)(i,o.toJS(),r)}function o(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return(r,s)=>{const n=s();r(i());return a(n,e,t).then((e=>{r(l(e))}))}}function i(){return{type:"REPORTS_LOAD_WIDGET_PENDING"}}function l(e){return{payload:e,type:"REPORTS_LOAD_WIDGET_FULFILLED"}}function c(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return(r,s)=>{const n=s();const o=e.map((e=>a(n,e,t)));return Promise.all(o).then((e=>r(u(e))))}}function d(){return{type:"REPORTS_LOAD_WIDGETS_PENDING"}}function u(e){return{payload:e,type:"REPORTS_LOAD_WIDGETS_FULFILLED"}}function f(e){return t=>{t(h());t(m(e))}}function h(){return{type:"REPORTS_REINITIALIZE_STATE_PENDING"}}function m(e){return{payload:e,type:"REPORTS_REINITIALIZE_STATE_FULFILLED"}}function p(e){return{payload:e,type:"REPORTS_REMOVE_WIDGET"}}function g(e){return{payload:e,type:"REPORTS_UPDATE_WIDGET"}}function v(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"click";return(r,n)=>{const a=n();const o=(0,s.OH)(a,"reportTitle").toJS().displayText;window.trackAction(e,{category:`${o} Report`},t)}}},6963:(e,t,r)=>{r.d(t,{Bm:()=>s,EH:()=>u,H7:()=>a,Kv:()=>m,LI:()=>o,OH:()=>i,eo:()=>f,ln:()=>d,p5:()=>h});const s=e=>e.getIn(["ui","feature"]);const n=e=>{const t=e.get("widgets");if(!t){throw new Error("No widgets were found in state")}return t};const a=(e,t)=>e.hasIn(["widgets",t]);const o=(e,t)=>{const r=e.getIn(["widgets",t]);if(!r){throw new Error(`Could not find widget with key "${t}" in state`)}return r};const i=(e,t)=>{const r=o(e,t);const s=r.get("data");if(!s){throw new Error("Could not find data property in widget")}return s};const l=(e,t)=>{const r=o(e,t);const s=r.get("formatData");if(!s){throw new Error("Could not find formatData property in widget")}return s};const c=(e,t,r)=>{const s=o(e,t);const n=s.getIn(["options",r]);if(!n){throw new Error(`Could not find option with key ${r} in widget`)}return n};const d=e=>{const t=e.get("appliedFilters");if(!t){throw new Error('Could not find "appliedFilters" in state')}return t};const u=(e,t)=>{const r=d(e);const s=r.find((e=>e.get("name")===t));return s};const f=(e,t)=>{const r=u(e,t);if(!r){throw new Error(`Could not find selected filter with ${t} in state`)}return r};const h=e=>e.get("url");const m=e=>e.getIn(["ui","shared","loading"])},98735:(e,t,r)=>{r.d(t,{B0:()=>c,C7:()=>d,QL:()=>l});var s=r(17842);var n=r.n(s);var a=r(85656);var o=r.n(a);var $=r(26570);const i=$.__("Something went wrong. Try again in a few moments.");const l=(e,t)=>{t={format:"json",...t};e=(0,a.extendURLDeep)(t,e);return $.getJSON(e).then((e=>e.formatData),(e=>{if(e.status!==200){window.setMessage(i,"error")}}))};function c(e,t){return n().post("/reports/manage.php",new URLSearchParams({id:e,action:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}})}const d=(e,t,r)=>{e=(0,a.extendURLDeep)(t,e);return u(e,r)};const u=(e,t)=>{e=(0,a.extendURLDeep)({format:"json"},e);e=(0,a.extendURLDeep)(t,e);return $.getJSON(e).then((e=>{if(e.options&&e.options.message){window.setMessage(e.options.message.text,e.options.message.type)}return e}),(e=>{window.setMessage(i,"error")}))}},8599:(e,t,r)=>{r.d(t,{a:()=>d});var s=r(61468);var n=r(73174);var a=r(63039);var o=r(21583);var i=r(90977);var l=r(5625);var c=r(73565);const d={BackupCodesApp:a.U,MfaAuthenticator:s.g,MfaCodeAuthentication:n.A,SmsMfaSetup:o.Y,backupCodesHeadline:c.WD,deleteMultiFactorAuthenticationChannel:l.fJ,downloadCodes:c.mX,getStoredRememberToken:c.K7,getUserMfaSettings:l.U0,isDisabledButton:i.v,postMultiFactorAuthenticationLoginCode:l.IP,postSmsCode:l.uG,putMultiFactorAuthenticationChannel:l.IK,setStoredRememberToken:c.dM}},88039:(e,t,r)=>{r.d(t,{bc:()=>M,cI:()=>qe});var s=r(23321);var n=e=>e.type==="checkbox";var a=e=>e instanceof Date;var o=e=>e==null;const i=e=>typeof e==="object";var l=e=>!o(e)&&!Array.isArray(e)&&i(e)&&!a(e);var c=e=>l(e)&&e.target?n(e.target)?e.target.checked:e.target.value:e;var d=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e;var u=(e,t)=>e.has(d(t));var f=e=>{const t=e.constructor&&e.constructor.prototype;return l(t)&&t.hasOwnProperty("isPrototypeOf")};var h=typeof window!=="undefined"&&typeof window.HTMLElement!=="undefined"&&typeof document!=="undefined";function m(e){let t;const r=Array.isArray(e);const s=typeof FileList!=="undefined"?e instanceof FileList:false;if(e instanceof Date){t=new Date(e)}else if(e instanceof Set){t=new Set(e)}else if(!(h&&(e instanceof Blob||s))&&(r||l(e))){t=r?[]:{};if(!r&&!f(e)){t=e}else{for(const r in e){if(e.hasOwnProperty(r)){t[r]=m(e[r])}}}}else{return e}return t}var p=e=>Array.isArray(e)?e.filter(Boolean):[];var g=e=>e===undefined;var v=(e,t,r)=>{if(!t||!l(e)){return r}const s=p(t.split(/[,[\].]+?/)).reduce(((e,t)=>o(e)?e:e[t]),e);return g(s)||s===e?g(e[t])?r:e[t]:s};var y=e=>typeof e==="boolean";var S=e=>/^\w*$/.test(e);var w=e=>p(e.replace(/["|']|\]/g,"").split(/\.|\[/));var b=(e,t,r)=>{let s=-1;const n=S(t)?[t]:w(t);const a=n.length;const o=a-1;while(++s<a){const t=n[s];let a=r;if(s!==o){const r=e[t];a=l(r)||Array.isArray(r)?r:!isNaN(+n[s+1])?[]:{}}if(t==="__proto__"||t==="constructor"||t==="prototype"){return}e[t]=a;e=e[t]}};const A={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"};const C={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"};const x={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};const E=s.createContext(null);const D=()=>s.useContext(E);const F=e=>{const{children:t,...r}=e;return React.createElement(E.Provider,{value:r},t)};var k=(e,t,r,s=true)=>{const n={defaultValues:t._defaultValues};for(const a in e){Object.defineProperty(n,a,{get:()=>{const n=a;if(t._proxyFormState[n]!==C.all){t._proxyFormState[n]=!s||C.all}r&&(r[n]=true);return e[n]}})}return n};function Z(e){const t=D();const{control:r=t.control,disabled:n,name:a,exact:o}=e||{};const[i,l]=s.useState(r._formState);const c=s.useRef({isDirty:false,isLoading:false,dirtyFields:false,touchedFields:false,validatingFields:false,isValidating:false,isValid:false,errors:false});const d=s.useRef(a);d.current=a;s.useEffect((()=>r._subscribe({name:d.current,formState:c.current,exact:o,callback:e=>{!n&&l({...r._formState,...e})}})),[r,n,o]);s.useEffect((()=>{c.current.isValid&&r._setValid(true)}),[r]);return s.useMemo((()=>k(i,r,c.current,false)),[i,r])}var L=e=>typeof e==="string";var I=(e,t,r,s,n)=>{if(L(e)){s&&t.watch.add(e);return v(r,e,n)}if(Array.isArray(e)){return e.map((e=>(s&&t.watch.add(e),v(r,e))))}s&&(t.watchAll=true);return r};function R(e){const t=D();const{control:r=t.control,name:n,defaultValue:a,disabled:o,exact:i}=e||{};const l=s.useRef(n);const c=s.useRef(a);l.current=n;s.useEffect((()=>r._subscribe({name:l.current,formState:{values:true},exact:i,callback:e=>!o&&u(I(l.current,r._names,e.values||r._formValues,false,c.current))})),[r,o,i]);const[d,u]=s.useState(r._getWatch(n,a));s.useEffect((()=>r._removeUnmounted()));return d}function M(e){const t=D();const{name:r,disabled:n,control:a=t.control,shouldUnregister:o}=e;const i=u(a._names.array,r);const l=R({control:a,name:r,defaultValue:v(a._formValues,r,v(a._defaultValues,r,e.defaultValue)),exact:true});const d=Z({control:a,name:r,exact:true});const f=s.useRef(e);const h=s.useRef(a.register(r,{...e.rules,value:l,...y(e.disabled)?{disabled:e.disabled}:{}}));const p=s.useMemo((()=>Object.defineProperties({},{invalid:{enumerable:true,get:()=>!!v(d.errors,r)},isDirty:{enumerable:true,get:()=>!!v(d.dirtyFields,r)},isTouched:{enumerable:true,get:()=>!!v(d.touchedFields,r)},isValidating:{enumerable:true,get:()=>!!v(d.validatingFields,r)},error:{enumerable:true,get:()=>v(d.errors,r)}})),[d,r]);const S=s.useCallback((e=>h.current.onChange({target:{value:c(e),name:r},type:A.CHANGE})),[r]);const w=s.useCallback((()=>h.current.onBlur({target:{value:v(a._formValues,r),name:r},type:A.BLUR})),[r,a._formValues]);const C=s.useCallback((e=>{const t=v(a._fields,r);if(t&&e){t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()}}}),[a._fields,r]);const x=s.useMemo((()=>({name:r,value:l,...y(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:S,onBlur:w,ref:C})),[r,n,d.disabled,S,w,C,l]);s.useEffect((()=>{const e=a._options.shouldUnregister||o;a.register(r,{...f.current.rules,...y(f.current.disabled)?{disabled:f.current.disabled}:{}});const t=(e,t)=>{const r=v(a._fields,e);if(r&&r._f){r._f.mount=t}};t(r,true);if(e){const e=m(v(a._options.defaultValues,r));b(a._defaultValues,r,e);if(g(v(a._formValues,r))){b(a._formValues,r,e)}}!i&&a.register(r);return()=>{(i?e&&!a._state.action:e)?a.unregister(r):t(r,false)}}),[r,a,i,o]);s.useEffect((()=>{a._setDisabledField({disabled:n,name:r})}),[n,r,a]);return s.useMemo((()=>({field:x,formState:d,fieldState:p})),[x,d,p])}const N=e=>e.render(M(e));const T=e=>{const t={};for(const r of Object.keys(e)){if(i(e[r])&&e[r]!==null){const s=T(e[r]);for(const e of Object.keys(s)){t[`${r}.${e}`]=s[e]}}else{t[r]=e[r]}}return t};const O="post";function P(e){const t=D();const[r,s]=React.useState(false);const{control:n=t.control,onSubmit:a,children:o,action:i,method:l=O,headers:c,encType:d,onError:u,render:f,onSuccess:h,validateStatus:m,...p}=e;const g=async t=>{let r=false;let s="";await n.handleSubmit((async e=>{const o=new FormData;let f="";try{f=JSON.stringify(e)}catch(e){}const p=T(n._formValues);for(const e in p){o.append(e,p[e])}if(a){await a({data:e,event:t,method:l,formData:o,formDataJson:f})}if(i){try{const e=[c&&c["Content-Type"],d].some((e=>e&&e.includes("json")));const t=await fetch(String(i),{method:l,headers:{...c,...d?{"Content-Type":d}:{}},body:e?f:o});if(t&&(m?!m(t.status):t.status<200||t.status>=300)){r=true;u&&u({response:t});s=String(t.status)}else{h&&h({response:t})}}catch(e){r=true;u&&u({error:e})}}}))(t);if(r&&e.control){e.control._subjects.state.next({isSubmitSuccessful:false});e.control.setError("root.server",{type:s})}};React.useEffect((()=>{s(true)}),[]);return f?React.createElement(React.Fragment,null,f({submit:g})):React.createElement("form",{noValidate:r,action:i,method:l,encType:d,onSubmit:g,...p},o)}var V=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||true}}:{};var B=e=>Array.isArray(e)?e:[e];var U=()=>{let e=[];const t=t=>{for(const r of e){r.next&&r.next(t)}};const r=t=>{e.push(t);return{unsubscribe:()=>{e=e.filter((e=>e!==t))}}};const s=()=>{e=[]};return{get observers(){return e},next:t,subscribe:r,unsubscribe:s}};var j=e=>o(e)||!i(e);function W(e,t){if(j(e)||j(t)){return e===t}if(a(e)&&a(t)){return e.getTime()===t.getTime()}const r=Object.keys(e);const s=Object.keys(t);if(r.length!==s.length){return false}for(const n of r){const r=e[n];if(!s.includes(n)){return false}if(n!=="ref"){const e=t[n];if(a(r)&&a(e)||l(r)&&l(e)||Array.isArray(r)&&Array.isArray(e)?!W(r,e):r!==e){return false}}}return true}var H=e=>l(e)&&!Object.keys(e).length;var q=e=>e.type==="file";var G=e=>typeof e==="function";var z=e=>{if(!h){return false}const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)};var K=e=>e.type===`select-multiple`;var J=e=>e.type==="radio";var Y=e=>J(e)||n(e);var Q=e=>z(e)&&e.isConnected;function X(e,t){const r=t.slice(0,-1).length;let s=0;while(s<r){e=g(e)?s++:e[t[s++]]}return e}function ee(e){for(const t in e){if(e.hasOwnProperty(t)&&!g(e[t])){return false}}return true}function te(e,t){const r=Array.isArray(t)?t:S(t)?[t]:w(t);const s=r.length===1?e:X(e,r);const n=r.length-1;const a=r[n];if(s){delete s[a]}if(n!==0&&(l(s)&&H(s)||Array.isArray(s)&&ee(s))){te(e,r.slice(0,-1))}return e}var re=e=>{for(const t in e){if(G(e[t])){return true}}return false};function se(e,t={}){const r=Array.isArray(e);if(l(e)||r){for(const r in e){if(Array.isArray(e[r])||l(e[r])&&!re(e[r])){t[r]=Array.isArray(e[r])?[]:{};se(e[r],t[r])}else if(!o(e[r])){t[r]=true}}}return t}function ne(e,t,r){const s=Array.isArray(e);if(l(e)||s){for(const s in e){if(Array.isArray(e[s])||l(e[s])&&!re(e[s])){if(g(t)||j(r[s])){r[s]=Array.isArray(e[s])?se(e[s],[]):{...se(e[s])}}else{ne(e[s],o(t)?{}:t[s],r[s])}}else{r[s]=!W(e[s],t[s])}}}return r}var ae=(e,t)=>ne(e,t,se(t));const oe={value:false,isValid:false};const ie={value:true,isValid:true};var le=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!g(e[0].attributes.value)?g(e[0].value)||e[0].value===""?ie:{value:e[0].value,isValid:true}:ie:oe}return oe};var ce=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>g(e)?e:t?e===""?NaN:e?+e:e:r&&L(e)?new Date(e):s?s(e):e;const de={isValid:false,value:null};var ue=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:true,value:t.value}:e),de):de;function fe(e){const t=e.ref;if(q(t)){return t.files}if(J(t)){return ue(e.refs).value}if(K(t)){return[...t.selectedOptions].map((({value:e})=>e))}if(n(t)){return le(e.refs).value}return ce(g(t.value)?e.ref.value:t.value,e)}var he=(e,t,r,s)=>{const n={};for(const r of e){const e=v(t,r);e&&b(n,r,e._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}};var me=e=>e instanceof RegExp;var pe=e=>g(e)?e:me(e)?e.source:l(e)?me(e.value)?e.value.source:e.value:e;var ge=e=>({isOnSubmit:!e||e===C.onSubmit,isOnBlur:e===C.onBlur,isOnChange:e===C.onChange,isOnAll:e===C.all,isOnTouch:e===C.onTouched});const ve="AsyncFunction";var ye=e=>!!e&&!!e.validate&&!!(G(e.validate)&&e.validate.constructor.name===ve||l(e.validate)&&Object.values(e.validate).find((e=>e.constructor.name===ve)));var _e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);var Se=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const we=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const r=v(e,n);if(r){const{_f:e,...a}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],n)&&!s){return true}else if(e.ref&&t(e.ref,e.name)&&!s){return true}else{if(we(a,t)){break}}}else if(l(a)){if(we(a,t)){break}}}}return};function be(e,t,r){const s=v(e,r);if(s||S(r)){return{error:s,name:r}}const n=r.split(".");while(n.length){const s=n.join(".");const a=v(t,s);const o=v(e,s);if(a&&!Array.isArray(a)&&r!==s){return{name:r}}if(o&&o.type){return{name:s,error:o}}n.pop()}return{name:r}}var Ae=(e,t,r,s)=>{r(e);const{name:n,...a}=e;return H(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find((e=>t[e]===(!s||C.all)))};var Ce=(e,t,r)=>!e||!t||e===t||B(e).some((e=>e&&(r?e===t:e.startsWith(t)||t.startsWith(e))));var xe=(e,t,r,s,n)=>{if(n.isOnAll){return false}else if(!r&&n.isOnTouch){return!(t||e)}else if(r?s.isOnBlur:n.isOnBlur){return!e}else if(r?s.isOnChange:n.isOnChange){return e}return true};var Ee=(e,t)=>!p(v(e,t)).length&&te(e,t);var De=(e,t,r)=>{const s=B(v(e,r));b(s,"root",t[r]);b(e,r,s);return e};var Fe=e=>L(e);function ke(e,t,r="validate"){if(Fe(e)||Array.isArray(e)&&e.every(Fe)||y(e)&&!e){return{type:r,message:Fe(e)?e:"",ref:t}}}var Ze=e=>l(e)&&!me(e)?e:{value:e,message:""};var Le=async(e,t,r,s,a,i)=>{const{ref:c,refs:d,required:u,maxLength:f,minLength:h,min:m,max:p,pattern:S,validate:w,name:b,valueAsNumber:A,mount:C}=e._f;const E=v(r,b);if(!C||t.has(b)){return{}}const D=d?d[0]:c;const F=e=>{if(a&&D.reportValidity){D.setCustomValidity(y(e)?"":e||"");D.reportValidity()}};const k={};const Z=J(c);const I=n(c);const R=Z||I;const M=(A||q(c))&&g(c.value)&&g(E)||z(c)&&c.value===""||E===""||Array.isArray(E)&&!E.length;const N=V.bind(null,b,s,k);const T=(e,t,r,s=x.maxLength,n=x.minLength)=>{const a=e?t:r;k[b]={type:e?s:n,message:a,ref:c,...N(e?s:n,a)}};if(i?!Array.isArray(E)||!E.length:u&&(!R&&(M||o(E))||y(E)&&!E||I&&!le(d).isValid||Z&&!ue(d).isValid)){const{value:e,message:t}=Fe(u)?{value:!!u,message:u}:Ze(u);if(e){k[b]={type:x.required,message:t,ref:D,...N(x.required,t)};if(!s){F(t);return k}}}if(!M&&(!o(m)||!o(p))){let e;let t;const r=Ze(p);const n=Ze(m);if(!o(E)&&!isNaN(E)){const s=c.valueAsNumber||(E?+E:E);if(!o(r.value)){e=s>r.value}if(!o(n.value)){t=s<n.value}}else{const s=c.valueAsDate||new Date(E);const a=e=>new Date((new Date).toDateString()+" "+e);const o=c.type=="time";const i=c.type=="week";if(L(r.value)&&E){e=o?a(E)>a(r.value):i?E>r.value:s>new Date(r.value)}if(L(n.value)&&E){t=o?a(E)<a(n.value):i?E<n.value:s<new Date(n.value)}}if(e||t){T(!!e,r.message,n.message,x.max,x.min);if(!s){F(k[b].message);return k}}}if((f||h)&&!M&&(L(E)||i&&Array.isArray(E))){const e=Ze(f);const t=Ze(h);const r=!o(e.value)&&E.length>+e.value;const n=!o(t.value)&&E.length<+t.value;if(r||n){T(r,e.message,t.message);if(!s){F(k[b].message);return k}}}if(S&&!M&&L(E)){const{value:e,message:t}=Ze(S);if(me(e)&&!E.match(e)){k[b]={type:x.pattern,message:t,ref:c,...N(x.pattern,t)};if(!s){F(t);return k}}}if(w){if(G(w)){const e=await w(E,r);const t=ke(e,D);if(t){k[b]={...t,...N(x.validate,t.message)};if(!s){F(t.message);return k}}}else if(l(w)){let e={};for(const t in w){if(!H(e)&&!s){break}const n=ke(await w[t](E,r),D,t);if(n){e={...n,...N(t,n.message)};F(n.message);if(s){k[b]=e}}}if(!H(e)){k[b]={ref:D,...e};if(!s){return k}}}}F(true);return k};const Ie={mode:C.onSubmit,reValidateMode:C.onChange,shouldFocusError:true};function Re(e={}){let t={...Ie,...e};let r={submitCount:0,isDirty:false,isLoading:G(t.defaultValues),isValidating:false,isSubmitted:false,isSubmitting:false,isSubmitSuccessful:false,isValid:false,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||false};const s={};let i=l(t.defaultValues)||l(t.values)?m(t.values||t.defaultValues)||{}:{};let d=t.shouldUnregister?{}:m(i);let f={action:false,mount:false,watch:false};let S={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set};let w;let x=0;const E={isDirty:false,dirtyFields:false,validatingFields:false,touchedFields:false,isValidating:false,isValid:false,errors:false};let D={...E};const F={array:U(),state:U()};const k=ge(t.mode);const Z=ge(t.reValidateMode);const R=t.criteriaMode===C.all;const M=e=>t=>{clearTimeout(x);x=setTimeout(e,t)};const N=async e=>{if(!t.disabled&&(E.isValid||D.isValid||e)){const e=t.resolver?H((await ee()).errors):await se(s,true);if(e!==r.isValid){F.state.next({isValid:e})}}};const T=(e,s)=>{if(!t.disabled&&(E.isValidating||E.validatingFields||D.isValidating||D.validatingFields)){(e||Array.from(S.mount)).forEach((e=>{if(e){s?b(r.validatingFields,e,s):te(r.validatingFields,e)}}));F.state.next({validatingFields:r.validatingFields,isValidating:!H(r.validatingFields)})}};const O=(e,n=[],a,o,l=true,c=true)=>{if(o&&a&&!t.disabled){f.action=true;if(c&&Array.isArray(v(s,e))){const t=a(v(s,e),o.argA,o.argB);l&&b(s,e,t)}if(c&&Array.isArray(v(r.errors,e))){const t=a(v(r.errors,e),o.argA,o.argB);l&&b(r.errors,e,t);Ee(r.errors,e)}if((E.touchedFields||D.touchedFields)&&c&&Array.isArray(v(r.touchedFields,e))){const t=a(v(r.touchedFields,e),o.argA,o.argB);l&&b(r.touchedFields,e,t)}if(E.dirtyFields||D.dirtyFields){r.dirtyFields=ae(i,d)}F.state.next({name:e,isDirty:oe(e,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else{b(d,e,n)}};const P=(e,t)=>{b(r.errors,e,t);F.state.next({errors:r.errors})};const V=e=>{r.errors=e;F.state.next({errors:r.errors,isValid:false})};const j=(e,t,r,n)=>{const a=v(s,e);if(a){const s=v(d,e,g(r)?v(i,e):r);g(s)||n&&n.defaultChecked||t?b(d,e,t?s:fe(a._f)):de(e,s);f.mount&&N()}};const J=(e,s,n,a,o)=>{let l=false;let c=false;const d={name:e};if(!t.disabled){if(!n||a){if(E.isDirty||D.isDirty){c=r.isDirty;r.isDirty=d.isDirty=oe();l=c!==d.isDirty}const t=W(v(i,e),s);c=!!v(r.dirtyFields,e);t?te(r.dirtyFields,e):b(r.dirtyFields,e,true);d.dirtyFields=r.dirtyFields;l=l||(E.dirtyFields||D.dirtyFields)&&c!==!t}if(n){const t=v(r.touchedFields,e);if(!t){b(r.touchedFields,e,n);d.touchedFields=r.touchedFields;l=l||(E.touchedFields||D.touchedFields)&&t!==n}}l&&o&&F.state.next(d)}return l?d:{}};const X=(e,s,n,a)=>{const o=v(r.errors,e);const i=(E.isValid||D.isValid)&&y(s)&&r.isValid!==s;if(t.delayError&&n){w=M((()=>P(e,n)));w(t.delayError)}else{clearTimeout(x);w=null;n?b(r.errors,e,n):te(r.errors,e)}if((n?!W(o,n):o)||!H(a)||i){const t={...a,...i&&y(s)?{isValid:s}:{},errors:r.errors,name:e};r={...r,...t};F.state.next(t)}};const ee=async e=>{T(e,true);const r=await t.resolver(d,t.context,he(e||S.mount,s,t.criteriaMode,t.shouldUseNativeValidation));T(e);return r};const re=async e=>{const{errors:t}=await ee(e);if(e){for(const s of e){const e=v(t,s);e?b(r.errors,s,e):te(r.errors,s)}}else{r.errors=t}return t};const se=async(e,s,n={valid:true})=>{for(const a in e){const o=e[a];if(o){const{_f:e,...i}=o;if(e){const i=S.array.has(e.name);const l=o._f&&ye(o._f);if(l&&E.validatingFields){T([a],true)}const c=await Le(o,S.disabled,d,R,t.shouldUseNativeValidation&&!s,i);if(l&&E.validatingFields){T([a])}if(c[e.name]){n.valid=false;if(s){break}}!s&&(v(c,e.name)?i?De(r.errors,c,e.name):b(r.errors,e.name,c[e.name]):te(r.errors,e.name))}!H(i)&&await se(i,s,n)}}return n.valid};const ne=()=>{for(const e of S.unMount){const t=v(s,e);t&&(t._f.refs?t._f.refs.every((e=>!Q(e))):!Q(t._f.ref))&&Ve(e)}S.unMount=new Set};const oe=(e,r)=>!t.disabled&&(e&&r&&b(d,e,r),!W(Ze(),i));const ie=(e,t,r)=>I(e,S,{...f.mount?d:g(t)?i:L(e)?{[e]:t}:t},r,t);const le=e=>p(v(f.mount?d:i,e,t.shouldUnregister?v(i,e,[]):[]));const de=(e,t,r={})=>{const a=v(s,e);let i=t;if(a){const r=a._f;if(r){!r.disabled&&b(d,e,ce(t,r));i=z(r.ref)&&o(t)?"":t;if(K(r.ref)){[...r.ref.options].forEach((e=>e.selected=i.includes(e.value)))}else if(r.refs){if(n(r.ref)){r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):r.refs[0]&&(r.refs[0].checked=!!i)}else{r.refs.forEach((e=>e.checked=e.value===i))}}else if(q(r.ref)){r.ref.value=""}else{r.ref.value=i;if(!r.ref.type){F.state.next({name:e,values:m(d)})}}}}(r.shouldDirty||r.shouldTouch)&&J(e,i,r.shouldTouch,r.shouldDirty,true);r.shouldValidate&&ke(e)};const ue=(e,t,r)=>{for(const n in t){const o=t[n];const i=`${e}.${n}`;const c=v(s,i);(S.array.has(e)||l(o)||c&&!c._f)&&!a(o)?ue(i,o,r):de(i,o,r)}};const me=(e,t,n={})=>{const a=v(s,e);const l=S.array.has(e);const c=m(t);b(d,e,c);if(l){F.array.next({name:e,values:m(d)});if((E.isDirty||E.dirtyFields||D.isDirty||D.dirtyFields)&&n.shouldDirty){F.state.next({name:e,dirtyFields:ae(i,d),isDirty:oe(e,c)})}}else{a&&!a._f&&!o(c)?ue(e,c,n):de(e,c,n)}Se(e,S)&&F.state.next({...r});F.state.next({name:f.mount?e:undefined,values:m(d)})};const ve=async e=>{f.mount=true;const n=e.target;let o=n.name;let i=true;const l=v(s,o);const u=e=>{i=Number.isNaN(e)||a(e)&&isNaN(e.getTime())||W(e,v(d,o,e))};if(l){let a;let f;const h=n.type?fe(l._f):c(e);const p=e.type===A.BLUR||e.type===A.FOCUS_OUT;const g=!_e(l._f)&&!t.resolver&&!v(r.errors,o)&&!l._f.deps||xe(p,v(r.touchedFields,o),r.isSubmitted,Z,k);const y=Se(o,S,p);b(d,o,h);if(p){l._f.onBlur&&l._f.onBlur(e);w&&w(0)}else if(l._f.onChange){l._f.onChange(e)}const C=J(o,h,p);const x=!H(C)||y;!p&&F.state.next({name:o,type:e.type,values:m(d)});if(g){if(E.isValid||D.isValid){if(t.mode==="onBlur"){if(p){N()}}else if(!p){N()}}return x&&F.state.next({name:o,...y?{}:C})}!p&&y&&F.state.next({...r});if(t.resolver){const{errors:e}=await ee([o]);u(h);if(i){const t=be(r.errors,s,o);const n=be(e,s,t.name||o);a=n.error;o=n.name;f=H(e)}}else{T([o],true);a=(await Le(l,S.disabled,d,R,t.shouldUseNativeValidation))[o];T([o]);u(h);if(i){if(a){f=false}else if(E.isValid||D.isValid){f=await se(s,true)}}}if(i){l._f.deps&&ke(l._f.deps);X(o,f,a,C)}}};const Fe=(e,t)=>{if(v(r.errors,t)&&e.focus){e.focus();return 1}return};const ke=async(e,n={})=>{let a;let o;const i=B(e);if(t.resolver){const t=await re(g(e)?e:i);a=H(t);o=e?!i.some((e=>v(t,e))):a}else if(e){o=(await Promise.all(i.map((async e=>{const t=v(s,e);return await se(t&&t._f?{[e]:t}:t)})))).every(Boolean);!(!o&&!r.isValid)&&N()}else{o=a=await se(s)}F.state.next({...!L(e)||(E.isValid||D.isValid)&&a!==r.isValid?{}:{name:e},...t.resolver||!e?{isValid:a}:{},errors:r.errors});n.shouldFocus&&!o&&we(s,Fe,e?i:S.mount);return o};const Ze=e=>{const t={...f.mount?d:i};return g(e)?t:L(e)?v(t,e):e.map((e=>v(t,e)))};const Re=(e,t)=>({invalid:!!v((t||r).errors,e),isDirty:!!v((t||r).dirtyFields,e),error:v((t||r).errors,e),isValidating:!!v(r.validatingFields,e),isTouched:!!v((t||r).touchedFields,e)});const Me=e=>{e&&B(e).forEach((e=>te(r.errors,e)));F.state.next({errors:e?r.errors:{}})};const Ne=(e,t,n)=>{const a=(v(s,e,{_f:{}})._f||{}).ref;const o=v(r.errors,e)||{};const{ref:i,message:l,type:c,...d}=o;b(r.errors,e,{...d,...t,ref:a});F.state.next({name:e,errors:r.errors,isValid:false});n&&n.shouldFocus&&a&&a.focus&&a.focus()};const Te=(e,t)=>G(e)?F.state.subscribe({next:r=>e(ie(undefined,t),r)}):ie(e,t,true);const Oe=e=>F.state.subscribe({next:t=>{if(Ce(e.name,t.name,e.exact)&&Ae(t,e.formState||E,Ke,e.reRenderRoot)){e.callback({values:{...d},...r,...t})}}}).unsubscribe;const Pe=e=>{f.mount=true;D={...D,...e.formState};return Oe({...e,formState:D})};const Ve=(e,n={})=>{for(const a of e?B(e):S.mount){S.mount.delete(a);S.array.delete(a);if(!n.keepValue){te(s,a);te(d,a)}!n.keepError&&te(r.errors,a);!n.keepDirty&&te(r.dirtyFields,a);!n.keepTouched&&te(r.touchedFields,a);!n.keepIsValidating&&te(r.validatingFields,a);!t.shouldUnregister&&!n.keepDefaultValue&&te(i,a)}F.state.next({values:m(d)});F.state.next({...r,...!n.keepDirty?{}:{isDirty:oe()}});!n.keepIsValid&&N()};const Be=({disabled:e,name:t})=>{if(y(e)&&f.mount||!!e||S.disabled.has(t)){e?S.disabled.add(t):S.disabled.delete(t)}};const Ue=(e,r={})=>{let n=v(s,e);const a=y(r.disabled)||y(t.disabled);b(s,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:true,...r}});S.mount.add(e);if(n){Be({disabled:y(r.disabled)?r.disabled:t.disabled,name:e})}else{j(e,true,r.value)}return{...a?{disabled:r.disabled||t.disabled}:{},...t.progressive?{required:!!r.required,min:pe(r.min),max:pe(r.max),minLength:pe(r.minLength),maxLength:pe(r.maxLength),pattern:pe(r.pattern)}:{},name:e,onChange:ve,onBlur:ve,ref:a=>{if(a){Ue(e,r);n=v(s,e);const t=g(a.value)?a.querySelectorAll?a.querySelectorAll("input,select,textarea")[0]||a:a:a;const o=Y(t);const l=n._f.refs||[];if(o?l.find((e=>e===t)):t===n._f.ref){return}b(s,e,{_f:{...n._f,...o?{refs:[...l.filter(Q),t,...Array.isArray(v(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}});j(e,false,undefined,t)}else{n=v(s,e,{});if(n._f){n._f.mount=false}(t.shouldUnregister||r.shouldUnregister)&&!(u(S.array,e)&&f.action)&&S.unMount.add(e)}}}};const je=()=>t.shouldFocusError&&we(s,Fe,S.mount);const We=e=>{if(y(e)){F.state.next({disabled:e});we(s,((t,r)=>{const n=v(s,r);if(n){t.disabled=n._f.disabled||e;if(Array.isArray(n._f.refs)){n._f.refs.forEach((t=>{t.disabled=n._f.disabled||e}))}}}),0,false)}};const He=(e,n)=>async a=>{let o=undefined;if(a){a.preventDefault&&a.preventDefault();a.persist&&a.persist()}let i=m(d);F.state.next({isSubmitting:true});if(t.resolver){const{errors:e,values:t}=await ee();r.errors=e;i=t}else{await se(s)}if(S.disabled.size){for(const e of S.disabled){b(i,e,undefined)}}te(r.errors,"root");if(H(r.errors)){F.state.next({errors:{}});try{await e(i,a)}catch(e){o=e}}else{if(n){await n({...r.errors},a)}je();setTimeout(je)}F.state.next({isSubmitted:true,isSubmitting:false,isSubmitSuccessful:H(r.errors)&&!o,submitCount:r.submitCount+1,errors:r.errors});if(o){throw o}};const $e=(e,t={})=>{if(v(s,e)){if(g(t.defaultValue)){me(e,m(v(i,e)))}else{me(e,t.defaultValue);b(i,e,m(t.defaultValue))}if(!t.keepTouched){te(r.touchedFields,e)}if(!t.keepDirty){te(r.dirtyFields,e);r.isDirty=t.defaultValue?oe(e,m(v(i,e))):oe()}if(!t.keepError){te(r.errors,e);E.isValid&&N()}F.state.next({...r})}};const qe=(e,n={})=>{const a=e?m(e):i;const o=m(a);const l=H(e);const c=l?i:o;if(!n.keepDefaultValues){i=a}if(!n.keepValues){if(n.keepDirtyValues){const e=new Set([...S.mount,...Object.keys(ae(i,d))]);for(const t of Array.from(e)){v(r.dirtyFields,t)?b(c,t,v(d,t)):me(t,v(c,t))}}else{if(h&&g(e)){for(const e of S.mount){const t=v(s,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(z(e)){const t=e.closest("form");if(t){t.reset();break}}}}}for(const e of S.mount){me(e,v(c,e))}}d=m(c);F.array.next({values:{...c}});F.state.next({values:{...c}})}S={mount:n.keepDirtyValues?S.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:false,focus:""};f.mount=!E.isValid||!!n.keepIsValid||!!n.keepDirtyValues;f.watch=!!t.shouldUnregister;F.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:l?false:n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!W(e,i)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:false,dirtyFields:l?{}:n.keepDirtyValues?n.keepDefaultValues&&d?ae(i,d):r.dirtyFields:n.keepDefaultValues&&e?ae(i,e):n.keepDirty?r.dirtyFields:{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?r.isSubmitSuccessful:false,isSubmitting:false})};const Ge=(e,t)=>qe(G(e)?e(d):e,t);const ze=(e,t={})=>{const r=v(s,e);const n=r&&r._f;if(n){const e=n.refs?n.refs[0]:n.ref;if(e.focus){e.focus();t.shouldSelect&&G(e.select)&&e.select()}}};const Ke=e=>{r={...r,...e}};const Je=()=>G(t.defaultValues)&&t.defaultValues().then((e=>{Ge(e,t.resetOptions);F.state.next({isLoading:false})}));const Ye={control:{register:Ue,unregister:Ve,getFieldState:Re,handleSubmit:He,setError:Ne,_subscribe:Oe,_runSchema:ee,_getWatch:ie,_getDirty:oe,_setValid:N,_setFieldArray:O,_setDisabledField:Be,_setErrors:V,_getFieldArray:le,_reset:qe,_resetDefaultValues:Je,_removeUnmounted:ne,_disableForm:We,_subjects:F,_proxyFormState:E,get _fields(){return s},get _formValues(){return d},get _state(){return f},set _state(e){f=e},get _defaultValues(){return i},get _names(){return S},set _names(e){S=e},get _formState(){return r},get _options(){return t},set _options(e){t={...t,...e}}},subscribe:Pe,trigger:ke,register:Ue,handleSubmit:He,watch:Te,setValue:me,getValues:Ze,reset:Ge,resetField:$e,clearErrors:Me,unregister:Ve,setError:Ne,setFocus:ze,getFieldState:Re};return{...Ye,formControl:Ye}}var Me=()=>{const e=typeof performance==="undefined"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)}))};var Ne=(e,t,r={})=>r.shouldFocus||g(r.shouldFocus)?r.focusName||`${e}.${g(r.focusIndex)?t:r.focusIndex}.`:"";var Te=(e,t)=>[...e,...B(t)];var Oe=e=>Array.isArray(e)?e.map((()=>undefined)):undefined;function Pe(e,t,r){return[...e.slice(0,t),...B(r),...e.slice(t)]}var Ve=(e,t,r)=>{if(!Array.isArray(e)){return[]}if(g(e[r])){e[r]=undefined}e.splice(r,0,e.splice(t,1)[0]);return e};var Be=(e,t)=>[...B(t),...B(e)];function Ue(e,t){let r=0;const s=[...e];for(const e of t){s.splice(e-r,1);r++}return p(s).length?s:[]}var je=(e,t)=>g(t)?[]:Ue(e,B(t).sort(((e,t)=>e-t)));var We=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};var He=(e,t,r)=>{e[t]=r;return e};function $e(e){const t=D();const{control:r=t.control,name:s,keyName:n="id",shouldUnregister:a,rules:o}=e;const[i,l]=React.useState(r._getFieldArray(s));const c=React.useRef(r._getFieldArray(s).map(Me));const d=React.useRef(i);const u=React.useRef(s);const f=React.useRef(false);u.current=s;d.current=i;r._names.array.add(s);o&&r.register(s,o);React.useEffect((()=>r._subjects.array.subscribe({next:({values:e,name:t})=>{if(t===u.current||!t){const t=v(e,u.current);if(Array.isArray(t)){l(t);c.current=t.map(Me)}}}}).unsubscribe),[r]);const h=React.useCallback((e=>{f.current=true;r._setFieldArray(s,e)}),[r,s]);const p=(e,t)=>{const n=B(m(e));const a=Te(r._getFieldArray(s),n);r._names.focus=Ne(s,a.length-1,t);c.current=Te(c.current,n.map(Me));h(a);l(a);r._setFieldArray(s,a,Te,{argA:Oe(e)})};const g=(e,t)=>{const n=B(m(e));const a=Be(r._getFieldArray(s),n);r._names.focus=Ne(s,0,t);c.current=Be(c.current,n.map(Me));h(a);l(a);r._setFieldArray(s,a,Be,{argA:Oe(e)})};const y=e=>{const t=je(r._getFieldArray(s),e);c.current=je(c.current,e);h(t);l(t);!Array.isArray(v(r._fields,s))&&b(r._fields,s,undefined);r._setFieldArray(s,t,je,{argA:e})};const S=(e,t,n)=>{const a=B(m(t));const o=Pe(r._getFieldArray(s),e,a);r._names.focus=Ne(s,e,n);c.current=Pe(c.current,e,a.map(Me));h(o);l(o);r._setFieldArray(s,o,Pe,{argA:e,argB:Oe(t)})};const w=(e,t)=>{const n=r._getFieldArray(s);We(n,e,t);We(c.current,e,t);h(n);l(n);r._setFieldArray(s,n,We,{argA:e,argB:t},false)};const A=(e,t)=>{const n=r._getFieldArray(s);Ve(n,e,t);Ve(c.current,e,t);h(n);l(n);r._setFieldArray(s,n,Ve,{argA:e,argB:t},false)};const x=(e,t)=>{const n=m(t);const a=He(r._getFieldArray(s),e,n);c.current=[...a].map(((t,r)=>!t||r===e?Me():c.current[r]));h(a);l([...a]);r._setFieldArray(s,a,He,{argA:e,argB:n},true,false)};const E=e=>{const t=B(m(e));c.current=t.map(Me);h([...t]);l([...t]);r._setFieldArray(s,[...t],(e=>e),{},true,false)};React.useEffect((()=>{r._state.action=false;Se(s,r._names)&&r._subjects.state.next({...r._formState});if(f.current&&(!ge(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!ge(r._options.reValidateMode).isOnSubmit){if(r._options.resolver){r._runSchema([s]).then((e=>{const t=v(e.errors,s);const n=v(r._formState.errors,s);if(n?!t&&n.type||t&&(n.type!==t.type||n.message!==t.message):t&&t.type){t?b(r._formState.errors,s,t):te(r._formState.errors,s);r._subjects.state.next({errors:r._formState.errors})}}))}else{const e=v(r._fields,s);if(e&&e._f&&!(ge(r._options.reValidateMode).isOnSubmit&&ge(r._options.mode).isOnSubmit)){Le(e,r._names.disabled,r._formValues,r._options.criteriaMode===C.all,r._options.shouldUseNativeValidation,true).then((e=>!H(e)&&r._subjects.state.next({errors:De(r._formState.errors,e,s)})))}}}r._subjects.state.next({name:s,values:m(r._formValues)});r._names.focus&&we(r._fields,((e,t)=>{if(r._names.focus&&t.startsWith(r._names.focus)&&e.focus){e.focus();return 1}return}));r._names.focus="";r._setValid();f.current=false}),[i,s,r]);React.useEffect((()=>{!v(r._formValues,s)&&r._setFieldArray(s);return()=>{const e=(e,t)=>{const s=v(r._fields,e);if(s&&s._f){s._f.mount=t}};r._options.shouldUnregister||a?r.unregister(s):e(s,false)}}),[s,r,n,a]);return{swap:React.useCallback(w,[h,s,r]),move:React.useCallback(A,[h,s,r]),prepend:React.useCallback(g,[h,s,r]),append:React.useCallback(p,[h,s,r]),remove:React.useCallback(y,[h,s,r]),insert:React.useCallback(S,[h,s,r]),update:React.useCallback(x,[h,s,r]),replace:React.useCallback(E,[h,s,r]),fields:React.useMemo((()=>i.map(((e,t)=>({...e,[n]:c.current[t]||Me()})))),[i,n])}}function qe(e={}){const t=s.useRef(undefined);const r=s.useRef(undefined);const[n,a]=s.useState({isDirty:false,isValidating:false,isLoading:G(e.defaultValues),isSubmitted:false,isSubmitting:false,isSubmitSuccessful:false,isValid:false,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||false,defaultValues:G(e.defaultValues)?undefined:e.defaultValues});if(!t.current){t.current={...e.formControl?e.formControl:Re(e),formState:n};if(e.formControl&&e.defaultValues&&!G(e.defaultValues)){e.formControl.reset(e.defaultValues,e.resetOptions)}}const o=t.current.control;o._options=e;s.useLayoutEffect((()=>o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:true})),[o]);s.useEffect((()=>o._disableForm(e.disabled)),[o,e.disabled]);s.useEffect((()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();if(e!==n.isDirty){o._subjects.state.next({isDirty:e})}}}),[o,n.isDirty]);s.useEffect((()=>{if(e.values&&!W(e.values,r.current)){o._reset(e.values,o._options.resetOptions);r.current=e.values;a((e=>({...e})))}else{o._resetDefaultValues()}}),[e.values,o]);s.useEffect((()=>{if(e.errors&&!H(e.errors)){o._setErrors(e.errors)}}),[e.errors,o]);s.useEffect((()=>{if(!o._state.mount){o._setValid();o._state.mount=true}if(o._state.watch){o._state.watch=false;o._subjects.state.next({...o._formState})}o._removeUnmounted()}));s.useEffect((()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})}),[e.shouldUnregister,o]);t.current.formState=k(n,o);return t.current}}},e=>{var t=t=>e(e.s=t);e.O(0,[4736,5503],(()=>t(84309)));var r=e.O()}])}catch(e){const t=e&&(e.message||"Exception contains no error message");if(window.Rollbar&&typeof window.Rollbar.error==="function"){console.group("Logging error to Rollbar.");if(e.message!==t){console.error(t)}console.error(e);console.groupEnd();window.Rollbar.error("Error Handler Plugin: po.56a64f26.dist.js - "+t,e)}else{console.log("Could not find Rollbar to log error.");throw e}}
//# sourceMappingURL=po.56a64f26.dist.js.map