"use strict";function oneclick(i,t){$("#1clicklink-"+i).html("Applying&hellip;"),$.ajax({data:{id:i,sid:t},url:"/candidate/oneclick",error:function(){$("#1clicklink-"+i).attr("class","cvl-btn--red mobile-no").html("Application Failed"),alertModal({title:"",description:"Application failed"})},dataType:"json",type:"POST",success:function(t){var e=$('[name="1clicklink.'+i+'"]');if(window.dataLayer=window.dataLayer||[],window.dataLayer.push({NEW_CANDIDATE:t.new_candidate?1:0,CANDIDATE_ID:t.candidate_id,APPLICATION_ID:t.success,AFFILIATE_ID:t.affiliate_id,JOB_ID:i}),window.dataLayer.push({event:"one-click-apply",JOB_ID:i}),t.hasOwnProperty("success")){if(e.attr({"class":"cvl-btn--border-green btn-icon--tick",href:"/candidate/my-applications",onclick:"null"}).html("Applied"),$(".apply").hide(),$("span.1click-tooltip").hide(),$("[data-1click-hide-"+i+"]").hide(),$("#2-"+i).hide(),window.dataLayer.push({event:"dataLayerPush","hit.type":"Event","hit.category":"Job Application Actions","hit.action":"One Click Apply",JOB_COMPANY_NAME:t.job.company,JOB_COMPANY_ID:t.job.company_id,JOB_TITLE:t.job.title,JOB_ID:t.job.id,JOB_REFERENCE:t.job.reference,JOB_INDUSTRY:t.job.industry,JOB_SALARY:t.job.salary,JOB_TOWN:t.job.town,JOB_COUNTY:t.job.county,JOB_TYPE:t.job.type,START_DATE:t.job.start,JOB_CREDIT_TYPE:t.job.credit_type,CONTRACT_LENGTH:t.job.duration}),window.dataLayer.push({event:"oneclick-apply-success",APPLICATION_ID:t.success}),103517==t.affiliate_id&&$("body").append('<script type="text/javascript" src="https://click.appcast.io/pixels/generic3-7057.js?ent=196"></script>'),!window.criteo_to_gtm){var a=102970==t.affiliate_id||101140==t.affiliate_id||100616==t.affiliate_id?1:0,c=device.noConflict(),n=c.mobile()?"m":c.tablet()?"t":"d";window.criteo_q=window.criteo_q||[],window.criteo_q.push({event:"setAccount",account:t.criteo_account},{event:"setCustomerId",id:t.candidate_id},{event:"setSiteType",type:n},{event:"trackTransaction",user_segment:"1",id:t.success,new_customer:t.new_candidate,deduplication:a,item:[{id:i,price:1,quantity:1}]})}}else e.attr("class","cvl-btn--red mobile-no").html("Application Failed"),alertModal({description:t.error,title:""})}})}