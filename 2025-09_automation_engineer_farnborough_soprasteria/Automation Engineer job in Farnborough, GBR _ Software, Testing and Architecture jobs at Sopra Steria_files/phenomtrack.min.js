/*! phenomtrack 2025-08-16 */
(()=>{function e(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mobile/.test(e)?"Android Mobile":/Android/.test(e)?"Android Tablet":""}function r(e,r,o){if(null!=e)if(p&&e.forEach===p)e.forEach(r,o);else if(e.length===+e.length){for(var t=0,n=e.length;t<n;t++)if(t in e&&r.call(o,e[t],t,e)===a)return}else for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&r.call(o,e[i],i,e)===a)return}function c(e,r){return-1!==e.indexOf(r)}function t(o){return r(i.call(arguments,1),function(e){for(var r in e)void 0!==e[r]&&(o[r]=e[r])}),o}function o(e){var o={};return r(e,function(e,r){"[object String]"==Object.prototype.toString.call(e)&&0<e.length&&(o[r]=e)}),o}var s,n,a={},p=Array.prototype.forEach,i=Array.prototype.slice,d=(window.console,window.navigator),l=window.document,_=d.userAgent,u="https:"==l.location.protocol?"https://":"http://",g=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,f=(g||-1!=_.indexOf("MSIE")||_.indexOf("Mozilla"),!!window.XDomainRequest),k={api_host:u+"phenomtrackapi-ir.phenompeople.com",cookie_name:"Per_UniqueID",login_jsession_cookie_name:"PHPPPE_STID",gdpr_cookie_name:"PHPPPE_GCC",secure_cookie:!0,cookie_expiration:365,pt_param_type_create:"pt_param",pt_cookie_type_create:"pt_cookie",uid_map_event:"uid_needs_to_map",session_cookie:["PHPPPE_ACT","JSESSIONID"],initial_ref_cookie:"in_ref",campaign_kwords:"utm_source utm_medium utm_campaign utm_content utm_term gclid gh_src src",in_ref_chng_cookie:"P_REF_CNG",exclusion_domain:"login.microsoftonline.com,secure.indeed.com,onedrive.live.com,account.live.com,signup.live.com,login.live.com,ir-chat-bot-new.phenompeople.com".split(","),coockies_to_delete:["Per_UniqueID","gclid","overlayDismissed","P_REF_CNG"],exclusion_event:"pt_page_view,static_page_view".split(","),exclusion_page:"chatbot".split(","),phenom_app_refNum:"app_refNum"},m=function(e,r){e=decodeURIComponent(e),r=r.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");r=new RegExp("[\\?&]"+r+"=([^&#]*)").exec(e);return null===r||r&&"string"!=typeof r[1]&&r[1].length?"":decodeURIComponent(r[1]).replace(/\+/g," ")},h=function(){var e=(screen.height*screen.width).toString(16);return v()+"-"+e+"-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)+"-"+v()};function v(){for(var e=+new Date,r=0;e==+new Date;)r++;return e.toString(16)+r.toString(16)}var w={get:function(e){for(var r=e+"=",o=l.cookie.split(";"),t=0;t<o.length;t++){for(var n=o[t];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(r))return decodeURIComponent(n.substring(r.length,n.length))}return null},set:function(e,r,o,t){var n,i,a;a=e,(y.isEventEnabled?!c(y.oneTrustcookies,a)&&y.cookieEventReceived:("sticky"!==y.stickyCookie()||w.get(k.gdpr_cookie_name))&&"d"!=w.get(k.gdpr_cookie_name)&&"s"!=w.get(k.gdpr_cookie_name)||!c(k.coockies_to_delete,a))&&(n=a="",o&&((i=new Date).setTime(i.getTime()+24*o*60*60*1e3),a="; expires="+i.toGMTString()),t&&"https:"==window.location.protocol&&(n="; secure"),l.cookie=e+"="+r+"; "+a+"; path=/;SameSite=None"+n)},remove:function(e){var r="";k.secure_cookie&&"https:"==window.location.protocol&&(r="; secure"),l.cookie=e+"=; max-age=0; path=/;SameSite=None"+r}},y={setinitialReferral:function(){w.set(k.initial_ref_cookie,encodeURIComponent(l.referrer),0,k.secure_cookie)},getinitialReferral:function(){var e=decodeURIComponent(w.get(k.initial_ref_cookie))?decodeURIComponent(w.get(k.initial_ref_cookie)):"direct";return"null"===e?"direct":e},campaignParams:function(){var o,e=k.campaign_kwords.split(" "),t="",n={};return r(e,function(e){if((t=m(l.URL,e)).length)return y.deletecampaignParams(),!1}),r(e,function(e){var r;(t=m(l.URL,e)).length&&(r=t.split(/[(/?)]/)[0],w.set(e,r,0,k.secure_cookie)),(o=w.get(e))&&(n[e]=o)}),n},deletecampaignParams:function(){var e=k.campaign_kwords.split(" ");r(e,function(e){w.remove(e)})},searchEngine:function(e){return 0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(e){var r=y.searchEngine(e),o="yahoo"!=r?"q":"p",t={};return null!==r&&(t.pt_search_engine=r,(r=m(e,o)).length)&&(t.pt_keyword=r),t},browser:function(e,r,o){r=r||"";return o||c(e," OPR/")?c(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":c(e,"IEMobile")||c(e,"WPDesktop")?"Internet Explorer Mobile":c(e,"Edge")?"Microsoft Edge":c(e,"FBIOS")?"Facebook Mobile":c(e,"Chrome")?"Chrome":c(e,"CriOS")?"Chrome iOS":c(e,"UCWEB")||c(e,"UCBrowser")?"UC Browser":c(e,"FxiOS")?"Firefox iOS":c(r,"Apple")?c(e,"Mobile")?"Mobile Safari":"Safari":c(e,"Android")?"Android Mobile":c(e,"Konqueror")?"Konqueror":c(e,"Firefox")?"Firefox":c(e,"MSIE")||c(e,"Trident/")?"Internet Explorer":c(e,"Gecko")?"Mozilla":""},browserVersion:function(e,r,o){r={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[y.browser(e,r,o)];return null!=r&&(o=e.match(r))?parseFloat(o[o.length-2]):null},os:function(){var e=_;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:e,referringDomain:function(e){e=e.split("/");return 3<=e.length?e[2]:""},properties:function(){var e=o({os:y.os(),browser:y.browser(_,d.vendor,window.opera),referrer:l.referrer,referring_domain:y.referringDomain(l.referrer),uas:_,device:y.device(_)});return e.current_url=window.location.href,e.browser_version=y.browserVersion(_,d.vendor,window.opera),e.screen_height=screen.height,e.screen_width=screen.width,e.pt_timestamp=Date(),e.pt_UTC_timestamp=(new Date).toUTCString(),e.pt_lib="web",e.lib_version="1117",e},pageviewInfo:function(e){return o({pt_page:e,pt_referrer:l.referrer,pt_browser:y.browser(_,d.vendor,window.opera),pt_platform:y.os()})},oneTrustcookies:[],externalscriptload:!1,cookieEventReceived:!1,isEventEnabled:!1,nonTxmEvenListener:!1,stickyCookie:function(){var e;try{e=phApp.ddo.siteConfig.data.siteSettings.gdpr?phApp.ddo.siteConfig.data.siteSettings.gdpr.cookieType:""}catch(e){}return e}};function E(e){this.storage=w;try{0!=(o=phApp.ddo.siteConfig.data.siteSettings.gdpr.cookieMapConfig&&phApp.ddo.siteConfig.data.siteSettings.gdpr.cookieMapConfig.nonEssential?phApp.ddo.siteConfig.data.siteSettings.gdpr.cookieMapConfig.nonEssential:[])&&(k.coockies_to_delete=o)}catch(e){}if("sticky"===y.stickyCookie()&&!w.get(k.gdpr_cookie_name)||"d"==w.get(k.gdpr_cookie_name)||"s"==w.get(k.gdpr_cookie_name))for(var r=0;r<k.coockies_to_delete.length;r++)w.remove(k.coockies_to_delete[r]);else{var o=m(l.URL,"uid");o?this.storage.get(k.cookie_name)&&"null"!=w.get(k.cookie_name)?(n={trait2:e,new_uid:o,ex_uid:w.get(k.cookie_name)},y.token=e,s.track(k.uid_map_event,n)):(y.createType=k.pt_param_type_create,w.set(k.cookie_name,o,k.cookie_expiration,k.secure_cookie)):this.storage.get(k.cookie_name)&&null!=w.get(k.cookie_name)||(y.createType=k.pt_cookie_type_create,w.set(k.cookie_name,h(),k.cookie_expiration,k.secure_cookie))}}function P(){}function C(){P.prototype.persistence=P.prototype.cookie=new E(y.token);var r,e,o,t,n=y.referringDomain(window.location.href),i=y.referringDomain(l.referrer);if(i&&n!=i)if(w.get(k.in_ref_chng_cookie))w.remove(k.in_ref_chng_cookie);else{for(var a=!0,c=0;c<k.exclusion_domain.length;c++)if(new RegExp(k.exclusion_domain[c]).test(i)){a=!1;break}a&&!y.extTrk&&(y.setinitialReferral(),y.deletecampaignParams())}if(y.externalscriptload)s.addCookieTrk();else{y.externalscriptload=!0,s.track_page_view();try{y.extTrk||(r=s.getScriptURL()+"/phenomapptrack.min.js",e=function(){trkApp.init()},o=l.getElementsByTagName("head")[0],(t=l.createElement("script")).type="text/javascript",t.src=r,t.onload=e,t.onerror=function(){var e={};e.error_source=r,e.error_severity="Error",s.track("ResourceErrorTracker",e)},o.appendChild(t))}catch(e){}}s.injectDataDome().catch(function(e){})}P.prototype.init=function(e,r,o,t){var n,i,a,c;y.isEventEnabled=o,y.token=e,y.extTrk=r,o||t?o?(n=5,i=setInterval(function(){y.cookieEventReceived?clearInterval(i):0==n&&(clearInterval(i),C()),n--},250)):t&&(console.log("came to nonTXM block"),window.parent.postMessage("CookieConsentTXMHandshake","*"),a=5,c=setInterval(function(){y.nonTxmEvenListener?clearInterval(c):0==a&&(clearInterval(c),console.log("updateCookieconsent event is not rised"),w.set(k.gdpr_cookie_name,"d",k.cookie_expiration,k.secure_cookie),C()),a--},250)):C()},window.addEventListener("message",function(e){try{var r;"UpdateCookieConsent"==e.data.eventName&&(console.log("came to updateCookieconsent listener"),y.nonTxmEvenListener=!0,r=e.data.data,console.log("EventDetail : "+r.PHPPPE_GCC),w.set(k.gdpr_cookie_name,r.PHPPPE_GCC,k.cookie_expiration,k.secure_cookie),C())}catch(e){console.log(e)}}),P.prototype.gaEvent=function(e){"function"==typeof ga&&(ga("set","&uid",e),ga("set","dimension2",e),ga("send","event","page","view",{UID:e}))},P.prototype.device=e,P.prototype.send_request=function(r,o){o=JSON.stringify(o),o=encodeURIComponent(o);try{if(!(o.length<=64e3&&d.sendBeacon))throw new Error("Data exceeds 64KB or sendBeacon not supported");if(!d.sendBeacon(r,o))throw new Error("sendBeacon failed: returned false")}catch(e){var t=g?new XMLHttpRequest:f?new XDomainRequest:new ActiveXObject("Microsoft.XMLHTTP");t.open("POST",r,!0),f||t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(o)}},P.prototype.track=function(e,r){if(((e,r)=>{if(!c(k.exclusion_event,e))return 1;for(var o=0;o<k.exclusion_page.length;o++)return!new RegExp(k.exclusion_page[o]).test(r)})(e,l.location.href)){if("sticky"===y.stickyCookie()&&!w.get(k.gdpr_cookie_name)||"d"==w.get(k.gdpr_cookie_name)||"s"==w.get(k.gdpr_cookie_name))for(var o=0;o<k.coockies_to_delete.length;o++)w.remove(k.coockies_to_delete[o]);else null==w.get(k.cookie_name)&&(y.createType=k.pt_cookie_type_create,w.set(k.cookie_name,h(),k.cookie_expiration,k.secure_cookie));r=r||{},r=t({},y.properties(),y.campaignParams(),y.searchInfo(l.referrer),y.pageviewInfo(l.location.href),r);e={event:e,clientToken:y.token,createType:y.createType,initialReferral:y.getinitialReferral(),uid:w.get(k.cookie_name),pt_session:w.get(k.session_cookie[0])?w.get(k.session_cookie[0]):w.get(k.session_cookie[1]),phenomRefnum:m(l.URL,"refNum")?m(l.URL,"refNum"):y.token,properties:r,eventEnabled:y.isEventEnabled,eventTriggered:y.cookieEventReceived};w.get(k.login_jsession_cookie_name)&&(e.PHPPPE_STID=w.get(k.login_jsession_cookie_name)),w.get(k.gdpr_cookie_name)&&(e.PHPPPE_GCC=w.get(k.gdpr_cookie_name)),this.send_request(k.api_host+"/track",e),delete y.createType}},P.prototype.track_page_view=function(e){this.gaEvent(w.get(k.cookie_name)),this.track("pt_page_view")},P.prototype.extend=t,window.phenomevent=s=new P,P.prototype.getScriptURL=function(){var e=l.querySelector('script[src$="phenomtrack.min.js"]')||l.currentScript;return(e=e.src).replace("/"+e.split("/").pop(),"")},P.prototype.timeSpent=function(){function e(){o=new Date}function r(){var e=o?(e=(t=new Date)-o,o=t,{TimeSpent:e}):null;e&&s.track("time_spent_on_page",e)}var o,t;window.addEventListener("load",function(){e()}),window.addEventListener("focus",function(){e()}),window.addEventListener("blur",function(){r()}),window.addEventListener("beforeunload",function(){r()})},P.prototype.pageResponseTimings=function(){try{var e=performance.timing,r={};r.pageLoadTime=e.loadEventEnd-e.navigationStart,r.connectionTime=e.connectEnd-e.connectStart,r.requestTime=e.responseEnd-e.requestStart,r.fetchTime=e.responseEnd-e.fetchStart,r.ttfbTime=e.responseStart-e.requestStart,s.track("PageResponseTimings",r)}catch(e){}},P.prototype.check_PerformanceEntries=function(){try{var e,r,o,t=window.performance.getEntriesByType("resource"),n={};for(e in Object.keys(t))-1==t[e].name.indexOf("trk.gif")&&-1==t[e].name.indexOf("/track")&&((r={}).url=t[e].name,r.initiatorType=t[e].initiatorType,r.dur=t[e].duration.toFixed(12),o=r.url.substring(r.url.lastIndexOf("/")+1))&&(n[o=o.replace(/[^\w\s]/gi,"_")]=r);s.track("ResourceLoadTimings",{pt_resources:n})}catch(e){}},P.prototype.trackWarn=function(){var r=console.warn;console.warn=function(){var e={};e.error_message=arguments[0],e.error_severity="Warning",s.track("ErrorTrackerWarn",e),r.apply(console,arguments)}},P.prototype.trackError=function(){var r=console.error;console.error=function(){var e={};e.error_message=arguments[0],e.error_severity="Error",s.track("ErrorTracker",e),r.apply(console,arguments)}},P.prototype.trackJSError=function(){try{window.onerror=function(e,r,o,t,n,i){var a={};a.error_message=e+n,-1<e.indexOf("Script")&&(a.error_rootcause="Uncaught error in third party resource file",a.error_source="Third party source file"),a.error_source=a.error_source+" at lineNumber "+o+" in "+r,a.file=window.location.toString,a.error_severity="Error",a.error_file=i,s.track("ErrorTracker",a)}}catch(e){}},l.addEventListener("ph:gdpr:OptanonWrapperUpdated",function(e){try{var r=e.detail;if(y.cookieEventReceived=!0,y.oneTrustcookies.length=0,r.hasOwnProperty("cookieMap")){var o,t=r.disabledCookies;for(o in r.cookieMap)if(c(t,o))for(var n=r.cookieMap[o],i=0;i<n.length;i++)w.remove(n[i]),y.oneTrustcookies.push(n[i])}C()}catch(e){}}),P.prototype.trackNWError=function(){window.addEventListener&&window.addEventListener("error",function(e){try{var r={};e.target.nodeName&&e.target.src?(r.error_message="Resource Load Error",r.error_for=e.target.nodeName,r.error_source=e.target.src,r.error_severity="Error",s.track("ResourceErrorTracker",r)):e.message&&e.target.messageResourcePath&&(r.error_message="Resource Load Error",r.error_for=e.message,r.error_source=e.target.messageResourcePath,r.error_severity="Error",s.track("ResourceErrorTracker",r))}catch(e){}},!0)},P.prototype.addCookieTrk=function(){var e={PHPPPE_ACT:"pjid",JSESSIONID:"pjid",Per_UniqueID:"uid",in_ref:"p_in_ref",gh_src:"gh_src",src:"src",iisn:"iisn",iis:"iis",iisc:"iisc",iisp:"iisp"};try{var r,o,t="",n=encodeURIComponent("=");for(r in e)e.hasOwnProperty(r)&&(o=null!==(o=w.get(r))||null!==(o=m(l.URL,r))&&""!==o?o:((e,r)=>{if(null!==e)for(var o=r+"=",t=e.split("&"),n=0;n<t.length;n++){var i=t[n];if(0==i.indexOf(o))return decodeURIComponent(i.substring(o.length,i.length))}return null})(w.get("ext_trk"),r))&&(t=t+e[r]+n+o+"&");(t=t+"p_lang"+n+w.get("VISITED_LANG")+"_"+w.get("VISITED_COUNTRY")+"&refNum"+n+y.token)&&w.set("ext_trk",t,!1,k.secure_cookie)}catch(e){}},P.prototype.injectDataDome=function(){var r=phApp&&phApp.ddo&&phApp.ddo.siteConfig&&phApp.ddo.siteConfig.data&&phApp.ddo.siteConfig.data.dd;if(r&&r.enable)try{var o=u+r.scriptURL,e=l.getElementsByTagName("head")[0],t=l.createElement("script"),n=(t.id="custom_script",t.type="text/javascript",t.innerHTML="window.ddjskey = '"+atob(r.phpppeddk)+"'; window.ddoptions = "+JSON.stringify(r.ddoptions||{})+";",l.createElement("script"));n.id="custom_script_file",n.type="text/javascript",n.src=o,n.setAttribute("async",""),n.onerror=function(){var e={};e.error_source=o,e.error_severity="Error",s.track("ResourceErrorTracker",e)},e.appendChild(t),e.appendChild(n)}catch(e){r={error_source:"DataDome injection",error_severity:"Error"};s.track("ResourceErrorTracker",r)}}})();