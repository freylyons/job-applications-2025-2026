"use strict";function data_layer_event(t,a,e){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"dataLayerPush","hit.type":"Event","hit.category":t,"hit.action":a,"hit.label":e})}$(function(){function t(t){if(t.length){var a="true"===t.attr("aria-expanded");t.attr("aria-expanded",!a)}}function a(t){t.length&&(t.is("[data-slide]")&&t.slideToggle(200),t.is("[data-scroll]")&&$("html, body").animate({scrollTop:t.offset().top},200),t.toggleClass("is-hidden"),t.is("[data-scroll-close]")&&t.hasClass("is-hidden")&&$("html, body").animate({scrollTop:"0px"},500))}function e(){s&&(l=Math.max(0,document.documentElement.clientHeight-window.innerHeight),$("#to-top").add(n).css("margin-bottom",l+"px"));var t=parseInt(n.css("bottom"))+l,a=d.offset().top+c,e=r.scrollTop()+window.innerHeight;$("body").toggleClass("apply--fixed",e-t<a)}function i(t){var a=t.contentEditable,e=t.readOnly,i=document.createRange();t.contentEditable=!0,t.readOnly=!1,i.selectNodeContents(t);var o=window.getSelection();o.removeAllRanges(),o.addRange(i),t.setSelectionRange(0,999999),t.contentEditable=a,t.readOnly=e}function o(t){var a=$("[data-share-copy-msg]");t?a.text("Copied"):a.text("Could not copy"),a.removeClass("is-fading is-faded"),setTimeout(function(){a.addClass("is-fading")},2e3)}if($("[data-mobile-search-bar]").on("click",function(){$('[data-togglemobilemenu="top"]').trigger("click"),setTimeout(function(){$("#mob-keywords").trigger("focus")},200)}),$("[data-toggle]").on("click",function(){var e=$(this);a($(e.data("target"))),t(e)}),$("[data-tooltip-fade]").on("mousedown",function(){$(this).addClass("is-fading"),setTimeout(function(){$(this).trigger("blur").removeClass("is-fading")}.bind(this),100)}),$("#mobile-icons").is(":visible")&&$("[data-sticky]").length){var n=$("[data-sticky]"),d=$("[data-sticky-pos]"),r=$(window),c=n.outerHeight(),s=navigator.userAgent.match("CriOS"),l=0;n.after($("<span />",{"class":"cvl-btn cvl-btn--large btn-apply__placeholder"}).html("&nbsp;")),e(),document.addEventListener("scroll",e,{passive:!0}),r.on("resize",e)}var h=$("[data-job]");if(!$("#mobile-icons").is(":visible")&&h.length&&!h.is(".job--branded, .job--premium")){var f=$(".job__main");f.find(".job__description").height()+f.find(".job__description").offset().top-250>$(window).height()&&f.addClass("js-show-cta")}var u=[];window.localStorage&&window.localStorage.getItem("cvlRecentJobs")&&""!=window.localStorage.getItem("cvlRecentJobs")&&(u=JSON.parse(window.localStorage.getItem("cvlRecentJobs"))),u.length&&$.each(u,function(t,a){if(""===a.title||""===a.id)return u.splice(t,1),!1});var b=$(document.body).data("id"),g=$("[data-jd-logo]").attr("src"),p=$("[data-jd-title]").text(),m=$("[data-jd-company] a").first().text(),v=$("[data-jd-company] a").attr("href"),w=$("[data-jd-location]").text(),y=$("[data-jd-salary]").text();if(u.length){var j=[],_=$.get("/candidate/saved-jobs",function(t){$(t).find("[data-saved-job]").each(function(){j.push($(this).data("job-id"))})});$.each(u,function(t,a){var e=$("<h3>").addClass("search-filters__job-title"),i=$("<a>").attr("href",a.link).text(a.title),o=$("<p>").addClass("search-filters__job-info").text(a.location),n=""===a.salary?"":$("<p>").addClass("search-filters__job-info").text(a.salary),d=$("<li>").addClass("search-filters__job");_.done(function(){j.indexOf(a.id)>=0&&$("[data-save-job="+a.id+"]").addClass("saved").find(".btn-save__copy").text("Saved")}),e.append(i),d.append(e,o,n),$("[data-recent-jobs-list]").prepend(d)}),$("[data-recent-jobs]").removeClass("is-hidden")}$.each(u,function(t,a){if(a.id==b)return u.splice(t,1),!1}),u.push({id:b,logo:g,title:p,companyName:m,companyProfile:v,location:w,salary:y,link:window.location.pathname}),u.length>5&&u.splice(0,1),window.localStorage.cvlRecentJobs=JSON.stringify(u),$("[data-back-to-search]").on("click",function(t){t.preventDefault(),window.history.go(-1)});var k="/candidate/job/"+b;$("[data-get-recruiter]").on("click",function(){var t=$(this).data("recruiterId");$.get(k+"/name",function(a){!t||/^Sorry, you have reached/.exec(a)?$("[data-get-recruiter]").replaceWith(a):($("[data-get-recruiter]").attr("data-show-recruiter-info","").removeAttr("data-get-recruiter").text(a).off("click"),new Modal("[data-recruiter-info-modal]",{showButton:"[data-show-recruiter-info]",focusModal:!0}).open())})}),$("[data-get-number]").on("click",function(){$.get(k+"/phone",function(t){$("[data-get-number]").replaceWith(t)})}),$("[data-experiment-event]").one("click",function(){var t=$(this).data("experiment-event");t&&postEvent(t+"-clicked-via-view-job")}),$(".create-job-alert-form").on("submit",function(){$(this).find('[type="submit"]').prop("disabled",!0).addClass("jbe-sending")}),$("[data-dl-similar]").on("click",function(){data_layer_event("JDP Actions","Similar Job Click",$(this).data("job-title")+" / "+$(this).data("job-id"))}),$('form[name="jbe-create-alert"], form[class="create-alert"]').on("submit",function(){data_layer_event("JDP Actions","Create Job Alert",$(this).data("job-title")+" / "+$(this).data("job-id"))});var C=h.data("job-id"),x=h.data("job-title"),S=h.data("search-keywords"),J=h.data("search-location"),A=x+" / "+C;$("[data-get-recruiter]").on("click",function(){data_layer_event("Job Actions","Show Contact Info - Name",A)}),$("[data-get-number]").on("click",function(){data_layer_event("Job Actions","Show Contact Info - Phone",A)}),$("[data-save-job]").on("click",function(){$(this).hasClass("saved")||data_layer_event("Job Actions","Save a Job",A)}),$("[data-email-job]").on("click",function(){data_layer_event("Job Actions","Email Share",A)}),$("[data-print-job]").on("click",function(){data_layer_event("Job Actions","Print",A)}),$("[data-related-search]").on("click",function(){data_layer_event("Job Actions","Related Search Click",S+" / "+J)}),"undefined"!=typeof Modal&&new Modal("#share-job-modal",{focusModal:!0,showButton:"[data-share-job]"}),$("[data-share-job-buttons]").on("click",function(t){t.preventDefault(),$(t.target).is("a")&&window.open(t.target.href,"Share","width=600,height=440,resizable,toolbar=no,noopener")}),$("[data-share-copy]").on("click",function(){var t=$(this).find("input");navigator.userAgent.match(/ipad|ipod|iphone/i)?i(t[0]):(t.trigger("focus"),t.trigger("select"));try{o(document.execCommand("copy"))}catch(t){o(!1)}}),function(){return $(window).width()<=942}()&&$.each($(".search-filters--updated .search-filters__title .btn-expand"),function(){$(this).trigger("click")});var R=$("[data-breadcrumbs-dropdown]");R.length&&$(window).on("click",function(t){var a=$(t.target);$("#mobile-icons").is(":visible")&&(a.is('[data-action="breadcrumb-dropdown"]')?(R.finish().slideToggle(200),a.attr("aria-expanded","false"===a.attr("aria-expanded"))):R.slideUp())}),$("#apply_now_button").on("click",function(){1==$(this).attr("show-extra-ats-loading-screen")&&($("#apply-now-loader").removeClass("is-hidden"),$("div.page-main").hide(),$("aside").hide())})});